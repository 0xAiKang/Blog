---
title: 为什么域名解析成功，网站仍无法访问
date: 2022-05-22 16:42:08
tags: ["一些经验"]
categories: ["一些经验"]
---

最近总是收到反馈，哪个站点又双叒叕打不开了。我找到对应的站点，按下回车，却又可以正常访问。

<!-- more -->

这篇文章就来整理一下，为什么同一个网站，有些地方可以访问，有一些地方又无法访问。

## 一次完整的请求
在回答上面的问题之前，我们来看一下完整的网络请求大概需要经历哪些过程。

成功访问网站包含以下两个阶段，这两个阶段缺一不可，需要同时成功才能正常访问网站，如下图所示：

![](https://cdn.jsdelivr.net/gh/0xAiKang/CDN/blog/images/20220514163057.png)
### 阶段一
DNS根据访问请求中的域名解析出对应的IP地址并返回解析结果。

在此阶段，出现如下情况将导致网站无法访问：
1. 域名解析不成功：无法返回解析结果，可参考[域名解析不生效有哪些原因](https://www.0x2beace.com/what-are-the-reasons-why-the-domain-name-resolution-does-not-take-effect/)？进行处理。
2. 域名未进行实名认证：找到对应的服务商进行认证

### 阶段二
访问网站服务器IP获取网站内容。

在此阶段，出现如下情况，即使DNS成功解析域名的IP地址，网站仍然无法访问：
1. 网站服务器不可用：服务器不用可的原因就很多了，此处就不详细展开了 
2. 网站服务器域名及IP地址未备案

## 总结
说了这么多，为什么我可以访问？而他们访问不了？

我能正常访问，他们切换成数据也能正常访问，足以说明网站是正常的。

他们使用 WIFI 访问不了，很可能就是 DNS 没有正常解析出来对应的IP地址。
而解析不成功的原因就有很多了：
* 本地网络故障（他们可以访问其他网站，所以可以排除）
* 云解析服务器的解析记录异常（我能正常访问，所以也排除）
* 域名未通过实名认证（域名能查到备案记录，所以也排除）
* 域名解析记录在DNS被修改或者不稳定（通常来说，如果上面都是正常的，那就只有这个原因了）

这时可以选择手动设置 DNS，从而避免运营商自动获取 DNS 不稳定等问题。

不同操作系统设置方式不一样，具体步骤可以自行百度。

## 参考链接
* [为什么域名解析成功但网站仍然无法访问？](https://support.huaweicloud.com/dns_faq/dns_faq_038.html)
* [解析不生效有哪些原因？](https://support.huaweicloud.com/dns_faq/dns_faq_003.html)
* [为什么网站有些地区无法访问?](https://www.dns.com/supports/446.html)